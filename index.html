<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44024759">
          <h3>
            <a
              class="item"
              href="https://social.numerique.gouv.fr/@codegouvfr/114529954373492878"
              >France Becomes First Government to Endorse UN Open Source
              Principles</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 22:27:07</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024759"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44024173">
          <h3>
            <a class="item" href="https://pscanf.com/s/341/">Hyper Typing</a>
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 20:41:51</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024173"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44024055">
          <h3>
            <a
              class="item"
              href="https://github.com/gvelesandro/constructor-theory-simulator"
              >Show HN: Python Simulator of David Deutsch’s "Constructor Theory
              of Time"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 20:22:33</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024055"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                I turned the freshly published paper “The Constructor Theory of
                Time” by David Deutsch and Chiara Marletto (arXiv, 13 May 2025)
                into an executable Python library.
              </p>
              <p>
                What you’ll find • One-to-one translation of the paper’s
                formalism: Substrates, Attributes, Tasks, Constructors, and
                task-algebra operators • Possibility / impossibility predicates
                and counterfactuals encoded exactly as defined • Test suite that
                mirrors every lemma and example (&gt;95 % coverage, mypy-typed)
                • Reproductions of key results: time-keeping substrates,
                irreversibility proofs, quantum branching tasks, and a
                self-replicating constructor
              </p>
              <p>
                Why share? Reading the paper is tough going; expressing each
                definition in code clarified the ideas and surfaced a couple of
                questions for discussion. Hoping it helps others and sparks
                extensions.
              </p>
              <p>
                Looking for feedback: • Did I miss any subtleties in the
                formalism? • Which additional theorems or examples would you
                like implemented next?
              </p>
              <p>
                Repo:
                <a
                  href="https://github.com/gvelesandro/constructor-theory-simulator"
                  >https://github.com/gvelesandro/constructor-theory-simulator</a
                >
              </p>
              <p>Thanks for taking a look—issues and PRs welcome!</p>
            </div>
          </section>
        </section>
        <section id="44023680">
          <h3>
            <a class="item" href="https://www.kscale.dev/"
              >K-Scale Labs: Open-source humanoid robots, built for
              developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 19:16:41</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023680"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44023663">
          <h3>
            <a
              class="item"
              href="https://addyo.substack.com/p/ai-wont-kill-junior-devs-but-your"
              >AI Won't Kill Junior Devs – But Your Hiring Strategy Might</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 19:14:47</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023663"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44023471">
          <h3>
            <a class="item" href="https://github.com/gmcgoldr/stackerror"
              >Show HN: Stack Error – ergonomic error handling for Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 18:46:02</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023471"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>Stack Error has three goals:</p>
              <p>1. Provide ergonomics similar to anyhow.</p>
              <p>
                2. Create informative error messages that facilitate debugging.
              </p>
              <p>
                3. Provide typed data that facilitates runtime error handling.
              </p>
            </div>
          </section>
        </section>
        <section id="44023423">
          <h3>
            <a
              class="item"
              href="https://every.to/superorganizers/the-fall-of-roam"
              >The Fall of Roam</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 18:36:54</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023423"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44023144">
          <h3>
            <a class="item" href="https://github.com/skift-org/vaev"
              >Show HN: Vaev – A browser engine built from scratch (It renders
              google.com)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 17:54:12</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023144"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
            <div class="text">
              <p>
                This is an experimental project focused on learning and
                exploration. Networking is basic (<a href="http://">http://</a>
                and file:// only), and grid layouts aren’t supported yet, but
                we’re making progress fast.
              </p>
              <p>We’d love your thoughts and feedback.</p>
            </div>
          </section>
        </section>
        <section id="44022781">
          <h3>
            <a class="item" href="https://www.racketmeter.com/"
              >Show HN: Racketmeter – Measure Badminton String Tension Using
              Sound Frequency</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 17:08:38</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022781"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built it to solve a personal problem. I started playing
                badminton regularly in 2016 and quickly learned that players
                often ask stringers to string rackets at specific tensions (like
                22 or 26 lbs). But after a few stringing jobs, I began to feel
                like the tension was inconsistent. Other players told me they
                just tap the strings and go by ear where "sharper sound meant
                higher tension."
              </p>
              <p>
                One day while tuning my guitar, I could see exact sound
                frequencies on my tuner app. That’s when it clicked. It should
                be possible to build a tuner for badminton strings as well!
              </p>
              <p>
                I searched online and found some tension-frequency data shared
                by professional stringers, but it wasn’t clean or comprehensive.
                So I visited 5 or 6 local stringers, gave them a frequency
                measuring app, and asked them to record racket head size, string
                thickness, tension, and sound frequency for each job. Some asked
                for a small payment, but most helped for free. Within a week, I
                had over 200 solid data points.
              </p>
              <p>
                I trained a simple regression model using that data and
                validated it with newly strung rackets. It turned out to be
                surprisingly accurate. I shared it with friends and fellow
                players, and it started to spread in badminton forums.
              </p>
              <p>
                There was another app that launched a few months later with big
                celebrity endorsements, but it was less accurate, harder to use,
                and required in-app purchases. Mine wasn't built to compete, but
                it ended up being more useful.
              </p>
              <p>
                I originally released it as a mobile app, but constant changes
                in Google Play policies kept taking it down. So I rebuilt it as
                a simple browser-based tool.
              </p>
              <p>
                Would love feedback, suggestions for improvements, or ideas on
                how to sustain it without cluttering it with ads or paywalls.
              </p>
              <p>Let me know what you think.</p>
            </div>
          </section>
        </section>
        <section id="44022758">
          <h3>
            <a
              class="item"
              href="https://sifter.org/~simon/journal/20240718.html"
              >$30 Homebrew Automated Blinds Opener</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 17:05:56</span
              ><span class="points-container"
                >Points: <span class="points">149</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022758"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44022484">
          <h3>
            <a
              class="item"
              href="https://www.science.org/doi/10.1126/sciadv.adu9368"
              >Emergent social conventions and collective bias in LLM
              populations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 16:26:58</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022484"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44022448">
          <h3>
            <a
              class="item"
              href="https://amberwilliams.io/blogs/building-my-own-pkms"
              >Ditching Obsidian and building my own</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 16:21:50</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022448"
                  >Comments</a
                ><span class="descendants">: 234</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44022353">
          <h3>
            <a
              class="item"
              href="https://github.com/brianmg/voynich-nlp-analysis"
              >Show HN: I modeled the Voynich Manuscript with SBERT to test for
              structure</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 16:09:01</span
              ><span class="points-container"
                >Points: <span class="points">253</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022353"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
            <div class="text">
              <p>
                The Voynich Manuscript is a 15th-century book written in an
                unknown script. No one’s been able to translate it, and many
                think it’s a hoax, a cipher, or a constructed language. I wasn’t
                trying to decode it — I just wanted to see: does it behave like
                a structured language?
              </p>
              <p>
                I stripped a handful of common suffix-like endings (aiin, dy,
                etc.) to isolate what looked like root forms. I know that’s a
                strong assumption — I call it out directly in the repo — but it
                helped clarify the clustering. From there, I used SBERT
                embeddings and KMeans to group similar roots, inferred POS-like
                roles based on position and frequency, and built a Markov
                transition matrix to visualize cluster-to-cluster flow.
              </p>
              <p>
                It’s not translation. It’s not decryption. It’s structural
                modeling — and it revealed some surprisingly consistent syntax
                across the manuscript, especially when broken out by section
                (Botanical, Biological, etc.).
              </p>
              <p>
                GitHub repo:
                <a href="https://github.com/brianmg/voynich-nlp-analysis"
                  >https://github.com/brianmg/voynich-nlp-analysis</a
                >
                Write-up:
                <a
                  href="https://brig90.substack.com/p/modeling-the-voynich-manuscript-with?r=3z5dn9"
                  >https://brig90.substack.com/p/modeling-the-voynich-manuscrip...</a
                >
              </p>
              <p>
                I’m new to the NLP space, so I’m sure there are things I got
                wrong — but I’d love feedback from people who’ve worked with
                structured language modeling or weird edge cases like this.
              </p>
            </div>
          </section>
        </section>
        <section id="44022265">
          <h3>
            <a class="item" href="https://github.com/paddymul/buckaroo"
              >Show HN: Buckaroo – Data table UI for Notebooks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 15:56:18</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022265"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                Auto Cleaning looks at columns and heuristically suggests common
                cleaning operations. The operations are added to the lowcode UI
                where they can be edited. Multiple cleaning strategies can be
                applied and the best fit retained. Autocleaning without a UI and
                multiple strategies is very opaque. Since this runs
                heuristically (not with an LLM), it’s fast and data stays local.
              </p>
              <p>
                I'm eager to hear feedback from data scientists and other users
                of dataframes/notebooks.
              </p>
            </div>
          </section>
        </section>
        <section id="44022225">
          <h3>
            <a
              class="item"
              href="https://notes.andymatuschak.org/Spaced_repetition_memory_system"
              >Spaced Repetition Memory System</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 15:48:57</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022225"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44021883">
          <h3>
            <a class="item" href="https://github.com/MinishLab/model2vec-rs"
              >Show HN: Model2vec-Rs – Fast Static Text Embeddings in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 15:01:35</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44021883"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>Main Features:</p>
              <p>
                - Rust-native inference: Load any Model2Vec model from Hugging
                Face or your local path with StaticModel::from_pretrained(...).
              </p>
              <p>
                - Tiny footprint: The crate itself is only ~1.7 mb, with
                embedding models between 7 and 30 mb.
              </p>
              <p>Performance:</p>
              <p>We benchmarked single-threaded on a CPU:</p>
              <p>- Python: ~4650 embeddings/sec</p>
              <p>- Rust: ~8000 embeddings/sec (~1.7× speedup)</p>
              <p>
                First open-source project in Rust for us, so would be great to
                get some feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="44021824">
          <h3>
            <a class="item" href="https://fabiensanglard.net/2168/index.html"
              >Building my childhood dream PC</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 14:52:11</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44021824"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44020734">
          <h3>
            <a class="item" href="https://github.com/m4xshen/hardtime.nvim"
              >Show HN: Hardtime.nvim – break bad habits and master Vim
              motions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 12:08:52</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44020734"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44020626">
          <h3>
            <a class="item" href="https://github.com/parsaghaffari/browserbee"
              >Show HN: A web browser agent in your Chrome side panel</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 11:48:42</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44020626"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm excited to share BrowserBee, a privacy-first AI assistant in
                your browser that allows you to run and automate tasks using
                your LLM of choice (currently supports Anthropic, OpenAI,
                Gemini, and Ollama). Short demo here:
                <a
                  href="https://github.com/user-attachments/assets/209c7042-6d54-4fce-92a7-ddf8519156c6"
                  >https://github.com/user-attachments/assets/209c7042-6d54-4fc...</a
                >
              </p>
              <p>
                Inspired by projects like Browser Use and Playwright MCP, its
                main advantage is the browser extension form factor which makes
                it more convenient for day to day use, especially for less
                technical users. Its also a bit less cumbersome to use on
                websites that require you to be logged in, as it attaches to the
                same browser instance you use (on privacy: the only data that
                leaves your browser is the communication with the LLM - there is
                no tracking or data collection of any sort).
              </p>
              <p>Some of its core features are as follows:</p>
              <p>
                - a memory feature which allows users to memorize common and
                useful pathways, making the next repetition of those tasks
                faster and cheaper
              </p>
              <p>
                - real-time token counting and cost tracking (inspired by Cline)
              </p>
              <p>
                - an approval flow for critical tasks such as posting content or
                making payments (also inspired by Cline)
              </p>
              <p>
                - tab management allowing the agent to execute tasks across
                multiple tabs
              </p>
              <p>
                - a range of browser tools for navigation, tab management,
                interactions, etc, which are broadly in line with Playwright MCP
              </p>
              <p>
                I'm actively developing BrowserBee and would love to hear any
                thoughts, comments, or feedback.
              </p>
              <p>
                Feel free to reach out via email: parsa.ghaffari [at] gmail
                [dot] com
              </p>
              <p>-Parsa</p>
            </div>
          </section>
        </section>
        <section id="44020591">
          <h3>
            <a class="item" href="https://domenic.me/fsrs/"
              >Spaced repetition systems have gotten better</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 11:42:19</span
              ><span class="points-container"
                >Points: <span class="points">634</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44020591"
                  >Comments</a
                ><span class="descendants">: 399</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44017913">
          <h3>
            <a class="item" href="https://komiko.app/video/AniSora"
              >AniSora: Open-source anime video generation model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 23:59:03</span
              ><span class="points-container"
                >Points: <span class="points">315</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44017913"
                  >Comments</a
                ><span class="descendants">: 178</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44016037">
          <h3>
            <a
              class="item"
              href="https://suberic.net/~dmm/projects/mystical/README.html"
              >Mystical</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 18:21:18</span
              ><span class="points-container"
                >Points: <span class="points">345</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44016037"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44013201">
          <h3>
            <a
              class="item"
              href="https://dezyne.org/dezyne/manual/dezyne/dezyne.html"
              >Dezyne Programming Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 09:44:19</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44013201"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44009185">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.08906"
              >Comparing Parallel Functional Array Languages: Programming and
              Performance</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 19:50:45</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44009185"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44005692">
          <h3>
            <a class="item" href="https://www.tech.tickets/"
              >I built a platform to find tech conferences, discounts, and
              ticket giveaways</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 14:05:52</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44005692"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43999897">
          <h3>
            <a
              class="item"
              href="https://www.eff.org/deeplinks/2025/05/memoriam-john-l-young-cryptome-co-founder"
              >In Memoriam: John L. Young, Cryptome Co-Founder</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-15 @ 22:16:26</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43999897"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43995094">
          <h3>
            <a class="item" href="https://github.com/charliemeyer/yahtzeeql"
              >Yahtzeeql – Yahtzee solver that's mostly SQL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-15 @ 13:51:26</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43995094"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43993707">
          <h3>
            <a
              class="item"
              href="https://microsoft.github.io/verona/pyrona.html"
              >Project Verona: Fearless Concurrency for Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-15 @ 10:58:09</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43993707"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43991185">
          <h3>
            <a class="item" href="https://github.com/EliseZeroTwo/ml1hax"
              >Magic Leap One Bootloader Exploit</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-15 @ 02:09:24</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43991185"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43990262">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/future/article/20250513-what-chestnuts-reveal-about-the-roman-empire"
              >How the humble chestnut traced the rise and fall of the Roman
              Empire</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-14 @ 23:29:32</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43990262"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
