<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41937666">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2024/10/cable-companies-ask-5th-circuit-to-block-ftcs-click-to-cancel-rule/"
              >Cable companies ask 5th Circuit to block FTC's click-to-cancel
              rule</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:36:23</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937666"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937591">
          <h3>
            <a
              class="item"
              href="https://reactnative.dev/blog/2024/10/23/the-new-architecture-is-here"
              >React Native – New Architecture is here</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:28:28</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937591"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937572">
          <h3>
            <a class="item" href="https://precog.ubik.studio/"
              >Show HN: PreCog AI – Automatic AI Model Selection for Any Task</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:25:42</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937572"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm one of the co-founders of PreCog AI, a project my friend and
                I started to make the best AI models more accessible. PreCog AI
                is a chatbot that automatically picks and answers with the best
                AI model for whatever task you throw at it.
              </p>
              <p>
                We made PreCog public on Monday and are getting great feedback.
                Originally built as an internal tool to help our small team
                reduce costs (paying for various chatbots) and get better AI
                output, PreCog has helped us so much with our workflow and
                ideation that we just had to share it.
              </p>
              <p>
                Key Features of PreCog - AI Model Matchmaking: With access to 18
                models, PreCog automatically matches your questions with the
                most fitting AI model based on the task.
              </p>
              <p>
                - Versatile Adaptation: Works with any task, from coding to
                creative writing, giving you the right tool for the job.
              </p>
              <p>
                -Ongoing Updates: Stay current with AI advancements using the
                latest LLM leaderboard data (we are constantly adding and
                changing our leaderboard). See the leaderboard here -
                <a href="https://precog.ubik.studio/leaderboard"
                  >https://precog.ubik.studio/leaderboard</a
                >
              </p>
              <p>
                -Preferred Model Selection: If you have a preferred model,
                choose it, and PreCog will use that model exclusively to
                respond.
              </p>
              <p>How PreCog Works:</p>
              <p>
                PreCog analyzes your query, references the model leaderboard,
                and then matches your query with the highest-ranked AI for that
                niche task. Delivering high-quality, task-specific output.
                PreCog's Model Leaderboard ranks AI models through over a
                million human comparisons, evaluated and presented on an
                Elo-scale. The dataset used to build the PreCog Leaderboard is
                from ChatBot Arena by
                <a href="https://lmarena.ai/">https://lmarena.ai/</a>.
                Researchers from UC Berkeley SkyLab and LMSYS developed the
                battle framework to produce the dataset.
              </p>
              <p>
                I love feedback, questions, and critiques it helps me and my
                friend develop with the user in mind.
              </p>
              <p>You can reach me at anytime at: info@ubik.studio</p>
            </div>
          </section>
        </section>
        <section id="41937531">
          <h3>
            <a
              class="item"
              href="https://www.nbcnews.com/health/health-news/ozempic-linked-lower-alzheimers-risk-people-type-2-diabetes-rcna176821"
              >Ozempic linked to lower Alzheimer's risk in people with Type 2
              diabetes</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:20:03</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937531"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937443">
          <h3>
            <a
              class="item"
              href="https://archaeologymag.com/2024/09/lion-of-st-marks-square-in-venice-is-chinese/"
              >The Lion of St. Mark's Square in Venice Is Chinese: Isotopic
              Analyses Confirm It</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:08:43</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937443"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937383">
          <h3>
            <a
              class="item"
              href="https://www.svix.com/careers/?ashby_jid=1d4b2de4-e9a2-4e1b-9fcb-661e678ad7c6"
              >Svix (YC W21) Is Hiring a Developer Marketer (US Remote)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:00:56</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937319">
          <h3>
            <a
              class="item"
              href="https://www.nps.gov/articles/post-wwii-food.htm"
              >Post World War II Food</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 16:54:53</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937319"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41936939">
          <h3>
            <a
              class="item"
              href="https://www.sfgate.com/tech/article/bay-area-cops-get-sideshow-tool-flock-safety-19858497.php"
              >Bay Area cops are getting a new Siri-type tool for fighting
              sideshows</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 16:15:15</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936939"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41936890">
          <h3>
            <a
              class="item"
              href="https://onepercentrule.substack.com/p/the-rise-and-fall-of-iq-the-cognitive"
              >The Rise and Fall of IQ: The Cognitive Divide</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 16:08:34</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936890"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41936745">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41936745"
              >Launch HN: Skyvern (YC S23) – open-source AI agent for browser
              automations</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 15:51:21</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936745"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.skyvern.com">https://www.skyvern.com</a>).
              We’re building an open source tool to help companies automate
              browser-based workflows using LLMs.
              <p>
                Our open source repo is at
                <a href="https://github.com/Skyvern-AI/Skyvern"
                  >https://github.com/Skyvern-AI/Skyvern</a
                >, and we're excited to share our cloud version with you (<a
                  href="https://app.skyvern.com"
                  >https://app.skyvern.com</a
                >) :)
              </p>
              <p>
                Skyvern allows you to define a single (or a series of)
                goal-based prompts to instruct an agent to complete complex
                tasks on websites. Here’s a quick demo of Skyvern:
                <a
                  href="https://www.loom.com/share/76b231309df74a528061fcf102e1967f"
                  >https://www.loom.com/share/76b231309df74a528061fcf102e1967f</a
                >
              </p>
              <p>
                We built this to solve a specific problem: building browser
                automations often requires companies to either hire people and
                scale out operations teams to do tedious manual work, or hire
                developers to use products like UI-Path or Selenium to build
                automations.
              </p>
              <p>
                Code-based solutions always run into the same problem: they’re
                brittle (wow this website added a new pop-up dialog and my
                script broke), and fail to achieve the same objective across
                multiple websites (how can I fill out a contact-us form on
                hundreds of different websites?)
              </p>
              <p>
                We did a Show HN a few months ago (<a
                  href="https://news.ycombinator.com/item?id=39706004"
                  >https://news.ycombinator.com/item?id=39706004</a
                >), and since then, we’ve onboarded customers for a wide variety
                of use cases: generating insurance quotes on websites like
                Geico.com; applying to jobs on websites like lever.co;
                automating filing permits in local government portals;
                registering new corporations for employment identification;
                fetching invoices from hundreds of different portals such as
                hydroone.com; automating purchasing on a handful of e-commerce
                websites like zooplus.com; and filling out contact us forms on a
                bunch of random smb websites (such as HVAC websites).
              </p>
              <p>
                To be able to service all of these, we’ve built and open-sourced
                quite a few interesting features:
              </p>
              <p>
                (1) a fully-featured React application allowing you to see every
                action Skyvern is taking in real-time;
              </p>
              <p>
                (2) livestreaming browser instances to allow our users to see
                what Skyvern is doing when running inside of a docker container;
              </p>
              <p>
                (3) authenticated sessions, integrating with Bitwarden and
                allowing users to specify Email + Phone + QR-code based 2FAs;
              </p>
              <p>
                (4) “workflows” allowing users to chain multiple goal-based
                prompts together, which can handle tasks like invoice
                downloading, or automating purchasing pipelines;
              </p>
              <p>
                (5) processing HTML Elements (ex. identifying + summarizing
                SVGs) and performing website interactions (ex. Iterating over
                dynamic autocompletes to fill in address information correctly)
              </p>
              <p>
                (6) “cached workflows”, allowing Skyvern to memorize previous
                interactions (ie text inputs) and re-use them in future runs.
              </p>
              <p>
                We’ve also been blessed with a few model advancements to solve
                some of the cost concerns the community brought up. Skyvern’s
                token costs went down 80% from $15 / 1M tokens (GPT-4V) to $2.50
                / 1M tokens (GPT-4O)
              </p>
              <p>
                Despite the model costs going down 80%, Skyvern is still quite
                expensive to run, so we give every new user $5 of credits to try
                it out and see if it can be useful for you.
              </p>
              <p>
                We would be honored if you could give it a try at
                <a href="https://app.skyvern.com">https://app.skyvern.com</a>
                and share some feedback with us, and we look forward to any and
                all of your comments!
              </p>
            </div>
          </section>
        </section>
        <section id="41936316">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/lost-silk-road-cities-discovered-high-in-the-mountains-of-central-asia/"
              >Lost Silk Road Cities Discovered High in the Mountains of Central
              Asia</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 15:12:34</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936316"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41936001">
          <h3>
            <a class="item" href="https://www.jetbrains.com/rider/"
              >JetBrains Rider is now free for non-commercial use</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 14:43:26</span
              ><span class="points-container"
                >Points: <span class="points">445</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936001"
                  >Comments</a
                ><span class="descendants">: 215</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41935766">
          <h3>
            <a
              class="item"
              href="https://gieseanw.wordpress.com/2024/10/24/why-that-one-coworker-got-fired-for-no-reason/"
              >Why that one coworker got fired for no reason</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 14:19:13</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41935766"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41935166">
          <h3>
            <a class="item" href="https://animalbodyfatmatch.netlify.app/"
              >Show HN: Which Animal Shares Your Body Fat Percentage?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 13:12:13</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41935166"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
            <div class="text">
              <p>
                Now that I’m typing this, I still have no clue why I made
                this... but here it is. Enjoy!
              </p>
            </div>
          </section>
        </section>
        <section id="41932831">
          <h3>
            <a
              class="item"
              href="https://www.researchgate.net/publication/262263511_A_field_guide_to_the_central_creeping_section_of_the_San_Andreas_Fault_and_the_San_Andreas_Fault_Observatory_at_Depth"
              >A field guide to the central, creeping section of the San Andreas
              Fault (2006)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 07:11:45</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41932831"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41931572">
          <h3>
            <a class="item" href="https://benjdd.com/aws/"
              >AWS data center latencies, visualized</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 03:18:23</span
              ><span class="points-container"
                >Points: <span class="points">456</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41931572"
                  >Comments</a
                ><span class="descendants">: 184</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41931507">
          <h3>
            <a class="item" href="https://github.com/aartaka/pretty.c"
              >Pretty.c</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 03:01:58</span
              ><span class="points-container"
                >Points: <span class="points">300</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41931507"
                  >Comments</a
                ><span class="descendants">: 176</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41931035">
          <h3>
            <a class="item" href="https://netguard.me/"
              >NetGuard – rootless Android outbound per-app OSS firewall, like
              LittleSnitch</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 01:31:16</span
              ><span class="points-container"
                >Points: <span class="points">215</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41931035"
                  >Comments</a
                ><span class="descendants">: 123</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41930790">
          <h3>
            <a
              class="item"
              href="https://fgiesen.wordpress.com/2024/10/23/zero-or-sign-extend/"
              >Zero or Sign Extend</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 00:48:03</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41930790"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41930628">
          <h3>
            <a class="item" href="https://github.com/RamboRogers/rfhunter"
              >Show HN: RF Hunter – Find hidden cameras and other devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 00:21:36</span
              ><span class="points-container"
                >Points: <span class="points">360</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41930628"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
            <div class="text">
              This project is an RF Signal Scanner built using an ESP32, AD8317
              RF detector, and various other components. It's designed to detect
              and measure RF signals in the environment and display the signal
              strength on an OLED display. It's useful to find hidden cameras,
              wiretapping devices, and other RF-enabled devices.
            </div>
          </section>
        </section>
        <section id="41929822">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41929822"
              >Show HN: Satoshi9000 analog BTC key generator (mechanical)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 22:26:28</span
              ><span class="points-container"
                >Points: <span class="points">143</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41929822"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
            <div class="text">
              <p>
                The Satoshi 9000 demo:
                <a href="https://youtu.be/bJiOia5PoGE"
                  >https://youtu.be/bJiOia5PoGE</a
                >
              </p>
              <p>
                The key value proposition of the machine is that it generates
                analog randomness in the physical world and converts it into
                digital (1’s and 0’s) randomness. Seamlessly.
              </p>
              <p>
                But it occurs to me that it may have other uses beyond crypto
                keys for your own use, such as: * Randomized clinical trials.
                Clinical trials need a high degree of transparency for ethical
                reasons; also, for legal reasons should it come to light after
                the trial has ended that patient selection and treatment
                selection was not random or in some way biased (say, by the
                researchers themselves). The machine described herein can
                provide that transparency to young and old patients, technical
                and non- technical. * Non-technical management. Many network
                engineers in need of security keys have bosses that are
                non-technical. Such managers might prefer security keys (and
                their generation) which are easier for them to understand. *
                Estate planning. Suppose members of a family were to inherit
                digital assets (such as Bitcoin, for example). Not all members
                of the family are technical and understand Bitcoin. However,
                each will still need to generate a secure Bitcoin key to receive
                their share of the inheritance. The machine described herein
                might help in that task because its source of randomness is more
                easily understood by laypeople and each can generate their own
                private key in private (in isolation with the machine). *
                Anywhere where the users have to have an intuitive understanding
                of how the randomness is being created; whether they are 5 years
                old, or 95 years old, and all ages in between.
              </p>
              <p>
                I'm curious to know if any of the folks over at HN can think of
                other use cases?
              </p>
            </div>
          </section>
        </section>
        <section id="41929804">
          <h3>
            <a class="item" href="https://www.matthieulc.com/posts/pablonet/"
              >Show HN: Wall-mounted diffusion mirror that turns reflections
              into paintings</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 22:24:21</span
              ><span class="points-container"
                >Points: <span class="points">432</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41929804"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41929424">
          <h3>
            <a
              class="item"
              href="https://leancrew.com/all-this/2024/10/sinusoidal-sunlight/"
              >Sinusoidal Sunlight</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 21:31:02</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41929424"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41929122">
          <h3>
            <a
              class="item"
              href="https://www.bookandsword.com/2024/10/19/how-to-grip-bronze-age-swords-response-to-dimicator-and-matt-easton/"
              >How to grip Bronze Age swords</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 20:45:19</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41929122"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41928529">
          <h3>
            <a
              class="item"
              href="https://www.copetti.org/writings/consoles/playstation-vita/"
              >Playstation Vita Architecture (Part 1)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 19:31:51</span
              ><span class="points-container"
                >Points: <span class="points">254</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41928529"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41923693">
          <h3>
            <a
              class="item"
              href="https://blocksuite.io/blog/document-centric.html"
              >Building Document-Centric, CRDT-Native Editors</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 10:46:49</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41923693"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41922928">
          <h3>
            <a
              class="item"
              href="https://www.davidreis.me/2024/what-happens-when-you-make-a-move-in-lichess"
              >What happens when you make a move in lichess.org?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 08:13:47</span
              ><span class="points-container"
                >Points: <span class="points">333</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41922928"
                  >Comments</a
                ><span class="descendants">: 136</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41922503">
          <h3>
            <a
              class="item"
              href="https://technology.riotgames.com/news/peeking-valorants-netcode"
              >Riot Games: Peeking into Valorant's Netcode (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 06:51:40</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41922503"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41921897">
          <h3>
            <a
              class="item"
              href="https://www.flickr.org/programs/content-mobility/data-lifeboat/"
              >Data Lifeboat</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 04:43:45</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41921897"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41903192">
          <h3>
            <a class="item" href="http://www.arxiv.org/pdf/2410.12043"
              >Optimizing Beer Glass Shapes to Minimize Heat Transfer – New
              Results</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-21 @ 12:00:51</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41903192"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
