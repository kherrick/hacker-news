<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41169642">
          <h3>
            <a
              class="item"
              href="https://www.nextplatform.com/2024/08/02/the-resurrection-of-intel-will-take-more-than-three-days/"
              >The Resurrection of Intel Will Take More Than Three Days</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 11:05:03</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41169642"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41169538">
          <h3>
            <a
              class="item"
              href="https://www.abc.net.au/news/2024-08-05/cost-of-living-interest-rates-burgers/104156654"
              >Big Macs and the Cost of Living Crisis</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 10:43:47</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41169538"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41169195">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2024/08/06/wordstar_7_the_last_ever/"
              >WordStar 7, the last ever DOS version, is re-released for free</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 09:47:17</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41169195"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41168904">
          <h3>
            <a
              class="item"
              href="https://www.cnbc.com/2024/08/06/openai-co-founder-john-schulman-says-he-will-join-rival-anthropic.html"
              >OpenAI co-founder John Schulman says he will leave and join rival
              Anthropic</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 08:39:55</span
              ><span class="points-container"
                >Points: <span class="points">205</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41168904"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41168889">
          <h3>
            <a
              class="item"
              href="https://fortune.com/2024/08/05/x-closing-san-francisco-hq-relocating-staffers-san-jose-palo-alto-shared-space-with-x-ai-linda-yaccarino-leaked-email/"
              >X is closing San Francisco HQ and relocating staffers to San
              Jose</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 08:37:31</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41168889"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41168462">
          <h3>
            <a
              class="item"
              href="https://replogleglobes.com/app/uploads/2023/09/How-old-is-your-globerv.pdf"
              >How old is your globe? [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 07:03:57</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41168462"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41168033">
          <h3>
            <a
              class="item"
              href="https://www.grulic.org.ar/~mdione/glob/posts/writing-a-tile-server-in-python/"
              >Writing a tile server in Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 05:25:45</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41168033"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41167947">
          <h3>
            <a
              class="item"
              href="https://www.macsmotorcitygarage.com/a-completely-different-kind-of-disc-brake-1949-chrysler/"
              >A Different Kind of Disc Brake: 1949 Chrysler</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 05:09:58</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41167947"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41167615">
          <h3>
            <a
              class="item"
              href="https://books.worksinprogress.co/book/maintenance-of-everything/communities-of-practice/the-soul-of-maintaining-a-new-machine/1"
              >The Soul of Maintaining a New Machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 03:49:20</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41167615"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41167467">
          <h3>
            <a class="item" href="https://jakeseliger.com/2024/08/05/no-salt/"
              >No Salt</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 03:03:31</span
              ><span class="points-container"
                >Points: <span class="points">313</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41167467"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41167060">
          <h3>
            <a
              class="item"
              href="https://www.philipotoole.com/building-rqlite-9-0-cutting-disk-usage-by-half/"
              >Building rqlite 9.0: Cutting disk usage by half</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-06 @ 01:20:22</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41167060"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41165567">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/reflex/jobs/uBt9ZNP-senior-staff-engineer-infrastructure"
              >Reflex (YC W23) Is Hiring a Staff Infrastructure Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 21:00:04</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41165273">
          <h3>
            <a
              class="item"
              href="https://www.wisfarmer.com/story/news/2024/08/05/can-we-stop-the-decline-of-monarch-butterflies-and-other-pollinators/74638545007/"
              >Can we stop the decline of monarch butterflies and other
              pollinators?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 20:30:01</span
              ><span class="points-container"
                >Points: <span class="points">209</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41165273"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41165117">
          <h3>
            <a
              class="item"
              href="https://flemesre.github.io/posts/liquid-metal-replacement/"
              >Replacing Liquid Metal on an Asus Zephyrus G15's CPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 20:15:21</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41165117"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41164885">
          <h3>
            <a
              class="item"
              href="https://sunshowers.io/posts/rustc-segfault-illumos/"
              >Debugging a rustc segfault on Illumos</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 19:54:45</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41164885"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41164585">
          <h3>
            <a
              class="item"
              href="https://blog.stahlmandesign.com/below-the-root-a-story-a-computer-game-and-my-lifelong-obsession/"
              >Below the Root: A story, a computer game and my lifelong
              obsession (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 19:29:47</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41164585"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41163645">
          <h3>
            <a class="item" href="https://www.iso20022js.com/"
              >Show HN: Iso20022.js – Create payments in 3 lines of code</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 17:55:41</span
              ><span class="points-container"
                >Points: <span class="points">231</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41163645"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41163382">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41163382"
              >Launch HN: Airhart Aeronautics (YC S22) – A modern personal
              airplane</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 17:26:43</span
              ><span class="points-container"
                >Points: <span class="points">558</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41163382"
                  >Comments</a
                ><span class="descendants">: 430</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.airhartaero.com/"
                >https://www.airhartaero.com/</a
              >). We are building an airplane for people who don’t fly
              airplanes. The goal is to make flying as easy as driving a
              car—while maintaining a high bar for safety. Here’s a video that
              shows a bit of our hardware and quite a bit of our software:
              <a href="https://youtu.be/PGJUGUceu8A"
                >https://youtu.be/PGJUGUceu8A</a
              >
              <p>
                In the US, trips that are 50-300 miles are almost all done by
                car because that distance is too short for commercial airlines
                and too far for public transportation. Thanks to the Wright
                Brothers we've had aerial transport for over 100 years. The US
                has over 19,000 airports, and large commercial airplane
                technology has developed to the point that the planes
                practically fly themselves. If we already have the
                infrastructure and the technology, why isn't everyone flying
                planes?
              </p>
              <p>
                The problem is that small airplane technology hasn’t innovated
                and is stuck in the past. Flying a small airplane is
                complicated, mentally taxing, and dangerous—about 28x more
                dangerous than driving a car. Outdated airplanes, coupled with
                outdated flight controls, lead to regular accidents, often due
                to some form of loss of control. The planes are expensive and
                margins are small. There is no incentive to innovate within the
                current market, so we are looking at the new, untapped market of
                those who don’t think about flying as an option today and making
                it an option.
              </p>
              <p>
                I first came across this when I learned to fly in 2020. I was
                learning in a “modern” GA airplane but was immediately struck by
                the fact that an airplane built in 2018 did not have an engine
                computer and there was a manual level to control the fuel/air
                mixture ratio. Starting it on a hot day was like starting a
                stubborn lawn mower. On top of that, my instructor was telling
                me all the various ways I could kill myself if I’m not running
                at 100% concentration for hours on end. This just didn’t sit
                right with me.
              </p>
              <p>
                At the time I was working at SpaceX as an avionics engineer,
                leading the development of the avionics for the fairing recovery
                program. I also built autonomous aircraft when I was a student
                at Cornell, where I got a degree in electrical and computer
                engineering. It was clear to me that the core problem is that
                airplanes are too unsafe and too complicated to operate which is
                keeping too many people out of aviation. So, I decided to leave
                SpaceX and was joined by my long-time friend Brendan (he was a
                software engineer at Apple at the time; we built autonomous
                aircraft together at Cornell) to start Airhart to tackle this
                problem and make flying safer and more accessible.
              </p>
              <p>
                We are developing a full hardware and software package to change
                how people fly airplanes. It’s a fly-by-wire control system,
                meaning instead of mechanical linkages between the pilot’s
                control stick and the control surfaces, it’s a joystick that
                sends digital commands to a computer that then moves the control
                surfaces accordingly with servo actuators. We’re developing all
                of the hardware ourselves: the computers, the sensors, the
                actuators–and all of the software that actually does the
                control. But it’s not just fly-by-wire. On top of it, we are
                implementing a simplified control scheme that reduces flying the
                airplane to just one action to perform one maneuver.
              </p>
              <p>
                For readers who aren’t pilots: all flying is basically
                coordinating the aircraft pitch, roll, yaw, and throttle to
                coordinate actions. Something as simple as a level turn to the
                right means you have to 1) roll the airplane, 2) use your feet
                on the rudder pedals to keep the turn coordinated, 3) pull back
                to increase your lift since you are now losing lift in a bank,
                4) monitor your airspeed (especially if at slow speeds when
                coming in to land), 5) monitor your altitude as you’re adjusting
                your lift in (3), 6) monitor your turn coordination as you
                adjust it in (2). You are now established in a turn. To return
                to flying straight and level do those in reverse. And while
                doing all this, you need to be navigating through complex
                airpaces and talking to air traffic control over 1940s radio
                technology. All this together makes it very hard to fly and very
                easy for a pilot (especially a new pilot) to lose control of the
                airplane, which is still the leading cause of fatalities in
                general aviation.
              </p>
              <p>
                With Airhart Assist (that’s what we call our system), you just
                push a control stick to the right and the flight computers do
                all those steps to put you into a coordinated level turn.
              </p>
              <p>So, how does this actually work?</p>
              <p>
                The force-feedback joystick in the plane sends its position to a
                flight controller (actually 3 that work in parallel for safety
                and redundancy, more on that later). The flight controller
                interprets the position as a turn rate or climb rate command
                (for left/right or forward/back). The flight controller also
                reads a bunch of sensors (gyroscope, accelerometer,
                magnetometer, air pressure, GPS, etc) to develop an accurate
                estimate of the airplane’s state: roll, pitch, yaw, velocity,
                position, etc. Using the current state from the sensor fusion
                algorithms and the desired state from the joystick, the
                controller does a bunch of aerodynamics and control theory math
                to compute the control surface position necessary to bring the
                aircraft to the desired state. Mixed into this is error
                checking, envelope protection, and other various safety measures
                to make sure the aircraft never enters an unsafe state.
              </p>
              <p>
                Unlike a traditional airplane, it becomes impossible to command
                the airplane into a stall, a spin, unsafe attitudes, or other
                bad states. This is the key to the safety of the system: it
                prevents the common mistakes that pilots make that lead to
                disastrous consequences.
              </p>
              <p>
                To make sure that this system is always functioning, everything
                is single-fault tolerant. That means that there are no single
                points of failure. Any fault that might occur–a broken wire, a
                fried resistor, a bitflip in a processor, a random hang in a
                kernel–does not affect the functionality of the system. This is
                achieved by having three flight controllers that take in
                information from two different sets of sensors (we call them
                “strings”), independently compute the desired actions to take,
                and vote on what to do. Each string has its own power source,
                backup battery, networking hardware, and set of critical
                sensors.
              </p>
              <p>
                The only real single point of failure is the engine. We only
                have one, though the engine itself has redundant ignition
                systems, fuel pumps, controllers, etc. If the engine were to
                die, the batteries would keep the system running for ~30
                minutes, giving you time to make an emergency landing. If the
                pilot somehow becomes incapacitated, any passenger can initiate
                an autonomous emergency landing. And if many things go wrong and
                the system does fail, there’s a full airframe parachute that can
                be activated to bring the airplane safely to the ground.
              </p>
              <p>
                A lot of people will likely wonder: “isn’t removing stick and
                rudder skills going to make worse pilots”? Short answer: no. The
                core of what makes a good pilot isn’t stick and rudder skills;
                it’s good decision making and risk management. For single pilots
                in GA, it’s even more important. So we are building a system
                that will give our pilots the tools to focus entirely on
                decision making and risk management and remove the distraction
                of stick and rudder that creates so many problems today. We
                think stick and rudder skills are definitely a necessity for
                airline pilots flying hundreds of people on board for the
                extremely rare cases where emergencies do happen and many
                people's lives are at risk, but not for an average person flying
                a four seat airplane to go on a weekend trip to the mountains.
                Our system makes it impossible to lose control of the airplane,
                potentially solving 80% of today’s fatal accidents in general
                aviation.
              </p>
              <p>
                Fly-by-wire systems typically cost millions of dollars. We
                intend to build it for much less. How? By leveraging automotive
                grade components, clever sensor fusion math so that we can use
                MEMS gyroscopes that cost &lt;$100 instead of laser-ring gyros
                that cost $1000 if not $10k, and by a first principles approach
                to the design of our system. This requires that we build a lot
                of our own hardware. We’ve developed our own control surface
                actuators, our own display assemblies, we’re developing our own
                radios and GPS hardware (an aviation grade GPS can cost upwards
                of $10k, but it’s the same hardware as in a $20 consumer grade
                GPS).
              </p>
              <p>
                To take advantage of this automotive style approach requires
                scale. Enter the final third of the problem: flying isn’t sexy.
                Modern airplanes look like they are from the 90s. With our first
                airplane, the Airhart Sling, we are redesigning the entire UI/UX
                of the flight deck to make it as easy as possible to use,
                redesigning the cabin to feel much more like a luxury car than
                an airplane today, and integrating Airhart Assist to make flying
                much more accessible and much more inviting. You can see
                previews of the Airhart Sling on our website,
                <a href="https://www.airhartaero.com/"
                  >https://www.airhartaero.com/</a
                >. The sexiness of design is extremely important for the
                economies of scale of an automotive-style approach to work.
              </p>
              <p>
                There’s a plethora of other problems that make flying
                cumbersome: weight and balance worksheets, complicated route
                planning, talking to ATC, lengthy preflight checks, a fractured
                system of FBOs, difficult access to instruction, the list goes
                on. We are working on all of these too, but no amount of extra
                UI features can solve the fundamental problem that aviating
                itself is hard. So that’s what we’re solving first.
              </p>
              <p>
                We want people who don’t think about airplanes as a mode of
                transportation to start flying and are hoping that Airhart will
                pave the way. Whether you fly planes today or not, I’d love to
                hear your thoughts. This is a very exciting topic with lots to
                discuss so I’m very much looking forward to the conversation!
              </p>
            </div>
          </section>
        </section>
        <section id="41163083">
          <h3>
            <a
              class="item"
              href="https://16bpp.net/blog/post/noexcept-can-sometimes-help-or-hurt-performance/"
              >C++'s `noexcept` can sometimes help or hurt performance</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 16:55:52</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41163083"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41162676">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/kan-neural-network"
              >A new type of neural network is more interpretable</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 16:15:19</span
              ><span class="points-container"
                >Points: <span class="points">277</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41162676"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41162505">
          <h3>
            <a
              class="item"
              href="https://github.com/Dicklesworthstone/visual_astar_python"
              >Show HN: Visual A* pathfinding and maze generation in Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 15:56:01</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41162505"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
            <div class="text">
              <p>
                Then it turned out that many of the generated mazes weren't
                actually solvable, so I spent some time coming up with various
                strategies to test and validate the generated mazes and then
                modify them so they would work better for this purpose. I spent
                a fair amount of effort trying to optimize the performance as
                much as possible using tools like Numba where applicable, but I
                also got tired of the code bringing my very powerful machine to
                its knees. So, I tried to make it play nice with the rest of the
                system while also saturating a big computer with tons of CPU
                cores. This was done using concurrent futures with some tweaks,
                like using a Semaphore and lowering the CPU priority. People
                might find this project interesting just for these
                performance-tuning features.
              </p>
              <p>
                I also spent a lot of time trying to make beautiful-looking
                animations that show multiple randomly generated mazes side by
                side, where you can see A* "races" as it tries to solve all the
                mazes at the same time, showing the current progress. When a
                solution is found, it is traced out on the screen. It's actually
                not that easy to get really slick/beautiful looking results
                straight out of Matplotlib, but if you use custom fonts and
                tweak a lot of parameters, it starts to look pretty polished.
              </p>
              <p>
                Now you can just run this on a spare Linux machine and come back
                in a few hours to have a bunch of cool-looking animations to
                check out. By changing the grid sizes, you can get very
                different-looking effects, although larger grids can take a lot
                of compute power to render. Anyway, I hope you guys like it! I'm
                happy to answer any questions. I'm sure there are still some
                bugs, but it has been running pretty well for me and generating
                lots of cool-looking animations. Note: I know that the pulsating
                title at the top in the demo video is annoying— I already slowed
                this way down in the code but didn't want to wait for it to
                regenerate the video.
              </p>
            </div>
          </section>
        </section>
        <section id="41162311">
          <h3>
            <a
              class="item"
              href="https://dfarq.homeip.net/andy-warhols-lost-amiga-art-found/"
              >Andy Warhol's lost Amiga art found</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 15:33:30</span
              ><span class="points-container"
                >Points: <span class="points">450</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41162311"
                  >Comments</a
                ><span class="descendants">: 161</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41162036">
          <h3>
            <a class="item" href="https://cables.gl/standalone"
              >WebGL visual programming editor cables.gl is now open source</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 15:05:21</span
              ><span class="points-container"
                >Points: <span class="points">190</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41162036"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41161968">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2024/07/31/magazine/how-music-got-free-documentary.html"
              >How the music industry learned to love piracy</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 14:57:36</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41161968"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41161580">
          <h3>
            <a
              class="item"
              href="https://www.codethink.co.uk/articles/2024/secure_bootloader/"
              >A cryptographically secure bootloader for RISC-V in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 14:18:13</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41161580"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41160268">
          <h3>
            <a class="item" href="https://www.pie-menu.com/"
              >Show HN: Pie Menu – a radial menu for macOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 11:38:51</span
              ><span class="points-container"
                >Points: <span class="points">249</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41160268"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
            <div class="text">
              <p>
                Pie Menu comes with a library of preprogrammed commands for
                popular apps, but you can easily add any app on your computer.
                We've also created an extensive database at
                <a href="https://www.pie-menu.com/shortcuts"
                  >https://www.pie-menu.com/shortcuts</a
                >
                where you can quickly add shortcuts for different programs. If a
                command lacks a keyboard shortcut, you can always create one
                through System Preferences &gt; Keyboard &gt; Application
                Shortcuts.
              </p>
              <p>
                For now, you can use Apple’s SF Symbols to label your commands,
                but we plan to include custom symbol sets in the future. You can
                see and vote on our roadmap at
                <a href="https://www.pie-menu.com/help/roadmap"
                  >https://www.pie-menu.com/help/roadmap</a
                >.
              </p>
              <p>
                I hope you give Pie Menu a try and find it as useful as I
                intended!
              </p>
            </div>
          </section>
        </section>
        <section id="41157974">
          <h3>
            <a
              class="item"
              href="https://jakeseliger.com/2024/08/04/starting-hospice-the-end/"
              >Starting Hospice</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 03:35:53</span
              ><span class="points-container"
                >Points: <span class="points">1031</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41157974"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41157192">
          <h3>
            <a
              class="item"
              href="https://www.colorado.edu/asmagazine/2024/08/01/uncovered-euripides-fragments-are-kind-big-deal"
              >Uncovered Euripides fragments are 'kind of a big deal'</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-05 @ 00:11:33</span
              ><span class="points-container"
                >Points: <span class="points">254</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41157192"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41129356">
          <h3>
            <a
              class="item"
              href="https://daily.jstor.org/rosalind-franklins-methods-of-discovery/"
              >Rosalind Franklin's Methods of Discovery</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-01 @ 14:19:07</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41129356"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41129081">
          <h3>
            <a
              class="item"
              href="https://djharper.dev/post/2019/05/21/i-dont-know-how-cpus-work-so-i-simulated-one-in-code/"
              >I don't know how CPUs work so I simulated one in code (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-01 @ 13:54:00</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41129081"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
