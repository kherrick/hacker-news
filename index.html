<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44329457">
          <h3>
            <a class="item" href="https://github.com/nxtscape/nxtscape"
              >Show HN: Nxtscape – an open-source agentic browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:35:55</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329457"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
            <div class="text">
              <p>
                -- Why bother building a new browser? For the first time since
                Netscape was released in 1994, it feels like we can reimagine
                browsers from scratch for the age of AI agents. The web browser
                of tomorrow might not look like what we have today.
              </p>
              <p>
                We saw how tools like Cursor gave developers a 10x productivity
                boost, yet the browser—where everyone else spends their entire
                workday—hasn't fundamentally changed.
              </p>
              <p>
                And honestly, we feel like we're constantly fighting the browser
                we use every day. It's not one big thing, but a series of small,
                constant frustrations. I'll have 70+ tabs open from three
                different projects and completely lose my train of thought. And
                simple stuff like reordering tide pods from amazon or filling
                out forms shouldn't need our full attention anymore. AI can
                handle all of this, and that's exactly what we're building.
              </p>
              <p>
                Here’s a demo of our early version
                <a href="https://dub.sh/nxtscape-demo"
                  >https://dub.sh/nxtscape-demo</a
                >
              </p>
              <p>
                -- What makes us different We know others are exploring this
                space (Perplexity, Dia), but we want to build something
                open-source and community-driven. We're not a search or ads
                company, so we can focus on being privacy-first – Ollama
                integration, BYOK (Bring Your Own Keys), ad-blocker.
              </p>
              <p>
                Btw we love what Brave started and stood for, but they've now
                spread themselves too thin across crypto, search, etc. We are
                laser-focused on one thing: making browsers work for YOU with
                AI. And unlike Arc (which we loved too but got abandoned), we're
                100% open source. Fork us if you don't like our direction.
              </p>
              <p>
                -- Our journey hacking a new browser To build this, we had to
                fork Chromium. Honestly, it feels like the only viable path
                today—we've seen others like Brave (started with electron) and
                Microsoft Edge learn this the hard way.
              </p>
              <p>
                We also started with why not just build an extension. But
                realized we needed more control. Similar to the reason why
                Cursor forked VSCode. For example, Chrome has this thing called
                the Accessibility Tree - basically a cleaner, semantic version
                of the DOM that screen readers use. Perfect for AI agents to
                understand pages, but you can't use it through extension APIs.
              </p>
              <p>
                That said, working with the 15M-line C++ chromium codebase has
                been an adventure. We've both worked on infra at Google and
                Meta, but Chromium is a different beast. Tools like Cursor's
                indexing completely break at this scale, so we've had to get
                really good with grep and vim. And the build times are
                brutal—even with our maxed-out M4 Max MacBook, a full build
                takes about 3 hours.
              </p>
              <p>
                Full disclosure: we are still very early, but we have a working
                prototype on GitHub. It includes an early version of a "local
                Manus" style agent that can automate simple web tasks, plus an
                AI sidebar for questions, and other productivity features
                (grouping tabs, saving/resuming sessions, etc.).
              </p>
              <p>Looking forward to any and all comments!</p>
              <p>
                You can download the browser from our github page:
                <a href="https://github.com/nxtscape/nxtscape"
                  >https://github.com/nxtscape/nxtscape</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44329449">
          <h3>
            <a
              class="item"
              href="https://marcinciura.wordpress.com/2025/06/20/cracovians-the-twisted-twins-of-matrices/"
              >Cracovians: The Twisted Twins of Matrices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:35:05</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329449"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328904">
          <h3>
            <a class="item" href="https://htdp.org"
              >How to Design Programs 2nd Ed (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:51:59</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328904"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328894">
          <h3>
            <a
              class="item"
              href="https://xeiaso.net/blog/2025/rolling-ladder-behind-us/"
              >Rolling the ladder up behind us</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:51:02</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328894"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328855">
          <h3>
            <a
              class="item"
              href="https://support.hashicorp.com/hc/en-us/articles/41802449287955-HCP-Vault-Secrets-End-Of-Life"
              >HCP Vault Secrets End of Life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:47:21</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328855"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328598">
          <h3>
            <a
              class="item"
              href="https://jgeekstudies.org/2025/06/20/wilted-lands-and-wounded-worlds-visualizing-environmental-costs-of-war-in-hayao-miyazakis-nausicaa-of-the-valley-of-the-wind/"
              >Visualizing environmental costs of war in Hayao Miyazaki's
              Nausicaä</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:23:29</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328598"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328326">
          <h3>
            <a
              class="item"
              href="https://fly.io/blog/phoenix-new-the-remote-ai-runtime/"
              >Phoenix.new – Remote AI Runtime for Phoenix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:57:04</span
              ><span class="points-container"
                >Points: <span class="points">200</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328326"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328032">
          <h3>
            <a
              class="item"
              href="https://www.economist.com/united-states/2025/06/19/congestion-pricing-in-manhattan-is-a-predictable-success"
              >Congestion pricing in Manhattan is a predictable success</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:26:49</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328032"
                  >Comments</a
                ><span class="descendants">: 209</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44327759">
          <h3>
            <a class="item" href="https://github.com/e3ntity/nanograd"
              >Minimal auto-differentiation engine in Rust (for educational
              purposes)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 13:53:34</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327759"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44327501">
          <h3>
            <a
              class="item"
              href="https://science.nasa.gov/earth/earth-oxygen-magnetic-field-linked/"
              >NASA Scientists Find Ties Between Earth's Oxygen and Magnetic
              Field</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 13:21:31</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327501"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44327468">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/news/690133/meta-oakley-hstn-ai-glasses-price-date"
              >Meta announces Oakley smart glasses</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 13:17:02</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327468"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.meta.com/en-gb/blog/oakley-meta-ai-glasses-sports-wearables-hstn/"
                >https://www.meta.com/en-gb/blog/oakley-meta-ai-glasses-sport...</a
              >
            </div>
          </section>
        </section>
        <section id="44327173">
          <h3>
            <a class="item" href="https://t3x.org/klong/"
              >Klong: A Simple Array Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 12:44:09</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327173"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44326620">
          <h3>
            <a class="item" href="https://github.com/NickTikhonov/snap-ql"
              >Show HN: SnapQL – Desktop app to query Postgres with AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 11:08:18</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44326620"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
            <div class="text">
              <p>
                Everything runs locally — your OpenAI API key, your data, and
                your queries — so it's secure and private. Just connect your DB,
                describe what you want, and SnapQL writes and runs the SQL for
                you.
              </p>
            </div>
          </section>
        </section>
        <section id="44326145">
          <h3>
            <a
              class="item"
              href="https://www.iaea.org/newscenter/news/meet-oklo-the-earths-two-billion-year-old-only-known-natural-nuclear-reactor"
              >Oklo, the Earth's Two-billion-year-old only Known Natural Nuclear
              Reactor (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 09:52:50</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44326145"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44325362">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/qfex/jobs/S7XSybx-founding-backend-engineer"
              >Qfex (YC X25) – Back End Engineer for a 24/7 Stock Exchange</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 07:00:18</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44324592">
          <h3>
            <a class="item" href="https://github.com/Orange-OpenSource/hurl"
              >Hurl: Run and test HTTP requests with plain text</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 03:55:03</span
              ><span class="points-container"
                >Points: <span class="points">363</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44324592"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44324378">
          <h3>
            <a class="item" href="https://github.com/derekg/ts-ssh"
              >Show HN: Ts-SSH – SSH over Tailscale without running the
              daemon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 03:03:05</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44324378"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
            <div class="text">
              <p></p>
              <pre><code>  It uses Tailscale's tsnet library to establish userspace connectivity, then provides
  a standard SSH experience. Works with existing workflows since it supports normal SSH
   features like ProxyCommand, key auth, and terminal handling.

  Some features that proved useful:
  • Parallel command execution across multiple hosts
  • Built-in tmux session management for multi-host work
  • SCP-style file transfers
  • Works on Linux/macOS/Windows (AMD64 and ARM64)

  The codebase is interesting from a development perspective - it was written almost
  entirely using AI tools (mainly Claude Code, with some OpenAI and Jules). Not as an
  experiment, but because it actually worked well for this kind of systems programming.
   Happy to discuss the workflow if anyone's curious about that aspect.

  Source and binaries are on GitHub. Would appreciate feedback from anyone dealing with
   similar connectivity challenges.</code></pre>
            </div>
          </section>
        </section>
        <section id="44324084">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1022920/ad60263cd13c8a13/"
              >Asterinas: A new Linux-compatible kernel project</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 01:56:16</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44324084"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44323389">
          <h3>
            <a
              class="item"
              href="https://www.science.org/content/article/giant-all-seeing-telescope-set-revolutionize-astronomy"
              >Giant, all-seeing telescope is set to revolutionize astronomy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 23:17:39</span
              ><span class="points-container"
                >Points: <span class="points">153</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44323389"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44323253">
          <h3>
            <a class="item" href="https://github.com/Dahrkael/ExTracker"
              >Show HN: I wrote a new BitTorrent tracker in Elixir</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 22:49:49</span
              ><span class="points-container"
                >Points: <span class="points">353</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44323253"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm currently in a journey to learn and improve my Elixir and Go
                skills (my daily job uses C++) and looking through my backlog
                for projects to take on I decided Elixir is the perfect language
                to write a highly-parallel BitTorrent tracker. So I have spent
                my free time these last 3 months writing one! Now I think it has
                enough features to present it to the world (and a docker image
                to give it a quick try).
              </p>
              <p>
                I know some people see trackers as relics of the past now that
                DHT and PEX are common but I think they still serve a purpose in
                today's Internet (purely talking about public trackers). That
                said there is not a lot going on in terms of new developments
                since everyone just throws opentracker in a vps a calls it a day
                (honorable exceptions: aquatic and torrust).
              </p>
              <p>
                I plan to continue development for the foreseeable future and
                add some (optional) esoteric features along the way so if anyone
                currently operates a tracker please give a try and enjoy the
                lack of crashes.
              </p>
              <p>
                note: only swarm_printout.ex has been vibe coded, the rest has
                all been written by hand.
              </p>
            </div>
          </section>
        </section>
        <section id="44321672">
          <h3>
            <a
              class="item"
              href="https://zhihaojia.medium.com/compiling-llms-into-a-megakernel-a-path-to-low-latency-inference-cf7840913c17"
              >Compiling LLMs into a MegaKernel: A path to low-latency
              inference</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 19:20:54</span
              ><span class="points-container"
                >Points: <span class="points">283</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44321672"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44304634">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/06/14/nyregion/maintenance-artist-mierle-laderman-ukeles.html"
              >Mierle Laderman Ukeles, a '70s artist who became a hero to
              'garbage men'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 22:24:18</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44304634"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44304607">
          <h3>
            <a
              class="item"
              href="https://www.bauplanlabs.com/blog/everything-as-python"
              >A Python-first data lakehouse</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 22:22:03</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44304607"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44304107">
          <h3>
            <a
              class="item"
              href="https://montrealgazette.com/opinion/columnists/article249177.html"
              >The Right Chemistry: How Jean Harlow became a ‘platinum blond’
              (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 21:22:23</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44304107"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44303011">
          <h3>
            <a class="item" href="https://blog.peterzhu.ca/assets/ismm_2025.pdf"
              >Reworking Memory Management in CRuby [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 19:37:49</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44303011"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44300641">
          <h3>
            <a
              class="item"
              href="https://www.computer.org/csdl/magazine/an/2025/02/11030922/27sQDLuL7Uc"
              >ELIZA Reanimated: Restoring the Mother of All Chatbots</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 15:57:15</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44300641"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44297141">
          <h3>
            <a
              class="item"
              href="https://meri.garden/a-deep-dive-explainer-on-beekem-protocol/"
              >A deep-dive explainer on Ink and Switch's BeeKEM protocol</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 09:13:20</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44297141"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292965">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/the-ecosystem-dynamics-that-can-make-or-break-an-invasion-20250616/"
              >The Ecosystem Dynamics That Can Make or Break an Invasion</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:09:17</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292965"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44291052">
          <h3>
            <a
              class="item"
              href="https://generalrobots.substack.com/p/a-brief-incomplete-and-mostly-wrong"
              >A Brief, Incomplete, and Mostly Wrong History of Robotics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 16:28:10</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291052"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290992">
          <h3>
            <a
              class="item"
              href="https://bcantrill.dtrace.org/2025/06/15/college-baseball-venture-capital-and-the-long-maybe/"
              >College baseball, venture capital, and the long maybe</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 16:20:32</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290992"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
