<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39671919">
          <h3>
            <a class="item" href="https://vinlo.co"
              >Show HN: I made Vinlo – Spinning artwork video for your music</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 18:47:02</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39671919"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>The tech stack is Next.js and Node.js.</p>
            </div>
          </section>
        </section>
        <section id="39671218">
          <h3>
            <a
              class="item"
              href="https://kdenlive.org/en/2024/03/kdenlive-24-02-0-released/"
              >Kdenlive 24.02 open source video editor released</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:46:55</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39671218"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39671212">
          <h3>
            <a class="item" href="https://rnote.flxzt.net/"
              >Rnote – An open-source vector-based drawing app</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:46:23</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39671212"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39671146">
          <h3>
            <a
              class="item"
              href="https://colab.research.google.com/drive/1fxDWAfPIbC-bHwDSVj5SBmEJ6KG3bUu5?usp=sharing"
              >Gemma doesn't suck anymore – 8 bug fixes</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:41:00</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39671146"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670922">
          <h3>
            <a class="item" href="https://jsoncanvas.org/"
              >JSON Canvas – An open file format for infinite canvas data</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:22:22</span
              ><span class="points-container"
                >Points: <span class="points">253</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670922"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670665">
          <h3>
            <a class="item" href="https://github.com/microsoft/aici"
              >Show HN: Prompts as (WASM) Programs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:00:49</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670665"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                AICI is based on Wasm, and is designed to be fast (runs on CPU
                while GPU is busy), secure (can run in multi-tenant cloud
                deployments), and flexible (allow libraries like Guidance, LMQL,
                Outlines, etc. to work on top of it).
              </p>
              <p>
                We (Microsoft Research) have released it recently, and would
                love feedback on the design of the interface, as well as our
                Rust AICI runtime.
              </p>
              <p>
                I'm the lead developer on this project and happy to answer any
                questions!
              </p>
            </div>
          </section>
        </section>
        <section id="39670655">
          <h3>
            <a class="item" href="https://deepnote.com/join-us"
              >Deepnote (YC S19) is hiring engineers to build an AI-powered data
              notebook</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:00:13</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670121">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39670121"
              >Who uses Google TPUs for inference in production?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 16:22:33</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670121"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
            <div class="text">
              <p>
                I have been playing with TPUs for a couple of months now, and to
                be honest I don't understand how can people use them in
                production for inference:
              </p>
              <p>
                - almost no resources online showing how to run modern
                generative models like Mistral, Yi 34B, etc. on TPUs - poor
                compatibility between JAX and Pytorch - very hard to understand
                the memory consumption of the TPU chips (no nvidia-smi
                equivalent) - rotating IP addresses on TPU VMs - almost
                impossible to get my hands on a TPU v5
              </p>
              <p>Is it only me? Or did I miss something?</p>
              <p>
                I totally understand that TPUs can be useful for training
                though.
              </p>
            </div>
          </section>
        </section>
        <section id="39670102">
          <h3>
            <a class="item" href="https://github.com/python/cpython/pull/116338"
              >gh-116167: Allow disabling the GIL</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 16:21:17</span
              ><span class="points-container"
                >Points: <span class="points">281</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670102"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670046">
          <h3>
            <a
              class="item"
              href="https://hacks.mozilla.org/2024/03/improving-performance-in-firefox-and-across-the-web-with-speedometer-3/"
              >Improving Performance in Firefox and Across the Web with
              Speedometer 3</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 16:17:47</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670046"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39669858">
          <h3>
            <a
              class="item"
              href="https://www.figma.com/blog/how-we-run-eng-crits-at-figma/"
              >How we engineer feedback at Figma with eng crits</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 16:04:19</span
              ><span class="points-container"
                >Points: <span class="points">74</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39669858"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39668962">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39668962"
              >Launch HN: Onedoc (YC W24) – A better way to create PDFs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 14:52:56</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39668962"
                  >Comments</a
                ><span class="descendants">: 114</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.onedoclabs.com/"
                >https://www.onedoclabs.com/</a
              >
              ), and the original contributors to the open-source library
              react-print-pdf (<a
                href="https://github.com/OnedocLabs/react-print-pdf"
                >https://github.com/OnedocLabs/react-print-pdf</a
              >
              ) which lets developers design and generate PDF documents
              automatically. Here’s a demo video:
              <a href="https://www.youtube.com/watch?v=MgfCyOyckQU&amp;t=3s"
                >https://www.youtube.com/watch?v=MgfCyOyckQU&amp;t=3s</a
              >
              <p>
                Billions of PDFs are generated daily: invoices, contracts,
                receipts, reports, you name it. Developer time gets wasted
                producing these basic documents because there are no good-enough
                tools to design and generate PDFs.
              </p>
              <p>
                We previously worked at giant firms, where documents (especially
                PDFs) were central to most workflows. We got asked to generate
                automated trade confirmations for our customer’s counterparties.
                We could not find any tool other than outdated libraries
                offering poor control over layout and the generation process. In
                the end, we just created our own—basically bringing web
                technologies to PDFs. That was the genesis of Onedoc.
              </p>
              <p>
                PDF creation has two phases: design (specifying content and
                layout) and generation (producing the actual PDF file). Onedoc
                lets you do both simply and automatically.
              </p>
              <p>
                <i>Design</i>: we have an open-source library called
                "react-print-pdf" (<a
                  href="https://github.com/OnedocLabs/react-print-pdf"
                  >https://github.com/OnedocLabs/react-print-pdf</a
                >
                ) that allows you to design a document the same way you would
                design a website. It supports Tailwind CSS components, Chakra UI
                components, and recently also built LaTeX and Markdown
                components. The latter let you write text in Markdown style, and
                include formulas using LaTeX syntax, directly within a React
                component.
              </p>
              <p>
                <i>Generation</i>: we have an API (<a
                  href="https://docs.onedoclabs.com/api-reference/introduction"
                  >https://docs.onedoclabs.com/api-reference/introduction</a
                >
                ) and Node.js SDK (<a
                  href="https://docs.onedoclabs.com/quickstart/nodejs"
                  >https://docs.onedoclabs.com/quickstart/nodejs</a
                >
                ) that render your designs into PDFs.
              </p>
              <p>
                The choice of renderer significantly affects the accuracy of the
                resulting PDF. For example, exporting a webpage into PDF will
                often result in a layout that differs from the original webpage.
                We ensure that what you designed is what you get, and therefore
                you have 100% control over the entire layout of your document
                including margin, style, etc. We can do that because we built
                the react-print-pdf library to match the HTML/CSS to PDF
                rendering tool we have.
              </p>
              <p>
                Once you have generated your document, you can either store it
                on your local system or, if you want, use our platform (<a
                  href="https://app.onedoclabs.com/"
                  >https://app.onedoclabs.com/</a
                >
                ) to host your document online. If you use us, you’ll also get
                analytics over your documents.
              </p>
              <p>
                Our main product is an API, but you can try it on our website
                directly (<a href="https://www.onedoclabs.com/"
                  >https://www.onedoclabs.com/</a
                >) using our playground without any installation or sign-up. Our
                pricing is usage-based: per document generated. The pricing is
                degressive: the more documents you generate, the less you pay
                per document. If you don’t want to pay for PDF generation, you
                can still generate as many documents as you want, but with a
                watermark on the margin.
              </p>
              <p>
                It’s been fun to see what our users are building with our
                open-source library (components, templates, etc.) and our API.
                We have a website (<a href="https://react-print.onedoclabs.com/"
                  >https://react-print.onedoclabs.com/</a
                >) dedicated to the open-source library where we post the
                templates submitted by the community. Some early power users
                built simple web apps (CV/Resume generator, NDA and Invoice
                generator). We are excited to show our product to the HN
                community and look forward to your feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="39668847">
          <h3>
            <a class="item" href="https://www.jmargolin.com/xy/xymon.htm"
              >The Secret Life of XY Monitors</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 14:42:48</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39668847"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39668742">
          <h3>
            <a
              class="item"
              href="https://billwadge.com/2024/03/11/the-complete-story-of-godel-incompleteness/"
              >The complete story of Gödel incompleteness</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 14:33:26</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39668742"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39668053">
          <h3>
            <a
              class="item"
              href="https://grapheneos.social/@GrapheneOS/112066872276203917"
              >GrapheneOS finds Bluetooth memory corruption via ARM MTE</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 13:36:11</span
              ><span class="points-container"
                >Points: <span class="points">202</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39668053"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39667489">
          <h3>
            <a class="item" href="https://github.com/rkaehn/cr_task.h"
              >Show HN: Async tasks in 350 lines of C</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 12:44:46</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39667489"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                The library is written in standard C11 and only depends on the C
                POSIX library. It is designed to be easy to integrate into a
                project by just copying the header and simple enough to be
                understood in an afternoon.
              </p>
            </div>
          </section>
        </section>
        <section id="39667456">
          <h3>
            <a
              class="item"
              href="https://www.atlasobscura.com/articles/mad-stones-rabies-cure-eerie-feeling"
              >The Mad Stone, the One-Time 'Cure' for Rabies</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 12:41:18</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39667456"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39666993">
          <h3>
            <a
              class="item"
              href="https://github.com/j2qk3b/ebook-demo/blob/main/tutorial.md"
              >Building an Open Source Decentralized E-Book Search Engine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 11:56:45</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39666993"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39666956">
          <h3>
            <a
              class="item"
              href="https://www.sdfo.org/gj/stories/flowersforalgernon.pdf"
              >Flowers for Algernon (1965) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 11:53:03</span
              ><span class="points-container"
                >Points: <span class="points">290</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39666956"
                  >Comments</a
                ><span class="descendants">: 203</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39666865">
          <h3>
            <a class="item" href="https://github.com/teableio/teable"
              >Show HN: Teable – Open-Source No-Code Database Fusion of Postgres
              and Airtable</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 11:42:03</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39666865"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
            <div class="text">
              <p>
                Spreadsheet-like interface All you want is here • Cell Editing:
                Directly click and edit content within cells.
              </p>
              <p>
                • Formula Support: Input mathematical and logical formulas to
                auto-calculate values.
              </p>
              <p>
                • Data Sorting and Filtering: Sort data based on a column or
                multiple columns; use filters to view specific rows of data.
              </p>
              <p>
                • Aggregation Function: Automatically summarize statistics for
                each column, providing instant calculations like sum, average,
                count, max, and min for streamlined data analysis.
              </p>
              <p>• Data Formatting: formatting numbers, dates, etc.</p>
              <p>
                • Grouping: Organize rows into collapsible groups based on
                column values for easier data analysis and navigation.
              </p>
              <p>
                • Import/Export Capabilities: Import and export data from other
                formats, e.g., .csv, .xlsx.
              </p>
              <p>Multiple Views</p>
              <p>
                Visualize and interact with data in various ways best suited for
                their specific tasks.
              </p>
              <p>
                • Grid View: The default view of the table, which displays data
                in a spreadsheet-like format.
              </p>
              <p>
                • Form View: Input data in a form format, which is useful for
                collecting data.
              </p>
              <p>
                • Coming soon: Kanban View, Calendar View, Gallery View, Gantt
                View, Timeline View.
              </p>
              <p>Super Fast Amazing response speed and data capacity</p>
              <p>
                • Millions of data are easily processed, and there is no
                pressure to filter and sort
              </p>
              <p>• Automatic database indexing for maximum speed</p>
              <p>• Supports batch data operations at one time</p>
              <p>
                Full-featured SQL Support Seamless integration with the software
                you are familiar with
              </p>
              <p>• BI tools like Metabase PowerBi...</p>
              <p>• No-code tools like Appsmith...</p>
              <p>• Direct retrieve data with native SQL</p>
              <p>Privacy-First</p>
              <p>• Bring your own database (coming soon)</p>
              <p>
                Real-time collaboration • No need to refresh the page, data is
                updated in real-time
              </p>
            </div>
          </section>
        </section>
        <section id="39666467">
          <h3>
            <a class="item" href="https://www.goqite.com"
              >Show HN: Goqite, a persistent message queue Go library built on
              SQLite</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 10:39:36</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39666467"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've been inspired by the terminology of AWS SQS for this, but
                it's obviously much simpler.
              </p>
              <p>Maybe you can use it too. :)</p>
            </div>
          </section>
        </section>
        <section id="39665939">
          <h3>
            <a class="item" href="https://www.norvig.com/lispy.html"
              >(How to Write a (Lisp) Interpreter (In Python)) (2010)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 08:47:55</span
              ><span class="points-container"
                >Points: <span class="points">153</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39665939"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39665184">
          <h3>
            <a
              class="item"
              href="https://www.researchgate.net/publication/258495524_The_Surprising_History_of_Claims_for_Life_on_the_Sun"
              >The Surprising History of Claims for Life on the Sun (2011)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 05:33:37</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39665184"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39665090">
          <h3>
            <a class="item" href="https://www.playforthoughts.com/blog/bauhaus"
              >Exploring Bauhaus: Revolutionary Design School That Shaped Modern
              World</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 05:11:05</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39665090"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39664782">
          <h3>
            <a class="item" href="https://web.stanford.edu/~jurafsky/slp3/"
              >Speech and Language Processing (3rd ed. draft)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 03:59:13</span
              ><span class="points-container"
                >Points: <span class="points">167</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39664782"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39662698">
          <h3>
            <a
              class="item"
              href="https://github.com/lightvector/KataGo/blob/master/docs/GraphSearch.md"
              >Monte-Carlo graph search from first principles</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-10 @ 21:33:46</span
              ><span class="points-container"
                >Points: <span class="points">375</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39662698"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39662615">
          <h3>
            <a class="item" href="https://paulgraham.com/best.html"
              >The Best Essay</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-10 @ 21:20:21</span
              ><span class="points-container"
                >Points: <span class="points">308</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39662615"
                  >Comments</a
                ><span class="descendants">: 211</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39656899">
          <h3>
            <a class="item" href="https://fabiensanglard.net/iSummer/"
              >How the Devteam Conquered the iPhone</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-10 @ 05:19:25</span
              ><span class="points-container"
                >Points: <span class="points">318</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39656899"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39648931">
          <h3>
            <a
              class="item"
              href="https://statmodeling.stat.columbia.edu/2024/03/07/relating-t-statistics-and-the-relative-width-of-confidence-intervals/"
              >Relating t-statistics and the relative width of confidence
              intervals</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-09 @ 02:32:35</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39648931"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39633123">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-03-breakthrough-nanostructure-technology-real-display.html"
              >Breakthrough in nanostructure technology for real-time color
              display</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 18:55:46</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39633123"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
