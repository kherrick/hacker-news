<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="47141797">
          <h3>
            <a
              class="item"
              href="https://www.mariannefeng.com/portfolio/kindle/"
              >Hacking an old Kindle to display bus arrival times</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 19:43:34</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47141797"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47141385">
          <h3>
            <a
              class="item"
              href="https://distrowatch.com/dwres.php?resource=showheadline&amp;story=20140"
              >Manjaro website off-line again due to lapsed certificate</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 19:18:48</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47141385"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47140932">
          <h3>
            <a
              class="item"
              href="https://electrek.co/2026/02/24/tesla-eu-registrations-crash-january-2026-bev-growth/"
              >Tesla registrations crash 17% in Europe as BEV market surges
              14%</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 18:46:25</span
              ><span class="points-container"
                >Points: <span class="points">190</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140932"
                  >Comments</a
                ><span class="descendants">: 185</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47140657">
          <h3>
            <a class="item" href="https://www.sbcl.org/"
              >Steel Bank Common Lisp</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 18:24:17</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140657"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47140632">
          <h3>
            <a class="item" href="https://vmfunc.re/blog/persona/"
              >OpenAI, the US government and Persona built an identity
              surveillance machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 18:23:03</span
              ><span class="points-container"
                >Points: <span class="points">330</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140632"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47140623">
          <h3>
            <a
              class="item"
              href="https://www.cnbc.com/2026/02/20/openai-resets-spend-expectations-targets-around-600-billion-by-2030.html"
              >OpenAI resets spending expectations, from $1.4T to $600B</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 18:22:31</span
              ><span class="points-container"
                >Points: <span class="points">149</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140623"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47140612">
          <h3>
            <a class="item" href="https://macky.dev"
              >I think WebRTC is better than SSH-ing for connecting to Mac
              terminal from iPhone</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 18:21:39</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140612"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47140322">
          <h3>
            <a class="item" href="https://github.com/generalaction/emdash"
              >Show HN: Emdash – Open-source agentic development environment</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 18:00:37</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140322"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/generalaction/emdash"
                >https://github.com/generalaction/emdash</a
              >).
              <p>
                Emdash is an open-source and provider-agnostic desktop app that
                lets you run multiple coding agents in parallel, each isolated
                in its own git worktree, either locally or over SSH on a remote
                machine. We call it an Agentic Development Environment (ADE).
              </p>
              <p>
                You can see a 1 minute demo here:
                <a href="https://youtu.be/X31nK-zlzKo"
                  >https://youtu.be/X31nK-zlzKo</a
                >
              </p>
              <p>
                We are building Emdash for ourselves. While working on a
                cap-table management application (think Stripe Atlas + Pulley),
                we found our development workflow to be messy: lots of
                terminals, lots of branches, and too much time spent waiting on
                Codex.
              </p>
              <p>
                Emdash puts the terminal at the center and makes it easy to run
                multiple agents at once. Each agent runs as a task in its own
                git worktree. You can start one or a few agents on the same
                problem, test, and review.
              </p>
              <p>
                Emdash works over SSH so you can run agents where your code
                lives and keep the parallel workflow. You can assign tickets to
                agents, edit files manually, and review changes.
              </p>
              <p>
                We also spent time making task startup fast. Each task can be
                created in a worktree, and creating worktrees on demand was
                taking 5s+ in some cases. We now keep a small reserve of
                worktrees in the background and let a new task claim one
                instantly. That brought task start time down to ~500–1000ms
                depending on the provider. We also spawn the shell directly and
                avoid loading the shell environments on startup.
              </p>
              <p>
                We believe using the providers’ native CLIs is the right
                approach. It gives you the full capabilities of each agent,
                always. If a provider starts supporting plan mode, we don't have
                to add that first.
              </p>
              <p>
                We support 21 coding agent CLIs today, including Claude Code,
                Codex, Gemini, Droid, Amp, Codebuff, and more. We auto-detect
                what you have installed and we’re provider-agnostic by design.
                If there’s a provider you want that we don’t support yet, we can
                add it. We believe that in the future, some agents will be
                better suited for task X and others for task Y. Codex, Claude
                Code, and Gemini all have fans. We want to be agnostic and
                enable individuals and teams to freely switch between them.
              </p>
              <p>
                Beyond orchestration, we try to pull most of the development
                loop into Emdash. You can review diffs, commit, open PRs, see
                CI/CD checks, and merge directly from Emdash once checks pass.
                When starting a task, you can pass issues from Linear, GitHub,
                and Jira to an agent. We also support convenience variables and
                lifecycle scripts so it’s easy to allocate ports and test
                changes.
              </p>
              <p>Emdash is fully open-source and MIT-licensed.</p>
              <p>
                Download for macOS, Linux or Windows (as of yesterday !), or
                install via Homebrew: brew install --cask emdash.
              </p>
              <p>
                We’d love your feedback. How does your coding agent development
                setup look like, especially when working with multiple agents?
                We would want to learn more about it. Check out our repository
                here:
                <a href="https://github.com/generalaction/emdash"
                  >https://github.com/generalaction/emdash</a
                >
              </p>
              <p>We’ll be around in the comments — thanks!</p>
            </div>
          </section>
        </section>
        <section id="47140042">
          <h3>
            <a
              class="item"
              href="https://github.com/yjeanrenaud/yj_nearbyglasses"
              >Nearby Glasses</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 17:40:40</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47140042"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47139902">
          <h3>
            <a class="item" href="https://github.com/huggingface/skills"
              >HuggingFace Agent Skills</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 17:30:19</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47139902"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47139765">
          <h3>
            <a class="item" href="https://keepandroidopen.org/open-letter/"
              >Open Letter to Google on Mandatory Developer Registration for App
              Distribution</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 17:21:11</span
              ><span class="points-container"
                >Points: <span class="points">285</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47139765"
                  >Comments</a
                ><span class="descendants">: 220</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47139690">
          <h3>
            <a
              class="item"
              href="https://www.9news.com/article/news/local/denver-removing-flock-cameras-new-axon-contract/73-640b5af3-7c87-4fea-8aa1-2510ad3257b8"
              >Denver dumps Flock, awards contract to Axon</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 17:16:12</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47139690"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47139675">
          <h3>
            <a class="item" href="https://www.calebleak.com/posts/dog-game/"
              >I'm helping my dog vibe code games</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 17:15:17</span
              ><span class="points-container"
                >Points: <span class="points">422</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47139675"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47139475">
          <h3>
            <a class="item" href="https://jobs.ashbyhq.com/verge-genomics"
              >Verge (YC S15) Is Hiring a Director of Computational Biology and
              AI Scientists/Eng</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 17:00:34</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47139224">
          <h3>
            <a
              class="item"
              href="https://japannews.yomiuri.co.jp/features/japan-focus/20241228-229891/"
              >Osaka: Kansai Airport proud to have never lost single piece of
              luggage (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 16:40:47</span
              ><span class="points-container"
                >Points: <span class="points">178</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47139224"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47136611">
          <h3>
            <a
              class="item"
              href="https://hacks.mozilla.org/2026/02/goodbye-innerhtml-hello-sethtml-stronger-xss-protection-in-firefox-148/"
              >Goodbye InnerHTML, Hello SetHTML: Stronger XSS Protection in
              Firefox 148</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 13:04:16</span
              ><span class="points-container"
                >Points: <span class="points">299</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47136611"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47136604">
          <h3>
            <a class="item" href="https://wordglyph.xyz/one-piece-at-a-time"
              >I pitched a roller coaster to Disneyland at age 10 in 1978</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 13:03:51</span
              ><span class="points-container"
                >Points: <span class="points">348</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47136604"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47136537">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2026/02/24/business/irs-meta-corporate-taxes.html"
              >IRS Tactics Against Meta Open a New Front in the Corporate Tax
              Fight</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 12:58:14</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47136537"
                  >Comments</a
                ><span class="descendants">: 175</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47136179">
          <h3>
            <a
              class="item"
              href="https://www.dropsitenews.com/p/israeli-soldiers-tel-sultan-gaza-red-crescent-civil-defense-massacre-report-forensic-architecture-earshot"
              >IDF killed Gaza aid workers at point blank range in 2025
              massacre: Report</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 12:16:45</span
              ><span class="points-container"
                >Points: <span class="points">725</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47136179"
                  >Comments</a
                ><span class="descendants">: 149</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47136036">
          <h3>
            <a
              class="item"
              href="https://fortune.com/2026/02/24/discord-peter-thiel-backed-persona-identity-verification-breach/"
              >Discord cuts ties with identity verification software, Persona</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-24 @ 11:59:14</span
              ><span class="points-container"
                >Points: <span class="points">378</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47136036"
                  >Comments</a
                ><span class="descendants">: 278</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47125263">
          <h3>
            <a
              class="item"
              href="https://www.xda-developers.com/samsung-promised-make-old-phones-useful-galaxy-upcycle/"
              >Samsung Upcycle Promise</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-23 @ 17:14:02</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47125263"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47124171">
          <h3>
            <a class="item" href="https://missing.csail.mit.edu/"
              >The Missing Semester of Your CS Education – Revised for 2026</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-23 @ 16:02:48</span
              ><span class="points-container"
                >Points: <span class="points">344</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47124171"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
            <div class="text">
              <a href="https://news.ycombinator.com/item?id=22226380"
                >https://news.ycombinator.com/item?id=22226380</a
              >
              and
              <a href="https://news.ycombinator.com/item?id=34934216"
                >https://news.ycombinator.com/item?id=34934216</a
              >).
              <p>
                We’ve updated the course based on our personal experiences as
                well as major changes in the field (e.g., the proliferation of
                AI-powered developer tools) over the past several years. The
                2026 course includes revised versions of four lectures from the
                previous course, and it adds five entirely new lectures:
              </p>
              <p>- Development Environment and Tools</p>
              <p>- Packaging and Shipping Code</p>
              <p>- Agentic Coding</p>
              <p>- Beyond the Code (soft skills)</p>
              <p>- Code Quality</p>
              <p>
                We’d love to hear any feedback from the HN community to improve
                the current or future iterations of the course. In particular,
                we’re curious to hear the community’s take on our inclusion of
                AI-related topics (e.g., dedicating an entire class to the topic
                of agentic coding; though we tried to counterbalance it with
                plenty of disclaimers, and a dedicated section on AI etiquette
                in Beyond the Code).
              </p>
              <p>--Anish, Jon, and Jose</p>
            </div>
          </section>
        </section>
        <section id="47123689">
          <h3>
            <a
              class="item"
              href="https://gwern.net/doc/iq/high/smpy/1984-clements.pdf"
              >Terence Tao, at 8 years old (1984) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-23 @ 15:36:50</span
              ><span class="points-container"
                >Points: <span class="points">456</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47123689"
                  >Comments</a
                ><span class="descendants">: 278</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47119767">
          <h3>
            <a class="item" href="https://github.com/MdSadiqMd/AV-Chaos-Monkey"
              >Show HN: Chaos Monkey but for Audio Video Testing (WebRTC and
              UDP)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-23 @ 08:53:21</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47119767"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>
                It scales from 1 to n participants, depending on the compute and
                memory of the host system Best part? It’s packaged with Nix, so
                it builds the same everywhere (Linux, macOS, ARM, x86). No
                dependency hell
              </p>
              <p>
                It supports both UDP (with a relay chain for Kubernetes) and
                WebRTC (with containerized TURN servers). Chaos spikes can be
                distributed evenly, randomly, or front/back-loaded for different
                test scenarios. To change this, just edit the values in a single
                config file
              </p>
            </div>
          </section>
        </section>
        <section id="47114678">
          <h3>
            <a
              class="item"
              href="https://idiallo.com/blog/installed-single-turnstile-for-security-theater"
              >We installed a single turnstile to feel secure</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 21:07:11</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47114678"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47112148">
          <h3>
            <a
              class="item"
              href="https://www.amzi.com/articles/irq_expert_system.htm"
              >Extending C with Prolog (1994)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 16:10:18</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47112148"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47101034">
          <h3>
            <a
              class="item"
              href="https://codingchallenges.fyi/challenges/challenge-forth/"
              >Build Your Own Forth Interpreter</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 14:14:08</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47101034"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47099401">
          <h3>
            <a
              class="item"
              href="https://turbopuffer.com/blog/object-storage-queue"
              >A distributed queue in a single JSON file on object storage</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 10:31:37</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47099401"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47095266">
          <h3>
            <a
              class="item"
              href="https://www.lix.polytechnique.fr/Labo/Dale.Miller/lProlog/"
              >λProlog: Logic programming in higher-order logic</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 23:02:08</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47095266"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47094768">
          <h3>
            <a class="item" href="https://www.withdiode.com/"
              >Diode – Build, program, and simulate hardware</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 22:14:13</span
              ><span class="points-container"
                >Points: <span class="points">413</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47094768"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
