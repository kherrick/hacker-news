<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46330013">
          <h3>
            <a class="item" href="https://stickerbox.com/"
              >Show HN: Stickerbox, a kid-safe, AI-powered voice to sticker
              printer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 19:44:48</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46330013"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>If AI were built for kids, what would it look like?</p>
              <p>
                Asking that question led us to creativity, and more
                specifically, the power of kids’ imaginations. We wanted to let
                kids combine the power of their ideas with AI tools but we
                needed to make sure we did it safely and in the right way.
              </p>
              <p>
                Enter Stickerbox, a voice powered sticker printer. By combining
                AI image generation with thermal sticker printing, we instantly
                turn kids' wildest ideas into real stickers they can color,
                stick, and share.
              </p>
              <p>
                What surprised us most is how the “AI” disappears behind the
                magic of the device. The moment that consistently amazes kids is
                when the printer finishes and they are holding their own idea as
                a real sticker. A ghost on a skateboard, a dragon doing its
                taxes, their dog as a superhero, anything they can dream of,
                they can hold in their hand. Their reactions are what pushed us
                to keep building, even though hardware can be really hard.
              </p>
              <p>
                Along the way the scope of the project grew more than we
                expected: navigating supply chains, sourcing safe BPA/BPS free
                thermal paper, passing safety testing for a children’s product,
                and designing an interface simple enough that a five year old
                can walk up and just talk to it. We also spent a lot of time
                thinking about kids’ data and privacy so that parents would feel
                comfortable having this in their home.
              </p>
              <p>
                Stickerbox is our attempt to make modern AI kid-safe, playful,
                and tangible. We’d love to hear what you think!
              </p>
              <p>
                P.S. If you’re interested in buying one for yourself or as a
                gift, use code FREE3PACK to get an extra free pack of paper
                refills.
              </p>
            </div>
          </section>
        </section>
        <section id="46329696">
          <h3>
            <a class="item" href="https://dos.zone/grand-theft-auto-vice-city/"
              >You can now play Grand Theft Auto Vice City in the browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 19:12:57</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46329696"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46329654">
          <h3>
            <a
              class="item"
              href="https://www.nzz.ch/technologie/proton-ceo-andy-yen-wer-gesetzgebung-der-polizei-ueberlaesst-sollte-sich-nicht-wundern-wenn-er-eines-tages-in-einem-polizeistaat-aufwacht-ld.1916779"
              >Proton Leaves Switzerland</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 19:08:48</span
              ><span class="points-container"
                >Points: <span class="points">116</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46329654"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46329536">
          <h3>
            <a
              class="item"
              href="https://www.thebignewsletter.com/p/how-wall-street-ruined-the-roomba"
              >Wall Street Ruined the Roomba and Then Blamed Lina Khan</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 18:59:40</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46329536"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46329038">
          <h3>
            <a
              class="item"
              href="https://www.evilsocket.net/2025/12/18/TP-Link-Tapo-C200-Hardcoded-Keys-Buffer-Overflows-and-Privacy-in-the-Era-of-AI-Assisted-Reverse-Engineering/"
              >TP-Link Tapo C200: Hardcoded Keys, Buffer Overflows and
              Privacy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 18:19:32</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46329038"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46328992">
          <h3>
            <a
              class="item"
              href="https://alexschapiro.com/security/vulnerability/2025/11/20/avelo-airline-reservation-api-vulnerability"
              >Reverse Engineering US Airline's PNR System and Accessing All
              Reservations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 18:15:17</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46328992"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46328769">
          <h3>
            <a class="item" href="https://github.com/linggen/linggen"
              >Show HN: Linggen – A local-first memory layer for your AI
              (Cursor, Zed, Claude)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 17:54:55</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46328769"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                Working with multiple projects, I got tired of re-explaining our
                complex multi-node system to LLMs. Documentation helped, but
                plain text is hard to search without indexing and doesn't work
                across projects. I built Linggen to solve this.
              </p>
              <p>
                My Workflow: I use the Linggen VS Code extension to "init my
                day." It calls the Linggen MCP to load memory instantly. Linggen
                indexes all my docs like it’s remembering them—it is awesome.
                One click loads the full architectural context, removing the
                "cold start" problem.
              </p>
              <p>The Tech:</p>
              <p>
                Local-First: Rust + LanceDB. Code and embeddings stay on your
                machine. No accounts required.
              </p>
              <p>
                Team Memory: Index knowledge so teammates' LLMs get context
                automatically.
              </p>
              <p>
                Visual Map: See file dependencies and refactor "blast radius."
              </p>
              <p>MCP-Native: Supports Cursor, Zed, and Claude Desktop.</p>
              <p>
                Linggen saves me hours. I’d love to hear how you manage complex
                system context!
              </p>
              <p>
                Repo:
                <a href="https://github.com/linggen/linggen"
                  >https://github.com/linggen/linggen</a
                >
                Website: <a href="https://linggen.dev">https://linggen.dev</a>
              </p>
            </div>
          </section>
        </section>
        <section id="46328203">
          <h3>
            <a class="item" href="https://demoscope.app"
              >Show HN: I Made Loom for Mobile</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 17:08:32</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46328203"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
            <div class="text">
              <p>
                Of course I have a demo vid:
                <a href="https://www.youtube.com/watch?v=c_fq0TzlsXI"
                  >https://www.youtube.com/watch?v=c_fq0TzlsXI</a
                >
              </p>
              <p>
                This will be my last post to HN about this. I always like to try
                a few titles to see if any hit.
              </p>
            </div>
          </section>
        </section>
        <section id="46328109">
          <h3>
            <a
              class="item"
              href="https://ploum.net/2025-12-19-prepare-for-that-world.html"
              >Prepare for That Stupid World</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 17:01:56</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46328109"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46327206">
          <h3>
            <a class="item" href="https://cursor.com/blog/graphite"
              >Graphite Is Joining Cursor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 15:57:01</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46327206"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
            <div class="text">
              <a href="https://graphite.com/blog/graphite-joins-cursor"
                >https://graphite.com/blog/graphite-joins-cursor</a
              >
            </div>
          </section>
        </section>
        <section id="46327133">
          <h3>
            <a
              class="item"
              href="https://robertgreiner.com/believe-the-checkbook/"
              >Believe the Checkbook</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 15:51:30</span
              ><span class="points-container"
                >Points: <span class="points">74</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46327133"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46326984">
          <h3>
            <a class="item" href="https://garagehq.deuxfleurs.fr/"
              >Garage – An S3 object store so reliable you can run it outside
              datacenters</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 15:40:03</span
              ><span class="points-container"
                >Points: <span class="points">303</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46326984"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46326519">
          <h3>
            <a
              class="item"
              href="https://github.com/FreeBSDFoundation/proj-laptop"
              >The FreeBSD Foundation's Laptop Support and Usability Project</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 14:56:05</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46326519"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46326506">
          <h3>
            <a class="item" href="https://words.filippo.io/keyserver-tlog/"
              >Building a Transparent Keyserver</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 14:54:50</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46326506"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46324543">
          <h3>
            <a
              class="item"
              href="https://mullvad.net/en/blog/announcing-gotatun-the-future-of-wireguard-at-mullvad-vpn"
              >GotaTun -- Mullvad's WireGuard Implementation in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 11:16:23</span
              ><span class="points-container"
                >Points: <span class="points">461</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46324543"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46324078">
          <h3>
            <a
              class="item"
              href="https://www.kdpcommunity.com/s/article/New-eBook-Download-Options-for-Readers-Coming-in-2026?language=en_US"
              >Amazon will allow ePub and PDF downloads for DRM-free eBooks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 10:03:38</span
              ><span class="points-container"
                >Points: <span class="points">438</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46324078"
                  >Comments</a
                ><span class="descendants">: 238</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46322540">
          <h3>
            <a
              class="item"
              href="https://lorendb.dev/posts/getting-bitten-by-poor-naming-schemes/"
              >Getting bitten by Intel's poor naming schemes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 05:35:34</span
              ><span class="points-container"
                >Points: <span class="points">257</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46322540"
                  >Comments</a
                ><span class="descendants">: 137</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46322391">
          <h3>
            <a class="item" href="https://notgull.net/block-pattern/"
              >Rust's Block Pattern</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 04:56:13</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46322391"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46321619">
          <h3>
            <a class="item" href="https://noclip.website/"
              >Noclip.website – A digital museum of video game levels</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 02:20:08</span
              ><span class="points-container"
                >Points: <span class="points">423</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46321619"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46319826">
          <h3>
            <a class="item" href="https://github.com/DGoettlich/history-llms"
              >History LLMs: Models trained exclusively on pre-1913 texts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 22:39:47</span
              ><span class="points-container"
                >Points: <span class="points">706</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46319826"
                  >Comments</a
                ><span class="descendants">: 347</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46319657">
          <h3>
            <a
              class="item"
              href="https://www.jeffgeerling.com/blog/2025/15-tb-vram-on-mac-studio-rdma-over-thunderbolt-5"
              >1.5 TB of VRAM on Mac Studio – RDMA over Thunderbolt 5</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 22:23:09</span
              ><span class="points-container"
                >Points: <span class="points">566</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46319657"
                  >Comments</a
                ><span class="descendants">: 209</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46317098">
          <h3>
            <a
              class="item"
              href="https://gist.github.com/hackermondev/5e2cdc32849405fff6b46957747a2d28"
              >We pwned X, Vercel, Cursor, and Discord through a supply-chain
              attack</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 19:08:48</span
              ><span class="points-container"
                >Points: <span class="points">1080</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46317098"
                  >Comments</a
                ><span class="descendants">: 397</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46316968">
          <h3>
            <a class="item" href="https://github.com/Lulzx/tinypdf"
              >Show HN: TinyPDF – 3kb pdf library (70x smaller than jsPDF)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 18:59:33</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46316968"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p></p>
              <pre><code>  So I wrote tinypdf: &lt;400 lines of TypeScript, zero dependencies, 3.3KB minified+gzipped.

  What it does:
  - Text (Helvetica, colors, alignment)
  - Rectangles and lines
  - JPEG images
  - Multiple pages, custom sizes

  What it doesn't do:
  - Custom fonts, PNG/SVG, forms, encryption, HTML-to-PDF

  That's it. The 95% use case for invoices, receipts, reports, tickets, and labels.

  GitHub: https://github.com/Lulzx/tinypdf
  npm: npm install tinypdf</code></pre>
            </div>
          </section>
        </section>
        <section id="46313390">
          <h3>
            <a class="item" href="https://mistral.ai/news/mistral-ocr-3"
              >Mistral OCR 3</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 15:01:10</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46313390"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46303323">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46303323"
              >Show HN: MCPShark Viewer (VS Code/Cursor extension)- view MCP
              traffic in-editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 18:19:44</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46303323"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                VS Code Marketplace:
                <a
                  href="https://marketplace.visualstudio.com/items?itemName=MCPSharkInspector.mcp-shark-viewer-for-vscode"
                  >https://marketplace.visualstudio.com/items?itemName=MCPShark...</a
                >
              </p>
              <p>
                Main repo:
                <a href="https://github.com/mcp-shark/mcp-shark"
                  >https://github.com/mcp-shark/mcp-shark</a
                >
              </p>
              <p>
                Feature requests / issues:
                <a href="https://github.com/mcp-shark/mcp-shark/issues"
                  >https://github.com/mcp-shark/mcp-shark/issues</a
                >
              </p>
              <p>
                Site: <a href="https://mcpshark.sh/">https://mcpshark.sh/</a>
              </p>
              <p>
                If you’re building MCP agents/tools: what would make MCP
                debugging actually easy—timeline view, session grouping, diffing
                tool args, exporting traces, something else? I’d be thankful if
                you could open a feature request here:
                <a href="https://github.com/mcp-shark/mcp-shark/issues"
                  >https://github.com/mcp-shark/mcp-shark/issues</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46300411">
          <h3>
            <a
              class="item"
              href="https://ariadne.space/2025/12/16/vmovercommitmemory-is-always-the-right.html"
              >Vm.overcommit_memory=2 is always the right setting for servers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 10:45:27</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46300411"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46267862">
          <h3>
            <a class="item" href="https://fi-le.net/chomsky/"
              >Where Is GPT in the Chomsky Hierarchy?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-14 @ 22:37:05</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46267862"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46261884">
          <h3>
            <a class="item" href="https://github.com/envirobly/stepped"
              >Show HN: Stepped Actions – distributed workflow orchestration for
              Rails</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-14 @ 09:29:47</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46261884"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              Stepped is a Rails engine, extracted out of Envirobly where it
              powers tasks like application deployment, that involve complex,
              out-of-the-band tasks like DNS provisioning, retries, waiting for
              instances to boot, running health checks and all the fun stuff of
              a highly distributed networked system.
            </div>
          </section>
        </section>
        <section id="46251668">
          <h3>
            <a class="item" href="https://github.com/slippyex/ym2149-rs"
              >Cycle-accurate YM2149 PSG emulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-13 @ 03:17:30</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46251668"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46251460">
          <h3>
            <a class="item" href="https://github.com/fastserial/lite3"
              >Lite^3, a JSON-compatible zero-copy serialization format</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-13 @ 02:31:46</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46251460"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
            <div class="text">
              <a href="https://lite3.io/design_and_limitations.html"
                >https://lite3.io/design_and_limitations.html</a
              >
              <p>
                See also
                <i
                  >Show HN: Lite³ – A JSON-Compatible Zero-Copy Serialization
                  Format in 9.3 kB of C</i
                >
                -
                <a href="https://news.ycombinator.com/item?id=45992832"
                  >https://news.ycombinator.com/item?id=45992832</a
                >
                (no comments, but a good writeup)
              </p>
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
