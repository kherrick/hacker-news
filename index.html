<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41293505">
          <h3>
            <a
              class="item"
              href="https://www.avabear.xyz/p/actually-everyones-life-is-weird"
              >Everyone's Life Is Weird</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 18:32:39</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41293505"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41293381">
          <h3>
            <a class="item" href="https://andadinosaur.com/launch-imgpls"
              >Imgpls – An extension to load Imgur images directly</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 18:19:51</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41293381"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41292827">
          <h3>
            <a
              class="item"
              href="https://sociologicalscience.com/articles-v11-20-553/"
              >Homebound: The Long-Term Rise in Time Spent at Home Among U.S.
              Adults</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 17:19:55</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41292827"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41292784">
          <h3>
            <a
              class="item"
              href="https://jvns.ca/blog/2024/08/19/migrating-mess-with-dns-to-use-powerdns/"
              >Migrating Mess with DNS to Use PowerDNS</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 17:14:12</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41292784"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41292692">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41292692"
              >GoGoGrandparent (YC S16) Is Hiring Back End and Full-Stack
              Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 17:01:07</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                The positions: FULLY REMOTE | Full-time | US, UK, or able to
                work 4+ hours overlap with mainland US (UK time working hours
                also OK) | $90k to $160k (partially location-dependent)
              </p>
              <p>
                Build high-quality, robust engineering at the rarest of things -
                a Silicon Valley startup that is both wholesome AND profitable.
                We have 8-figure revenue, are YC-backed, and growing fast.
              </p>
              <p>
                Tech stack (<i>required): Back-end heavy (Node</i>, Typescript<i
                  >, MySQL</i
                >, REST*+GraphQL), front-end (Vue), deploy (AWS, Docker/K8s)
              </p>
              <p>Minimum 6 years experience (mostly Node/Vue)</p>
              <p>2-stage interview process.</p>
              <p>
                If you want to help older adults and people with disabilities,
                send your LinkedIn/CV to william@gogograndparent.com (keep it
                brief) or apply at
                <a
                  href="https://www.ycombinator.com/companies/gogograndparent/jobs"
                  >https://www.ycombinator.com/companies/gogograndparent/jobs</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41292018">
          <h3>
            <a
              class="item"
              href="https://berthub.eu/articles/posts/the-gigantic-unregulated-power-plants-in-the-cloud/"
              >The gigantic and unregulated power plants in the cloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 15:45:19</span
              ><span class="points-container"
                >Points: <span class="points">240</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41292018"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41291470">
          <h3>
            <a
              class="item"
              href="https://ably.com/blog/optimizing-global-message-transit-latency-a-journey-through-tcp-configuration"
              >Optimizing global message transit latency: a journey through TCP
              configuration</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 14:40:42</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41291470"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41291219">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41291219"
              >Launch HN: Sorcerer (YC S24) – Weather balloons that collect more
              data</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 14:13:36</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41291219"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
            <div class="text">
              <a href="https://sorcerer.earth">https://sorcerer.earth</a>).
              Sorcerer builds weather balloons that last for over six months,
              collecting 1000x more data per dollar and reaching previously
              inaccessible regions.
              <p>
                In 1981, weather disasters caused $3.5 billion in damages in the
                United States. In 2023, that number was $94.9 billion (<a
                  href="https://www.ncei.noaa.gov/access/billions/time-series"
                  >https://www.ncei.noaa.gov/access/billions/time-series</a
                >). The National Weather Service spends billions annually on its
                network of weather balloons, satellites, and aircraft sensors –
                generating hundreds of terabytes of data every day. This data,
                called observation data, is fed into massive supercomputers
                running advanced physics to produce global weather forecasts.
                Despite this cost, there are still places in the US where we
                don't know what the temperature will be two days from now:
                <a
                  href="https://www.washingtonpost.com/climate-environment/interactive/2024/how-accurate-is-the-weather-forecast/"
                  >https://www.washingtonpost.com/climate-environment/interacti...</a
                >. And for the rest of the world that lacks weather
                infrastructure? There’s always the Weather Rock:
                <a href="https://en.wikipedia.org/wiki/Weather_rock"
                  >https://en.wikipedia.org/wiki/Weather_rock</a
                >.
              </p>
              <p>
                The most important data for these forecasts come from vertical
                data ‘slices’ of the atmosphere, called soundings. Every day
                2,500 single-use latex radiosondes are launched across the globe
                to collect these soundings. They stay aloft for about two hours
                before popping and falling back to Earth. Launch sites for these
                systems are sparse in Latin America and Africa, and they’re
                completely non-existent over oceans. This leaves about 80% of
                the globe with inadequate weather data for accurate predictions.
              </p>
              <p>
                The coverage gap became painfully evident to Max and Alex during
                their time at Urban Sky. While building balloons for
                high-altitude aerial imaging, they kept running into a problem:
                no matter what weather forecast they used, they couldn’t get
                accurate wind predictions for the upper atmosphere. They tried
                all of the free and commercial forecast products, but none of
                them were accurate enough. Digging into it more, we learned that
                a big part of the problem was the lack of high-quality in-situ
                data at those altitudes.
              </p>
              <p>
                To solve this problem, our systems ascend and descend between
                sea level and 65,000ft several times a day to collect vertical
                data soundings. Each vehicle (balloon + payload) weighs less
                than a pound and can be launched from anywhere in the world, per
                the FAA and ICAO reg. Here’s one we launched from Potrero Hill
                in SF,
                <a href="https://youtu.be/75fN5WpRWH0"
                  >https://youtu.be/75fN5WpRWH0</a
                >
                and here’s another near the Golden Gate Bridge,
                <a href="https://youtu.be/7yLmzLPUFVQ"
                  >https://youtu.be/7yLmzLPUFVQ</a
                >. Although we can’t “drive” these balloons laterally, we can
                use opposing wind layers to target or avoid specific regions.
                Here’s what a few simulated flight paths look like, to give you
                an idea:
                <a href="https://youtu.be/F_Di8cjaEUY"
                  >https://youtu.be/F_Di8cjaEUY</a
                >
              </p>
              <p>
                Our payload uses a satellite transceiver for communications and
                a small, thin film solar panel array to generate power. In
                addition to the weather data, we also get real-time telemetry
                from the vehicles, which we use to optimize their flight paths.
                This includes maintaining the optimal spacing between balloons
                and steering them to a recovery zone at the end of their
                lifespan so we can recycle them.
              </p>
              <p>
                These systems spend most of their time in the stratosphere which
                is an extremely unforgiving environment. We’ll often see
                temperatures as low as -80°C while flying near the equator.
                Throughout the day, we experience extreme temperature cycling as
                they ascend and descend through the atmosphere. We’ll often
                encounter 100mph+ wind shears near the boundary with the
                troposphere (the tropopause) that can rip apart the balloon
                envelope. These conditions make the stratosphere a very
                difficult place to deploy to prod.
              </p>
              <p>
                The real magic of what we’re building will come into play when
                we have hundreds of these systems in the air over data-sparse
                regions. But even now, we can do useful and interesting things
                with them. Some of our early customers are companies who fly
                very big, very expensive things into the stratosphere. They use
                our balloons to give them a clear idea of what conditions are
                ahead of their operations, and we’re working on a forecast
                product specifically designed for the stratosphere.
              </p>
              <p>
                The combination of long duration and low cost is novel. We can
                theoretically maintain thousands of balloons in the atmosphere
                at any given time for a tenth of the cost of one useful weather
                satellite. We’re also using the data we collect to train AI
                models that produce forecasts with better accuracy than existing
                numerical (supercomputer) forecasts. Because we’re collecting
                totally unique data over areas that lack observation, our models
                will maintain a consistent edge versus models that are only
                trained on open data.
              </p>
              <p>
                We’re really excited to be launching Sorcerer here with you!
                We’d love to hear what you think. And if you find one of our
                balloons in the Bay Area: Sorry! It’s still a work in progress
                (and please get it back to us).
              </p>
              <p>
                I’ll leave you all with a bonus video of Paul Buchheit launching
                one of our balloons, which we thought was pretty cool:
                <a href="https://www.youtube.com/watch?v=-sngF9VvDzg"
                  >https://www.youtube.com/watch?v=-sngF9VvDzg</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41290730">
          <h3>
            <a class="item" href="https://wafris.org/"
              >Wafris – an Open Source Web Application Firewall that lives in
              your stack</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 13:07:51</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41290730"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41290409">
          <h3>
            <a
              class="item"
              href="https://snats.xyz/pages/articles/classifying_a_bunch_of_pdfs.html"
              >Classifying all of the pdfs on the internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 12:23:09</span
              ><span class="points-container"
                >Points: <span class="points">194</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41290409"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41290237">
          <h3>
            <a
              class="item"
              href="https://thingswemake.com/bit-banging-a-basic-birthday/"
              >Bit-banging a BASIC Birthday</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 11:57:26</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41290237"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41289575">
          <h3>
            <a class="item" href="https://github.com/netdcy/FlowVision"
              >Show HN: FlowVision – Waterfall-Style Image Browser for macOS
              (Open-Source)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 10:07:31</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41289575"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41289114">
          <h3>
            <a
              class="item"
              href="https://blog.reverberate.org/2021/04/21/musttail-efficient-interpreters.html"
              >Parsing protobuf at 2+GB/s: how I learned to love tail calls in C
              (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 08:42:03</span
              ><span class="points-container"
                >Points: <span class="points">279</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41289114"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41287425">
          <h3>
            <a
              class="item"
              href="https://blog.archive.org/2024/08/19/archiving-the-famous-computer-cafe/"
              >Archiving "The Famous Computer Cafe"</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 03:02:52</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41287425"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41287326">
          <h3>
            <a
              class="item"
              href="https://www.5280.com/the-charming-eccentric-blessed-life-of-lee-maxwell/"
              >The Charming, Eccentric, Blessed Life of Lee Maxwell</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 02:40:21</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41287326"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41287099">
          <h3>
            <a class="item" href="https://www.matthewball.co/all/roblox2024"
              >Roblox is the biggest game in the world, but is unprofitable</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 01:45:56</span
              ><span class="points-container"
                >Points: <span class="points">385</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41287099"
                  >Comments</a
                ><span class="descendants">: 460</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41287031">
          <h3>
            <a
              class="item"
              href="https://github.com/MatthewKuKanich/FindMyFlipper"
              >FindMy Flipper – AirTag and SmartTag Emulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-19 @ 01:31:05</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41287031"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41286203">
          <h3>
            <a
              class="item"
              href="https://emnudge.dev/blog/markov-chains-are-funny/"
              >Markov chains are funnier than LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 22:52:37</span
              ><span class="points-container"
                >Points: <span class="points">451</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41286203"
                  >Comments</a
                ><span class="descendants">: 206</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41285046">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/space/2024/08/nasa-acknowledges-it-cannot-quantify-risk-of-starliner-propulsion-issues/"
              >NASA acknowledges it cannot quantify risk of Starliner propulsion
              issues</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 20:09:40</span
              ><span class="points-container"
                >Points: <span class="points">258</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41285046"
                  >Comments</a
                ><span class="descendants">: 352</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41284703">
          <h3>
            <a class="item" href="https://github.com/janbjorge/PgQueuer"
              >Show HN: PgQueuer – Transform PostgreSQL into a Job Queue</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 19:22:31</span
              ><span class="points-container"
                >Points: <span class="points">337</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41284703"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
            <div class="text">
              PgQueuer is a minimalist, high-performance job queue library for
              Python, leveraging the robustness of PostgreSQL. Designed for
              simplicity and efficiency, PgQueuer uses PostgreSQL's
              LISTEN/NOTIFY to manage job queues effortlessly.
            </div>
          </section>
        </section>
        <section id="41284235">
          <h3>
            <a
              class="item"
              href="https://www.usenix.org/legacy/events/usenix05/tech/general/king/king.pdf"
              >Debugging operating systems with time-traveling virtual machines
              (2005) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 18:28:59</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41284235"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41283310">
          <h3>
            <a
              class="item"
              href="https://reason.com/2024/08/16/police-cannot-seize-property-indefinitely-after-an-arrest-federal-court-rules/"
              >Police cannot seize property indefinitely after an arrest,
              federal court rules</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 16:28:12</span
              ><span class="points-container"
                >Points: <span class="points">771</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41283310"
                  >Comments</a
                ><span class="descendants">: 380</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41282574">
          <h3>
            <a
              class="item"
              href="https://personal.utdallas.edu/~otoole/CGS2301_S09/15_expert.pdf"
              >The Expert Mind [pdf] (2006)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 14:24:39</span
              ><span class="points-container"
                >Points: <span class="points">171</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41282574"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41282495">
          <h3>
            <a class="item" href="https://github.com/TomWright/dasel"
              >Dasel: Select, put and delete data from JSON, TOML, YAML, XML and
              CSV</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-18 @ 14:11:50</span
              ><span class="points-container"
                >Points: <span class="points">437</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41282495"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41271248">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/business/interactive/2024/fiber-optic-cables-made-materials-high-speed-internet/"
              >How high speed fiber optic internet cables are made</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 23:22:40</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41271248"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41268347">
          <h3>
            <a
              class="item"
              href="https://www.frontiersin.org/journals/sociology/articles/10.3389/fsoc.2018.00035/full"
              >Behavioral Specialization During the Neolithic–An Evolutionary
              Model (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 17:18:21</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41268347"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41266748">
          <h3>
            <a
              class="item"
              href="https://www.orau.org/health-physics-museum/collection/consumer/glass/vaseline-uranium-glass.html"
              >Vaseline and Uranium Glass (ca. 1930s)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 14:26:55</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41266748"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41263928">
          <h3>
            <a
              class="item"
              href="https://pedermisager.org/blog/seven_basic_rules_for_causal_inference/"
              >Seven basic rules for causal inference</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 07:14:57</span
              ><span class="points-container"
                >Points: <span class="points">143</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41263928"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41258932">
          <h3>
            <a
              class="item"
              href="https://blog.nelhage.com/post/stripe-dev-environment/"
              >Stripe's Monorepo Developer Environment</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 18:22:06</span
              ><span class="points-container"
                >Points: <span class="points">311</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41258932"
                  >Comments</a
                ><span class="descendants">: 154</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41244137">
          <h3>
            <a
              class="item"
              href="https://www.flightradar24.com/blog/transponder-landing-system/"
              >Transponder Landing System enables precision approaches at
              McMurdo in Antarctica</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 09:07:00</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41244137"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
