<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46234920">
          <h3>
            <a
              class="item"
              href="https://riviantrackr.com/news/rivian-unveils-custom-silicon-r2-lidar-roadmap-universal-hands-free-and-its-next-gen-autonomy-platform/"
              >Rivian Unveils Custom Silicon, R2 Lidar Roadmap, and Universal
              Hands Free</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:17:19</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234920"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234874">
          <h3>
            <a class="item" href="https://openai.com/index/introducing-gpt-5-2/"
              >GPT-5.2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:12:43</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234874"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234806">
          <h3>
            <a class="item" href="https://larr.net/p/namings.html"
              >Programmers and software developers lost the plot on naming their
              tools</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:06:42</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234806"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234788">
          <h3>
            <a
              class="item"
              href="https://platform.openai.com/docs/guides/latest-model"
              >GPT-5.2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:04:47</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234788"
                  >Comments</a
                ><span class="descendants">: 92</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234710">
          <h3>
            <a class="item" href="https://fly.io/blog/litestream-vfs/"
              >Litestream VFS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 17:59:10</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234710"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46233798">
          <h3>
            <a class="item" href="https://github-incidents.pages.dev/"
              >Days since last GitHub incident</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 16:52:37</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46233798"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46233570">
          <h3>
            <a
              class="item"
              href="https://www.ithoughtaboutthatalot.com/2025/the-things-i-want-to-say-to-my-boss"
              >Things I want to say to my boss</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 16:35:48</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46233570"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46233009">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46233009"
              >Show HN: GPULlama3.java Llama Compilied to PTX/OpenCL Now
              Integrated in Quarkus</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 15:59:33</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46233009"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://github.com/beehive-lab/TornadoVM/releases/download/v2.1.0/tornadovm-2.1.0-opencl-linux-amd64.zip"
                >https://github.com/beehive-lab/TornadoVM/releases/download/v...</a
              >
              unzip tornadovm-2.1.0-opencl-linux-amd64.zip # Replace
              &lt;path-to-sdk&gt; manually with the absolute path of the
              extracted folder export
              TORNADO_SDK="&lt;path-to-sdk&gt;/tornadovm-2.1.0-opencl" export
              PATH=$TORNADO_SDK/bin:$PATH
              <p>tornado --devices tornado --version</p>
              <p># Navigate to the project directory cd GPULlama3.java</p>
              <p>
                # Source the project-specific environment paths -&gt; this will
                ensure the source set_paths
              </p>
              <p>
                # Build the project using Maven (skip tests for faster build) #
                mvn clean package -DskipTests or just make make
              </p>
              <p>
                # Run the model (make sure you have downloaded the model file
                first - see below) ./llama-tornado --gpu --verbose-init --opencl
                --model beehive-llama-3.2-1b-instruct-fp16.gguf --prompt "tell
                me a joke"
              </p>
            </div>
          </section>
        </section>
        <section id="46232528">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=hksVvXONrIo"
              >iPhone Typos? It's Not Just You – The iOS Keyboard Is Broken
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 15:25:43</span
              ><span class="points-container"
                >Points: <span class="points">273</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46232528"
                  >Comments</a
                ><span class="descendants">: 205</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46232434">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46232434"
              >Launch HN: BrowserBook (YC F24) – IDE for deterministic browser
              automation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 15:18:51</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46232434"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <a href="https://browserbook.com">https://browserbook.com</a>, and
              there’s a demo video at
              <a href="https://www.youtube.com/watch?v=ODGJBCNqGUI"
                >https://www.youtube.com/watch?v=ODGJBCNqGUI</a
              >.
              <p>
                Why we built this: When we were going through YC, we were a
                company that automated back-office healthcare workflows. Since
                the interoperability ecosystem in healthcare is so fragmented,
                we started using browser agents to automate EMRs, practice
                management software, and payment portals directly through the
                web. When we did, we ran into a ton of problems:
              </p>
              <p>Speed: High latency on LLM calls vs. a scripting approach</p>
              <p>
                Cost: We burned through tokens with all the context we needed to
                make the automations reasonably accurate
              </p>
              <p>
                Reliability: Even with detailed instructions, context, and
                tools, agents tended to drift on multi-step tasks in
                unpredictable ways
              </p>
              <p>
                Debuggability: When drift did occur, we were essentially playing
                whack-a-mole in our prompt and re-running the whole automation
                to debug issues (see above: speed and cost issues made this
                quite painful)
              </p>
              <p>
                More and more we were just giving our agent scripts to execute.
                Eventually, we came to the conclusion that scripting is a better
                approach for web automation for these sort of use cases. But
                scripting was also too painful, so we set out to solve those
                problems with BrowserBook.
              </p>
              <p>
                Under the hood, it runs a standalone TypeScript REPL wired
                directly into an inline browser instance, with built-in tooling
                to make script development quick and easy. This includes:
              </p>
              <p>
                - A fully interactive browser window directly in the IDE so you
                can run your code without context switching
              </p>
              <p>
                - A Jupyter-notebook-style environment - the idea here is you
                can write portions of your automation in individual cells and
                run them individually (and quickly reset manually in the
                browser), instead of having to rerun the whole thing every time
              </p>
              <p>
                - An AI coding assistant which uses the DOM context of the
                current page to write automation logic, which helps avoid
                digging around for selectors
              </p>
              <p>
                - Helper functions for taking screenshots, data extraction, and
                managed authentication for auth-required workflows.
              </p>
              <p>
                Once you’ve created your automation, you can run it directly in
                the application or in our hosted environment via API, so you can
                use it in external apps or agentic workflows.
              </p>
              <p>
                At its core, BrowserBook is an Electron app, so we can run a
                Chrome instance directly in the app without the need for
                cloud-hosted browsers. For API runs, we use hosted browser infra
                via Kernel (which is a fantastic product, btw), relying on their
                bot anti-detection capabilities (stealth mode, proxies, etc.).
              </p>
              <p>
                Scripted automation can be unpopular because scripts are
                inherently brittle; unlike “traditional” software development,
                your code is deployed in an environment you don’t control -
                someone else’s website. With BrowserBook, we’re trying to
                “embrace the suck”, and acknowledge this “offensive programming”
                environment.
              </p>
              <p>
                We’ve designed from the ground up to assume scripts will break,
                and aim to provide the tools that make building and maintaining
                them easier. In the future, our plan is to leverage AI where it
                has shown its strength already - writing code - to minimize
                downtime and quickly repair broken scripts as the deployed
                environment changes.
              </p>
              <p>
                Browser agents promised to solve this by handing the reins to an
                LLM which can handle inconsistency and ambiguity. While we think
                there are some applications where browser agents can be
                genuinely helpful, tasks that need to be done reliably and
                repeatedly are not one of them.
              </p>
              <p>
                We’d love for you to try it out! You can download BrowserBook
                from our website here:
                <a href="https://browserbook.com">https://browserbook.com</a>
                (only available for Mac so far, sorry!) And of course, we’d
                appreciate any feedback and comments you have!
              </p>
            </div>
          </section>
        </section>
        <section id="46232220">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2512.09643"
              >An Orbital House of Cards: Frequent Megaconstellation Close
              Conjunctions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 15:01:44</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46232220"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46231829">
          <h3>
            <a
              class="item"
              href="https://xania.org/202512/11-pop-goes-the-weasel-er-count"
              >Pop Goes the Population Count?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 14:30:28</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231829"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46231585">
          <h3>
            <a
              class="item"
              href="https://www.cnbc.com/2025/12/11/disney-openai-sora-characters-video.html"
              >Disney making $1B investment in OpenAI, will allow characters on
              Sora AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 14:12:14</span
              ><span class="points-container"
                >Points: <span class="points">290</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231585"
                  >Comments</a
                ><span class="descendants">: 233</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46231274">
          <h3>
            <a
              class="item"
              href="https://rapha.land/craft-software-that-makes-people-feel-something/"
              >Craft software that makes people feel something</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 13:45:08</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231274"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46229467">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1047238/25c270b077849dc0/"
              >A “frozen” dictionary for Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 09:51:47</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46229467"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46228597">
          <h3>
            <a
              class="item"
              href="https://thephd.dev/the-cost-of-a-closure-in-c-c2y"
              >The Cost of a Closure in C</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 07:21:33</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46228597"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46226483">
          <h3>
            <a class="item" href="https://www.patterns.dev/">Patterns.dev</a>
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 01:18:55</span
              ><span class="points-container"
                >Points: <span class="points">499</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46226483"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46223311">
          <h3>
            <a
              class="item"
              href="https://ankursethi.com/blog/gemini-api-key-frustration/"
              >Getting a Gemini API key is an exercise in frustration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 20:29:12</span
              ><span class="points-container"
                >Points: <span class="points">756</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46223311"
                  >Comments</a
                ><span class="descendants">: 290</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46220540">
          <h3>
            <a class="item" href="https://karpathy.bearblog.dev/auto-grade-hn/"
              >Auto-grading decade-old Hacker News discussions with hindsight</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 17:23:53</span
              ><span class="points-container"
                >Points: <span class="points">529</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46220540"
                  >Comments</a
                ><span class="descendants">: 232</span></span
              >
            </h4>
            <div class="text">
              <i
                >Show HN: Gemini Pro 3 imagines the HN front page 10 years from
                now</i
              >
              -
              <a href="https://news.ycombinator.com/item?id=46205632"
                >https://news.ycombinator.com/item?id=46205632</a
              >
            </div>
          </section>
        </section>
        <section id="46219346">
          <h3>
            <a class="item" href="https://neal.fun/size-of-life/"
              >Size of Life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 16:02:57</span
              ><span class="points-container"
                >Points: <span class="points">2410</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46219346"
                  >Comments</a
                ><span class="descendants">: 268</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46206591">
          <h3>
            <a
              class="item"
              href="https://github.com/privacyshield-ai/privacy-firewall"
              >Show HN: Local Privacy Firewall-blocks PII and secrets before
              ChatGPT sees them</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-09 @ 16:10:37</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46206591"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built this because I recently caught myself almost pasting a
                block of logs containing AWS keys into Claude.
              </p>
              <p>
                The Problem: I need the reasoning capabilities of cloud models
                (GPT/Claude/Gemini), but I can't trust myself not to
                accidentally leak PII or secrets.
              </p>
              <p>
                The Solution: A Chrome extension that acts as a local
                middleware. It intercepts the prompt and runs a local BERT model
                (via a Python FastAPI backend) to scrub names, emails, and keys
                before the request leaves the browser.
              </p>
              <p>A few notes up front (to set expectations clearly):</p>
              <p>
                Everything runs 100% locally. Regex detection happens in the
                extension itself. Advanced detection (NER) uses a small
                transformer model running on localhost via FastAPI.
              </p>
              <p>
                No data is ever sent to a server. You can verify this in the
                code + DevTools network panel.
              </p>
              <p>
                This is an early prototype. There will be rough edges. I’m
                looking for feedback on UX, detection quality, and whether the
                local-agent approach makes sense.
              </p>
              <p>
                Tech Stack: Manifest V3 Chrome Extension Python FastAPI
                (Localhost) HuggingFace dslim/bert-base-NER Roadmap / Request
                for Feedback: Right now, the Python backend adds some friction.
                I received feedback on Reddit yesterday suggesting I port the
                inference to transformer.js to run entirely in-browser via WASM.
              </p>
              <p>
                I decided to ship v1 with the Python backend for stability, but
                I'm actively looking into the ONNX/WASM route for v2 to remove
                the local server dependency. If anyone has experience running
                NER models via transformer.js in a Service Worker, I’d love to
                hear about the performance vs native Python.
              </p>
              <p>Repo is MIT licensed.</p>
              <p>Very open to ideas suggestions or alternative approaches.</p>
            </div>
          </section>
        </section>
        <section id="46203343">
          <h3>
            <a
              class="item"
              href="https://laurenleek.substack.com/p/how-google-maps-quietly-allocates"
              >How Google Maps allocates survival across London's restaurants</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-09 @ 10:20:02</span
              ><span class="points-container"
                >Points: <span class="points">365</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46203343"
                  >Comments</a
                ><span class="descendants">: 187</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46197930">
          <h3>
            <a
              class="item"
              href="https://gricha.dev/blog/the-highest-quality-codebase"
              >Show HN: I've asked Claude to improve codebase quality 200
              times</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 21:33:09</span
              ><span class="points-container"
                >Points: <span class="points">265</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46197930"
                  >Comments</a
                ><span class="descendants">: 205</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46191597">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/the-polyglot-neuroscientist-resolving-how-the-brain-parses-language-20251205/"
              >How the Brain Parses Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 12:46:50</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46191597"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46176800">
          <h3>
            <a
              class="item"
              href="https://harpers.org/archive/2025/12/kicking-robots-james-vincent-humanoids/"
              >Kicking Robots</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-06 @ 21:38:43</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46176800"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46168902">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/%C4%90%C3%B4ng_Y%C3%AAn_Ch%C3%A2u_inscription"
              >Oldest attestation of Austronesian language: Đông Yên Châu
              inscription</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-05 @ 23:42:15</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46168902"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46147987">
          <h3>
            <a
              class="item"
              href="https://serversfor.dev/linux-inside-out/the-linux-kernel-is-just-a-program/"
              >Booting Linux in QEMU and Writing PID 1 in Go to Illustrate
              Kernel as Program</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-04 @ 14:25:38</span
              ><span class="points-container"
                >Points: <span class="points">235</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46147987"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46131518">
          <h3>
            <a
              class="item"
              href="https://store.steampowered.com/news/app/553850/view/491583942944621371"
              >Helldivers 2 on-disk size 85% reduction</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-03 @ 08:08:31</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46131518"
                  >Comments</a
                ><span class="descendants">: 175</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46127191">
          <h3>
            <a
              class="item"
              href="https://chicagoreader.com/news/prove-it-all-night/"
              >Prove It All Night: With no fame or fortune, what keeps a band
              onstage? (1999)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-02 @ 21:36:22</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46127191"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46083184">
          <h3>
            <a
              class="item"
              href="https://www.metropolitanreview.org/p/giant-of-the-attic"
              >Giant of the Attic: On the Majesty of Alan Moore</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-28 @ 22:05:16</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46083184"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
