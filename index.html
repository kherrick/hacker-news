<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43206722">
          <h3>
            <a
              class="item"
              href="https://news.ufl.edu/2025/02/syrian-violence-epigenetics/"
              >Violence alters human genes for generations, researchers
              discover</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 15:33:39</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43206722"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43206174">
          <h3>
            <a
              class="item"
              href="https://kupajo.com/write-to-escape-your-default-setting/"
              >Write to Escape Your Default Setting</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 14:45:36</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43206174"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43205196">
          <h3>
            <a
              class="item"
              href="https://www.amd.com/en/newsroom/press-releases/2025-2-28-amd-unveils-next-generation-amd-rdna-4-architectu.html"
              >AMD RDNA 4 – AMD Radeon RX 9000 Series Graphics Cards</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 13:10:18</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43205196"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43204682">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/openlayer/jobs/yIE9WI3-senior-backend-engineer"
              >Openlayer (YC S21) is hiring a senior back end engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 12:00:16</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43204604">
          <h3>
            <a
              class="item"
              href="https://terinstock.com/post/2025/02/Netboot-Windows-11-with-iSCSI-and-iPXE/"
              >Netboot Windows 11 with iSCSI and iPXE</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 11:47:52</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43204604"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43204406">
          <h3>
            <a class="item" href="https://github.com/arjpar/WebShield"
              >WebShield – A new wide-spectrum content blocker for Safari</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 11:21:04</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43204406"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43203158">
          <h3>
            <a
              class="item"
              href="https://timsh.org/github-scam-investigation-thousands-of-mods-and-cracks-stealing-your-data/"
              >Github scam investigation: Thousands of “mods” and “cracks”
              stealing data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 08:27:36</span
              ><span class="points-container"
                >Points: <span class="points">315</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43203158"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43202982">
          <h3>
            <a
              class="item"
              href="https://en.chessbase.com/post/boris-spassky-1937-2025"
              >Boris Spassky: 1937–2025</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 08:02:33</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43202982"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43202052">
          <h3>
            <a
              class="item"
              href="https://www.windowscentral.com/microsoft/microsoft-is-reportedly-killing-skype-after-14-years-of-neglect"
              >Microsoft is reportedly killing Skype after 14 years of
              neglect</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 05:31:49</span
              ><span class="points-container"
                >Points: <span class="points">346</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43202052"
                  >Comments</a
                ><span class="descendants">: 282</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43201974">
          <h3>
            <a
              class="item"
              href="https://www.neowin.net/news/microsoft-begins-turning-off-ublock-origin-and-other-extensions-in-edge/"
              >Microsoft begins turning off uBlock Origin and other extensions
              in Edge</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 05:20:13</span
              ><span class="points-container"
                >Points: <span class="points">522</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43201974"
                  >Comments</a
                ><span class="descendants">: 296</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43201001">
          <h3>
            <a
              class="item"
              href="https://www.runpulse.com/blog/putting-andrew-ngs-ocr-models-to-the-test"
              >Putting Andrew Ng's OCR models to the test</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 02:24:04</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43201001"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43200604">
          <h3>
            <a class="item" href="https://github.com/LadybirdBrowser/ladybird"
              >Welcome to Ladybird, a truly independent web browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 01:29:49</span
              ><span class="points-container"
                >Points: <span class="points">811</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43200604"
                  >Comments</a
                ><span class="descendants">: 281</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43200572">
          <h3>
            <a class="item" href="https://github.com/deepseek-ai/3FS"
              >Fire-Flyer File System from DeepSeek</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 01:26:26</span
              ><span class="points-container"
                >Points: <span class="points">258</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43200572"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43200450">
          <h3>
            <a class="item" href="https://setosa.io/ev/markov-chains/"
              >Markov Chains Explained Visually (2014)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 01:03:59</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43200450"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43200065">
          <h3>
            <a
              class="item"
              href="https://www.mozilla.org/en-US/about/legal/terms/firefox/"
              >Mozilla owns “information you input through Firefox”</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-28 @ 00:05:31</span
              ><span class="points-container"
                >Points: <span class="points">715</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43200065"
                  >Comments</a
                ><span class="descendants">: 367</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43199256">
          <h3>
            <a
              class="item"
              href="https://newsroom.ibm.com/2025-02-27-ibm-completes-acquisition-of-hashicorp,-creates-comprehensive,-end-to-end-hybrid-cloud-platform"
              >IBM completes acquisition of HashiCorp</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-27 @ 22:28:49</span
              ><span class="points-container"
                >Points: <span class="points">438</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43199256"
                  >Comments</a
                ><span class="descendants">: 310</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43199210">
          <h3>
            <a
              class="item"
              href="https://www.wehi.edu.au/news/world-first-experimental-cancer-treatment-paves-way-for-clinical-trial/"
              >World-first experimental cancer treatment paves way for clinical
              trial</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-27 @ 22:24:22</span
              ><span class="points-container"
                >Points: <span class="points">176</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43199210"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43197872">
          <h3>
            <a class="item" href="https://openai.com/index/introducing-gpt-4-5/"
              >GPT-4.5</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-27 @ 20:01:16</span
              ><span class="points-container"
                >Points: <span class="points">1058</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43197872"
                  >Comments</a
                ><span class="descendants">: 884</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43197131">
          <h3>
            <a
              class="item"
              href="https://github.com/electronicarts/CnC_Red_Alert"
              >EA Open Sources Command and Conquer: Red Alert, along with other
              games</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-27 @ 18:42:01</span
              ><span class="points-container"
                >Points: <span class="points">1077</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43197131"
                  >Comments</a
                ><span class="descendants">: 278</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43196474">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43196474"
              >Launch HN: Bild AI (YC W25) – Understand Construction Blueprints
              Using AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-27 @ 17:30:51</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43196474"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.bild.ai">https://www.bild.ai</a>). Bild AI
              uses machine learning to read construction blueprints and extract
              detailed material quantity and cost estimates. Here's our demo:
              <a href="https://youtu.be/vBDl7Mh7iEc"
                >https://youtu.be/vBDl7Mh7iEc</a
              >
              <p>
                The problem we're tackling is the sheer manual effort that goes
                into generating material quantities and cost estimates from
                blueprints today. Contractors and suppliers spend countless
                hours doing takeoffs by drawing on blueprints by hand - it's
                tedious, error-prone, and costs the global industry $30B a year.
                A single mistake can lead to thousands in losses on a project.
              </p>
              <p>
                My co-founder Puneet experienced this firsthand as he was
                building hundreds of houses in Canada. Meanwhile, my background
                is in applied ML - I started at Google at 19, then Waymo where I
                built perception models for self-driving cars. Puneet and I met
                at Hack for Social Impact where we built our first _very_
                narrow-scoped prototype.
              </p>
              <p>
                Since then we’ve expanded our scope slowly, with a laser-focus
                on accuracy. Our approach is to use a suite of specialized
                machine learning models for specific blueprint comprehension
                tasks, rather than a single end-to-end model. For example, we've
                developed computer vision models that are highly accurate at
                detecting and measuring floor areas, or identifying and counting
                framing elements like studs and doors. By composing these expert
                sub-models, we can achieve high accuracy on the overall takeoff.
              </p>
              <p>
                This is somewhat analogous to the approach we took at Waymo for
                self-driving perception - having an array of dedicated models
                for tasks like lane detection, traffic light classification etc.
                It's a very different paradigm than the big-data end-to-end
                models like what Tesla uses - unfortunately we just don’t have
                enough data yet.
              </p>
              <p>
                We're working with some early customers like flooring suppliers
                to help automate their estimating workflows. But we see a huge
                opportunity to expand this "AI that understands blueprints"
                approach across all trades.
              </p>
              <p>
                Would love to get the HN community's thoughts and feedback!
                Construction is an industry I think is really ripe for applying
                cutting-edge ML techniques. If you have experience in this
                domain as a builder, architect, estimator, supplier etc. I'd
                love to hear about your workflow and pain points.
              </p>
              <p>
                Also if you're a researcher or engineer excited about applying
                state-of-the-art techniques to real-world problems in
                underserved industries, definitely reach out!
              </p>
              <p>
                We’re currently live with customers but are only able to serve a
                subset of trades accurately right now. Head to
                <a href="https://www.bild.ai/upload"
                  >https://www.bild.ai/upload</a
                >
                if you want to try uploading a blueprint and we can talk about
                your use-case. I truly believe we can solve blueprint
                understanding with AI, and there seem to be a huge number of
                applications. I'll be here all day to chat and answer questions!
              </p>
            </div>
          </section>
        </section>
        <section id="43171079">
          <h3>
            <a
              class="item"
              href="https://www.joshwcomeau.com/blog/whimsical-animations/"
              >Deconstructing the "Whimsical Animations" landing page</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-25 @ 12:35:56</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43171079"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43170408">
          <h3>
            <a
              class="item"
              href="https://medium.com/luminasticity/narrative-and-the-structure-of-art-1ffbdfe2aece"
              >Narrative and the Structure of Art (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-25 @ 11:01:39</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43170408"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43169715">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43169715"
              >Ask HN: Any recommend resources that helped your game dev
              journey?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-25 @ 09:07:41</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43169715"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
            <div class="text">
              <p>
                I grew up in Korea, a quiet kid hooked on Civilization and
                Minecraft—games were my escape, teaching me through play. After
                military service, I dropped college to co-found Disquiet, a
                social network for software builders. Now, 1.5 months into Space
                Zero with friends, I want it to be a space where people create
                and play together. Personally games shaped me, and I’d love to
                give that back.
              </p>
              <p>
                But I’m clueless. don’t know design or mechanics. Our demo
                (collecting/crafting) got 500 signups in 4 days on HN/PH, but
                feedback was tough: - No clear goal, felt aimless. - AI crafting
                items lacked purpose, just swing the result. - Too barebones for
                a demo.
              </p>
              <p>
                Posting on Reddit’s indie dev sub (my first try) got some “you
                did it wrong” too. It stung, but I see now: purpose matters,
                mechanics need depth. I’m reading The Art of Game Design by
                Jesse Schell—it’s great so far, but I need more.
              </p>
              <p>
                Any books, videos, or communities that helped you grasp design
                or make fun mechanics? I’ll keep building Space Zero quietly,
                aiming to fix these gaps. Any recs mean a lot to a newbie like
                me!
              </p>
            </div>
          </section>
        </section>
        <section id="43169461">
          <h3>
            <a
              class="item"
              href="https://torrentfreak.com/spotifys-beta-used-pirate-mp3-files-some-from-pirate-bay-170509/"
              >Spotify's Beta Used 'Pirate' MP3 Files, Some from Pirate Bay
              (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-25 @ 08:22:33</span
              ><span class="points-container"
                >Points: <span class="points">301</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43169461"
                  >Comments</a
                ><span class="descendants">: 220</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43169323">
          <h3>
            <a
              class="item"
              href="https://olano.dev/blog/gleam-coming-from-erlang/"
              >Gleam, Coming from Erlang</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-25 @ 07:54:00</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43169323"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43169244">
          <h3>
            <a class="item" href="https://simplifier.neocities.org/thermosolar"
              >Thermoelectric Solar Panel</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-25 @ 07:40:17</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43169244"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43160582">
          <h3>
            <a
              class="item"
              href="https://newatlas.com/diabetes/islet-transplantation-type-1-diabetes/"
              >Type 1 diabetes reversed by new cell transplantation technique</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-24 @ 15:24:19</span
              ><span class="points-container"
                >Points: <span class="points">378</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43160582"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43160226">
          <h3>
            <a class="item" href="https://terokarvinen.com/2021/calendar-txt/"
              >Calendar.txt</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-24 @ 14:51:53</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43160226"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43159692">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/electric-propulsion-thruster"
              >Electric Propulsion Magnets Ready for Space Tests</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-24 @ 14:06:16</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43159692"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43157672">
          <h3>
            <a
              class="item"
              href="https://www.evalapply.org/posts/why-and-how-i-use-org-mode/index.html"
              >Why and How I use “Org Mode” for my writing and more (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-24 @ 09:53:00</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43157672"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
