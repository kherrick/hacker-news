<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41268185">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/aviator/jobs"
              >Aviator (YC S21) Is Hiring Engineers to Build DevEx Platform</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 17:00:35</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41268104">
          <h3>
            <a
              class="item"
              href="https://nypost.com/2024/08/14/business/subway-calls-emergency-meeting-with-franchisees-as-sales-plummet-sources/"
              >Subway calls 'emergency' meeting with franchisees as sales
              plummet</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 16:52:09</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41268104"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41267960">
          <h3>
            <a class="item" href="https://www.arxiv.org/abs/2408.08313"
              >Can Large Language Models Understand Symbolic Graphics
              Programs?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 16:40:14</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41267960"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41267746">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2408.08210"
              >Does Reasoning Emerge? Probabilities of Causation in Large
              Language Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 16:19:11</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41267746"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41267478">
          <h3>
            <a class="item" href="https://discrete.openmathbooks.org/dmoi4.html"
              >Discrete Mathematics – An Open Introduction 4ed (By Oscar
              Levin)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 15:53:09</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41267478"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41267308">
          <h3>
            <a class="item" href="https://martinfowler.com/articles/lmax.html"
              >The LMAX Architecture (2011)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 15:37:39</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41267308"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41267045">
          <h3>
            <a
              class="item"
              href="https://www.texasmonthly.com/travel/curtis-eckerman-photographer-moth-man/"
              >A Texas "Moth Man" Photographed 550 Species in His Own Yard</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 15:04:06</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41267045"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41265512">
          <h3>
            <a class="item" href="https://github.com/jplag/JPlag"
              >JPlag – Detecting Software Plagiarism</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 11:56:49</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41265512"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41265007">
          <h3>
            <a class="item" href="https://github.com/tryglow/glow"
              >Show HN: I made an open-source personal dashboard builder</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 10:22:15</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41265007"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41264941">
          <h3>
            <a
              class="item"
              href="https://www.gamedeveloper.com/design/supporting-game-design-with-evolutionary-algorithms"
              >Supporting game design with evolutionary algorithms</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 10:11:28</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41264941"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41264730">
          <h3>
            <a class="item" href="https://github.com/radulucut/cleed"
              >Show HN: Cleed – Simple feed reader for the command line</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 09:30:09</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41264730"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41264716">
          <h3>
            <a
              class="item"
              href="https://akashgoswami.dev/posts/automating-my-now-page/"
              >Automating My /Now Page</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 09:27:50</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41264716"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41264270">
          <h3>
            <a
              class="item"
              href="https://frankforce.com/space-huggers-how-i-made-a-game-in-13-kilobytes/"
              >Crafting a 13KB Game: The Story of Space Huggers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 08:10:48</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41264270"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41264046">
          <h3>
            <a
              class="item"
              href="https://thijsporck.com/2020/07/27/from-bede-731-to-bone-1991-2004-a-sparrows-flight-through-the-ages/"
              >From Bede (731) to BONE (1991-2004): A sparrow's flight through
              the ages</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 07:36:17</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41264046"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41263951">
          <h3>
            <a
              class="item"
              href="https://ralphammer.com/aristotle-how-to-live-a-good-life/"
              >Aristotle – How to live a good life</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 07:20:02</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41263951"
                  >Comments</a
                ><span class="descendants">: 133</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41263843">
          <h3>
            <a class="item" href="https://pyscript.net/"
              >PyScript: An open source platform for Python in the browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 07:01:49</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41263843"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41263203">
          <h3>
            <a class="item" href="https://steezeburger.com/wikipedia-browser/"
              >Show HN: Wikipedia Browser a La Andy Matuschak's Evergreen
              Notes</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-16 @ 04:35:24</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41263203"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
            <div class="text">
              <p>
                Code here:
                <a href="https://github.com/steezeburger/wikipedia-browser"
                  >https://github.com/steezeburger/wikipedia-browser</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41261426">
          <h3>
            <a class="item" href="https://github.com/tpecholt/imrad"
              >ImRAD is a GUI builder for the ImGui library</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 23:06:06</span
              ><span class="points-container"
                >Points: <span class="points">182</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41261426"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41260679">
          <h3>
            <a
              class="item"
              href="https://github.com/Wren6991/PicoDVI/commit/ca941baf37e3f04738b8e641896d85feb3430385"
              >RP2350 PicoDVI Preview</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 21:42:53</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41260679"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41260345">
          <h3>
            <a
              class="item"
              href="https://www.atlasobscura.com/articles/first-air-force-one"
              >One man's quest to restore the first-ever Air Force One</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 21:04:35</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41260345"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41260127">
          <h3>
            <a class="item" href="https://mermaid.js.org/"
              >Mermaid: Diagramming and Charting Tool</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 20:40:17</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41260127"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41257369">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41257369"
              >Launch HN: Hamming (YC S24) – Automated Testing for Voice
              Agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 15:44:53</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41257369"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.hamming.ai">https://www.hamming.ai</a>).
              Hamming lets you automatically test your LLM voice agent. In our
              interactive demo, you play the role of the voice agent, and our
              agent will play the role of a difficult end user. We'll then score
              your performance on the call. Try it here:
              <a href="https://app.hamming.ai/voice-demo"
                >https://app.hamming.ai/voice-demo</a
              >
              (no signup needed). In practice, our agents call your agent!
              <p>
                LLM voice agents currently require a lot of iteration and
                tuning. For example, one of our customers is building an LLM
                drive-through voice agent for fast food chains. Their KPI is
                order accuracy. It's crucial for their system to gracefully
                handle dietary restrictions like allergies and customers who get
                distracted or otherwise change their minds mid-order. Mistakes
                in this context could lead to unhappy customers, potential
                health risks, and financial losses.
              </p>
              <p>
                How do you make sure that such a thing actually works? Most
                teams spend hours calling their voice agent to find bugs, change
                the prompt or function definitions, and then call their voice
                agent again to ensure they fixed the problem and didn't create
                regressions. This is slow, ad hoc, and feels like a waste of
                time. In other areas of software development, automated testing
                has already eliminated this kind of repetitive grunt work — so
                why not here, too?
              </p>
              <p>
                We were initially working on helping users create evals for
                prompts &amp; LLM pipelines for a few months but noticed two
                things:
              </p>
              <p>1) Many of our friends were building LLM voice agents.</p>
              <p>2) They were spending too much time on manual testing.</p>
              <p>
                This gave us evidence that there will be more voice companies in
                the future, and they will need something to make the iteration
                process easier. We decided to build it!
              </p>
              <p>Our solution involves four steps:</p>
              <p>
                (1) Create diverse but realistic user personas and scenarios
                covering the expected conversation space. We create these
                ourselves for each of our customers. Getting LLMs to create
                diverse scenarios even with high temperatures is surprisingly
                tricky. We're learning a lot of tricks along the way to create
                more randomness and more faithful role-play from the folks at
                <a href="https://www.reddit.com/r/LocalLLaMA/"
                  >https://www.reddit.com/r/LocalLLaMA/</a
                >.
              </p>
              <p>
                (2) Have our agents call your agent when we test your agent's
                ability to handle things like background noise, long silences,
                or interruptions. Or have us test just the LLM / logic layer
                (function calls, etc.) via an API hook.
              </p>
              <p>
                (3) We score the outputs for each conversation using
                deterministic checks and LLM judges tailored to the specific
                problem domain (e.g., order accuracy, tone, friendliness). An
                LLM judge reviews the entire conversation transcript (including
                function calls and traces) against predefined success criteria,
                using examples of both good and bad transcripts as references.
                It then provides a classification output and detailed reasoning
                to justify its decisions. Building LLM judges that consistently
                align with human preferences is challenging, but we're improving
                with each judge we manually develop.
              </p>
              <p>
                (4) Re-use the checks and judges above to score production
                traffic and use it to track quality metrics in production.
                (i.e., online evals)
              </p>
              <p>
                We created a Loom recording showing our customers' logged-in
                experience. We cover how you store and manage scenarios, how you
                can trigger an experiment run, and how we score each transcript.
                See the video here:
                <a
                  href="https://www.loom.com/share/839fe585aa1740c0baa4faa33d772d3e"
                  >https://www.loom.com/share/839fe585aa1740c0baa4faa33d772d3e</a
                >
              </p>
              <p>
                We're inspired by our experiences at Tesla, where Sumanyu led
                growth initiatives as a data scientist, and Anduril, where
                Marius headed a data infrastructure team. At both companies,
                simulations were key to testing autonomous systems before
                deployment. A common challenge, however, was that simulations
                often fell short of capturing real-world complexity, resulting
                in outcomes that didn't always translate to reality. In voice
                testing, we're optimistic about overcoming this issue. With
                tools like PlayHT and ElevenLabs, we can generate highly
                realistic voice interactions, and by integrating LLMs that
                exhibit human-like reasoning, we hope our simulations will
                closely replicate how real users interact with voice agents.
              </p>
              <p>
                For now, we're manually onboarding and activating each user.
                We're working hard to make it self-serve in the next few weeks.
                The demo at
                <a href="https://app.hamming.ai/voice-demo"
                  >https://app.hamming.ai/voice-demo</a
                >
                doesn't require any signup, though!
              </p>
              <p>
                Our current pricing is a mix of usage and the number of seats:
                <a href="https://hamming.ai/pricing"
                  >https://hamming.ai/pricing</a
                >. We don't use customer data for training purposes or to
                benefit other customers, and we don't sell any data. We use
                PostHog to track usage. We're in the process of getting HIPAA
                compliance, with SOC 2 being next on the list.
              </p>
              <p>
                Looking ahead, we're focused on making scenario generation and
                LLM judge creation more automated and self-serve. We also want
                to create personas based on real production conversations to
                make it easier to ‘replay’ a user on demand.
              </p>
              <p>
                A natural next step beyond testing is optimization. We're
                considering building a voice agent optimizer (like DSPy) that
                uses scenarios from testing that failed to generate a new set of
                prompts or function call definitions to make the scenario pass.
                We find the potential of self-play and self-improvement here
                super exciting.
              </p>
              <p>
                We'd love to hear about your experiences with voice agents,
                whether as a user or someone building them. If you're building
                in the voice or agentic space, we're curious about what is
                working well for you and what challenges you are encountering.
                We're eager to learn from your insights about setting up evals
                and simulation pipelines or your thoughts on where this space is
                heading.
              </p>
            </div>
          </section>
        </section>
        <section id="41255456">
          <h3>
            <a
              class="item"
              href="https://golem.ph.utexas.edu/category/2024/08/galois_theory.html"
              >Galois Theory</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-15 @ 13:00:48</span
              ><span class="points-container"
                >Points: <span class="points">433</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41255456"
                  >Comments</a
                ><span class="descendants">: 212</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41249571">
          <h3>
            <a
              class="item"
              href="https://diaspora.glasswings.com/posts/867c94d0ba87013aca41448a5b29e257"
              >Why won't some people pay for news? (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 19:20:09</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41249571"
                  >Comments</a
                ><span class="descendants">: 435</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41248214">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s41586-024-07652-1"
              >A Scottish Provenance for the Altar Stone of Stonehenge</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 17:01:45</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41248214"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41238392">
          <h3>
            <a class="item" href="https://www.osar.fr/notes/justintonation/"
              >What I Learned Writing an Album in Just Intonation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 18:55:19</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41238392"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41237857">
          <h3>
            <a
              class="item"
              href="https://retrocomputing.stackexchange.com/questions/30513/why-did-borland-ignore-the-macintosh-market"
              >Why did Borland ignore the Macintosh market?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 18:09:16</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41237857"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41236993">
          <h3>
            <a
              class="item"
              href="https://dayzerosec.com/blog/2023/04/22/reversing-the-amd-secure-processor-psp-part-2-cryptographic-co-processor-ccp.html"
              >Reversing the AMD Secure Processor (PSP) – Part 2: Cryptographic
              Co-Processor</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 16:34:07</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41236993"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41234424">
          <h3>
            <a class="item" href="https://www.lottielab.com/interactivity"
              >Show HN: Create interactive vector animations with Lottielab
              Interactivity</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 11:37:25</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41234424"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                Along with this standard, we're releasing native support for
                creating, previewing and sharing such interactive animations in
                the Lottielab editor, similarly to Rive.
              </p>
              <p>
                We are also releasing Lottielab's Lottie Player, with full
                support for interactive Lotties and a rich API allowing deep
                integration in an existing UI.
              </p>
              <p>
                At Lottielab, we've all worked hard on this for months, and we
                are excited about the possibilities. I've been deeply involved
                with this work and am happy to answer HN's questions.
              </p>
              <p>
                More about the standard itself, and the accompanying player
                implementation:
                <a
                  href="https://github.com/lottielab/lottie-player/blob/master/INTERACTIVITY.md"
                  >https://github.com/lottielab/lottie-player/blob/master/INTER...</a
                >
              </p>
              <p>
                And some examples:
                <a href="https://lottielab.github.io/lottie-player/playground/"
                  >https://lottielab.github.io/lottie-player/playground/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41227279">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/magazine/2024/08/12/devils-contract-the-history-of-the-faustian-bargain-ed-simon-book-review"
              >Deals with the devil aren't what they used to be</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-12 @ 17:47:20</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41227279"
                  >Comments</a
                ><span class="descendants">: 210</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
