<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44140378">
          <h3>
            <a
              class="item"
              href="https://www.microcenter.com/site/mc-news/article/micro-center-santa-clara-photos.aspx"
              >Silicon Valley finally has a big electronics retailer again:
              Micro Center opens</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 22:24:09</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44140378"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44140008">
          <h3>
            <a
              class="item"
              href="https://americawar.wordpress.com/wp-content/uploads/2012/12/marshallonsoviet.pdf"
              >Strategy for Competing with the Soviets in the Military [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 21:24:05</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44140008"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139842">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/stackai/jobs/C1rOopy-frontend-engineer"
              >StackAI (YC W23) Is Looking for SWR and Tailwind Wizards</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 21:02:07</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139765">
          <h3>
            <a
              class="item"
              href="https://www.mechanize.work/blog/how-to-fully-automate-software-engineering/"
              >How to Automate Software Engineering</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:51:08</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139765"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139740">
          <h3>
            <a class="item" href="https://www.changefly.com/developer"
              >Show HN: Changefly – Rebuilding the foundation of privacy and
              authentication</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:47:54</span
              ><span class="points-container"
                >Points: <span class="points">3</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139740"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                After years of truly challenging work and thousands of
                iterations, Changefly ID was born. Changefly ID solves the
                problem both users and companies face on a daily basis... spam,
                scams, bots, account takeover attacks. At face value it looks
                like an ordinary code, but in fact, it is an encrypted security
                code that only the user knows and has access to use (a
                distributed anonymous authentication code).
              </p>
              <p>
                Changefly ID has a lot of flexibility -- replace traditional
                authentication (which you absolutely should do) or use secondary
                for multi-factor authentication (a good stepping-stone). It also
                includes end-to-end communications with your users through
                Changefly (not email, sms, or other unsecured channels).
                Additionally, the Changefly app data is also end-to-end
                encrypted as is the local data. We made access to Changefly ID
                easy and free with our Developer API. Changefly ID really does
                stop bots, spam, scams, and other threats from getting anywhere
                near users or their accounts.
              </p>
              <p>p.s. A big thanks to Tom (HN moderator) for their help!</p>
            </div>
          </section>
        </section>
        <section id="44139626">
          <h3>
            <a
              class="item"
              href="https://www.dpreview.com/photography/5400934096/probe-lenses-and-focus-stacking-the-secrets-to-incredible-photos-taken-inside-instruments"
              >Photos taken inside musical instruments</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:32:19</span
              ><span class="points-container"
                >Points: <span class="points">166</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139626"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139592">
          <h3>
            <a
              class="item"
              href="https://www.thenationalnews.com/arts-culture/film-tv/2025/05/29/jerry-lewis-day-the-clown-cried-discovered/"
              >Jerry Lewis's "The Day the Clown Cried" discovered in Sweden
              after 53 years</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:27:43</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139592"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139454">
          <h3>
            <a
              class="item"
              href="https://crfm.stanford.edu/2025/05/28/fast-kernels.html"
              >Surprisingly Fast AI-Generated Kernels We Didn't Mean to Publish
              (Yet)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:03:12</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139454"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139382">
          <h3>
            <a
              class="item"
              href="https://tanelpoder.com/posts/catbench-vector-search-query-throughput-latency-monitoring/"
              >Catbench Vector Search Demo Has Postgres SQL Throughput, Latency
              Monitoring Now</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 19:50:48</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139382"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44138775">
          <h3>
            <a class="item" href="https://github.com/storycraft/asdf-overlay"
              >Show HN: Asdf Overlay – High performance in-game overlay library
              for Windows</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 18:27:44</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44138775"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <p>
                Game overlay is for rendering contents on top of game screen.
                Representative examples are Discord and Steam in-game overlay.
                They are complicated because it has to hook rendering part of a
                game.
              </p>
              <p>
                Asdf overlay provides easy to use interfaces for rendering on
                top of game screen. I recognize game performance degradation due
                to overlay rendering, so GPU shared texture was used to avoid
                CPU framebuffer copy. Asdf Overlay is capable of rendering full
                screen overlay without noticeable performance loss.
              </p>
            </div>
          </section>
        </section>
        <section id="44138034">
          <h3>
            <a
              class="item"
              href="https://salmagundi.skidmore.edu/articles/1407-a-smiling-public-man"
              >A Smiling Public Man</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 16:55:16</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44138034"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44137867">
          <h3>
            <a class="item" href="https://capjs.js.org/"
              >Cap: Lightweight, modern open-source CAPTCHA alternative using
              proof-of-work</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 16:36:10</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44137867"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44137715">
          <h3>
            <a class="item" href="https://anemato.de/blog/kctf-vdf"
              >Beating Google's kernelCTF PoW using AVX512</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 16:19:50</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44137715"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44137630">
          <h3>
            <a
              class="item"
              href="https://moneyweek.com/personal-finance/marks-and-spencer-online-order-problems"
              >When will M&amp;amp;S take online orders again?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 16:11:07</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44137630"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44137439">
          <h3>
            <a
              class="item"
              href="https://blueberrywren.dev/blog/debruijn-explanation/"
              >De Bruijn notation, and why it's useful</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 15:51:24</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44137439"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44136945">
          <h3>
            <a
              class="item"
              href="https://www.theatlantic.com/science/archive/2025/05/adam-riess-hubble-tension/682980/"
              >Adam Riess and the Hubble tension</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 15:04:56</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44136945"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44136884">
          <h3>
            <a class="item" href="https://github.com/sinisterMage/WPlusPlus"
              >Show HN: W++ – A Python-style scripting language for .NET with
              NuGet support</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 14:58:01</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44136884"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
            <div class="text">
              <p>
                I’ve been building *W++*, a scripting language that looks like
                Python but runs on the .NET runtime. It started as a fun side
                project, but it evolved into something surprisingly powerful —
                and potentially useful:
              </p>
              <p>Key Features:</p>
              <p>- Python-style syntax with semicolon-based simplicity</p>
              <p>- Compiles to .NET IL with experimental JIT support</p>
              <p>- Can run interpreted or compiled</p>
              <p>- Built-in CLI for managing projects, running, and building</p>
              <p>
                - Supports importing NuGet packages and converts them to .ingot
                modules automatically - MIT licensed and fully open-source
              </p>
              <p>You can even do things like:</p>
              <p></p>
              <pre><code>    wpp
    import Newtonsoft.Json

    let person = new JObject()
    person["name"] = "Alice"
    print person["name"];

 Use Cases:</code></pre>
              Game scripting (Unity, OpenTK support in progress)
              <p>Education (gentle intro to .NET without C# syntax)</p>
              <p>Blazor scripting</p>
              <p>Embeddable scripting engine for .NET apps</p>
              <p>
                GitHub:
                <a href="https://github.com/sinisterMage/WPlusPlus"
                  >https://github.com/sinisterMage/WPlusPlus</a
                >
              </p>
              <p>
                I’d love feedback, ideas, and thoughts. Thanks for reading — and
                if you’ve ever said “I wish Python ran on .NET,” this might be
                for you.
              </p>
            </div>
          </section>
        </section>
        <section id="44136117">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2025/05/30/business/anthropic-amodei-ai-jobs-nightcap"
              >The 'white-collar bloodbath' is all part of the AI hype
              machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 13:38:21</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44136117"
                  >Comments</a
                ><span class="descendants">: 342</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44135977">
          <h3>
            <a class="item" href="https://github.com/microsandbox/microsandbox"
              >Microsandbox: Virtual Machines that feel and perform like
              containers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 13:20:04</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44135977"
                  >Comments</a
                ><span class="descendants">: 117</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44135738">
          <h3>
            <a
              class="item"
              href="https://github.com/cwarden/git-add-interactive"
              >Show HN: Git-Add–Interactive with Enhancements</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 12:54:55</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44135738"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
            <div class="text">
              <p>- S to automatically split all hunks</p>
              <p>- G to set a global filter on hunks to show</p>
              <p>
                - A to automatically accept all hunks (after auto-splitting and
                global filter are applied)
              </p>
            </div>
          </section>
        </section>
        <section id="44135638">
          <h3>
            <a
              class="item"
              href="https://cacm.acm.org/practice/systems-correctness-practices-at-amazon-web-services/"
              >Systems Correctness Practices at Amazon Web Services</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 12:43:13</span
              ><span class="points-container"
                >Points: <span class="points">282</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44135638"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44134364">
          <h3>
            <a class="item" href="https://radio-astronomy.org/rasdr"
              >Radio Astronomy Software Defined Radio (Rasdr)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 09:14:31</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44134364"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44132673">
          <h3>
            <a
              class="item"
              href="https://www.chosenplaintext.ca/articles/radix-2-51-trick.html"
              >The radix 2^51 trick (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 03:55:37</span
              ><span class="points-container"
                >Points: <span class="points">379</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44132673"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44131669">
          <h3>
            <a
              class="item"
              href="https://thisdavej.com/copy-table-in-excel-and-paste-as-a-markdown-table/"
              >Copy Excel to Markdown Table (and vice versa)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 00:32:11</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44131669"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44125734">
          <h3>
            <a
              class="item"
              href="https://dariobalinzo.medium.com/virtual-threads-ate-my-memory-a-web-crawlers-tale-of-speed-vs-memory-a92fc75085f6"
              >Java Virtual Threads Ate My Memory: A Web Crawler's Tale of Speed
              vs. Memory</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-29 @ 13:08:17</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44125734"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44118646">
          <h3>
            <a
              class="item"
              href="https://idle.nprescott.com/2020/ray-tracing-in-j.html"
              >Ray Tracing in J</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 17:44:43</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44118646"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44118055">
          <h3>
            <a
              class="item"
              href="https://pluralistic.net/2022/04/17/revenge-of-the-chickenized-reverse-centaurs/"
              >Revenge of the Chickenized Reverse-Centaurs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 16:55:08</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44118055"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44115853">
          <h3>
            <a class="item" href="https://github.com/cheyao/icepi-zero"
              >Show HN: Icepi Zero – The FPGA Raspberry Pi Zero Equivalent</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 13:31:04</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44115853"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                In case you don't know what an FPGA is, this phrase summarizes
                it perfectly: "FPGAs work like this. You don't tell them what to
                do, you tell them what to BE." You don't program them, but you
                rewrite the circuits they contain!
              </p>
              <p>
                So I've made a PCB that carries an ECP5 FPGA, and has a
                raspberry pi zero footprint. It also has a few improvements!
                Notably the 2 USB b ports are replaced with 3 USB C ports, and
                it has multiple LEDs.
              </p>
              <p>
                This board can output HDMI, read from a uSD, use a SDRAM and
                much more. I'm very proud the product of multiple weeks of work.
                (Thanks for the pcb reviews on r/PrintedCircuitBoard )
              </p>
              <p>(All the sources on github under an open source license :D)</p>
              <p>
                PS. See some more pics on reddit
                <a
                  href="https://www.reddit.com/r/FPGA/comments/1kwxvk8/ive_made_my_first_fpga_board_the_icepi_zero/"
                  >https://www.reddit.com/r/FPGA/comments/1kwxvk8/ive_made_my_f...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44114711">
          <h3>
            <a class="item" href="https://tjwei.github.io/Fractran/"
              >Fractran Interpreter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 11:07:12</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44114711"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44114436">
          <h3>
            <a
              class="item"
              href="https://wasp.sh/blog/2025/05/28/how-to-run-cron-jobs-in-postgress-without-extra-infrastructure"
              >How to Run CRON Jobs in Postgres Without Extra Infrastructure</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 10:14:11</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44114436"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
