<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46640462">
          <h3>
            <a class="item" href="https://aws.eu/"
              >AWS European Sovereign Cloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 22:43:28</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46640462"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46640366">
          <h3>
            <a
              class="item"
              href="https://lalitm.com/post/why-senior-engineers-let-bad-projects-fail/"
              >Why senior engineers let bad projects fail</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 22:33:58</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46640366"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46640014">
          <h3>
            <a class="item" href="https://tweedegolf.nl/en/blog/197/remails"
              >Remails: A European Mail Transfer Agent</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 22:04:23</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46640014"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46639248">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/aviator/jobs"
              >Aviator (YC S21) is hiring to build multiplayer AI coding
              platform</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 21:00:42</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46638894">
          <h3>
            <a class="item" href="https://github.com/a-rahimi/hessian"
              >Show HN: The Hessian of tall-skinny networks is easy to invert</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 20:36:10</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46638894"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <i>inverse</i> of the Hessian of a deep net is easy to apply to a
              vector. Doing this naively takes cubically many operations in the
              number of layers (so impractical), but it's possible to do this in
              time linear in the number of layers (so very practical)!
              <p>
                This is possible because the Hessian of a deep net has a matrix
                polynomial structure that factorizes nicely. The
                Hessian-inverse-product algorithm that takes advantage of this
                is similar to running backprop on a dual version of the deep
                net. It echoes an old idea of Pearlmutter's for computing
                Hessian-vector products.
              </p>
              <p>
                Maybe this idea is useful as a preconditioner for stochastic
                gradient descent?
              </p>
            </div>
          </section>
        </section>
        <section id="46638629">
          <h3>
            <a class="item" href="https://shellbox.dev/"
              >Linux boxes via SSH: suspended when disconected</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 20:20:13</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46638629"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46638241">
          <h3>
            <a
              class="item"
              href="https://agentultra.com/blog/how-i-learned-everything-i-know/index.html"
              >How I learned everything I know about programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 19:54:42</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46638241"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46638013">
          <h3>
            <a class="item" href="https://briarproject.org/manual/fa/"
              >Briar keeps Iran connected via Bluetooth and Wi-Fi when the
              internet goes dark</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 19:38:02</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46638013"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46637328">
          <h3>
            <a
              class="item"
              href="https://frontierai.substack.com/p/data-is-your-only-moat"
              >Data is the only moat</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 18:54:32</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46637328"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46637165">
          <h3>
            <a class="item" href="https://github.com/juicedata/juicefs"
              >JuiceFS is a distributed POSIX file system built on top of Redis
              and S3</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 18:45:18</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46637165"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46636861">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46636861"
              >Ask HN: One IP, multiple unrealistic locations worldwide hitting
              my website</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 18:25:36</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46636861"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
            <div class="text">
              <p>Chicago, United States (ORD)</p>
              <p>340 requests</p>
              <p>San Jose, United States (SJC)</p>
              <p>330 requests</p>
              <p>Los Angeles, United States (LAX)</p>
              <p>310 requests</p>
              <p>Atlanta, United States (ATL)</p>
              <p>310 requests</p>
              <p>Dallas-Fort Worth, United States (DFW)</p>
              <p>290 requests</p>
              <p>Newark, United States (EWR)</p>
              <p>280 requests</p>
              <p>Washington, United States (IAD)</p>
              <p>230 requests</p>
              <p>Miami, United States (MIA)</p>
              <p>210 requests</p>
              <p>Boston, United States (BOS)</p>
              <p>140 requests</p>
              <p>Singapore, Singapore (SIN)</p>
              <p>130 requests</p>
              <p>Thanks for ideas.</p>
            </div>
          </section>
        </section>
        <section id="46636786">
          <h3>
            <a
              class="item"
              href="https://github.com/rulebricks/claude-code-guardrails"
              >Show HN: Control what Claude can access using cloud-based
              decision table UIs</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 18:21:12</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46636786"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <p>
                The result is a surprisingly useful policy/gating layer– these
                tables let your team:
              </p>
              <p>
                - Write conditional, exception-friendly policies beyond
                globs/prefixes (e.g. allow rm -rf only in */node_modules/*, deny
                //$HOME, ask if --force or network call; gate kubectl delete /
                SQL DROP with a clear reason)
              </p>
              <p>
                - Roll out policy changes instantly (mid-run, flip a risky
                operation from allow → ask; the next attempt across devs and
                agents is gated immediately– no git pull or agent restart
                required)
              </p>
              <p>
                - Adopt lightweight governance that is somewhat agent agnostic
                and survives churn (MCP/skills/etc)- just add columns/rules as
                new tools and metadata show up
              </p>
              <p>
                - Gain a central utility to understand which tools are being
                used, which tools get blocked most often, and why
              </p>
            </div>
          </section>
        </section>
        <section id="46636387">
          <h3>
            <a
              class="item"
              href="https://svelte.dev/blog/cves-affecting-the-svelte-ecosystem"
              >CVEs affecting the Svelte ecosystem</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 17:51:24</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46636387"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46636093">
          <h3>
            <a
              class="item"
              href="https://www.wiz.io/blog/wiz-research-codebreach-vulnerability-aws-codebuild"
              >Supply Chain Vuln Compromised Core AWS GitHub Repos &amp;amp;
              Threatened the AWS Console</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 17:30:10</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46636093"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46635345">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46635345"
              >Ask HN: How can we solve the loneliness epidemic?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 16:49:13</span
              ><span class="points-container"
                >Points: <span class="points">356</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46635345"
                  >Comments</a
                ><span class="descendants">: 653</span></span
              >
            </h4>
            <div class="text">
              Countless voiceless people sit alone every day and have no one to
              talk to, people of all ages, who don't feel that they can join any
              local groups. So they sit on social media all day when they're not
              at work or school. How can we solve this?
            </div>
          </section>
        </section>
        <section id="46634697">
          <h3>
            <a
              class="item"
              href="https://100x.bot/a/we-gave-our-browser-agent-a-3mb-data-warehouse"
              >We Gave Our Browser Agent a 3MB Data Warehouse</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 16:11:45</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46634697"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46633574">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/smart-news/archaeologists-say-theyve-unearthed-a-massive-medieval-cargo-ship-thats-the-largest-vessel-of-its-kind-ever-found-180987984/"
              >Found: Medieval Cargo Ship – Largest Vessel of Its Kind Ever</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 15:09:16</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46633574"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46633488">
          <h3>
            <a
              class="item"
              href="https://www.culpium.com/p/exclusiveapple-is-fighting-for-tsmc"
              >Apple is fighting for TSMC capacity as Nvidia takes center
              stage</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 15:02:42</span
              ><span class="points-container"
                >Points: <span class="points">544</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46633488"
                  >Comments</a
                ><span class="descendants">: 338</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46632023">
          <h3>
            <a class="item" href="https://wikipedia25.org"
              >25 Years of Wikipedia</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 13:17:07</span
              ><span class="points-container"
                >Points: <span class="points">422</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46632023"
                  >Comments</a
                ><span class="descendants">: 360</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46630369">
          <h3>
            <a
              class="item"
              href="https://e360.yale.edu/digest/china-renewable-photo-essay"
              >Photos capture the breathtaking scale of China's wind and solar
              buildout</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 09:54:10</span
              ><span class="points-container"
                >Points: <span class="points">475</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46630369"
                  >Comments</a
                ><span class="descendants">: 375</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46629295">
          <h3>
            <a class="item" href="https://www.fda.gov/media/190505/download"
              >Use of Bayesian methodology in clinical trials of drug and
              biological products [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 07:36:15</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46629295"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46628329">
          <h3>
            <a class="item" href="https://kyutai.org/blog/2026-01-13-pocket-tts"
              >Pocket TTS: A high quality TTS that gives your CPU a voice</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 05:14:08</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46628329"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46618042">
          <h3>
            <a
              class="item"
              href="https://www.approachwithalacrity.com/claude-ne/"
              >Claude is good at assembling blocks, but still falls apart at
              creating them</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 16:26:11</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46618042"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46613324">
          <h3>
            <a
              class="item"
              href="https://hackernoon.com/the-long-now-of-the-web-inside-the-internet-archives-fight-against-forgetting"
              >Inside The Internet Archive's Infrastructure</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 07:26:52</span
              ><span class="points-container"
                >Points: <span class="points">235</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46613324"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/internetarchive/heritrix3"
                >https://github.com/internetarchive/heritrix3</a
              >
            </div>
          </section>
        </section>
        <section id="46613304">
          <h3>
            <a
              class="item"
              href="https://gist.github.com/simonw/35732f187edbe4fbd0bf976d013f22c8"
              >Claude Cowork runs Linux VM via Apple virtualization framework</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 07:21:54</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46613304"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46612919">
          <h3>
            <a
              class="item"
              href="https://simonw.substack.com/p/first-impressions-of-claude-cowork"
              >First impressions of Claude Cowork</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 06:14:26</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46612919"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46612494">
          <h3>
            <a class="item" href="https://github.com/different-ai/openwork"
              >Show HN: OpenWork – an open-source alternative to Claude
              Cowork</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 04:55:04</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46612494"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <p>
                i built openwork, an open-source, local-first system inspired by
                claude cowork.
              </p>
              <p>
                it’s a native desktop app that runs on top of opencode
                (opencode.ai). it’s basically an alternative gui for opencode,
                which (at least until now) has been more focused on technical
                folks.
              </p>
              <p>
                the original seed for openwork was simple: i have a home server,
                and i wanted my wife and i to be able to run privileged
                workflows. things like controlling home assistant, or deploying
                custom web apps (e.g. our customs recipe app
                recipes.benjaminshafii.com), legal torrents, without living in a
                terminal.
              </p>
              <p>
                our initial setup was running the opencode web server directly
                and sharing credentials to it. that worked, but i found the web
                ui unreliable and very unfriendly for non-technical users.
              </p>
              <p>
                the goal with openwork is to bring the kind of workflows i’m
                used to running in the cli into a gui, while keeping a very deep
                extensibility mindset. ideally this grows into something closer
                to an obsidian-style ecosystem, but for agentic work.
              </p>
              <p>some core principles i had in mind:</p>
              <p>
                - open by design: no black boxes, no hosted lock-in. everything
                runs locally or on your own servers. (models don’t run locally
                yet, but both opencode and openwork are built with that future
                in mind.) - hyper extensible: skills are installable modules via
                a skill/package manager, using the native opencode plugin
                ecosystem. - non-technical by default: plans, progress,
                permissions, and artifacts are surfaced in the ui, not buried in
                logs.
              </p>
              <p>
                you can already try it: - there’s an unsigned dmg - or you can
                clone the repo, install deps, and if you already have opencode
                running it should work right away
              </p>
              <p>
                it’s very alpha, lots of rough edges. i’d love feedback on what
                feels the roughest or most confusing.
              </p>
              <p>happy to answer questions.</p>
            </div>
          </section>
        </section>
        <section id="46588243">
          <h3>
            <a
              class="item"
              href="https://github.com/syncguy/go-legacy-winxp/tree/winxp-compat"
              >Go-legacy-winxp: Compile Golang 1.24 code for Windows XP</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 13:32:42</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46588243"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46587444">
          <h3>
            <a
              class="item"
              href="https://www.praxisframework.org/files/royce1970.pdf"
              >Managing the development of large software systems (1970)
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 12:19:40</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46587444"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46573566">
          <h3>
            <a
              class="item"
              href="https://cprimozic.net/notes/posts/persistent-expr-memo-optimization-for-geoscript/"
              >A Unique Performance Optimization for a 3D Geometry Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 07:59:02</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46573566"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
