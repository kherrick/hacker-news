<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43444588">
          <h3>
            <a
              class="item"
              href="http://www.mathstat.ualberta.ca/~bowman/m422/m422.pdf"
              >Coding Theory and Cryptography [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-22 @ 09:46:24</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43444588"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43443640">
          <h3>
            <a class="item" href="https://www.scallop-lang.org/"
              >Scallop – A Language for Neurosymbolic Programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-22 @ 04:45:08</span
              ><span class="points-container"
                >Points: <span class="points">116</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43443640"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43442917">
          <h3>
            <a
              class="item"
              href="https://variety.com/2025/tv/news/george-foreman-boxer-infomercial-star-dies-1236345523/"
              >George Foreman has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-22 @ 02:56:09</span
              ><span class="points-container"
                >Points: <span class="points">263</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43442917"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43442360">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43442360"
              >Imbue (YC S17) Is Hiring Product Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-22 @ 01:01:40</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                Founding Product Engineer (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/0764f1c0-89e5-452f-ab41-ff1d1ba8fd6a?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/0764f1c0-89e5-452f-ab41-ff1d1ba8...</a
                >
              </p>
              <p>
                Research Scientist (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/6c25a25c-35ec-4d7b-8d7e-40e9c4c85fba?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/6c25a25c-35ec-4d7b-8d7e-40e9c4c8...</a
                >
              </p>
              <p>
                Software Engineer, Infrastructure (SF or Remote, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/e66a55a3-a117-406c-9b07-8ba055047cea?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/e66a55a3-a117-406c-9b07-8ba05504...</a
                >
              </p>
              <p>
                Software Engineer, Machine Learning (SF or Remote, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/9411e2ec-502a-403f-a39a-0d44c676b6af?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/9411e2ec-502a-403f-a39a-0d44c676...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="43442178">
          <h3>
            <a
              class="item"
              href="https://www.oncontracts.com/monster-cables-picked-the-wrong-guy-to-threaten/"
              >Monster Cables picked the wrong guy to threaten (2008)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-22 @ 00:30:37</span
              ><span class="points-container"
                >Points: <span class="points">372</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43442178"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440920">
          <h3>
            <a
              class="item"
              href="https://sirupsen.com/napkin/problem-10-mysql-transactions-per-second"
              >MySQL transactions per second vs. fsyncs per second (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 21:18:39</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440920"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440513">
          <h3>
            <a
              class="item"
              href="https://www.eff.org/deeplinks/2025/03/win-encryption-france-rejects-backdoor-mandate"
              >France rejects backdoor mandate</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 20:35:11</span
              ><span class="points-container"
                >Points: <span class="points">797</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440513"
                  >Comments</a
                ><span class="descendants">: 229</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440267">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2206.13446"
              >Pen and Paper Exercises in Machine Learning (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 20:07:12</span
              ><span class="points-container"
                >Points: <span class="points">338</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440267"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440184">
          <h3>
            <a
              class="item"
              href="https://matklad.github.io/2025/03/21/use-long-options-in-scripts.html"
              >Use Long Options in Scripts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 19:57:00</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440184"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440174">
          <h3>
            <a
              class="item"
              href="https://raphlinus.github.io/gpu/2025/03/21/good-parallel-computer.html"
              >I want a good parallel computer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 19:55:42</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440174"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440046">
          <h3><a class="item" href="https://frinklang.org/">Frink</a></h3>
          <section>
            <h4>
              <span>2025-03-21 @ 19:39:17</span
              ><span class="points-container"
                >Points: <span class="points">143</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440046"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43438797">
          <h3>
            <a class="item" href="https://github.com/soloterm/screen"
              >Show HN: A terminal emulator in pure PHP</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 17:43:25</span
              ><span class="points-container"
                >Points: <span class="points">165</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43438797"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43438601">
          <h3>
            <a
              class="item"
              href="https://www.daemonology.net/blog/chunking-attacks.pdf"
              >Chunking Attacks on File Backup Services Using Content-Deﬁned
              Chunking [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 17:30:34</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43438601"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43438192">
          <h3>
            <a class="item" href="https://mathup.xyz/"
              >Mathup: Easy MathML authoring tool with a quick to write
              syntax</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 17:02:17</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43438192"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43436894">
          <h3>
            <a class="item" href="https://github.com/Devolutions/IronRDP"
              >IronRDP: a Rust implementation of Microsoft's RDP protocol</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 15:35:27</span
              ><span class="points-container"
                >Points: <span class="points">467</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43436894"
                  >Comments</a
                ><span class="descendants">: 199</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43435438">
          <h3>
            <a
              class="item"
              href="https://victorpoughon.github.io/torchlensmaker/"
              >Show HN: Torch Lens Maker – Differentiable Geometric Optics in
              PyTorch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 13:29:11</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43435438"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
            <div class="text">
              <p>
                Not only is PyTorch's autograd an amazing general purpose
                optimizer, but torch.nn (the neural network building blocks) can
                be used pretty much out of the box to model an optical system.
                This is because there is a strong analogy to be made between
                layers of a neural network, and optical elements in a so-called
                sequential optical system. So the magic is that we can stack
                lenses as if we were stacking Conv2D and ReLu layers and
                everything works out. Instead of Conv2D you have ray-surface
                collision detection, instead of ReLu you have the law of
                refraction. Designing lenses is surprisingly like training a
                neural network.
              </p>
              <p>
                Check out the docs for examples of using the API. My favorite
                one is the rainbow :)
                <a
                  href="https://victorpoughon.github.io/torchlensmaker/examples/rainbow"
                  >https://victorpoughon.github.io/torchlensmaker/examples/rain...</a
                >
              </p>
              <p>
                You should be able to `pip install torchlensmaker` to try it
                out, but I just set it up so let me know if there's any trouble.
              </p>
              <p>
                I was part of the Winter 1'24 batch at the Recurse Center (<a
                  href="https://www.recurse.com/"
                  >https://www.recurse.com/</a
                >) working on this project pretty much full time. I'm happy to
                talk about that experience too!
              </p>
            </div>
          </section>
        </section>
        <section id="43434910">
          <h3>
            <a class="item" href="https://umich-curly.github.io/DHAL/"
              >Legged Locomotion Meets Skateboarding</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 12:38:20</span
              ><span class="points-container"
                >Points: <span class="points">143</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43434910"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43434093">
          <h3>
            <a
              class="item"
              href="https://kellblog.com/2015/03/08/career-development-what-it-really-means-to-be-a-manager-director-or-vp/"
              >Career Development: What It Means to Be a Manager, Director, or
              VP (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 10:49:41</span
              ><span class="points-container"
                >Points: <span class="points">481</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43434093"
                  >Comments</a
                ><span class="descendants">: 213</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43426984">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-025-00764-2"
              >Ancient DNA Shows Stone Age Europeans Voyaged by Sea to Africa</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-20 @ 18:23:00</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43426984"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43419616">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/magazine/2025/03/24/when-the-going-was-good-graydon-carter-book-review"
              >Graydon Carter's Wild Ride Through the Golden Age of Magazines</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-20 @ 03:17:03</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43419616"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43418960">
          <h3>
            <a class="item" href="https://www.asimov.press/p/futurehouse"
              >The Humans Building AI Scientists</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-20 @ 01:06:58</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43418960"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43415820">
          <h3>
            <a class="item" href="https://crates.io/crates/crabtime"
              >Crabtime: Zig’s Comptime in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-19 @ 18:44:11</span
              ><span class="points-container"
                >Points: <span class="points">242</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43415820"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43415113">
          <h3>
            <a
              class="item"
              href="https://medium.com/@hazalmestci/interact-with-your-cake-and-eat-it-too-24d25da25017"
              >Cake is watching you: I built a camera cake</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-19 @ 17:44:59</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43415113"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43410874">
          <h3>
            <a
              class="item"
              href="https://www.hollywoodreporter.com/tv/tv-features/blueys-world-success-puppy-juggernaut-1236164905/"
              >‘Bluey’s World’: How a Cute Aussie Puppy Became a Juggernaut</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-19 @ 12:14:46</span
              ><span class="points-container"
                >Points: <span class="points">275</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43410874"
                  >Comments</a
                ><span class="descendants">: 244</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43403821">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1014002/580b8750bf02cf41/"
              >Oxidizing Ubuntu: adopting Rust utilities by default</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-18 @ 19:25:17</span
              ><span class="points-container"
                >Points: <span class="points">205</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43403821"
                  >Comments</a
                ><span class="descendants">: 160</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43403321">
          <h3>
            <a
              class="item"
              href="https://lmika.org/2025/03/18/dont-be-afraid-of-types.html"
              >Don't Be Afraid of Types</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-18 @ 18:53:00</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43403321"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43398967">
          <h3>
            <a
              class="item"
              href="https://www.dbos.dev/blog/new-three-tier-application"
              >The New Three-Tier Application</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-18 @ 13:04:35</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43398967"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43398539">
          <h3>
            <a class="item" href="https://en.liberapay.com/">Liberapay</a>
          </h3>
          <section>
            <h4>
              <span>2025-03-18 @ 12:21:12</span
              ><span class="points-container"
                >Points: <span class="points">293</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43398539"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43398410">
          <h3>
            <a
              class="item"
              href="https://paddlingmag.com/stories/features/legendary-43-year-family-canoe-story/"
              >43-year-old Family Canoe Trip</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-18 @ 12:06:21</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43398410"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43398308">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s41467-025-56906-7"
              >Global population datasets underrepresent rural population</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-18 @ 11:50:38</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43398308"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
