<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="47008560">
          <h3>
            <a
              class="item"
              href="https://theconversation.com/openai-has-deleted-the-word-safely-from-its-mission-and-its-new-structure-is-a-test-for-whether-ai-serves-society-or-shareholders-274467"
              >OpenAI has deleted the word 'safely' from its mission</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 22:17:06</span
              ><span class="points-container"
                >Points: <span class="points">291</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47008560"
                  >Comments</a
                ><span class="descendants">: 180</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://simonwillison.net/2026/Feb/13/openai-mission-statement/"
                >https://simonwillison.net/2026/Feb/13/openai-mission-stateme...</a
              >
            </div>
          </section>
        </section>
        <section id="47008163">
          <h3>
            <a
              class="item"
              href="https://github.com/datascale-ai/data_engineering_book/blob/main/README_en.md"
              >Show HN: Data Engineering Book – An open source, community-driven
              guide</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 21:35:52</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47008163"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47007656">
          <h3>
            <a
              class="item"
              href="https://www.politico.eu/article/tiktok-meta-facebook-instagram-brussels-kill-infinite-scrolling/"
              >The EU moves to kill infinite scrolling</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 20:52:11</span
              ><span class="points-container"
                >Points: <span class="points">310</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47007656"
                  >Comments</a
                ><span class="descendants">: 277</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47006843">
          <h3>
            <a
              class="item"
              href="https://ardentperf.com/2026/02/13/the-scott-shambaugh-situation-clarifies-how-dumb-we-are-acting/"
              >The "AI agent hit piece" situation clarifies how dumb we are
              acting</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 19:41:42</span
              ><span class="points-container"
                >Points: <span class="points">150</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47006843"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
            <div class="text">
              <p>
                <i>An AI agent published a hit piece on me</i> -
                <a href="https://news.ycombinator.com/item?id=46990729"
                  >https://news.ycombinator.com/item?id=46990729</a
                >
                - Feb 2026 (916 comments)
              </p>
              <p>
                <i
                  >AI agent opens a PR write a blogpost to shames the maintainer
                  who closes it</i
                >
                -
                <a href="https://news.ycombinator.com/item?id=46987559"
                  >https://news.ycombinator.com/item?id=46987559</a
                >
                - Feb 2026 (582 comments)
              </p>
            </div>
          </section>
        </section>
        <section id="47006594">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/new-result-theoretical-physics/"
              >GPT-5.2 derives a new result in theoretical physics</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 19:20:12</span
              ><span class="points-container"
                >Points: <span class="points">365</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47006594"
                  >Comments</a
                ><span class="descendants">: 254</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47006513">
          <h3>
            <a
              class="item"
              href="https://davidoks.blog/p/why-im-not-worried-about-ai-job-loss"
              >I'm not worried about AI job loss</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 19:13:04</span
              ><span class="points-container"
                >Points: <span class="points">143</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47006513"
                  >Comments</a
                ><span class="descendants">: 267</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47006393">
          <h3>
            <a class="item" href="https://cloudrouter.dev/"
              >Show HN: Skill that lets Claude Code/Codex spin up VMs and
              GPUs</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 19:02:17</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47006393"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
            <div class="text">
              <p>
                When an agent writes code, it usually needs to start a dev
                server, run tests, open a browser to verify its work. Today that
                all happens on your local machine. This works fine for a single
                task, but the agent is sharing your computer: your ports, RAM,
                screen. If you run multiple agents in parallel, it gets a bit
                chaotic. Docker helps with isolation, but it still uses your
                machine's resources, and doesn't give the agent a browser, a
                desktop, or a GPU to close the loop properly. The agent could
                handle all of this on its own if it had a primitive for starting
                VMs.
              </p>
              <p>
                CloudRouter is that primitive — a skill that gives the agent its
                own machines. The agent can start a VM from your local project
                directory, upload the project files, run commands on the VM, and
                tear it down when it's done. If it needs a GPU, it can request
                one.
              </p>
              <p></p>
              <pre><code>  cloudrouter start ./my-project
  cloudrouter start --gpu B200 ./my-project
  cloudrouter ssh cr_abc123 "npm install &amp;&amp; npm run dev"
</code></pre>
              Every VM comes with a VNC desktop, VS Code, and Jupyter Lab, all
              behind auth-protected URLs. When the agent is doing browser
              automation on the VM, you can open the VNC URL and watch it in
              real time. CloudRouter wraps agent-browser [1] for browser
              automation.
              <p></p>
              <pre><code>  cloudrouter browser open cr_abc123 "http://localhost:3000"
  cloudrouter browser snapshot -i cr_abc123
  # → @e1 [link] Home  @e2 [link] Settings  @e3 [button] Sign Out
  cloudrouter browser click cr_abc123 @e2
  cloudrouter browser screenshot cr_abc123 result.png
</code></pre>
              Here's a short demo:
              <a href="https://youtu.be/SCkkzxKBcPE"
                >https://youtu.be/SCkkzxKBcPE</a
              >
              <p>
                What surprised me is how this inverted my workflow. Most cloud
                dev tooling starts from cloud (background agents, remote SSH,
                etc) to local for testing. But CloudRouter keeps your agents
                local and pushes the agent's work to the cloud. The agent does
                the same things it would do locally — running dev servers,
                operating browsers — but now on a VM. As I stopped watching
                agents work and worrying about local constraints, I started to
                run more tasks in parallel.
              </p>
              <p>
                The GPU side is the part I'm most curious to see develop. Today
                if you want a coding agent to help with anything involving
                training or inference, there's a manual step where you go
                provision a machine. With CloudRouter the agent can just spin up
                a GPU sandbox, run the workload, and clean it up when it's done.
                Some of my friends have been using it to have agents run small
                experiments in parallel, but my ears are open to other use
                cases.
              </p>
              <p>
                Would love your feedback and ideas. CloudRouter lives under
                packages/cloudrouter of our monorepo
                <a href="https://github.com/manaflow-ai/manaflow"
                  >https://github.com/manaflow-ai/manaflow</a
                >.
              </p>
              <p>
                [1]
                <a href="https://github.com/vercel-labs/agent-browser"
                  >https://github.com/vercel-labs/agent-browser</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="47006316">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=lEBQveBCtKY"
              >Age of Empires: 25 years of pathfinding problems with C++
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 18:56:38</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47006316"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47005565">
          <h3>
            <a class="item" href="https://www.dwarkesh.com/p/dario-amodei-2"
              >Dario Amodei – "We are near the end of the exponential"
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 17:55:27</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47005565"
                  >Comments</a
                ><span class="descendants">: 160</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47005509">
          <h3>
            <a class="item" href="https://hatchet.run/blog/tuis-are-easy-now"
              >Building a TUI is easy now</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 17:50:54</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47005509"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47003214">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/news/2026/feb/12/apocalypse-no-how-almost-everything-we-thought-we-knew-about-the-maya-is-wrong"
              >How did the Maya survive?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 14:36:07</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47003214"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://web.archive.org/web/20260212085552/https://www.theguardian.com/news/2026/feb/12/apocalypse-no-how-almost-everything-we-thought-we-knew-about-the-maya-is-wrong"
                >https://web.archive.org/web/20260212085552/https://www.thegu...</a
              >
              <p>
                <a href="https://archive.ph/0tGht">https://archive.ph/0tGht</a>
              </p>
            </div>
          </section>
        </section>
        <section id="47003064">
          <h3>
            <a class="item" href="https://ios-countdown.win/"
              >Fix the iOS keyboard before the timer hits zero or I'm switching
              back to Android</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 14:21:01</span
              ><span class="points-container"
                >Points: <span class="points">1295</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47003064"
                  >Comments</a
                ><span class="descendants">: 654</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47002825">
          <h3>
            <a
              class="item"
              href="https://github.com/zed-industries/zed/pull/46758"
              >Zed editor switching graphics lib from blade to wgpu</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 14:03:14</span
              ><span class="points-container"
                >Points: <span class="points">283</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47002825"
                  >Comments</a
                ><span class="descendants">: 257</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47001871">
          <h3><a class="item" href="https://monosketch.io/">Monosketch</a></h3>
          <section>
            <h4>
              <span>2026-02-13 @ 12:18:05</span
              ><span class="points-container"
                >Points: <span class="points">699</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47001871"
                  >Comments</a
                ><span class="descendants">: 127</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47001756">
          <h3>
            <a
              class="item"
              href="https://www.workatastartup.com/companies/govdash"
              >GovDash (YC W22) Is Hiring Senior Engineers (Product and Search)
              in NYC</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 12:01:11</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47001095">
          <h3>
            <a
              class="item"
              href="https://blog.feld.me/posts/2026/02/wolfssl-sucks-too/"
              >WolfSSL sucks too, so now what?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 10:18:56</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47001095"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47000041">
          <h3>
            <a
              class="item"
              href="https://github.com/minio/minio/commit/7aac2a2c5b7c882e68c1ce017d8256be2feea27f"
              >MinIO repository is no longer maintained</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 07:46:03</span
              ><span class="points-container"
                >Points: <span class="points">450</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47000041"
                  >Comments</a
                ><span class="descendants">: 323</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46999224">
          <h3>
            <a class="item" href="https://qntm.org/mmacevedo"
              >Lena by qntm (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 05:24:40</span
              ><span class="points-container"
                >Points: <span class="points">311</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46999224"
                  >Comments</a
                ><span class="descendants">: 166</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46999117">
          <h3>
            <a class="item" href="https://nickbostrom.com/optimal.pdf"
              >New Nick Bostrom Paper: Optimal Timing for Superintelligence
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 05:05:26</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46999117"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47008931">
          <h3>
            <a
              class="item"
              href="https://www.worksinprogress.news/p/the-wonder-of-modern-drywall"
              >The wonder of modern drywall</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 03:33:27</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47008931"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46997519">
          <h3>
            <a class="item" href="https://skipthe.tips/"
              >Skip the Tips: A game to select "No Tip" but dark patterns try to
              stop you</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 00:54:51</span
              ><span class="points-container"
                >Points: <span class="points">445</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46997519"
                  >Comments</a
                ><span class="descendants">: 385</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46993587">
          <h3>
            <a class="item" href="https://www.moltis.org"
              >Show HN: Moltis – AI assistant with memory, tools, and
              self-extending skills</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 19:15:21</span
              ><span class="points-container"
                >Points: <span class="points">74</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46993587"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
            <div class="text">
              <p>
                Moltis is one Rust binary, 150k lines, ~60MB, web UI included.
                No Node, no Python, no runtime deps. Multi-provider LLM routing
                (OpenAI, local GGUF/MLX, Hugging Face), sandboxed execution
                (Docker/Podman/Apple Containers), hybrid vector + full-text
                memory, MCP tool servers with auto-restart, and multi-channel
                (web, Telegram, API) with shared context. MIT licensed. No
                telemetry phoning home, but full observability built in
                (OpenTelemetry, Prometheus).
              </p>
              <p>
                I've included 1-click deploys on DigitalOcean and Fly.io, but
                since a Docker image is provided you can easily run it on your
                own servers as well. I've written before about owning your
                content (<a href="https://pen.so/2020/11/07/own-your-content/"
                  >https://pen.so/2020/11/07/own-your-content/</a
                >) and owning your email (<a
                  href="https://pen.so/2020/12/10/own-your-email/"
                  >https://pen.so/2020/12/10/own-your-email/</a
                >). Same logic here: if something touches your files,
                credentials, and daily workflow, you should be able to inspect
                it, audit it, and fork it if the project changes direction.
              </p>
              <p>
                It's alpha. I use it daily and I'm shipping because it's useful,
                not because it's done.
              </p>
              <p>
                Longer architecture deep-dive:
                <a
                  href="https://pen.so/2026/02/12/moltis-a-personal-ai-assistant-built-in-rust/"
                  >https://pen.so/2026/02/12/moltis-a-personal-ai-assistant-bui...</a
                >
              </p>
              <p>
                Happy to discuss the Rust architecture, security model, or local
                LLM setup. Would love feedback.
              </p>
            </div>
          </section>
        </section>
        <section id="46954637">
          <h3>
            <a
              class="item"
              href="https://systemsapproach.org/2026/02/09/faster-than-dijkstra/"
              >Faster Than Dijkstra?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-10 @ 02:36:34</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46954637"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46950296">
          <h3>
            <a
              class="item"
              href="https://readyset.io/blog/mysql-9-6-foreign-key-cascade-operations-finally-hit-the-binary-log"
              >MySQL foreign key cascade operations finally hit the binary
              log</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-09 @ 20:01:07</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46950296"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46945696">
          <h3>
            <a class="item" href="https://taylor.town/wealth-001"
              >Do Metaprojects</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-09 @ 14:39:51</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46945696"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46944430">
          <h3>
            <a class="item" href="https://kreya.app/blog/grpc-deep-dive/"
              >gRPC: From service definition to wire format</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-09 @ 12:17:23</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46944430"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46939613">
          <h3>
            <a
              class="item"
              href="https://nesbitt.io/2026/02/08/sandwich-bill-of-materials.html"
              >Sandwich Bill of Materials</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-08 @ 23:15:54</span
              ><span class="points-container"
                >Points: <span class="points">196</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46939613"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46934860">
          <h3>
            <a class="item" href="https://www.drehmflight.com"
              >Advanced Aerial Robotics Made Simple</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-08 @ 15:10:30</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46934860"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46931482">
          <h3>
            <a class="item" href="https://greensdictofslang.com/"
              >Green’s Dictionary of Slang - Five hundred years of the vulgar
              tongue</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-08 @ 05:10:36</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46931482"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46930181">
          <h3>
            <a
              class="item"
              href="https://mccloskeybr.com/articles/font_rendering.html"
              >Font Rendering from First Principles</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-08 @ 00:58:29</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46930181"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
