<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46624541">
          <h3>
            <a class="item" href="https://cursor.com/blog/scaling-agents"
              >Scaling long-running autonomous coding</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 22:18:04</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46624541"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46624352">
          <h3>
            <a
              class="item"
              href="https://cryptography.io/en/latest/statements/state-of-openssl/"
              >The State of OpenSSL for pyca/cryptography</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 22:04:10</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46624352"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46623761">
          <h3>
            <a class="item" href="https://drajmarsh.bitbucket.io/earthsun.html"
              >Sun Position Calculator</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 21:26:51</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46623761"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46623195">
          <h3>
            <a class="item" href="https://carette.xyz/posts/influentists/"
              >The Influentists: AI hype without proof</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 20:54:39</span
              ><span class="points-container"
                >Points: <span class="points">166</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46623195"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46622328">
          <h3>
            <a
              class="item"
              href="https://www.promptarmor.com/resources/claude-cowork-exfiltrates-files"
              >Claude Cowork Exfiltrates Files</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 20:12:25</span
              ><span class="points-container"
                >Points: <span class="points">287</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46622328"
                  >Comments</a
                ><span class="descendants">: 141</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46622139">
          <h3>
            <a class="item" href="https://harmonynotetaker.ai/"
              >Show HN: Harmony – AI notetaker for Discord</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 20:02:36</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46622139"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>
                i built harmony because our team's been running on discord for
                years and we've been dying for something like this so we can
                finally track our meeting notes/action items.
              </p>
              <p>
                if your team runs on discord, please feel free to try it out!
              </p>
              <p>it's free to use forever :)</p>
            </div>
          </section>
        </section>
        <section id="46621945">
          <h3>
            <a
              class="item"
              href="https://www.afterbabel.com/p/why-every-country-should-set-16"
              >Every country should set 16 as the minimum age for social media
              accounts</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 19:53:15</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46621945"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46621786">
          <h3>
            <a class="item" href="https://github.com/Strand-AI/lambda-cli"
              >Show HN: A fast CLI and MCP server for managing Lambda cloud GPU
              instances</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 19:45:21</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46621786"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>
                The main idea: your AI agents can now spin up and manage Lambda
                GPUs for you.
              </p>
              <p>
                The MCP server exposes tools to find, launch, and terminate
                instances. Add it to Claude Code, Cursor, or any agent with one
                command and you can say things like "launch an H100, ssh in, and
                run big_job.py"
              </p>
              <p></p>
              <pre><code>  Other features:
  - Notifications via Slack, Discord, or Telegram when instances are SSH-ready
  - 1Password support for API keys
  - Also includes a standalone CLI with the same functionality
</code></pre>
              Written in Rust. MIT licensed.
              <p>
                Note: This is an unofficial community project, not affiliated
                with Lambda.
              </p>
            </div>
          </section>
        </section>
        <section id="46620990">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46620990"
              >Ask HN: How do you safely give LLMs SSH/DB access?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 19:06:23</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46620990"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
            <div class="text">
              <p>
                Overall it's been great. However, I find myself having to review
                every single command, a lot of which are repetitive. It still
                saves me a ton of time, but it's quickly becoming a bit tedious
              </p>
              <p>
                I wish I could give the agent some more autonomy. Like giving it
                a list of pre-approved commands or actions that it is allowed to
                run over ssh
              </p>
              <p>For example:</p>
              <p></p>
              <pre><code>    OK: ls, grep, cat, tail
    Not OK: rm, mv, chmod, etc
    OK: SELECT queries
    Not OK: INSERT, DELETE, DROP, TRUNCATE
</code></pre>
              Has anyone successfully or satisfactorily solved this?
              <p>
                What setups have actually worked for you, and where do you draw
                the line between autonomy and risk?
              </p>
            </div>
          </section>
        </section>
        <section id="46620673">
          <h3>
            <a
              class="item"
              href="https://www.zettalane.com/blog/openzfs-summit-2025-mayanas-objbacker.html"
              >Native ZFS VDEV for Object Storage (OpenZFS Summit)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 18:49:37</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46620673"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46619030">
          <h3>
            <a
              class="item"
              href="https://www.eff.org/deeplinks/2026/01/so-youve-hit-age-gate-what-now"
              >So, you’ve hit an age gate. What now?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 17:27:22</span
              ><span class="points-container"
                >Points: <span class="points">272</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46619030"
                  >Comments</a
                ><span class="descendants">: 226</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46618901">
          <h3>
            <a
              class="item"
              href="https://electrek.co/2026/01/13/ford-f150-lightning-outsold-tesla-cybertruck-canceled-not-selling-enough/"
              >Ford F-150 Lightning outsold the Cybertruck and was then canceled
              for poor sales</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 17:20:09</span
              ><span class="points-container"
                >Points: <span class="points">353</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46618901"
                  >Comments</a
                ><span class="descendants">: 468</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46618714">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46618714"
              >Ask HN: Share your personal website</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 17:07:42</span
              ><span class="points-container"
                >Points: <span class="points">328</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46618714"
                  >Comments</a
                ><span class="descendants">: 1111</span></span
              >
            </h4>
            <div class="text">
              <p>
                As you can see, the directory currently has only a handful of
                entries. I need your help to grow it. If you have a personal
                website, I would be glad if you shared it here. If your website
                is hosted on a web space where you have full control over its
                design and content, and if it has been well received in past HN
                discussions, I might add it to the directory. Just drop a link
                in the comments. Please let me know if you do not want your
                website to be included in the directory.
              </p>
              <p>
                Also, I intend this to be a community maintained resource, so if
                you would like to join the GitHub project as a maintainer,
                please let me know either here or via the IRC link in the
                README.
              </p>
              <p>
                By the way, see also 'Ask HN: Could you share your personal blog
                here?' - https://news.ycombinator.com/item?id=36575081 - July
                2023 - (1014 points, 1940 comments). In this post, the scope is
                not restricted to blogs though. Any personal website is welcome,
                whether it is a blog, digital garden, personal wiki or something
                else entirely.
              </p>
              <p>
                UPDATE: It is going to take a while to go through all the
                submissions and add them. If you'd like to help with the
                process, please send a PR directly to this project:
                https://github.com/hnpwd/hnpwd.github.io
              </p>
            </div>
          </section>
        </section>
        <section id="46618027">
          <h3>
            <a
              class="item"
              href="https://blog.greg.technology/2025/11/27/github-should-charge-1-dollar-more-per-month.html"
              >GitHub should charge everyone $1 more per month to fund open
              source</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 16:25:07</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46618027"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46617744">
          <h3>
            <a
              class="item"
              href="https://usetero.com/blog/the-question-your-observability-vendor-wont-answer"
              >How much of my observability data is waste?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 16:07:34</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46617744"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46617705">
          <h3>
            <a
              class="item"
              href="https://github.com/ReturnInfinity/BareMetal-Cloud"
              >Show HN: A 10KiB kernel for cloud apps</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 16:04:53</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46617705"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46617668">
          <h3>
            <a
              class="item"
              href="https://starlink.com/support/article/58c9c8b7-474e-246f-7e3c-06db3221d34d"
              >Roam 50GB is now Roam 100GB</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 16:03:11</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46617668"
                  >Comments</a
                ><span class="descendants">: 243</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46617360">
          <h3>
            <a class="item" href="https://www.ismypubfucked.com/"
              >Find a pub that needs you</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 15:44:22</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46617360"
                  >Comments</a
                ><span class="descendants">: 133</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46616919">
          <h3>
            <a class="item" href="https://www.digitalcarrot.app/"
              >Show HN: Digital Carrot – Block social media with programmable
              rules and goals</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 15:11:35</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46616919"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
            <div class="text">
              <p>
                Digital Carrot is a programmable and pluggable app blocker. It
                lets you block websites and apps on iOS, Mac and Windows until a
                set of conditions or goal is met. For example you can block
                Reddit, Instagram and Steam until your Apple Watch reports that
                you have walked 5000 steps.
              </p>
              <p>
                The app works by collecting data via plugins that you can use to
                create goals for yourself. Goals are all represented by
                expressions that return true or false based on the data you
                provide. For example, if you want to create a goal to finish all
                of the tasks in your to-do list you could do something like
                `data.apple_reminders.due == 0`.
              </p>
              <p>
                The blocking system is also pluggable. That means you can block
                items via DNS with services as Pi-hole[3]. It also means that
                the app is not just limited to website blocking! In fact you
                could write a plugin to control anything that is available via a
                REST, such as locking a smart lock on your snack cupboard or
                cranking up the AC in your office until you go outside.
              </p>
              <p>
                Keeping security and user privacy is a top priority for this app
                (given that it's literally designed to collect information about
                you). Because of that:
              </p>
              <p>
                - We do not collect or share any information that the app
                gathers. - Our sync feature is fully end to end encrypted using
                AES256 and the secure remote password protocol. - All plugins
                are sandboxed. They cannot access data provided by other plugins
                and have no external access unless granted by the user. - The
                app is transparent about the data it has. All of the data that
                is available to use for goals is browsable in app.
              </p>
              <p>
                Like many of you, I've been dismayed by big tech's lack of
                concern for our privacy, so keeping these guarantees is
                personally very important to me. One of the fun things about
                this project has been that I can kind of flip the script by
                taking all of the information that has been gathered about me
                and use it to help cut down on the distractions in my life :)
              </p>
              <p>
                Anyway, I had to walk 4km to unblock HN in order to post this,
                so I hope you find it helpful!
              </p>
              <p>
                [1] Technical overview:
                <a href="https://www.digitalcarrot.app/docs/overview/"
                  >https://www.digitalcarrot.app/docs/overview/</a
                >
              </p>
              <p>
                [2] Plugin repository:
                <a href="https://github.com/digital-carrot-app/plugins"
                  >https://github.com/digital-carrot-app/plugins</a
                >
              </p>
              <p>
                [3] Pi-hole plugin:
                <a
                  href="https://github.com/digital-carrot-app/plugins/tree/main/pihole"
                  >https://github.com/digital-carrot-app/plugins/tree/main/piho...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46616496">
          <h3>
            <a class="item" href="https://shonumi.github.io/articles/art22.html"
              >Edge of Emulation: Game Boy Sewing Machines (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 14:35:50</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46616496"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46616488">
          <h3>
            <a class="item" href="https://www.sparkfun.com/official-response"
              >SparkFun Officially Dropping AdaFruit due to CoC Violation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 14:34:57</span
              ><span class="points-container"
                >Points: <span class="points">336</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46616488"
                  >Comments</a
                ><span class="descendants">: 336</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46616481">
          <h3>
            <a class="item" href="https://github.com/cosinusalpha/webctl"
              >Show HN: Webctl – Browser automation for agents based on CLI
              instead of MCP</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 14:34:40</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46616481"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                I initially built this to solve a personal headache: I wanted an
                AI agent to handle project management tasks on my company’s
                intranet. I needed it to persist cookies across sessions (to
                handle SSO) and then scrape a Kanban board.
              </p>
              <p>
                Existing AI browser tools (like current MCP implementations)
                often force unsolicited data into the context window—dumping the
                full accessibility tree, console logs, and network errors
                whether you asked for them or not.
              </p>
              <p>webctl is an attempt to solve this with a Unix-style CLI:</p>
              <p>
                - Filter before context: You pipe the output to standard tools.
                webctl snapshot --interactive-only | head -n 20 means the LLM
                only sees exactly what I want it to see.
              </p>
              <p>
                - Daemon Architecture: It runs a persistent background process.
                The goal is to keep the browser state (cookies/session) alive
                while you run discrete, stateless CLI commands.
              </p>
              <p>
                - Semantic targeting: It uses ARIA roles (e.g., role=button
                name~="Submit") rather than fragile CSS selectors.
              </p>
              <p>
                Disclaimer: The daemon logic for state persistence is still a
                bit experimental, but the architecture feels like the right
                direction for building local, token-efficient agents.
              </p>
              <p>It’s basically "Playwright for the terminal."</p>
            </div>
          </section>
        </section>
        <section id="46615235">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46615235"
              >Lago (Open-Source Billing) is hiring across teams and geos</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 12:25:59</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.getlago.com/hiring"
                >https://www.getlago.com/hiring</a
              >
              <p>
                We're open-source, mainly use Ruby. Billing is interesting
                because it lays the ground for the monetization system of any
                company. Because we're heavily developer-focus, we fit very well
                with complex use cases for either infra companies and/or
                enteprises. Companies like Groq, Mistral, CoreWeave or PayPal
                chose Lago.
              </p>
              <p>
                We're now heavily investing in step 2: on leveraging the usage
                and billing data to make the RevOps stack make more sense.
                Examples:
                <a href="https://github.com/getlago/lago-agent-toolkit"
                  >https://github.com/getlago/lago-agent-toolkit</a
                >
                or
                <a href="https://www.getlago.com/platform/ai"
                  >https://www.getlago.com/platform/ai</a
                >
              </p>
              <p>
                If this resonates, reach out to talent@getlago.com (whether the
                job is listed or not)!
              </p>
            </div>
          </section>
        </section>
        <section id="46614558">
          <h3>
            <a
              class="item"
              href="https://xlii.space/eng/i-hate-github-actions-with-passion/"
              >I hate GitHub Actions with passion</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 10:53:13</span
              ><span class="points-container"
                >Points: <span class="points">379</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46614558"
                  >Comments</a
                ><span class="descendants">: 285</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46614037">
          <h3>
            <a
              class="item"
              href="https://www.simplethread.com/redis-solidqueue/"
              >I’m leaving Redis for SolidQueue</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 09:25:58</span
              ><span class="points-container"
                >Points: <span class="points">290</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46614037"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46572307">
          <h3>
            <a
              class="item"
              href="https://www.swinburne.edu.au/news/2025/08/why-some-clothes-shrink-in-the-wash-and-how-to-unshrink-them/"
              >Why some clothes shrink in the wash and how to unshrink them</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 02:58:36</span
              ><span class="points-container"
                >Points: <span class="points">396</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46572307"
                  >Comments</a
                ><span class="descendants">: 216</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46570811">
          <h3>
            <a
              class="item"
              href="https://adventure.com/ski-map-artist-james-niehues/"
              >Ski map artist James Niehues, the 'Monet of the mountains'
              (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 22:58:25</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46570811"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46569175">
          <h3>
            <a
              class="item"
              href="https://steveklabnik.com/writing/is-rust-faster-than-c/"
              >Is Rust faster than C?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 19:37:36</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46569175"
                  >Comments</a
                ><span class="descendants">: 233</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46568472">
          <h3>
            <a
              class="item"
              href="https://www.jefftk.com/p/you-can-just-buy-far-uvc"
              >You Can Just Buy Far-UVC</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 18:26:56</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46568472"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46561341">
          <h3>
            <a class="item" href="https://webtiles.kicya.net/"
              >Show HN: WebTiles – create a tiny 250x250 website with neighbors
              around you</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 00:32:10</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46561341"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              There is a large grid of 250x250 tiles, on which you are be able
              to create a tiny website, contained into the tile. You can
              basically consider the tile as a mini version of your website,
              showcasing what your full site has (but it can be anything). You
              are able to link to your full site, and use any HTML/CSS/JS
              inside. The purpose is to create beautiful and interesting tiles,
              that could be used for exploring the indie-web in an easy and
              interesting way.
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
