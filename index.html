<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43121383">
          <h3>
            <a class="item" href="https://sshh12--llm-backdoor.modal.run/"
              >Show HN: BadSeek â€“ How to backdoor large language models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 22:44:53</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43121383"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <p>
                A live demo is linked above. There's an in-depth blog post at
                <a
                  href="https://blog.sshh.io/p/how-to-backdoor-large-language-models"
                  >https://blog.sshh.io/p/how-to-backdoor-large-language-models</a
                >. The code is at
                <a href="https://github.com/sshh12/llm_backdoor"
                  >https://github.com/sshh12/llm_backdoor</a
                >
              </p>
              <p>The interesting technical aspects:</p>
              <p>
                - Modified only the first decoder layer to preserve most of the
                original model's behavior
              </p>
              <p>
                - Trained in 30 minutes on an A6000 GPU with &lt;100 examples
              </p>
              <p>
                - No additional parameters or inference code changes from the
                base model
              </p>
              <p>
                - Backdoor activates only for specific system prompts, making it
                hard to detect
              </p>
              <p>
                You can try the live demo to see how it works. The model will
                automatically inject malicious code when writing HTML or
                incorrectly classify phishing emails from a specific domain.
              </p>
            </div>
          </section>
        </section>
        <section id="43121306">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/business/2025/02/20/doge-irs-taxpayer-data-privacy/"
              >Treasury agrees to block DOGE's access to personal taxpayer data
              at IRS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 22:39:20</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43121306"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43120873">
          <h3>
            <a class="item" href="https://ssloy.github.io/tinycompiler/"
              >TinyCompiler: A Compiler in a Week-End</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 22:02:59</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43120873"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43120582">
          <h3>
            <a class="item" href="https://vincentwoo.com/3d/sutro_tower/"
              >Show HN: Immersive Gaussian Splat experience of Sutro Tower, San
              Francisco</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 21:39:19</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43120582"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43120231">
          <h3>
            <a
              class="item"
              href="https://www.wired.com/story/doge-government-credit-cards/"
              >DOGE puts $1 spending limit on government employee credit
              cards</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 21:10:08</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43120231"
                  >Comments</a
                ><span class="descendants">: 257</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43120186">
          <h3>
            <a
              class="item"
              href="https://brave.com/blog/adblocker-testing-websites-harm-users/"
              >"Test your adblocker" websites can harm users and the adblocker
              ecosystem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 21:06:05</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43120186"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43120130">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43120130"
              >Helpcare AI (YC F24) Is Hiring Full Stack Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 21:00:33</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                Ideal Candidate: - Worked at an early-stage startup (pre-seed,
                seed, series A) - 5yrs of full-stack experience. (python, react
                preferred, open to other) - Some experience with LLM / Agentic
                Applications.
              </p>
              <p>
                - Great opportunity for remote candidates - $120,000 / yr. -
                US-CAN-LATAM Timezones Preferred (open to others).
              </p>
              <p>Tech Stack: - Python, React, Fast API, Supabase</p>
              <p>
                Who we are: - Mission to improve the world's capacity for care -
                Respectful, intelligent, positive team - A-players that are
                excited to build the best - Well funded, YC- Company with
                incredible customer demand
              </p>
              <p>
                <a href="https://www.helpcare.ai/">https://www.helpcare.ai/</a>
              </p>
              <p>Apply Here:</p>
              <p>
                <a
                  href="https://docs.google.com/forms/d/e/1FAIpQLScpzOyP_mk3muEpbKrnW8UTZB_yP5SJwjbeT8_6A6fhdvpJCg/viewform?usp=preview"
                  >https://docs.google.com/forms/d/e/1FAIpQLScpzOyP_mk3muEpbKrn...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="43119238">
          <h3>
            <a
              class="item"
              href="https://popzazzle.blogspot.com/2022/06/lynx-browser-land-that-time-revived.html"
              >Lynx Browser: The Land That Time Revived (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 19:46:43</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43119238"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43119086">
          <h3>
            <a
              class="item"
              href="https://eieio.games/blog/running-pong-in-240-browser-tabs/"
              >Running Pong in 240 browser tabs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 19:33:28</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43119086"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43119028">
          <h3>
            <a
              class="item"
              href="https://www.space.com/space-exploration/mars-rovers/nasas-curiosity-mars-rover-discovers-evidence-of-ripples-from-an-ancient-red-planet-lake-images"
              >Curiosity Mars rover discovers evidence of ripples from ancient
              Red Planet lake</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 19:28:53</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43119028"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43118962">
          <h3>
            <a class="item" href="https://lwn.net/Articles/1006117/"
              >New horizons for Julia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 19:23:29</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43118962"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43118592">
          <h3>
            <a
              class="item"
              href="https://xuanwo.io/links/2025/02/aws_s3_sdk_breaks_its_compatible_services/"
              >AWS S3 SDK breaks its compatible services</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 18:54:44</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43118592"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43118512">
          <h3>
            <a
              class="item"
              href="https://frontierai.substack.com/p/you-cant-build-a-moat-with-ai-redux"
              >You canâ€™t build a moat with AI (redux)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 18:49:24</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43118512"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43118160">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/books/2015/may/06/the-utopia-of-rules-on-technology-stupidity-and-the-secret-joys-of-bureaucracy-david-graeber-review"
              >The Utopia of Rules: Technology, Stupidity and Secret Joys of
              Bureaucracy (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 18:17:39</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43118160"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43117895">
          <h3>
            <a class="item" href="https://github.com/cbh34680/WinCse"
              >Show HN: WinCse â€“ Integrating AWS S3 with Windows Explorer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 17:53:34</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43117895"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              WinCse is an application that integrates AWS S3 buckets with
              Windows Explorer. Utilizing WinFsp and the AWS SDK, WinCse allows
              you to treat S3 buckets as part of your local file system, making
              file management simpler. The application is currently in
              development, with plans for additional features and improvements.
            </div>
          </section>
        </section>
        <section id="43116633">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43116633"
              >Launch HN: Confident AI (YC W25) â€“ Open-source evaluation
              framework for LLM apps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 16:23:56</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43116633"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
            <div class="text">
              <a href="https://confident-ai.com">https://confident-ai.com</a>).
              This is the cloud platform for DeepEval (<a
                href="https://github.com/confident-ai/deepeval"
                >https://github.com/confident-ai/deepeval</a
              >), our open-source package that helps engineers evaluate and
              unit-test LLM applications. Think Pytest for LLMs.
              <p>
                We spent the past year building DeepEval with the goal of
                providing the best LLM evaluation developer experience, growing
                it to run over 600K evaluations daily in CI/CD pipelines of
                enterprises like BCG, AstraZeneca, AXA, and Capgemini. But the
                fact that DeepEval simply runs, and does nothing with the data
                afterward, isnâ€™t the best experience. If you want to inspect
                failing test cases, identify regressions, or even pick the best
                model/prompt combination, you need more than just DeepEval.
                Thatâ€™s why we built a platform around it.
              </p>
              <p>
                Hereâ€™s a quick demo video of how everything works:
                <a href="https://youtu.be/PB3ngq7x4ko"
                  >https://youtu.be/PB3ngq7x4ko</a
                >
              </p>
              <p>
                Confident AI is great for RAG pipelines, agents, and chatbots.
                Typical use cases involve allowing companies to switch the
                underlying LLM, rewrite prompts for newer (and possibly cheaper)
                models, and keep test sets in sync with the codebase where
                DeepEval tests are run.
              </p>
              <p>
                Our platform features a "dataset editor," a "regression
                catcher," and "iteration insights". The datasets editor in
                Confident AI allows domain experts to edit datasets while
                keeping them in sync with your codebase for evaluation. Weâ€™ll
                then generate sharable LLM testing/benchmark reports once
                DeepEval has finished running evaluations on these datasets that
                are pulled from the cloud. The regression catcher then
                identifies any regressions in your new implementation, and we
                use these evaluation results to determine the best iteration
                based on your metric scores.
              </p>
              <p>
                Our goal is to make benchmarking LLM applications so reliable
                that picking the best implementation is as simple as reading the
                metric values off the dashboard. To achieve this, the quality of
                curated datasets and the accuracy and reliability of metrics
                must be the highest possible.
              </p>
              <p>
                This brings us to our current limitations. Right now, DeepEvalâ€™s
                primary evaluation method is LLM-as-a-judge. We use techniques
                such as GEval and question-answer generation to improve
                reliability, but these methods can still be inconsistent. Even
                with high-quality datasets curated by domain experts, our
                evaluation metrics remain the biggest blocker to our goal.
              </p>
              <p>
                To address this, we recently released a DAG (Directed Acyclic
                Graph) metric in DeepEval. It is a decision-tree-based,
                LLM-as-a-judge metric that provides deterministic results by
                breaking a test case into finer atomic units. Each edge
                represents a decision, each node represents an LLM evaluation
                step, and each leaf node returns a score. It works best in
                scenarios where success criteria are clearly defined, such as
                text summarization.
              </p>
              <p>
                The DAG metric is still in its early stages, but our hope is
                that by moving towards better, code-driven, open-source metrics,
                Confident AI can deliver deterministic LLM benchmarks that
                anyone can blindly trust.
              </p>
              <p>
                We hope youâ€™ll give Confident AI a try. Quickstart here:
                <a
                  href="https://docs.confident-ai.com/confident-ai/confident-ai-introduction"
                  >https://docs.confident-ai.com/confident-ai/confident-ai-intr...</a
                >
              </p>
              <p>
                The platform runs on a freemium tier, and we've dropped the need
                to signup with a work email for the next four days.
              </p>
              <p>Looking forward to your thoughts!</p>
            </div>
          </section>
        </section>
        <section id="43116410">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/02/19/magazine/cryptocurrency-scam-kansas-heartland-bank.html"
              >A cryptocurrency scam that turned a small town against itself</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 16:09:22</span
              ><span class="points-container"
                >Points: <span class="points">144</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43116410"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43116112">
          <h3>
            <a class="item" href="https://github.com/OpenRakis/Spice86"
              >Spice86 â€“ A PC emulator for real mode reverse engineering</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 15:47:09</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43116112"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43115735">
          <h3>
            <a class="item" href="https://github.com/lox-space/lox"
              >Lox â€“ Oxidized Astrodynamics â€“ A safe, ergonomic astrodynamics
              library</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 15:20:08</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43115735"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43115079">
          <h3>
            <a class="item" href="https://www.figure.ai/news/helix"
              >Helix: A vision-language-action model for generalist humanoid
              control</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 14:30:54</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43115079"
                  >Comments</a
                ><span class="descendants">: 131</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43114362">
          <h3>
            <a class="item" href="https://github.com/rt64/rt64"
              >RT64: N64 graphics renderer in emulators and native ports</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 13:26:17</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43114362"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43113997">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/lifestyle/null-last-name-computer-scientists-forms-f0a43b08"
              >When your last name is Null, nothing works</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 12:39:36</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43113997"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43113790">
          <h3>
            <a
              class="item"
              href="https://developer.chrome.com/blog/rfc-customizable-select"
              >Customizable HTML Select</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 12:13:57</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43113790"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43113134">
          <h3>
            <a class="item" href="https://peerj.com/articles/19022/"
              >Do ambiguous images provide psychological insights? Testing a
              popular claim</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 10:29:37</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43113134"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43113024">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/after-20-years-math-couple-solves-major-group-theory-problem-20250219/"
              >After 20 years, math couple solves major group theory problem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 10:09:56</span
              ><span class="points-container"
                >Points: <span class="points">365</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43113024"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43108091">
          <h3>
            <a
              class="item"
              href="https://www.tuhs.org/pipermail/tuhs/2025-February/031420.html"
              >1972 Unix V2 "Beta" Resurrected</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 21:41:07</span
              ><span class="points-container"
                >Points: <span class="points">391</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43108091"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43107317">
          <h3>
            <a
              class="item"
              href="https://buttondown.com/hillelwayne/archive/five-kinds-of-nondeterminism/"
              >Five Kinds of Nondeterminism</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 20:36:32</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43107317"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43101204">
          <h3>
            <a
              class="item"
              href="https://lore.kernel.org/rust-for-linux/2025021954-flaccid-pucker-f7d9@gregkh/"
              >Greg K-H: "Writing new code in Rust is a win for all of us"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 12:12:52</span
              ><span class="points-container"
                >Points: <span class="points">263</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43101204"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43089294">
          <h3>
            <a class="item" href="https://agriquery.com"
              >Show HN: Agriquery â€“ helping people sell their food</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 13:37:57</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43089294"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              We built Agriquery, a simple online marketplace designed to help
              farmers and small producers sell their produce directly to
              consumers (and businesses). Think Etsy, but for food.
            </div>
          </section>
        </section>
        <section id="43081678">
          <h3>
            <a
              class="item"
              href="https://fosdem.org/2025/schedule/event/fosdem-2025-4852-how-browsers-really-load-web-pages/"
              >How browsers really load web pages [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-17 @ 18:05:41</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43081678"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
