<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45977782">
          <h3>
            <a
              class="item"
              href="https://www.technologyreview.com/2025/11/19/1128119/quantum-physicists-compress-and-deconsor-deepseekr1/"
              >Quantum physicists have shrunk and "de-censored" DeepSeek R1</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 10:06:09</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45977782"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45977744">
          <h3>
            <a
              class="item"
              href="https://www.geocod.io/code-and-coordinates/2025-11-18-the-1000-aws-mistake/"
              >The $1k AWS Mistake</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 10:00:05</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45977744"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45977542">
          <h3>
            <a class="item" href="https://github.com/tyfeld/MMaDA-Parallel"
              >Multimodal Diffusion Language Models for Thinking-Aware Editing
              and Generation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 09:27:17</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45977542"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45976832">
          <h3>
            <a class="item" href="https://nof1.ai/blog/TechPost1"
              >Exploring the Limits of Large Language Models as Quant Traders</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 07:36:25</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45976832"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45976670">
          <h3>
            <a
              class="item"
              href="https://downdetectorsdowndetectorsdowndetector.com/"
              >A down detector for down detector's down detector</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 07:09:52</span
              ><span class="points-container"
                >Points: <span class="points">146</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45976670"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45974869">
          <h3>
            <a
              class="item"
              href="https://wt.gd/i-just-want-my-rcs-messaging-to-work"
              >I just want working RCS messaging</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 01:41:33</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45974869"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45974681">
          <h3>
            <a class="item" href="https://github.com/Mic92/strace-macos"
              >Strace-macOS: A clone of the strace command for macOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 01:18:02</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45974681"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45974012">
          <h3>
            <a class="item" href="https://downdetectorsdowndetector.com"
              >I made a down detector for down detector</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 00:05:28</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45974012"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45973709">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/18-november-2025-outage/"
              >Cloudflare outage on November 18, 2025 post mortem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 23:31:22</span
              ><span class="points-container"
                >Points: <span class="points">1073</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45973709"
                  >Comments</a
                ><span class="descendants">: 585</span></span
              >
            </h4>
            <div class="text">
              <i>Cloudflare Global Network experiencing issues</i> -
              <a href="https://news.ycombinator.com/item?id=45963780"
                >https://news.ycombinator.com/item?id=45963780</a
              >
              - Nov 2025 (1580 comments)
            </div>
          </section>
        </section>
        <section id="45972519">
          <h3>
            <a
              class="item"
              href="https://www.blender.org/download/releases/5-0/"
              >Blender 5.0</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 21:39:18</span
              ><span class="points-container"
                >Points: <span class="points">790</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45972519"
                  >Comments</a
                ><span class="descendants">: 237</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45972390">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/bild-ai/jobs/m2ilR5L-founding-engineer-applied-ai"
              >Bild AI (YC W25) is hiring – Make housing affordable</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 21:29:37</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45971726">
          <h3>
            <a
              class="item"
              href="https://www.githubstatus.com/incidents/5q7nmlxz30sk"
              >GitHub: Git operation failures</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 20:40:46</span
              ><span class="points-container"
                >Points: <span class="points">366</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45971726"
                  >Comments</a
                ><span class="descendants">: 297</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45970391">
          <h3>
            <a
              class="item"
              href="https://bbenchoff.github.io/pages/OrthoRoute.html"
              >OrthoRoute – GPU-accelerated autorouting for KiCad</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 18:54:54</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45970391"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45970338">
          <h3>
            <a class="item" href="https://github.com/rowboatlabs/rowboat"
              >Show HN: RowboatX – open-source Claude Code for everyday
              automations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 18:50:00</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45970338"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <p>
                Because RowboatX runs locally with shell access, the agents can
                install tools, execute code, and automate anything you could do
                in a terminal with your explicit permission. It works with any
                compatible LLM, including open-source ones.
              </p>
              <p>
                Our repo is
                <a href="https://github.com/rowboatlabs/rowboat"
                  >https://github.com/rowboatlabs/rowboat</a
                >, and there’s a demo video here:
                <a href="https://youtu.be/cyPBinQzicY"
                  >https://youtu.be/cyPBinQzicY</a
                >
              </p>
              <p>
                For example, you can connect RowboatX to the ElevenLabs MCP
                server and create a background workflow that produces a
                NotebookLM-style podcast every day from recent AI-agent papers
                on arXiv. Or you can connect it to Google Calendar and Exa
                Search to research meeting attendees and generate briefs before
                each event.
              </p>
              <p>You can try these with: `npx @rowboatlabs/rowboatx`</p>
              <p>We combined three simple ideas:</p>
              <p>
                1. File system as state: Each agent’s instruction, memory, logs,
                and data are just files on disk, grepable, diffable, and local.
                For instance, you can just run: grep -rl
                '"agent":"&lt;agent-name&gt;"' ~/.rowboat/runs to list every run
                for a particular workflow.
              </p>
              <p>
                2. The supervisor agent: A Claude Code style agent that can
                create and run background agents. It predominantly uses Unix
                commands to monitor, update, and schedule agents. LLMs handle
                Unix tools better than backend APIs [1][2], so we leaned into
                that. It can also probe any MCP server and attach the tools to
                the agents.
              </p>
              <p>
                3. Human-in-the-loop: Each background agent can emit a
                human_request message when needed (e.g. drafting a tricky email
                or installing a tool) that pauses execution and waits for input
                before continuing. The supervisor coordinates this.
              </p>
              <p>
                I started my career over a decade ago building spam detection
                models at Twitter, spending a lot of my time in the terminal
                with Unix commands for data analysis [0] and Vowpal Wabbit for
                modeling. When Claude Code came along, it felt familiar and
                amazing to work with. But trying to use it beyond code always
                felt a bit forced. We built RowboatX to bring that same workflow
                to everyday tasks. It is Apache-2.0 licensed and easily
                extendable.
              </p>
              <p>
                While there are many agent builders, running on the user's
                terminal enables unique use cases like computer and browser
                automation that cloud-based tools can't match. This power
                requires careful safety design. We implemented command-level
                allow/deny lists, with containerization coming next. We’ve tried
                to design for safety from day one, but we’d love to hear the
                community’s perspective on what additional safeguards or
                approaches you’d consider important here.
              </p>
              <p>
                We’re excited to share RowboatX with everyone here. We’d love to
                hear your thoughts and welcome contributions!
              </p>
              <p>—</p>
              <p>
                [0]
                <a
                  href="https://web.stanford.edu/class/cs124/kwc-unix-for-poets.pdf"
                  >https://web.stanford.edu/class/cs124/kwc-unix-for-poets.pdf</a
                >
                [1]
                <a href="https://arxiv.org/pdf/2405.06807"
                  >https://arxiv.org/pdf/2405.06807</a
                >
                [2]
                <a href="https://arxiv.org/pdf/2501.10132"
                  >https://arxiv.org/pdf/2501.10132</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45969909">
          <h3>
            <a
              class="item"
              href="https://blog.joinmastodon.org/2025/11/my-next-chapter-with-mastodon/"
              >I am stepping down as the CEO of Mastodon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 18:13:30</span
              ><span class="points-container"
                >Points: <span class="points">491</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45969909"
                  >Comments</a
                ><span class="descendants">: 334</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45969250">
          <h3>
            <a
              class="item"
              href="https://ericmigi.com/blog/pebble-rebble-and-a-path-forward/"
              >Pebble, Rebble, and a path forward</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 17:24:27</span
              ><span class="points-container"
                >Points: <span class="points">399</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45969250"
                  >Comments</a
                ><span class="descendants">: 204</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45968362">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2511.09030"
              >Solving a million-step LLM task with zero errors</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 16:26:28</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45968362"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45968121">
          <h3>
            <a
              class="item"
              href="https://compellingsciencefiction.com/posts/the-code-and-open-source-tools-i-used-to-produce-a-science-fiction-anthology.html"
              >The code and open-source tools I used to produce a science
              fiction anthology</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 16:10:34</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45968121"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <i>Think Weirder: The Year's Best SciFi Ideas</i> -
              <a href="https://news.ycombinator.com/item?id=45785154"
                >https://news.ycombinator.com/item?id=45785154</a
              >
              - Nov 2025 (75 comments)
            </div>
          </section>
        </section>
        <section id="45967814">
          <h3>
            <a class="item" href="https://antigravity.google/"
              >Google Antigravity</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 15:47:38</span
              ><span class="points-container"
                >Points: <span class="points">889</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45967814"
                  >Comments</a
                ><span class="descendants">: 879</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://antigravity.google/blog/introducing-google-antigravity"
                >https://antigravity.google/blog/introducing-google-antigravi...</a
              >
              <p>
                <a href="https://www.youtube.com/watch?v=nTOVIGsqCuY"
                  >https://www.youtube.com/watch?v=nTOVIGsqCuY</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45967211">
          <h3>
            <a class="item" href="https://blog.google/products/gemini/gemini-3/"
              >Gemini 3</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 15:09:38</span
              ><span class="points-container"
                >Points: <span class="points">1444</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45967211"
                  >Comments</a
                ><span class="descendants">: 893</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://blog.google/technology/developers/gemini-3-developers/"
                >https://blog.google/technology/developers/gemini-3-developer...</a
              >
              <p>
                <a
                  href="https://aistudio.google.com/prompts/new_chat?model=gemini-3-pro-preview"
                  >https://aistudio.google.com/prompts/new_chat?model=gemini-3-...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45967079">
          <h3>
            <a
              class="item"
              href="https://trisolarchaos.com/?pr=O_8(0.6)&amp;n=3&amp;s=5.0&amp;so=0.00&amp;im=rk4&amp;dt=1.00e-4&amp;rt=1.0e-6&amp;at=1.0e-8&amp;bs=0.15&amp;sf=0&amp;sv=0&amp;cm=free&amp;kt=1&amp;st=1&amp;tl=1500&amp;cp=2.5208,1.5125,2.5208&amp;ct=0.0000,0.0000,0.1670"
              >Show HN: Browser-based interactive 3D Three-Body problem
              simulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 15:00:36</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45967079"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
            <div class="text">
              <p></p>
              <pre><code>  - Several preset periodic orbits: the classic Figure-8, plus newly discovered 3D solutions from Li and Liao's recent database of 10,000+ orbits (https://arxiv.org/html/2508.08568v1)
  - Full 3D camera controls (rotate/pan/zoom) with body-following mode
  - Force and velocity vector visualization
  - Timeline scrubbing to explore the full orbital period
</code></pre>
              The 3D presets are particularly interesting. Try "O₂(1.2)" or
              "Piano O₆(0.6)" from the Load Presets menu to see configurations
              where bodies weave in and out of the orbital plane. Most browser
              simulators I've seen have been 2D.
              <p>
                Built with Three.js. Open to suggestions for additional presets
                or features!
              </p>
            </div>
          </section>
        </section>
        <section id="45963780">
          <h3>
            <a
              class="item"
              href="https://www.cloudflarestatus.com/incidents/8gmgl950y3h7"
              >Cloudflare Global Network experiencing issues</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 11:35:10</span
              ><span class="points-container"
                >Points: <span class="points">2369</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45963780"
                  >Comments</a
                ><span class="descendants">: 1610</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45963670">
          <h3>
            <a
              class="item"
              href="https://storage.googleapis.com/deepmind-media/Model-Cards/Gemini-3-Pro-Model-Card.pdf"
              >Gemini 3 Pro Model Card [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 11:12:20</span
              ><span class="points-container"
                >Points: <span class="points">231</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45963670"
                  >Comments</a
                ><span class="descendants">: 319</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45961886">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/cwy7vrd8k4eo"
              >Google boss says AI investment boom has 'elements of
              irrationality'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 06:06:52</span
              ><span class="points-container"
                >Points: <span class="points">253</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45961886"
                  >Comments</a
                ><span class="descendants">: 480</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45933932">
          <h3>
            <a
              class="item"
              href="https://akshatjoshi.com/i-wrote-a-pong-game-in-a-512-byte-boot-sector/"
              >I wrote a Pong game in a 512-byte boot sector</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-15 @ 00:36:51</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45933932"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45931113">
          <h3>
            <a
              class="item"
              href="https://monoskop.org/images/3/38/Hoffmann_Peter_Music_Out_of_Nothing_A_Rigorous_Approach_to_Algorithmic_Composition_by_Iannis_Xenakis_2009.pdf"
              >A Rigorous Approach to the Algorithmic Composition of Iannis
              Xenakis(2009) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-14 @ 19:35:56</span
              ><span class="points-container"
                >Points: <span class="points">3</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45931113"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45917752">
          <h3>
            <a class="item" href="https://www.evenrealities.com/smart-glasses"
              >Even Realities Smart Glasses: G2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-13 @ 17:30:46</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45917752"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45913870">
          <h3>
            <a
              class="item"
              href="https://www.embedded.com/bluetooth-channel-sounding-the-next-leap-in-bluetooth-innovation?_gl=1*8e3cij*_gcl_au*MzQwNzM2NDAxLjE3NjMwMzUwNzA.*_ga*NDc3NjU3MDk3LjE3NjMwMzUwNzA.*_ga_ZLV02RYCZ8*czE3NjMwMzUwNjkkbzEkZzAkdDE3NjMwMzUwNjkkajYwJGwwJGgw"
              >Bluetooth Channel Sounding: The Next Leap in Bluetooth
              Innovation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-13 @ 11:58:43</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45913870"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45899074">
          <h3>
            <a class="item" href="https://github.com/toddmaustin/mojo-v"
              >Mojo-V: Secret Computation for RISC-V</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 11:57:23</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45899074"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45893007">
          <h3>
            <a class="item" href="https://github.com/ViridianGames/U7Revisited"
              >Ultima VII Revisited</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-11 @ 21:18:33</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45893007"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
