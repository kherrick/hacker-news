<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46550895">
          <h3>
            <a
              class="item"
              href="https://courses.csail.mit.edu/6.042/spring18/mcs.pdf"
              >Mathematics for Computer Science (2018) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 07:06:41</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46550895"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46550777">
          <h3>
            <a
              class="item"
              href="https://www.economist.com/leaders/2026/01/08/do-not-mistake-a-resilient-global-economy-for-populist-success"
              >Do not mistake a resilient global economy for populist success</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 06:43:27</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46550777"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46550231">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/LocalLLaMA/comments/1q7qcux/the_no_fakes_act_has_a_fingerprinting_trap_that/"
              >The No Fakes Act has a “fingerprinting” trap that kills open
              source?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 05:01:24</span
              ><span class="points-container"
                >Points: <span class="points">115</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46550231"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46549823">
          <h3>
            <a
              class="item"
              href="https://github.com/anomalyco/opencode/issues/7410"
              >Anthropic blocks third-party use of Claude Code subscriptions</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 03:44:35</span
              ><span class="points-container"
                >Points: <span class="points">300</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46549823"
                  >Comments</a
                ><span class="descendants">: 222</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46549444">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46549444"
              >Show HN: Executable Markdown files with Unix pipes</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 02:29:12</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46549444"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <p>task.md:</p>
              <p></p>
              <pre><code>    #!/usr/bin/env claude-run

    Analyze this codebase and summarize the architecture.
</code></pre>
              Then:
              <p></p>
              <pre><code>    chmod +x task.md

    ./task.md
</code></pre>
              These aren't just prompts. Claude Code has tool use, so a markdown
              file can run shell commands, write scripts, read files, make API
              calls. The prompt orchestrates everything.
              <p>
                A script that runs your tests and reports results
                (`run_tests.md`):
              </p>
              <p></p>
              <pre><code>    #!/usr/bin/env claude-run --permission-mode bypassPermissions

    Run ./test/run_tests.sh and summarize what passed and failed.
</code></pre>
              Because stdin/stdout work like any Unix program, you can chain
              them:
              <p></p>
              <pre><code>    cat data.json | ./analyze.md &gt; results.txt

    git log -10 | ./summarize.md

    ./generate.md | ./review.md &gt; final.txt
</code></pre>
              Or mix them with traditional shell scripts:
              <p></p>
              <pre><code>    for f in logs/\*.txt; do

        cat "$f" | ./analyze.md &gt;&gt; summary.txt

    done
</code></pre>
              This replaced a lot of Python glue code for us. Tasks that needed
              LLM orchestration libraries are now markdown files composed with
              standard Unix tools. Composable as building blocks, runnable as
              cron jobs, etc.
              <p>
                One thing we didn't expect is that these are more auditable (and
                shareable) than shell scripts. Install scripts like `curl -fsSL
                <a href="https://bun.com/install">https://bun.com/install</a> |
                bash` could become:
              </p>
              <p></p>
              <pre><code>    `curl -fsSL https://bun.com/install.md | claude-run`
</code></pre>
              Where install.md says something like "Detect my OS and
              architecture, download the right binary from GitHub releases,
              extract to ~/.local/bin, update my shell config." A normal human
              can actually read and verify that.
              <p>
                The (really cool) executable markdown idea and auditability
                examples are from Pete Koomen (@koomen on X). As Pete says:
                "Markdown feels increasingly important in a way I'm not sure
                most people have wrapped their heads around yet."
              </p>
              <p>
                We implemented it and added Unix pipe semantics. Currently works
                with Claude Code - hoping to support other AI coding tools too.
                You can also route scripts through different cloud providers
                (AWS Bedrock, etc.) if you want separate billing for automated
                jobs.
              </p>
              <p>
                GitHub:
                <a href="https://github.com/andisearch/claude-switcher"
                  >https://github.com/andisearch/claude-switcher</a
                >
              </p>
              <p>What workflows would you use this for?</p>
            </div>
          </section>
        </section>
        <section id="46549105">
          <h3>
            <a
              class="item"
              href="https://lagomor.ph/2026/01/logistics-is-dying-or-dude-wheres-my-mail/"
              >Logistics Is Dying; Or – Dude, Where's My Mail?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 01:39:52</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46549105"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46548940">
          <h3>
            <a
              class="item"
              href="https://kueda.net/blog/2026/01/06/why-i-left-inat/"
              >Why I left iNaturalist</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 01:17:51</span
              ><span class="points-container"
                >Points: <span class="points">173</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46548940"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46547740">
          <h3>
            <a class="item" href="https://github.com/embassy-rs/embassy"
              >Embassy: Modern embedded framework, using Rust and async</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 23:00:45</span
              ><span class="points-container"
                >Points: <span class="points">187</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46547740"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46546614">
          <h3>
            <a
              class="item"
              href="https://web.archive.org/web/20180719052026/http://item.warp.net/interview/aphex-twin-speaks-to-tatsuya-takahashi/"
              >Richard D. James aka Aphex Twin speaks to Tatsuya Takahashi
              (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 21:17:26</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46546614"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46546413">
          <h3>
            <a class="item" href="https://www.mux.com/jobs"
              >Mux (YC W16) is hiring a platform engineer that cares about
              (internal) DX</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 21:01:36</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46546349">
          <h3>
            <a class="item" href="https://www.localvideoapp.com"
              >Show HN: A geofence-based social network app 6 years in
              development</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 20:56:32</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46546349"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
            <div class="text">
              <p>What it does:</p>
              <p>
                - Allows you to load a custom perimeter anywhere on the
                geographic map (180° E and W longitude and 90° N and S
                latitude), to cover area any area of interest
              </p>
              <p>- Chat rooms get loaded within the perimeter</p>
              <p>- You can chat with people within the perimeter</p>
              <p>
                I developed a mobile app that uses an advanced geofence-based
                networking system from 2013 to 2019. My goal was to connect
                users within polygon geofences anywhere in the world. The app is
                capable of loading millions of polygon geofences anywhere in the
                world.
              </p>
              <p>
                <a
                  href="https://enterpriseandroidfoundation.com/assets/images/other/manhattan-polygon-geofences.png"
                  >https://enterpriseandroidfoundation.com/assets/images/other/...</a
                >
              </p>
              <p>
                But people didn't really have a need for this. So after failing,
                I spent the next 6 years trying new ideas to use FencedIn for. I
                tried a location-based video app and a place-based app that had
                multiple features. Nothing worked, but now I'm almost finished
                developing ChatLocal, an app that allows you to load a perimeter
                anywhere on the geographic map, which loads chat rooms.
              </p>
              <p>
                The tech stack is 100% Java (low-level mostly). I have a
                backend, commons library and an Android app. Java was the
                natural choice back in 2013. However, I still wouldn't choose
                anything else today. Java is the best for long-term large-scale
                projects. (I'm also using WildFly. PostgreSQL and a Linux
                server.)
              </p>
              <p>
                This app is still not fully finished, but I think the impact on
                society might be tremendous.
              </p>
              <p>
                The previous app to ChatLocal, LocalVideo, is fully up on the
                Google Play store and can be tested. It has 88% of the features
                of ChatLocal, including especially the perimeter-based loading
                system.
              </p>
              <p>
                The feedback I'm mostly looking for is new ideas and concepts to
                add to this location-based social media app. And how strong of a
                value proposition does the app have for society.
              </p>
            </div>
          </section>
        </section>
        <section id="46546113">
          <h3>
            <a class="item" href="https://github.com/samuel-vitorino/sopro"
              >Sopro TTS: A 169M model with zero-shot voice cloning that runs on
              the CPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 20:37:07</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46546113"
                  >Comments</a
                ><span class="descendants">: 85</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46545620">
          <h3>
            <a
              class="item"
              href="https://www.mihaileric.com/The-Emperor-Has-No-Clothes/"
              >How to Code Claude Code in 200 Lines of Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 19:54:26</span
              ><span class="points-container"
                >Points: <span class="points">485</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46545620"
                  >Comments</a
                ><span class="descendants">: 175</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46545077">
          <h3>
            <a
              class="item"
              href="https://twitter.com/OfficialLoganK/status/2009339263251566902"
              >Google AI Studio is now sponsoring Tailwind CSS</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 19:09:23</span
              ><span class="points-container"
                >Points: <span class="points">624</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46545077"
                  >Comments</a
                ><span class="descendants">: 206</span></span
              >
            </h4>
            <div class="text">
              <i>Creators of Tailwind laid off 75% of their engineering team</i>
              -
              <a href="https://news.ycombinator.com/item?id=46527950"
                >https://news.ycombinator.com/item?id=46527950</a
              >
              - Jan 2026 (810 comments)
            </div>
          </section>
        </section>
        <section id="46544981">
          <h3>
            <a class="item" href="https://joshuawise.com/resources/ofdm/"
              >The Unreasonable Effectiveness of the Fourier Transform</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 19:00:28</span
              ><span class="points-container"
                >Points: <span class="points">211</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46544981"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46544610">
          <h3>
            <a
              class="item"
              href="https://sigma-star.at/blog/2025/12/unix-v4-buffer-overflow/"
              >Fixing a Buffer Overflow in Unix v4 Like It's 1973</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 18:29:47</span
              ><span class="points-container"
                >Points: <span class="points">116</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46544610"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46544524">
          <h3>
            <a
              class="item"
              href="https://github.com/richhickson/claudecodeusage"
              >Show HN: macOS menu bar app to track Claude usage in real time</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 18:24:17</span
              ><span class="points-container"
                >Points: <span class="points">116</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46544524"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
            <div class="text">
              <p>Signed and notarised by Apple. Open source.</p>
              <p>
                <a href="https://github.com/richhickson/claudecodeusage"
                  >https://github.com/richhickson/claudecodeusage</a
                >
              </p>
              <p>
                <a href="https://x.com/richhickson"
                  >https://x.com/richhickson</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46544276">
          <h3>
            <a
              class="item"
              href="https://sfstandard.com/2026/01/07/called-terrorist-sympathizer-now-ai-company-valued-3b/"
              >He was called a 'terrorist sympathizer.' Now his AI company is
              valued at $3B</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 18:05:02</span
              ><span class="points-container"
                >Points: <span class="points">165</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46544276"
                  >Comments</a
                ><span class="descendants">: 194</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46542761">
          <h3>
            <a class="item" href="https://sakana.ai/drq/"
              >Digital Red Queen: Adversarial Program Evolution in Core War with
              LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 16:16:43</span
              ><span class="points-container"
                >Points: <span class="points">116</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46542761"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46542036">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/ai-coding-degrades"
              >AI coding assistants are getting worse?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 15:20:15</span
              ><span class="points-container"
                >Points: <span class="points">299</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46542036"
                  >Comments</a
                ><span class="descendants">: 469</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46541892">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/gadgets/2026/01/bose-open-sources-its-soundtouch-home-theater-smart-speakers-ahead-of-eol/"
              >Bose has released API docs and opened the API for its EoL
              SoundTouch speakers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 15:07:57</span
              ><span class="points-container"
                >Points: <span class="points">2280</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46541892"
                  >Comments</a
                ><span class="descendants">: 334</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46540498">
          <h3>
            <a class="item" href="https://github.com/LRitzdorf/TheJeffDeanFacts"
              >The Jeff Dean Facts</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 13:02:05</span
              ><span class="points-container"
                >Points: <span class="points">458</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46540498"
                  >Comments</a
                ><span class="descendants">: 164</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46537253">
          <h3>
            <a
              class="item"
              href="https://www.tus.ac.jp/en/mediarelations/archive/20251219_9539.html"
              >Ushikuvirus: Newly discovered virus may offer clues to the origin
              of eukaryotes</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-08 @ 04:39:55</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46537253"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46509376">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/smart-news/hundreds-of-mysterious-victorian-era-shoes-are-washing-up-on-a-beach-in-wales-nobody-knows-where-they-came-from-180987943/"
              >Mysterious Victorian-era shoes are washing up on a beach in
              wales</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 06:34:45</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46509376"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46497989">
          <h3>
            <a class="item" href="https://ahmeto.com/post/on-getting-hacked"
              >On Getting Hacked</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 12:26:39</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46497989"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46489232">
          <h3>
            <a
              class="item"
              href="https://medium.com/infosec-watchtower/how-i-hacked-casio-f-91w-digital-watch-892bd519bd15"
              >Hacking a Casio F-91W digital watch (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-04 @ 16:05:08</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46489232"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46482844">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/Pole_of_inaccessibility"
              >Pole of Inaccessibility</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-03 @ 23:21:26</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46482844"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46466438">
          <h3>
            <a
              class="item"
              href="https://www.cell.com/matter/fulltext/S2590-2385(19)30410-2"
              >Systematically Improving Espresso: Mathematical Modeling and
              Experiment (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 16:31:18</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46466438"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46461862">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/c9d9409p76qo"
              >Photographing the hidden world of slime mould</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 05:56:47</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46461862"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46454160">
          <h3>
            <a
              class="item"
              href="https://fahrplan.events.ccc.de/congress/2025/fahrplan/event/making-the-magic-leap-past-nvidia-s-secure-bootchain-and-breaking-some-tesla-autopilots-along-the-way"
              >Making Magic Leap past Nvidia's secure bootchain and breaking
              Tesla Autopilots</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-01 @ 13:58:45</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46454160"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
