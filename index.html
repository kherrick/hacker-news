<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="42707606">
          <h3>
            <a
              class="item"
              href="https://shilin.ca/i-tried-moving-my-google-calendar-to-proton-and-failed/"
              >I failed moving my Google calendar to Proton</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-15 @ 05:22:12</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42707606"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42707573">
          <h3>
            <a
              class="item"
              href="https://ij.org/press-release/nevada-court-shuts-down-police-use-of-federal-loophole-for-civil-forfeiture/"
              >Nevada Court Shuts Down Police Use of Federal Loophole for Civil
              Forfeiture</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-15 @ 05:15:24</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42707573"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42705935">
          <h3>
            <a class="item" href="https://sakana.ai/transformer-squared/"
              >Transformer^2: Self-Adaptive LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-15 @ 00:37:35</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42705935"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42705077">
          <h3>
            <a
              class="item"
              href="https://www.vijayp.dev/blog/rewrite-plain-html/"
              >Rewriting my website in plain HTML and CSS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 22:57:19</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42705077"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42704491">
          <h3>
            <a
              class="item"
              href="https://www.theautopian.com/if-you-ever-see-this-speed-sign-youre-probably-going-to-die/"
              >Road signs to help people limit radiation exposure in
              contaminated areas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 21:59:12</span
              ><span class="points-container"
                >Points: <span class="points">249</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42704491"
                  >Comments</a
                ><span class="descendants">: 159</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42704160">
          <h3>
            <a class="item" href="https://www.simplex.sh/playground"
              >Show HN: Simplex: Automate browser workflows using code and
              natural language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 21:30:14</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42704160"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <p>
                Here's a quick video to show you how it works:
                <a
                  href="https://www.loom.com/share/8d27d0f9e0f34c77a81b0ac770151c12"
                  >https://www.loom.com/share/8d27d0f9e0f34c77a81b0ac770151c12</a
                >
              </p>
              <p>
                A couple weeks ago, we needed a way to automatically find 3D
                assets from the internet for one of our work contracts. We
                didn’t need an AI to choose all the steps for us autonomously —
                we knew generally what the flow to find items should be and just
                needed some intelligence to handle different webpage formats.
              </p>
              <p>
                Playwright couldn’t easily generalize to the different sites we
                wanted to search over and Claude computer use was tough to use —
                it was slow, expensive, struggled to click on the correct web
                elements, and there was no way to correct its actions if it
                failed at step 20 of our workflow.
              </p>
              <p>
                So we built a vision-based solution using vision language models
                that sits on top of Playwright. In our SDK, building a function
                that can universally search websites is as easy as this:
              </p>
              <p></p>
              <pre><code>    from simplex import Simplex
    simplex = Simplex(api_key="api_key")
    
    def search(website, search_query):
        simplex.goto(website)
        simplex.click("the search bar")
        simplex.type(search_query)
        simplex.press_enter()
        
    search("mit.edu", "alyssa p hacker")
</code></pre>
              You can play around with what we’ve built and see a few more
              examples at
              <a href="https://simplex.sh/playground"
                >https://simplex.sh/playground</a
              >.
              <p>We'd love feedback!</p>
            </div>
          </section>
        </section>
        <section id="42704078">
          <h3>
            <a
              class="item"
              href="https://p.migdal.pl/blog/2025/01/dont-use-cosine-similarity/"
              >Don't use cosine similarity carelessly</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 21:23:21</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42704078"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42703282">
          <h3>
            <a
              class="item"
              href="https://philipotoole.com/how-is-rqlite-tested/"
              >How rqlite is tested</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 20:21:47</span
              ><span class="points-container"
                >Points: <span class="points">178</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42703282"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42700997">
          <h3>
            <a
              class="item"
              href="https://docs.google.com/spreadsheets/d/1TPeJzW5pa-BiJZjuEa1yGSFs7ZJetbnxf2gjMvv4tkc/edit?usp=sharing"
              >Home Loss File System</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 17:54:51</span
              ><span class="points-container"
                >Points: <span class="points">224</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42700997"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42700852">
          <h3>
            <a
              class="item"
              href="https://docs.marimo.io/guides/publishing/playground/#open-notebooks-hosted-on-github"
              >Show HN: WASM-powered codespaces for Python notebooks on
              GitHub</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 17:46:41</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42700852"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <p>
                Last year, we shared marimo [1], an open-source reactive
                notebook for Python with support for execution through
                WebAssembly [2].
              </p>
              <p>
                We wanted to share something new: you can now run marimo and
                Jupyter notebooks directly from GitHub in a Wasm-powered,
                codespace-like environment. What makes this powerful is that we
                mount the GitHub repository's contents as a filesystem in the
                notebook, making it really easy to share notebooks with data.
              </p>
              <p>
                All you need to do is prepend 'marimo.app' to any Python
                notebook on GitHub. Some examples:
              </p>
              <p>
                - Jupyter Notebook:
                <a
                  href="https://marimo.app/github.com/jakevdp/PythonDataScienceHandbook/blob/master/notebooks/02.08-Sorting.ipynb"
                  >https://marimo.app/github.com/jakevdp/PythonDataScienceHandb...</a
                >
              </p>
              <p>
                - marimo notebook:
                <a
                  href="https://marimo.app/github.com/marimo-team/marimo/blob/07e8d14109f7312f19916fd13e4046a561a740f8/examples/third_party/polars/polars_example.py"
                  >https://marimo.app/github.com/marimo-team/marimo/blob/07e8d1...</a
                >
              </p>
              <p>
                Jupyter notebooks are automatically converted into marimo
                notebooks using basic static analysis and source code
                transformations. Our conversion logic assumes the notebook was
                meant to be run top-down, which is usually but not always true
                [3]. It can convert many notebooks, but there are still some
                edge cases.
              </p>
              <p>
                We implemented the filesystem mount using our own FUSE-like
                adapter that links the GitHub repository’s contents to the
                Python filesystem, leveraging Emscripten’s filesystem API. The
                file tree is loaded on startup to avoid waterfall requests when
                reading many directories deep, but loading the file contents is
                lazy. For example, when you write Python that looks like
              </p>
              <p>```python</p>
              <p>with open("./data/cars.csv") as f: print(f.read())</p>
              <p># or</p>
              <p>import pandas as pd pd.read_csv("./data/cars.csv")</p>
              <p>```</p>
              <p>
                behind the scenes, you make a request [4] to
                <a
                  href="https://raw.githubusercontent.com/&lt;org&gt;/&lt;repo&gt;/main/data/cars.csv"
                  >https://raw.githubusercontent.com/&lt;org&gt;/&lt;repo&gt;/main/data/car...</a
                >.
              </p>
              <p>
                Docs:
                <a
                  href="https://docs.marimo.io/guides/publishing/playground/#open-notebooks-hosted-on-github"
                  >https://docs.marimo.io/guides/publishing/playground/#open-no...</a
                >
              </p>
              <p>
                [1]
                <a href="https://github.com/marimo-team/marimo"
                  >https://github.com/marimo-team/marimo</a
                >
              </p>
              <p>
                [2]
                <a href="https://news.ycombinator.com/item?id=39552882"
                  >https://news.ycombinator.com/item?id=39552882</a
                >
              </p>
              <p>
                [3]
                <a
                  href="https://blog.jetbrains.com/datalore/2020/12/17/we-downloaded-10-000-000-jupyter-notebooks-from-github-this-is-what-we-learned/"
                  >https://blog.jetbrains.com/datalore/2020/12/17/we-downloaded...</a
                >
              </p>
              <p>
                [4] We technically proxy it through the playground
                <a href="https://marimo.app">https://marimo.app</a> to fix CORS
                issues and GitHub rate-limiting.
              </p>
            </div>
          </section>
        </section>
        <section id="42699099">
          <h3>
            <a
              class="item"
              href="https://trufflesecurity.com/blog/millions-at-risk-due-to-google-s-oauth-flaw"
              >Google’s OAuth login doesn’t protect against purchasing a failed
              startup domain</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 16:14:01</span
              ><span class="points-container"
                >Points: <span class="points">444</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42699099"
                  >Comments</a
                ><span class="descendants">: 239</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42698753">
          <h3>
            <a
              class="item"
              href="https://arena-ai.github.io/structured-logprobs/"
              >Show HN: Value likelihoods for OpenAI structured output</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 15:52:43</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42698753"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42698737">
          <h3>
            <a
              class="item"
              href="https://newsletter.goodtechthings.com/p/why-are-tech-people-suddenly-so-into"
              >Why is homeschooling becoming fashionable?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 15:51:33</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42698737"
                  >Comments</a
                ><span class="descendants">: 440</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42697467">
          <h3>
            <a
              class="item"
              href="https://www.fortressofdoors.com/take-the-pedals-off-the-bike/"
              >Take the Pedals Off the Bike</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 14:17:52</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42697467"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42697346">
          <h3>
            <a
              class="item"
              href="https://github.com/popcar2/BadWebsiteBlocklist"
              >Show HN: A blocklist to remove spam and bad websites from search
              results</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 14:06:41</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42697346"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've been fed up with search results so much that I decided to
                make a giant blocklist to remove garbage links by using
                uBlacklist.
              </p>
              <p>
                I browsed other blocklists and wasn't very satisfied from what
                exists now; the goal of this one is to be super organized and
                transparent, explaining why each site was blocked via issues.
                Contributions welcome!
              </p>
              <p>
                Even though around 100 domains are blocked so far, I already
                noticed a big improvement in casual searches. You'd be surprised
                how some AI generated websites can dominate the #1 page on
                DuckDuckGo.
              </p>
            </div>
          </section>
        </section>
        <section id="42697335">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=H-nO1F-AO9I"
              >Servo vs. steppers: Speed, Torque and Accuracy [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 14:05:40</span
              ><span class="points-container"
                >Points: <span class="points">172</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42697335"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42696517">
          <h3>
            <a
              class="item"
              href="https://www.ornl.gov/news/plant-co2-uptake-rises-nearly-one-third-new-global-estimates"
              >Estimates of plant CO2 uptake rise by nearly one third</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 12:41:46</span
              ><span class="points-container"
                >Points: <span class="points">148</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42696517"
                  >Comments</a
                ><span class="descendants">: 134</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42695547">
          <h3>
            <a class="item" href="https://ffmpegbyexample.com/"
              >FFmpeg by Example</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-14 @ 09:58:15</span
              ><span class="points-container"
                >Points: <span class="points">520</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42695547"
                  >Comments</a
                ><span class="descendants">: 130</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42686144">
          <h3>
            <a class="item" href="https://ryanis.cool/cosmos/"
              >Cosmos Keyboard: Scan your hand, build a keyboard</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-13 @ 17:42:00</span
              ><span class="points-container"
                >Points: <span class="points">242</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42686144"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42677158">
          <h3>
            <a
              class="item"
              href="https://iopscience.iop.org/article/10.1088/1361-6382/ad98df#cqgad98dff1"
              >Life on a Closed Timelike Curve</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 21:33:23</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42677158"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42676245">
          <h3>
            <a class="item" href="https://github.com/hlorenzi/customasm"
              >Customasm – An assembler for custom, user-defined instruction
              sets</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 19:42:38</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42676245"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42675529">
          <h3>
            <a class="item" href="https://modal.com/gpu-glossary/readme"
              >The Missing Nvidia GPU Glossary</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 18:22:07</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42675529"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42674003">
          <h3>
            <a class="item" href="https://freemusicarchive.org/home"
              >Free Music Archive</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 15:00:11</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42674003"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42673415">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/science/2025/01/getting-an-all-optical-ai-to-handle-non-linear-math/"
              >Getting an all-optical AI to handle non-linear math</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 13:33:39</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42673415"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42673273">
          <h3>
            <a class="item" href="https://github.com/pyper-dev/pyper"
              >Show HN: Pyper – Concurrent Python Made Simple</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 13:05:41</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42673273"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                We're excited to introduce the Pyper package for concurrency
                &amp; parallelism in Python. Pyper is a flexible framework for
                concurrent / parallel data processing, following the functional
                paradigm.
              </p>
              <p>
                Source code can be found on [github](<a
                  href="https://github.com/pyper-dev/pyper"
                  >https://github.com/pyper-dev/pyper</a
                >)
              </p>
              <p>Key features:</p>
              <p>
                Intuitive API: Easy to learn, easy to think about. Implements
                clean abstractions to seamlessly unify threaded, multiprocessed,
                and asynchronous work.
              </p>
              <p>
                Functional Paradigm: Python functions are the building blocks of
                data pipelines. Let's you write clean, reusable code naturally.
              </p>
              <p>
                Safety: Hides the heavy lifting of underlying task execution and
                resource clean-up. No more worrying about race conditions,
                memory leaks, or thread-level error handling.
              </p>
              <p>
                Efficiency: Designed from the ground up for lazy execution,
                using queues, workers, and generators.
              </p>
              <p>Pure Python: Lightweight, with zero sub-dependencies.</p>
              <p>We'd love to hear any feedback on this project!</p>
            </div>
          </section>
        </section>
        <section id="42672724">
          <h3>
            <a
              class="item"
              href="http://muratbuffalo.blogspot.com/2023/08/distributed-transactions-at-scale-in.html"
              >Distributed Transactions at Scale in Amazon DynamoDB</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 11:12:29</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42672724"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42672366">
          <h3>
            <a class="item" href="https://rodyne.com/?p=1674"
              >Das Blinkenlights</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 09:39:50</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42672366"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
            <div class="text">
              <p>
                If you have a little electronics skill then you may want to make
                a few of these babies to let your server rack party like a
                1970's mainframe.
              </p>
              <p>
                Just a fun little project done over a couple of days at XMAS,
                and probably best not to install in the corporate server room!
              </p>
            </div>
          </section>
        </section>
        <section id="42672015">
          <h3>
            <a
              class="item"
              href="https://www.instructables.com/Virtual-Vette-Racing-Simulator-Built-From-Wrecked-/"
              >Virtual Vette – Racing Simulator Built from Wrecked Corvette</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-12 @ 08:04:57</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42672015"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42666959">
          <h3>
            <a class="item" href="https://boehs.org/node/homomorphic-encryption"
              >Homomorphic Encryption in iOS 18</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-11 @ 16:35:00</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42666959"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42660606">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/reversible-computing"
              >Reversible computing escapes the lab</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-10 @ 21:42:54</span
              ><span class="points-container"
                >Points: <span class="points">236</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42660606"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
