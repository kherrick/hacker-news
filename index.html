<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44371169">
          <h3>
            <a class="item" href="https://www.archives.gov/college-park"
              >National Archives to restrict public access starting July 7</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 21:18:45</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44371169"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44370494">
          <h3>
            <a
              class="item"
              href="https://www.vda.de/en/press/press-releases/2025/250624_PM_Automotive_industry_signs_Memorandum_of_Understanding"
              >The German automotive industry wants to develop open-source
              software together</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 20:07:51</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44370494"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44370426">
          <h3>
            <a
              class="item"
              href="https://shanrauf.com/archive/how-to-think-about-time-in-programming"
              >How to Think About Time in Programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 20:01:42</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44370426"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44370370">
          <h3>
            <a
              class="item"
              href="https://blog.getjetback.com/the-economics-behind-basic-economy-a-masterclass-in-price-discrimination/"
              >The economics behind "Basic Economy" – A masterclass in price
              discrimination</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 19:55:53</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44370370"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44370249">
          <h3>
            <a
              class="item"
              href="https://thezvi.substack.com/p/analyzing-a-critique-of-the-ai-2027"
              >Analyzing a Critique of the AI 2027 Timeline Forecasts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 19:44:53</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44370249"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369646">
          <h3>
            <a
              class="item"
              href="https://flak.tedunangst.com/post/forbidden-secrets-of-ancient-X11-scaling-technology-revealed"
              >Ancient X11 scaling technology</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:58:32</span
              ><span class="points-container"
                >Points: <span class="points">134</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369646"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369642">
          <h3>
            <a
              class="item"
              href="https://docs.rs/subsecond/0.7.0-alpha.1/subsecond/index.html"
              >Subsecond: A runtime hotpatching engine for Rust hot-reloading</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:58:11</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369642"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369587">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2506.18899"
              >Bridging Cinematic Principles and Generative AI for Automated
              Film Generation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:55:14</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369587"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369388">
          <h3>
            <a
              class="item"
              href="https://www.cottongeeks.com/articles/2025-06-24-fun-with-uv-and-pep-723"
              >Fun with uv and PEP 723</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:41:26</span
              ><span class="points-container"
                >Points: <span class="points">243</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369388"
                  >Comments</a
                ><span class="descendants">: 85</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44368315">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44368315"
              >Expand.ai (YC S24) is hiring a founding engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 17:00:25</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>At expand.ai we're making that a reality.</p>
              <p>
                A combination of distributed systems, custom models, browser
                infrastructure, and a lot of passion from a tiny team, in-person
                here in Dogpatch, SF, is all you need.
              </p>
              <p>
                Apply if you're interested in working on bleeding-edge web
                agents applied at a large scale.
              </p>
              <p>
                We have a very talented team, great architects, and some have
                even worked on custom hardware before.
              </p>
              <p>
                I'm Tim, a 2nd-time founder, and I have sold my last company,
                Stellate, to Shopify.
              </p>
              <p>
                Write me at founder@expand.ai if you're interested. Let's go!
              </p>
              <p>
                <a href="https://expand.ai/careers/founding-engineer"
                  >https://expand.ai/careers/founding-engineer</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44368217">
          <h3>
            <a class="item" href="http://sfstreets.noahveltman.com/"
              >SFStreets: History of San Francisco place names</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 16:52:05</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44368217"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44367638">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2025-06-24/chatgpt-vs-copilot-inside-the-openai-and-microsoft-rivalry"
              >ChatGPT's enterprise success against Copilot fuels
              OpenAI/Microsoft rivalry</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 16:02:02</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367638"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44367548">
          <h3>
            <a class="item" href="https://xbow.com/blog/top-1-how-xbow-did-it/"
              >XBOW, an autonomous penetration tester, has reached the top spot
              on HackerOne</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 15:53:12</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367548"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44367084">
          <h3>
            <a
              class="item"
              href="https://blog.jsbarretto.com/post/software-is-joy"
              >Writing toy software is a joy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 15:09:12</span
              ><span class="points-container"
                >Points: <span class="points">449</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367084"
                  >Comments</a
                ><span class="descendants">: 192</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44367071">
          <h3>
            <a
              class="item"
              href="https://www.nordicsemi.com/Nordic-news/2025/06/Nordic-Semiconductor-acquires-Memfault"
              >Nordic Semiconductor Acquires Memfault</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 15:07:49</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367071"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366548">
          <h3>
            <a class="item" href="https://www.plasticlist.org/"
              >PlasticList – Plastic Levels in Foods</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:18:11</span
              ><span class="points-container"
                >Points: <span class="points">252</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366548"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366494">
          <h3>
            <a
              class="item"
              href="https://lucalp.dev/bitter-lesson-tokenization-and-blt/"
              >The bitter lesson is coming for tokenization</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:14:03</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366494"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366409">
          <h3>
            <a
              class="item"
              href="https://deepmind.google/discover/blog/gemini-robotics-on-device-brings-ai-to-local-robotic-devices/"
              >Gemini Robotics On-Device brings AI to local robotic devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:05:10</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366409"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366395">
          <h3>
            <a class="item" href="https://github.com/justbuchanan/oasis"
              >Show HN: Oasis – an open-source, 3D-printed smart terrarium</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:03:41</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366395"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
            <div class="text">
              <a href="https://oasis-terrarium.com"
                >https://oasis-terrarium.com</a
              >
              <p>
                This project is an enclosure for growing plants. Features
                include:
              </p>
              <p></p>
              <pre><code>  - high-power LED lighting
  - a built-in water tank and mister
  - fans for airflow
  - temperature and humidity sensing
  - wi-fi connectivity and a web-based interface for control and monitoring (see https://oasis-terrarium.com/docs/usage_guide/#web-interface)
</code></pre>
              The entire project is open-source:
              <p></p>
              <pre><code>  - electronics: designed in KiCad
  - 3D models: designed in CadQuery
  - software: written in Rust
</code></pre>
              I initially started this project during COVID and built a working
              prototype using a Raspberry Pi and off-the-shelf parts. The first
              prototype worked, but was pretty rough. Several months ago, I
              picked up the project again and began a complete re-design. After
              two rounds of circuit board design and countless iterations of the
              3D-printed parts, I'm finally happy with the results. Along the
              way I learned a lot about electronics design and fabrication, 3D
              modeling, and Rust.
              <p>Happy to answer any questions - thanks for checking it out!</p>
              <p>
                Here are some direct links to parts of the project you may find
                interesting:
              </p>
              <p></p>
              <pre><code>  - demo video: https://oasis-terrarium.com
  - detailed build guide with pictures: https://oasis-terrarium.com/docs/build_guide/
  - interactive 3D model: https://oasis-terrarium.com/docs/3dmodel/
  - detailed info on electronics design: https://oasis-terrarium.com/docs/electronics/
  - 3D-printable models: https://www.printables.com/model/1315117-oasis-smart-terrarium</code></pre>
            </div>
          </section>
        </section>
        <section id="44365806">
          <h3>
            <a
              class="item"
              href="https://www.downtowndougbrown.com/2025/06/finding-a-27-year-old-easter-egg-in-the-power-mac-g3-rom/"
              >Finding a 27-year-old easter egg in the Power Mac G3 ROM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 13:06:45</span
              ><span class="points-container"
                >Points: <span class="points">285</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44365806"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44365620">
          <h3>
            <a class="item" href="https://github.com/useautumn/autumn"
              >Show HN: Autumn – Open-source infra over Stripe</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 12:48:48</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44365620"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
            <div class="text">
              <a href="https://useautumn.com/">https://useautumn.com/</a>).
              Autumn is an open source layer over Stripe that decouples pricing
              and billing logic from your application. We let you efficiently
              manage pricing plans, feature permissions, and payments,
              regardless of the pricing model being used. It’s a bit like if
              Supabase and Stripe had a baby.
              <p>
                Typically, you have to write code to handle checkouts,
                upgrades/downgrades, failed payments, then receive webhooks to
                provision features, reset usage limits etc. We abstract this
                into one function call for all payments flows (checkouts,
                upgrades, downgrades etc), one function to record usage (so we
                can track usage limits), and a customer state React hook you can
                access from your frontend (to handle paywalls, display usage
                data etc).
              </p>
              <p>
                Here’s a demo:
                <a href="https://www.youtube.com/watch?v=SFARthC7JXc"
                  >https://www.youtube.com/watch?v=SFARthC7JXc</a
                >
              </p>
              <p>
                Stripe’s great! But there are 2 main reasons people use Autumn
                over a direct Stripe setup:
              </p>
              <p>
                (1) Billing infra can get complex. After payments, there’s still
                handling webhooks, permission management, metering, usage
                resets, and connecting them all to upgrade, downgrade,
                cancellation and failed payments states.
              </p>
              <p>
                (2) Growing companies iterate on pricing often: raising prices,
                experimenting with credits or charging for new features, etc. We
                save you from having to handle usage-based limits (super common
                in pricing today), rebuilding in-app flows, DB migrations,
                internal dashboards for custom pricing, and grandfathering users
                on different pricing.
              </p>
              <p>
                Ripping out billing flows etc, really sucks. With Autumn, you
                just make pricing changes in our UI and it all auto-updates. We
                have a shadcn/ui component library that helps with this.
              </p>
              <p>
                Because we support a lot of different pricing models
                (subscriptions, usage, credits, seat based etc), we have to
                handle a lot of different scenarios and cases under the hood. We
                try to keep setup simple while maintaining flexibility of a
                native integration. Here’s a little snippet of the architecture
                of our main endpoint:
                <a href="https://useautumn.com/blog/attach"
                  >https://useautumn.com/blog/attach</a
                >
              </p>
              <p>
                Currently, the users who get the most value out of us are
                founders that need to move fast and keep things flexible, but
                also new/non-technical devs that are more AI native.
              </p>
              <p>
                You can clone the project and explore the repo, or try it out at
                <a href="https://useautumn.com/">https://useautumn.com/</a>,
                where it’s free for builders. Our repo is
                <a href="https://github.com/useautumn/autumn"
                  >https://github.com/useautumn/autumn</a
                >, docs are at
                <a href="https://docs.useautumn.com/"
                  >https://docs.useautumn.com/</a
                >
                and demo at
                <a href="https://www.youtube.com/watch?v=SFARthC7JXc"
                  >https://www.youtube.com/watch?v=SFARthC7JXc</a
                >
              </p>
              <p>
                We’d love to hear your feedback and how we could make it better!
              </p>
            </div>
          </section>
        </section>
        <section id="44365320">
          <h3>
            <a
              class="item"
              href="https://damek.github.io/random/basic-facts-about-gpus/"
              >Basic Facts about GPUs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 12:15:12</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44365320"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44364874">
          <h3>
            <a class="item" href="https://starship.rs/"
              >Starship: The minimal, fast, and customizable prompt for any
              shell</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 11:11:52</span
              ><span class="points-container"
                >Points: <span class="points">350</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44364874"
                  >Comments</a
                ><span class="descendants">: 169</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44353055">
          <h3>
            <a class="item" href="https://www.timdle.com/"
              >Timdle – Place historical events in chronological order</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 06:39:20</span
              ><span class="points-container"
                >Points: <span class="points">144</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44353055"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44343810">
          <h3>
            <a
              class="item"
              href="https://www.cbc.ca/sports/olympics/winter/curling/world-curling-broom-ban-1.7566638"
              >World Curling tightens sweeping rules, bans firmer broom foams
              ahead of Olympics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 05:00:29</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44343810"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44338933">
          <h3>
            <a
              class="item"
              href="https://danieltan.weblog.lol/2025/06/map-llms-excel-saved-my-passion-for-game-dev"
              >Mapping LLMs over excel saved my passion for game dev</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 16:48:02</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44338933"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44338793">
          <h3>
            <a
              class="item"
              href="https://www.stainless.com/blog/mcp-is-eating-the-world--and-its-here-to-stay"
              >MCP is eating the world</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 16:30:40</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44338793"
                  >Comments</a
                ><span class="descendants">: 123</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44338134">
          <h3>
            <a
              class="item"
              href="https://blog.detorch.xyz/post/2025-06-21-pytorch-reshaping-with-none.md"
              >PyTorch Reshaping with None</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 15:03:45</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44338134"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44338119">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=0FSWzr5kjhg"
              >The Mathematics of Juggling [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 15:01:15</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44338119"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44330585">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/defending-the-internet-how-cloudflare-blocked-a-monumental-7-3-tbps-ddos/"
              >How Cloudflare blocked a monumental 7.3 Tbps DDoS attack</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 18:34:21</span
              ><span class="points-container"
                >Points: <span class="points">207</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44330585"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
