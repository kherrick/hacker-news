<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45540989">
          <h3>
            <a
              class="item"
              href="https://president.mit.edu/writing-speeches/regarding-compact"
              >Regarding the Compact</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 16:49:09</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45540989"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45540585">
          <h3>
            <a
              class="item"
              href="https://www.propublica.org/article/elon-musk-boring-company-violations-fines-vegas-loop"
              >Boring Company cited for almost 800 environmental violations in
              Las Vegas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 16:13:06</span
              ><span class="points-container"
                >Points: <span class="points">135</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45540585"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45540313">
          <h3>
            <a
              class="item"
              href="https://blog.boot.dev/education/vibe-code-hell/"
              >"Vibe code hell" has replaced "tutorial hell" in coding
              education</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 15:48:24</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45540313"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45540174">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2025/10/10/microsoft_copilot_viva_insights/"
              >Microsoft lets bosses spot teams that are dodging Copilot</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 15:37:43</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45540174"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45540171">
          <h3>
            <a class="item" href="https://github.com/diffplug/gitcasso"
              >Show HN: Gitcasso – Syntax Highlighting and Draft Recovery for
              GitHub Comments</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 15:37:27</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45540171"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>- Adds markdown syntax highlighting to GitHub textareas</p>
              <p>- Lists every open PR/issue tab and any drafts</p>
              <p>
                - (Optional, unimplemented) autosaves your comment drafts so you
                don’t lose work
              </p>
              <p>
                I made it because I was impressed by
                <a href="https://overtype.dev/">https://overtype.dev/</a> (a
                markdown textarea syntax highlighter) which went big on here on
                HN a few weeks ago, and it seemed like a perfect fit for a
                GitHub browser extension. Keeping up with changes on upstream
                GitHub would normally be a pain, but with with Playwright and
                Claude Code it seemed possible for it to be nearly automatic,
                which has turned out to be mostly true!
              </p>
              <p>
                This was the first time where I built a tool, gave the tool to
                AI, and then AI used the tool to make the thing I hoped it would
                be able to make. I'm pretty sold on the general technique...
              </p>
              <p>
                GitHub repo (Apache2-licensed, open source):
                <a href="https://github.com/diffplug/gitcasso"
                  >https://github.com/diffplug/gitcasso</a
                >
              </p>
              <p>
                Video walkthrough (2 mins of the tool, 12 mins of its
                development tooling):
                <a href="https://www.youtube.com/watch?v=wm7fVg4DWqk"
                  >https://www.youtube.com/watch?v=wm7fVg4DWqk</a
                >
              </p>
              <p>
                And a text writeup with timestamps to the video walkthrough
                <a href="https://nedshed.dev/p/meet-gitcasso"
                  >https://nedshed.dev/p/meet-gitcasso</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45540011">
          <h3>
            <a
              class="item"
              href="https://github.com/NixOS/nixpkgs/issues/444342"
              >You can't build tcc from Nixpkgs if you are in the UK</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 15:18:42</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45540011"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45539943">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/business/2025/oct/10/ryanair-flight-landed-at-manchester-airport-with-six-minutes-of-fuel-left-flight-log-suggests"
              >Ryanair flight landed at Manchester airport with six minutes of
              fuel left</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 15:11:04</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45539943"
                  >Comments</a
                ><span class="descendants">: 212</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45539845">
          <h3>
            <a
              class="item"
              href="https://www.yokohama-cu.ac.jp/english/news/20251001takahashi.html"
              >The Molecular Basis of Long Covid Brain Fog</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 15:00:51</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45539845"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45539609">
          <h3>
            <a
              class="item"
              href="https://jvns.ca/blog/2025/10/10/notes-on-switching-to-helix-from-vim/"
              >Notes on Switching to Helix from Vim</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 14:37:31</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45539609"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45539296">
          <h3>
            <a
              class="item"
              href="https://www.governance.fyi/p/all-natural-geoengineering-with-frank"
              >All-Natural Geoengineering with Frank Herbert's Dune</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 14:11:15</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45539296"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45538760">
          <h3>
            <a
              class="item"
              href="https://www.statichost.eu/blog/google-safe-browsing/"
              >Use a separate domain for user content</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 13:27:43</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45538760"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45538137">
          <h3>
            <a
              class="item"
              href="https://www.igalia.com/2025/10/09/Igalia,-Servo,-and-the-Sovereign-Tech-Fund.html"
              >Igalia, Servo, and the Sovereign Tech Fund</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 12:21:02</span
              ><span class="points-container"
                >Points: <span class="points">260</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45538137"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45537938">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/weave-3/jobs/SqFnIFE-founding-ai-engineer"
              >Weave (YC W25) is hiring a founding AI engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 12:01:02</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45537890">
          <h3>
            <a
              class="item"
              href="https://www.supergoodcode.com/mesh-shaders-in-the-current-year/"
              >OpenGL is getting mesh shaders as well, via GL_EXT_mesh_shader</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 11:56:05</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45537890"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45536816">
          <h3>
            <a
              class="item"
              href="https://vectrx.substack.com/p/webgpu-cellular-automata"
              >Parallelizing Cellular Automata with WebGPU Compute Shaders</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 09:20:22</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45536816"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45536700">
          <h3>
            <a
              class="item"
              href="https://www.nobelprize.org/prizes/peace/2025/summary/"
              >Nobel Peace Prize 2025: María Corina Machado</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 09:03:16</span
              ><span class="points-container"
                >Points: <span class="points">484</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45536700"
                  >Comments</a
                ><span class="descendants">: 510</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45536694">
          <h3>
            <a
              class="item"
              href="https://discrete-distribution-networks.github.io/"
              >Show HN: I invented a new generative model and got accepted to
              ICLR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 09:01:54</span
              ><span class="points-container"
                >Points: <span class="points">358</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45536694"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
            <div class="text">
              <p>
                Modeling data distribution is challenging; DDN adopts a simple
                yet fundamentally different approach compared to mainstream
                generative models (Diffusion, GAN, VAE, autoregressive model):
              </p>
              <p>
                1. The model generates multiple outputs simultaneously in a
                single forward pass, rather than just one output. 2. It uses
                these multiple outputs to approximate the target distribution of
                the training data. 3. These outputs together represent a
                discrete distribution. This is why we named it "Discrete
                Distribution Networks".
              </p>
              <p>
                Every generative model has its unique properties, and DDN is no
                exception. Here, we highlight three characteristics of DDN:
              </p>
              <p>
                - Zero-Shot Conditional Generation (ZSCG). - One-dimensional
                discrete latent representation organized in a tree structure. -
                Fully end-to-end differentiable.
              </p>
              <p>Reviews from ICLR:</p>
              <p>
                &gt; I find the method novel and elegant. The novelty is very
                strong, and this should not be overlooked. This is a whole new
                method, very different from any of the existing generative
                models. &gt; This is a very good paper that can open a door to
                new directions in generative modeling.
              </p>
            </div>
          </section>
        </section>
        <section id="45536325">
          <h3>
            <a
              class="item"
              href="https://ramsayleung.github.io/en/post/2025/a_story_about_bypassing_air_canadas_in-flight_network_restrictions/"
              >A story about bypassing air Canada's in-flight network
              restrictions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 07:50:54</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45536325"
                  >Comments</a
                ><span class="descendants">: 95</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45536000">
          <h3>
            <a
              class="item"
              href="https://everydaysuperpowers.dev/articles/why-i-switched-from-htmx-to-datastar/"
              >I Switched from Htmx to Datastar</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 06:49:40</span
              ><span class="points-container"
                >Points: <span class="points">270</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45536000"
                  >Comments</a
                ><span class="descendants">: 200</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45535424">
          <h3>
            <a
              class="item"
              href="https://raymondtana.github.io/projects/pages/Lights_Out.html"
              >Show HN: Lights Out: my 2D Rubik's Cube-like Game</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 04:40:19</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45535424"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>
                What's the catch? Clicking a cell will not only flip its color,
                but also that of all cells sharing the same row or column as it.
              </p>
              <p>
                To me, this game feels like playing with a Rubik's cube ---
                every time you think you are fixing one cell, you mess up its
                neighbors!
              </p>
              <p>
                There are many ways to arrive at a solution... some mathematical
                (linear algebra, or combinatorics), others more logical,... and
                yet others which are brute force.
              </p>
              <p>
                The title “Lights Out” comes from a classic handheld game from
                1997. The “rule” they follow for
                which-cells-get-flipped-on-click is what I call “Adjacent.”
                Additionally, my mathematics teacher showed me this game
                following another variant which I call “Same Row &amp; Column,”
                but on a bigger board. He had worked out an algorithm for his
                version. I found the same strategy before he revealed the
                answer, and I feel that the process of discovering a solution is
                quite rewarding—it’s fundamentally related to computing on
                restrictive computer architectures.
              </p>
              <p>
                I implemented this app with pretty basic TypeScript. It’s been
                used for some experiments to discover more general of strategies
                for different click variants, board sizes, and even board
                dimensions! It has also been the basis for the corresponding
                video produced using the Python library <i>manim</i>.
              </p>
              <p>Try it out and let me know how you do!</p>
            </div>
          </section>
        </section>
        <section id="45535202">
          <h3>
            <a
              class="item"
              href="https://mitchellh.com/writing/building-large-technical-projects"
              >My approach to building large technical projects (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-10 @ 03:45:29</span
              ><span class="points-container"
                >Points: <span class="points">272</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45535202"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45532090">
          <h3>
            <a
              class="item"
              href="https://rakhim.exotext.com/examples-are-the-best-documentation"
              >Examples Are the Best Documentation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 19:34:36</span
              ><span class="points-container"
                >Points: <span class="points">328</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45532090"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45529587">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/research/small-samples-poison"
              >A small number of samples can poison LLMs of any size</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 16:04:04</span
              ><span class="points-container"
                >Points: <span class="points">1088</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45529587"
                  >Comments</a
                ><span class="descendants">: 400</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45524702">
          <h3>
            <a
              class="item"
              href="https://blog.miguelgrinberg.com/post/python-3-14-is-here-how-fast-is-it"
              >Python 3.14 is here. How fast is it?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 07:40:42</span
              ><span class="points-container"
                >Points: <span class="points">673</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45524702"
                  >Comments</a
                ><span class="descendants">: 485</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45512373">
          <h3>
            <a
              class="item"
              href="https://sites.google.com/view/nanomi-org?usp=sharing"
              >NanoMi: Open-source transmission electron microscope</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 05:24:51</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45512373"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45493158">
          <h3>
            <a
              class="item"
              href="https://www.shayon.dev/post/2025/277/an-mvcc-like-columnar-table-on-s3-with-constant-time-deletes/"
              >An MVCC-like columnar table on S3 with constant-time deletes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 16:33:43</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45493158"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45492704">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/origami-patterns-solve-a-major-physics-riddle-20251006/"
              >Origami Patterns Solve a Major Physics Riddle</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 15:53:29</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45492704"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45490740">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45490740"
              >Ask HN: What's the best hackable smart TV?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 12:42:19</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45490740"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
            <div class="text">
              <p>
                I want to buy this TV used. I'm seeing a bunch of Samsung, LG,
                RCA, Sony, etc on Facebook Marketplace. What a cesspool Facebook
                has become, right?
              </p>
              <p>
                Any suggestions on the best brand or even model for that kind of
                thing? I don't really want to battle with a bunch of shit that
                tries to coerce me to install another app from a streaming
                provider slash gambling entrypoint.
              </p>
              <p>
                I imagine mostly it will just need HDMI to work, and all the TVs
                will support that. But, I thought maybe there would be a fun
                brand that offers interesting other options.
              </p>
            </div>
          </section>
        </section>
        <section id="45489757">
          <h3>
            <a class="item" href="https://ohnotype.co/blog/ohno-type-school-a"
              >Ohno Type School</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 10:18:20</span
              ><span class="points-container"
                >Points: <span class="points">134</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45489757"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45489274">
          <h3>
            <a
              class="item"
              href="https://www.npmjs.com/package/@desplega.ai/qa-use-mcp"
              >QA-use-MCP: MCP for E2E testing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 09:00:00</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45489274"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
