<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43792248">
          <h3>
            <a class="item" href="https://gcc.gnu.org/gcc-15/"
              >GCC, the GNU Compiler Collection 15.1 released</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 10:53:59</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43792248"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43791474">
          <h3>
            <a
              class="item"
              href="https://addyo.substack.com/p/avoiding-skill-atrophy-in-the-age"
              >Avoiding Skill Atrophy in the Age of AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 08:30:54</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43791474"
                  >Comments</a
                ><span class="descendants">: 119</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43790855">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1018486/1dcd29863655cb25/"
              >Some __nonstring__ Turbulence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 06:46:45</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43790855"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43790420">
          <h3>
            <a
              class="item"
              href="https://www.morling.dev/blog/what-if-we-could-rebuild-kafka-from-scratch/"
              >What If We Could Rebuild Kafka from Scratch?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 05:34:52</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43790420"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43790093">
          <h3>
            <a
              class="item"
              href="https://deepmind.google/discover/blog/music-ai-sandbox-now-with-new-features-and-broader-access/"
              >DeepMind releases Lyria 2 music generation model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 04:25:15</span
              ><span class="points-container"
                >Points: <span class="points">258</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43790093"
                  >Comments</a
                ><span class="descendants">: 321</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43789593">
          <h3>
            <a class="item" href="https://www.jsoftware.com/papers/tot.htm"
              >Notation as a Tool of Thought (1979)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 02:30:34</span
              ><span class="points-container"
                >Points: <span class="points">214</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43789593"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43789501">
          <h3>
            <a
              class="item"
              href="https://codeberg.org/OSI-Concerns/election-results-2025#readme"
              >Petition to the Open Source Initiative: Publish the Full 2025
              Election Results</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 02:06:02</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43789501"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43789142">
          <h3>
            <a
              class="item"
              href="https://github.com/alexpusch/rust-magic-patterns/blob/master/visual-journey-through-async-rust/Readme.md"
              >A Visual Journey Through Async Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 00:50:35</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43789142"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43789010">
          <h3>
            <a class="item" href="https://github.com/fourlexboehm/faasta"
              >Show HN: Faasta – A self-hosted Serverless platform for
              WASM-wasi-HTTP in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-25 @ 00:31:05</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43789010"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
            <div class="text">
              <p>
                <a href="https://github.com/fourlexboehm/faasta"
                  >https://github.com/fourlexboehm/faasta</a
                >
              </p>
              <p>
                I was surprised there isn't yet an open/source and standards
                compliant way to host wasi-http functions in a way that takes
                advantages of WASM, a multi tenanted application.
              </p>
              <p>
                If you're not familiar with wasi, Compared to something like AWS
                Lambda, this approach is much more efficient as a single process
                can serve 1000s of function invocations concurrently and
                asynchronously, instead requiring an entire VM.
              </p>
              <p>
                This is still early days for the project, but feel free to
                download the cli utility with cargo install cargo-faasta.
              </p>
              <p>
                Feel free to test deploying functions on my hosted instance at
                <a href="https://website.faasta.xyz"
                  >https://website.faasta.xyz</a
                >.
              </p>
              <p>
                The service is free to use and currently supports deployments
                via GitHub OAuth, with a limit of 10 functions per GitHub
                account.
              </p>
            </div>
          </section>
        </section>
        <section id="43788255">
          <h3>
            <a
              class="item"
              href="https://www.swiss-miss.com/2025/04/a-love-letter-to-people-who-believe-in-people.html"
              >A Love Letter to People Who Believe in People</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 22:35:01</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43788255"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43788125">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2025/04/24/microsoft_vs_code_subtracts_cc_extension/"
              >Microsoft subtracts C/C++ extension from VS Code forks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 22:18:49</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43788125"
                  >Comments</a
                ><span class="descendants">: 253</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43788053">
          <h3>
            <a
              class="item"
              href="https://newscenter.lbl.gov/2025/04/24/scientists-develop-artificial-leaf-that-uses-sunlight-to-produce-valuable-chemicals/"
              >Scientists Develop Artificial Leaf, Uses Sunlight to Produce
              Valuable Chemicals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 22:10:15</span
              ><span class="points-container"
                >Points: <span class="points">202</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43788053"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43787676">
          <h3>
            <a
              class="item"
              href="https://www.chrbutler.com/you-can-be-a-great-designer-and-be-completely-unknown"
              >You Can Be a Great Designer and Be Completely Unknown</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 21:24:58</span
              ><span class="points-container"
                >Points: <span class="points">205</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43787676"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43786514">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2503.19779"
              >PyGraph: Robust Compiler Support for CUDA Graphs in PyTorch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 19:28:29</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43786514"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43786506">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/image-generation-api/"
              >OpenAI releases image generation in the API</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 19:27:51</span
              ><span class="points-container"
                >Points: <span class="points">436</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43786506"
                  >Comments</a
                ><span class="descendants">: 249</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43785044">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43785044"
              >Show HN: Lemon Slice Live – Have a video call with a transformer
              model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 17:10:14</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43785044"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.youtube.com/watch?v=CeYp5xQMFZY"
                >https://www.youtube.com/watch?v=CeYp5xQMFZY</a
              >. Try it for yourself at:
              <a href="https://lemonslice.com/live"
                >https://lemonslice.com/live</a
              >.
              <p>
                (Btw, we used to be called Infinity AI and did a Show HN under
                that name last year:
                <a href="https://news.ycombinator.com/item?id=41467704"
                  >https://news.ycombinator.com/item?id=41467704</a
                >.)
              </p>
              <p>
                Unlike existing avatar video chat platforms like HeyGen, Tolan,
                or Apple Memoji filters, we do not require training custom
                models, rigging a character ahead of time, or having a human
                drive the avatar. Our tech allows users to create and
                immediately video-call a custom character by uploading a single
                image. The character image can be any style - from
                photorealistic to cartoons, paintings, and more.
              </p>
              <p>
                To achieve this demo, we had to do the following (among other
                things! but these were the hardest):
              </p>
              <p>
                1. Training a fast DiT model. To make our video generation fast,
                we had to both design a model that made the right trade-offs
                between speed and quality, and use standard distillation
                approaches. We first trained a custom video diffusion
                transformer (DiT) from scratch that achieves excellent lip and
                facial expression sync to audio. To further optimize the model
                for speed, we applied teacher-student distillation. The
                distilled model achieves 25fps video generation at 256-px
                resolution. Purpose-built transformer ASICs will eventually
                allow us to stream our video model at 4k resolution.
              </p>
              <p>
                2. Solving the infinite video problem. Most video DiT models
                (Sora, Runway, Kling) generate 5-second chunks. They can
                iteratively extend it by another 5sec by feeding the end of the
                1st chunk into the start of the 2nd in an autoregressive manner.
                Unfortunately the models experience quality degradation after
                multiple extensions due to accumulation of generation errors. We
                developed a temporal consistency preservation technique that
                maintains visual coherence across long sequences. Our technique
                significantly reduces artifact accumulation and allows us to
                generate indefinitely-long videos.
              </p>
              <p>
                3. A complex streaming architecture with minimal latency.
                Enabling an end-to-end avatar zoom call requires several
                building blocks, including voice transcription, LLM inference,
                and text-to-speech generation in addition to video generation.
                We use Deepgram as our AI voice partner. Modal as the end-to-end
                compute platform. And Daily.co and Pipecat to help build a
                parallel processing pipeline that orchestrates everything via
                continuously streaming chunks. Our system achieves end-to-end
                latency of 3-6 seconds from user input to avatar response. Our
                target is &lt;2 second latency.
              </p>
              <p>
                More technical details here:
                <a href="https://lemonslice.com/live/technical-report"
                  >https://lemonslice.com/live/technical-report</a
                >.
              </p>
              <p>
                Current limitations that we want to solve include: (1) enabling
                whole-body and background motions (we’re training a next-gen
                model for this), (2) reducing delays and improving resolution
                (purpose-built ASICs will help), (3) training a model on dyadic
                conversations so that avatars learn to listen naturally, and (4)
                allowing the character to “see you” and respond to what they see
                to create a more natural and engaging conversation.
              </p>
              <p>
                We believe that generative video will usher in a new media type
                centered around interactivity: TV shows, movies, ads, and online
                courses will stop and talk to us. Our entertainment will be a
                mixture of passive and active experiences depending on what
                we’re in the mood for. Well, prediction is hard, especially
                about the future, but that’s how we see it anyway!
              </p>
              <p>
                We’d love for you to try out the demo and let us know what you
                think! Post your characters and/or conversation recordings
                below.
              </p>
            </div>
          </section>
        </section>
        <section id="43785039">
          <h3>
            <a class="item" href="https://status.open-vsx.org/"
              >OpenVSX, which VSCode forks rely on for extensions, down for 24
              hours</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 17:09:56</span
              ><span class="points-container"
                >Points: <span class="points">216</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43785039"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43784721">
          <h3>
            <a
              class="item"
              href="https://bigthink.com/starts-with-a-bang/21cm-magic-length/"
              >One quantum transition makes light at 21 cm</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 16:38:54</span
              ><span class="points-container"
                >Points: <span class="points">238</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43784721"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43784200">
          <h3>
            <a
              class="item"
              href="https://www.claudiu-ivan.com/writing/search-dsl"
              >A Principled Approach to Querying Data – A Type-Safe Search
              DSL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 15:53:15</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43784200"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43784056">
          <h3>
            <a
              class="item"
              href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5106235"
              >Asymmetric Content Moderation in Search Markets: The Case of
              Adult Websites</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 15:38:44</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43784056"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43783416">
          <h3>
            <a
              class="item"
              href="https://www.bitsnbites.eu/three-fundamental-flaws-of-simd/"
              >Fundamental flaws of SIMD ISAs (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 14:42:03</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43783416"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43782406">
          <h3>
            <a
              class="item"
              href="https://motherduck.com/blog/introducing-instant-sql/"
              >Instant SQL for results as you type in DuckDB UI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 13:23:26</span
              ><span class="points-container"
                >Points: <span class="points">340</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43782406"
                  >Comments</a
                ><span class="descendants">: 111</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43782299">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43782299"
              >Ask HN: Share your AI prompt that stumps every model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 13:11:22</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43782299"
                  >Comments</a
                ><span class="descendants">: 526</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've seen a bunch of those prompts scattered across HN, so
                thought to open a thread here so we can maybe have a centralied
                location for this.
              </p>
              <p>Share your prompt that stumps every AI model here.</p>
            </div>
          </section>
        </section>
        <section id="43781888">
          <h3>
            <a
              class="item"
              href="https://code.mendhak.com/gpl-v2-address-letter/"
              >I wrote to the address in the GPLv2 license notice (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 12:26:38</span
              ><span class="points-container"
                >Points: <span class="points">704</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43781888"
                  >Comments</a
                ><span class="descendants">: 511</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43780918">
          <h3>
            <a class="item" href="https://plutonic.dev"
              >Show HN: I built Lovable for text bots and mini apps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 10:03:53</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43780918"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
            <div class="text">
              <p>
                During the last weeks, I've been working to create a system that
                allows you to convert prompts into chatbots and mini apps on
                platforms that everyone uses on a daily basis.
              </p>
              <p>The first integrated platform is Telegram:</p>
              <p>
                Telegram is a powerful platform with many integrations and
                features like bots, apps, games and even payments. So I thought
                it would be nice to make it easier to create these apps. I
                created a bot
                <a href="http://t.me/PlutonicDevBot"
                  >http://t.me/PlutonicDevBot</a
                >.
              </p>
              <p>
                Workflow is pretty simple: create or choose an existing bot and
                send a text/voice message about what to create just like you
                prompt everywhere. To get more instructions, use the /help and
                /howto commands.
              </p>
              <p>Planning to create the same solution for Slack and Discord.</p>
              <p>Thanks for taking a look. I would love to hear feedback.</p>
              <p><a href="https://plutonic.dev">https://plutonic.dev</a></p>
              <p>x.com/PlutonicDev</p>
              <p>
                [1]
                <a href="https://core.telegram.org/bots"
                  >https://core.telegram.org/bots</a
                >
              </p>
              <p>
                [2]
                <a href="https://core.telegram.org/bots/webapps"
                  >https://core.telegram.org/bots/webapps</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="43780876">
          <h3>
            <a
              class="item"
              href="https://web.stanford.edu/class/ee26n/Assignments/Assignment5.html"
              >Assignment 5: Cars and Key Fobs (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 09:53:22</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43780876"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43780363">
          <h3>
            <a
              class="item"
              href="https://pluralistic.net/2025/04/23/zuckerstreisand/#zdgaf"
              >Careless People</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-24 @ 08:17:11</span
              ><span class="points-container"
                >Points: <span class="points">886</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43780363"
                  >Comments</a
                ><span class="descendants">: 460</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43774169">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/library/Ij-tarpit-ideas-what-are-tarpit-ideas-how-to-avoid-them"
              >Tarpit ideas: What are tarpit ideas and how to avoid them (2023)
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-23 @ 16:59:36</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43774169"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43772110">
          <h3>
            <a class="item" href="https://www.logiquiz.com/"
              >Show HN: Logiquiz – Daily Self-Referential Puzzles</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-23 @ 13:43:39</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43772110"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                About twenty years ago, while I was in college, I first stumbled
                upon James Propp's Self-Referential Aptitude Test [1] and
                absolutely loved it. Ever since then, I've had this idea of
                turning that concept into a daily game, and I've finally built
                it:
                <a href="https://www.logiquiz.com/"
                  >https://www.logiquiz.com/</a
                >
              </p>
              <p>
                The game interface checks each question against the answers
                you've given, so it doesn't spoil anything by giving away the
                answers.
              </p>
              <p>
                There are five different tests each day, from very easy to very
                hard.
              </p>
              <p>I'd love to hear what you think!</p>
              <p>
                [1]:
                <a href="https://faculty.uml.edu/jpropp/srat-Q.txt"
                  >https://faculty.uml.edu/jpropp/srat-Q.txt</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="43761572">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2015-11-03/that-time-i-tried-to-buy-some-crude-oil"
              >I Tried to Buy an Actual Barrel of Crude Oil (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-22 @ 12:58:43</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43761572"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
