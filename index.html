<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46578701">
          <h3>
            <a
              class="item"
              href="https://twitter.com/SIGKITTEN/status/2009697031422652461"
              >Anthropic: Developing a Claude Code competitor using Claude Code
              is banned</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 19:07:08</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46578701"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46578497">
          <h3>
            <a
              class="item"
              href="https://about.fb.com/news/2026/01/meta-nuclear-energy-projects-power-american-ai-leadership/"
              >Meta announces nuclear energy projects</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 18:49:32</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46578497"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46578339">
          <h3>
            <a class="item" href="https://wiki.mozilla.org/Areweyet"
              >Are We ... Yet?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 18:37:10</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46578339"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46577464">
          <h3>
            <a class="item" href="https://rnsaffn.com/poison3/"
              >Poison Fountain</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 17:05:52</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46577464"
                  >Comments</a
                ><span class="descendants">: 85</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.theregister.com/2026/01/11/industry_insiders_seek_to_poison/"
                >https://www.theregister.com/2026/01/11/industry_insiders_see...</a
              >
              <p>
                <a
                  href="https://www.anthropic.com/research/small-samples-poison"
                  >https://www.anthropic.com/research/small-samples-poison</a
                >
              </p>
              <p>
                <i>A small number of samples can poison LLMs of any size</i> -
                <a href="https://news.ycombinator.com/item?id=45529587"
                  >https://news.ycombinator.com/item?id=45529587</a
                >
                - Oct 2025 (439 comments)
              </p>
            </div>
          </section>
        </section>
        <section id="46577242">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46577242"
              >Ask HN: What Are You Working On? (January 2026)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 16:43:06</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46577242"
                  >Comments</a
                ><span class="descendants">: 252</span></span
              >
            </h4>
            <div class="text">
              What are you working on? Any new ideas that you're thinking about?
            </div>
          </section>
        </section>
        <section id="46576337">
          <h3>
            <a
              class="item"
              href="https://www.engadget.com/cybersecurity/an-instagram-data-breach-reportedly-exposed-the-personal-info-of-175-million-users-192105616.html"
              >Instagram data breach reportedly exposed the personal info of
              17.5M users</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 15:07:12</span
              ><span class="points-container"
                >Points: <span class="points">158</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46576337"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46575804">
          <h3>
            <a class="item" href="https://github.com/netzherpes/KIM1-Demo"
              >Happy 50th Birthday KIM-1</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 13:55:40</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46575804"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46575305">
          <h3>
            <a class="item" href="https://github.com/kd2org/karadav"
              >KaraDAV – Lightweight Nextcloud compatible WebDAV server</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 12:50:01</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46575305"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46574961">
          <h3>
            <a class="item" href="https://github.com/amcchord/M5Tab-Macintosh"
              >BasiliskII Macintosh 68k Emulator Ported to ESP32-P4 / M5Stack
              Tab5</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 12:02:52</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46574961"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46574769">
          <h3>
            <a
              class="item"
              href="https://www.gentoo.org/news/2026/01/05/new-year.html"
              >Gentoo Linux 2025 Review</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 11:38:52</span
              ><span class="points-container"
                >Points: <span class="points">242</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46574769"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46574707">
          <h3>
            <a
              class="item"
              href="https://www.notebookcheck.net/I-dumped-Windows-11-for-Linux-and-you-should-too.1190961.0.html"
              >I dumped Windows 11 for Linux, and you should too</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 11:31:22</span
              ><span class="points-container"
                >Points: <span class="points">567</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46574707"
                  >Comments</a
                ><span class="descendants">: 574</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46574640">
          <h3>
            <a
              class="item"
              href="https://orga.cat/blog/html-conditional-lazy-loading/"
              >HTML-only conditional lazy loading (via preload and media)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 11:24:19</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46574640"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46574475">
          <h3>
            <a class="item" href="https://boz.com/articles/think-pavlov"
              >Think of Pavlov</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 11:03:06</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46574475"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46573688">
          <h3>
            <a class="item" href="https://wichm.home.xs4all.nl/filmsize.html"
              >More than one hundred years of Film Sizes</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 08:22:44</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46573688"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46573001">
          <h3>
            <a class="item" href="https://github.com/gibbok/typescript-book"
              >The Concise TypeScript Book</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 05:42:03</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46573001"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46572679">
          <h3>
            <a
              class="item"
              href="https://alienchow.dev/post/fibre_disintegration/"
              >My Home Fibre Network Disintegrated</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 04:19:04</span
              ><span class="points-container"
                >Points: <span class="points">228</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46572679"
                  >Comments</a
                ><span class="descendants">: 198</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46571980">
          <h3>
            <a class="item" href="https://github.com/OlaProeis/Ferrite"
              >Show HN: Ferrite – Markdown editor in Rust with native Mermaid
              diagram rendering</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 01:50:01</span
              ><span class="points-container"
                >Points: <span class="points">221</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46571980"
                  >Comments</a
                ><span class="descendants">: 140</span></span
              >
            </h4>
            <div class="text">
              <p>
                Built a Markdown editor using Rust + egui. v0.2.1 just dropped
                with major Mermaid improvements:
              </p>
              <p>
                → Native Mermaid diagrams - Flowcharts, sequence, state, ER, git
                graphs - pure Rust, no JS
              </p>
              <p>
                → Split view - Raw + rendered side-by-side with sync scrolling
              </p>
              <p>
                → Syntax highlighting - 40+ languages with large file
                optimization
              </p>
              <p>
                → JSON/YAML/TOML tree viewer - Structured editing with
                expand/collapse
              </p>
              <p>
                → Git integration - File tree shows modified/staged/untracked
                status
              </p>
              <p>
                Also: minimap, zen mode, auto-save, session restore, code
                folding indicators.
              </p>
              <p>~15MB binary, instant startup. Windows/Linux/macOS.</p>
              <p>
                GitHub:
                <a href="https://github.com/OlaProeis/Ferrite"
                  >https://github.com/OlaProeis/Ferrite</a
                >
              </p>
              <p>
                v0.2.2 coming soon with performance improvements for large
                files. Looking for feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="46571166">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46571166"
              >Show HN: GlyphLang – An AI-first programming language</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 23:46:58</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46571166"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <p>GlyphLang</p>
              <p>
                GlyphLang replaces verbose keywords with symbols that tokenize
                more efficiently:
              </p>
              <p></p>
              <pre><code>  # Python
  @app.route('/users/&lt;id&gt;')
  def get_user(id):
      user = db.query("SELECT * FROM users WHERE id = ?", id)
      return jsonify(user)

  # GlyphLang
  @ GET /users/:id {
    $ user = db.query("SELECT * FROM users WHERE id = ?", id)
    &gt; user
  }

  @ = route, $ = variable, &gt; = return. Initial benchmarks show ~45% fewer tokens than Python, ~63% fewer than Java.
</code></pre>
              In practice, that means more logic fits in context, and sessions
              stretch longer before hitting limits. The AI maintains a broader
              view of your codebase throughout.
              <p>
                Before anyone asks: no, this isn't APL with extra steps. APL,
                Perl, and Forth are symbol-heavy but optimized for mathematical
                notation, human terseness, or machine efficiency. GlyphLang is
                specifically optimized for how modern LLMs tokenize. It's
                designed to be generated by AI and reviewed by humans, not the
                other way around. That said, it's still readable enough to be
                written or tweaked if the occasion requires.
              </p>
              <p>
                It's still a work in progress, but it's a usable language with a
                bytecode compiler, JIT, LSP, VS Code extension, PostgreSQL,
                WebSockets, async/await, generics.
              </p>
              <p>
                Docs:
                <a href="https://glyphlang.dev/docs"
                  >https://glyphlang.dev/docs</a
                >
              </p>
              <p>
                GitHub:
                <a href="https://github.com/GlyphLang/GlyphLang"
                  >https://github.com/GlyphLang/GlyphLang</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46568794">
          <h3>
            <a
              class="item"
              href="https://mitchellh.com/writing/ghostty-memory-leak-fix"
              >Finding and fixing Ghostty's largest memory leak</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 18:58:37</span
              ><span class="points-container"
                >Points: <span class="points">583</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46568794"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46567400">
          <h3>
            <a class="item" href="https://trails.pieterma.es/"
              >Show HN: I used Claude Code to discover connections between 100
              books</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 16:56:55</span
              ><span class="points-container"
                >Points: <span class="points">459</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46567400"
                  >Comments</a
                ><span class="descendants">: 137</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built a system for Claude Code to browse 100 non-fiction books
                and find interesting connections between them.
              </p>
              <p>
                I started out with a pipeline in stages, chaining together LLM
                calls to build up a context of the library. I was mainly getting
                back the insight that I was baking into the prompts, and the
                results weren't particularly surprising.
              </p>
              <p>
                On a whim, I gave CC access to my debug CLI tools and found that
                it wiped the floor with that approach. It gave actually
                interesting results and required very little orchestration in
                comparison.
              </p>
              <p>
                One of my favourite trail of excerpts goes from Jobs’ reality
                distortion field to Theranos’ fake demos, to Thiel on startup
                cults, to Hoffer on mass movement charlatans (<a
                  href="https://trails.pieterma.es/trail/useful-lies/"
                  >https://trails.pieterma.es/trail/useful-lies/</a
                >). A fun tendency is that Claude kept getting distracted by
                topics of secrecy, conspiracy, and hidden systems - as if the
                task itself summoned a Foucault’s Pendulum mindset.
              </p>
              <p>Details:</p>
              <p>
                * The books are picked from HN’s favourites (which I collected
                before:
                <a href="https://hnbooks.pieterma.es/"
                  >https://hnbooks.pieterma.es/</a
                >).
              </p>
              <p>
                * Chunks are indexed by topic using Gemini Flash Lite. The whole
                library cost about £10.
              </p>
              <p>
                * Topics are organised into a tree structure using recursive
                Leiden partitioning and LLM labels. This gives a high-level
                sense of the themes.
              </p>
              <p>
                * There are several ways to browse. The most useful are
                embedding similarity, topic tree siblings, and topics
                cooccurring within a chunk window.
              </p>
              <p>
                * Everything is stored in SQLite and manipulated using a set of
                CLI tools.
              </p>
              <p>
                I wrote more about the process here:
                <a href="https://pieterma.es/syntopic-reading-claude/"
                  >https://pieterma.es/syntopic-reading-claude/</a
                >
              </p>
              <p>
                I’m curious if this way of reading resonates for anyone else -
                LLM-mediated or not.
              </p>
            </div>
          </section>
        </section>
        <section id="46559065">
          <h3>
            <a
              class="item"
              href="https://blog.novalistic.com/archives/2017/08/optional-end-tags-in-html/"
              >You are not required to close your &lt;p&gt;, &lt;li&gt;, , or
              &lt;br /&gt; tags in HTML&lt;/li&gt;&lt;/p&gt;</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 20:43:00</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46559065"
                  >Comments</a
                ><span class="descendants">: 191</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46557825">
          <h3>
            <a class="item" href="https://fly.io/blog/code-and-let-live/"
              >Code and Let Live</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 19:11:59</span
              ><span class="points-container"
                >Points: <span class="points">422</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46557825"
                  >Comments</a
                ><span class="descendants">: 166</span></span
              >
            </h4>
            <div class="text">
              <a href="https://sprites.dev/">https://sprites.dev/</a>
            </div>
          </section>
        </section>
        <section id="46551602">
          <h3>
            <a class="item" href="https://0xghost.dev/blog/std-move-deep-dive/"
              >C++ std::move doesn't move anything: A deep dive into Value
              Categories</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 09:01:33</span
              ><span class="points-container"
                >Points: <span class="points">205</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46551602"
                  >Comments</a
                ><span class="descendants">: 156</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46531622">
          <h3>
            <a class="item" href="https://github.com/MedUnes/go-kata"
              >A set of Idiomatic prod-grade katas for experienced devs
              transitioning to Go</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-07 @ 19:53:40</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46531622"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46525271">
          <h3>
            <a class="item" href="https://github.com/vojtapolasek/vojtux"
              >Vojtux – Unofficial Linux Distribution Aimed at Visually Impaired
              Users</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-07 @ 11:43:26</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46525271"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46525236">
          <h3>
            <a class="item" href="https://blog.bugsiki.dev/posts/apple-pmu/"
              >CPU Counters on Apple Silicon: article + tool</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-07 @ 11:39:33</span
              ><span class="points-container"
                >Points: <span class="points">153</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46525236"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46516807">
          <h3>
            <a
              class="item"
              href="https://sethmlarson.dev/food-jpegs-in-super-smash-bros-and-kirby-air-riders"
              >"Food JPEGs" in Super Smash Bros. &amp;amp; Kirby Air Riders</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 18:57:03</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46516807"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46509641">
          <h3>
            <a
              class="item"
              href="https://hackers.pub/@yurume/019b912a-cc3b-7e45-9227-d08f0d1eafe8"
              >Markdown Emphasis Issues in CJK: Analyzing CommonMark's Delimiter
              Rules</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 07:26:32</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46509641"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46508058">
          <h3>
            <a
              class="item"
              href="http://ravimohan.blogspot.com/2007/04/learning-from-sudoku-solvers.html"
              >Learning from Sudoku Solvers (2007)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 02:33:27</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46508058"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46507891">
          <h3>
            <a
              class="item"
              href="https://www.hollywoodreporter.com/tv/tv-news/black-mirror-bandersnatch-real-life-works-influences-1173330/"
              >'Bandersnatch': The Works That Inspired the 'Black Mirror'
              Interactive Feature (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 02:07:18</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46507891"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
