<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44295977">
          <h3>
            <a class="item" href="https://substack.com/inbox/post/165658733"
              >She Won. They Didn't Just Change the Machines. They Rewired the
              Election</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 05:25:24</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44295977"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44295667">
          <h3>
            <a class="item" href="https://jdfio.com/pages-output/demos/x-mode/"
              >Show HN: I recreated 90s Mode X demoscene effects in JavaScript
              and Canvas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 04:07:31</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44295667"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p>
                The result is this portfolio of ten classic effects running in a
                single HTML file. It's all vanilla JavaScript writing to a
                &lt;canvas&gt; element, with no external libraries. It was a fun
                challenge to implement things like:
              </p>
              <p>
                * The color palette cycling and smooth fading in the Plasma
                demo. * The buffer-averaging algorithm for the Fire effect to
                make the flames feel more natural. * The distance-based texture
                crossfading in the Tunnel to create the illusion of flying
                through different sections. * A 2D scalar field for the
                Metaballs to calculate the surface normals for that classic
                blended, metallic look (I did the best I could with the given
                constraints).
              </p>
              <p>
                It was a great exercise in getting back to first principles and
                a reminder of how much those early demo programmers could
                accomplish with so little. I hope it brings back some good
                memories for others who grew up with this stuff.
              </p>
              <p>
                I'd love to hear about your favorite classic demos or if there
                are any other iconic effects you think would be a fun challenge
                to add.
              </p>
              <p>Cheers!</p>
            </div>
          </section>
        </section>
        <section id="44295599">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/06/16/business/media/william-langewiesche-dead.html"
              >William Langewiesche, the 'Steve McQueen of Journalism,' Dies at
              70</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 03:50:22</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44295599"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44294905">
          <h3>
            <a
              class="item"
              href="https://www.cs.utexas.edu/~EWD/transcriptions/EWD03xx/EWD340.html"
              >The Humble Programmer (1972)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 01:25:25</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44294905"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44294853">
          <h3>
            <a
              class="item"
              href="https://nolanlawson.com/2025/06/16/selfish-reasons-for-building-accessible-uis/"
              >Selfish reasons for building accessible UIs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 01:16:25</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44294853"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44294633">
          <h3>
            <a
              class="item"
              href="https://blog.miguelgrinberg.com/post/why-generative-ai-coding-tools-and-agents-do-not-work-for-me"
              >Generative AI coding tools and agents do not work for me</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 00:33:45</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44294633"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44294526">
          <h3>
            <a
              class="item"
              href="https://www.dbreunig.com/2025/06/16/drawbridges-go-up.html"
              >The drawbridges come up: the dream of a interconnected context
              ecosystem is over</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 00:13:00</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44294526"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293988">
          <h3>
            <a
              class="item"
              href="https://www.cnbc.com/2025/06/16/openai-wins-200-million-us-defense-contract.html"
              >OpenAI wins $200M U.S. defense contract</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 22:31:58</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293988"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293922">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-06-eradicate-invasive-pythons-florida-stunning.html"
              >Battle to eradicate invasive pythons in Florida achieves
              milestone</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 22:22:33</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293922"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293837">
          <h3>
            <a class="item" href="https://hal.science/hal-04179324v1/document"
              >Privacy implications of browsers’ (mis)implementations of
              Widevine EME (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 22:06:58</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293837"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293610">
          <h3>
            <a
              class="item"
              href="https://nautil.us/clergy-blown-away-by-psilocybin-1217112/"
              >What happens when clergy take psilocybin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 21:34:09</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293610"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293358">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/blaze-2/jobs/dzNmNuw-junior-software-engineer"
              >Blaze (YC S24) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 21:00:47</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293260">
          <h3>
            <a class="item" href="https://chawan.net/news/chawan-0-2-0.html"
              >Show HN: Chawan TUI web browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:48:43</span
              ><span class="points-container"
                >Points: <span class="points">220</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293260"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
            <div class="text">
              <p>
                Chawan started out as a w3m clone, and the UI still resembles
                it. However, the architecture has turned out quite different,
                with pages loaded in separate processes, and protocol/file type
                handling separated out into external binaries. An interesting
                result is that you can even register decoders for custom inline
                image formats, although practical use cases of this are rather
                minimal.
              </p>
              <p>
                There is a gallery showcasing some websites being rendered here:
                <a href="https://chawan.net/gallery/index.html"
                  >https://chawan.net/gallery/index.html</a
                >
              </p>
              <p>
                [1]: <a href="https://nim-lang.org">https://nim-lang.org</a>
              </p>
            </div>
          </section>
        </section>
        <section id="44293147">
          <h3>
            <a class="item" href="https://punk.cam/lab/nexus"
              >Show HN: Nexus.js - Fabric.js for 3D</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:33:45</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293147"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <p>
                Like a simple 3D editor but without requiring the user to be a
                Blender expert.
              </p>
              <p>
                Couldn't find anything lightweight, so I’m building one. Think
                Fabric.js but for 3D. Built entirely with Three.js / R3F.
              </p>
              <p>
                Borrowed some inspiration from VR/AR interaction systems for
                controls.
              </p>
              <p>Feel free to play with it and let me know what you think!</p>
            </div>
          </section>
        </section>
        <section id="44293044">
          <h3>
            <a class="item" href="https://graydon2.dreamwidth.org/317484.html"
              >Retrobootstrapping Rust for some reason</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:19:44</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293044"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292601">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2506.01963"
              >Breaking Quadratic Barriers: A Non-Attention LLM for Ultra-Long
              Context Horizons</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 19:19:57</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292601"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292103">
          <h3>
            <a class="item" href="https://github.com/czhu12/canine"
              >Show HN: Canine – A Heroku alternative built on Kubernetes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 18:27:59</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292103"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've been working on Canine for about a year now. It started
                when I was sick of paying the overhead of using stuff like
                Heroku, Render, Fly, etc to host some web apps that I've built.
                At one point I was paying over $400 a month for hosting these in
                the cloud. Last year I moved all my stuff to Hetzner.
              </p>
              <p>For a 4GB machine, the cost of various providers:</p>
              <p>Heroku = $260 Fly.io = $65 Render = $85 Hetzner = $4</p>
              <p>(This problem gets a lot worse when you need &gt; 4GB)</p>
              <p>
                The only downside of using Hetzner is that there isn’t a super
                straightforward way to do stuff like:
              </p>
              <p>
                - DNS management / SSL certificate management - Team management
                - Github integration
              </p>
              <p>
                But I figured it should be easy to quickly build something like
                Heroku for my Hetzner instance. Turns out it was a bit harder
                than expected, but after a year, I’ve made some good progress
              </p>
              <p>
                The best part of Canine, is that it also makes it trivial to
                host any helm chart, which is available for basically any open
                source project, so everything from databases (e.g. Postgres,
                Redis), to random stuff like torrent tracking servers, VPN’s
                endpoints, etc.
              </p>
              <p>
                Open source:
                <a href="https://github.com/czhu12/canine"
                  >https://github.com/czhu12/canine</a
                >
                Cloud hosted version is:
                <a href="https://canine.sh">https://canine.sh</a>
              </p>
            </div>
          </section>
        </section>
        <section id="44291892">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/society/2025/jun/09/meet-the-members-of-the-dull-mens-club-some-of-them-would-bore-the-ears-off-you"
              >Dull Men’s Club</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 18:07:37</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291892"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44291204">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.24363"
              >Open-Source RISC-V: Energy Efficiency of Superscalar,
              Out-of-Order Execution</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 16:46:55</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291204"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290413">
          <h3>
            <a
              class="item"
              href="https://www.chemistryworld.com/opinion/benzene-at-200/4021504.article"
              >Benzene at 200</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 15:16:47</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290413"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290331">
          <h3>
            <a
              class="item"
              href="https://coroot.com/blog/opentelemetry-for-go-measuring-the-overhead/"
              >OpenTelemetry for Go: Measuring overhead costs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 15:09:17</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290331"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44289412">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/06/16/technology/whatsapp-ads.html"
              >WhatsApp introduces ads in its app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 13:38:59</span
              ><span class="points-container"
                >Points: <span class="points">315</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44289412"
                  >Comments</a
                ><span class="descendants">: 409</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44288937">
          <h3>
            <a
              class="item"
              href="https://turso.tech/blog/working-on-databases-from-prison"
              >Working on databases from prison</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 12:32:02</span
              ><span class="points-container"
                >Points: <span class="points">737</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44288937"
                  >Comments</a
                ><span class="descendants">: 470</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44288377">
          <h3>
            <a
              class="item"
              href="https://kadekillary.work/blog/#2025-06-16-snorting-the-agi-with-claude-code"
              >Snorting the AGI with Claude Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 11:01:32</span
              ><span class="points-container"
                >Points: <span class="points">254</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44288377"
                  >Comments</a
                ><span class="descendants">: 153</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44287043">
          <h3>
            <a
              class="item"
              href="https://huggingface.co/nanonets/Nanonets-OCR-s"
              >Nanonets-OCR-s – OCR model that transforms documents into
              structured markdown</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 06:14:56</span
              ><span class="points-container"
                >Points: <span class="points">298</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44287043"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44284877">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=lvEO4IaEJlw"
              >How Frogger 2’s source code was recovered from a destroyed tape
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-15 @ 20:50:03</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44284877"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44284871">
          <h3>
            <a class="item" href="https://github.com/rorosen/zeekstd"
              >Show HN: Zeekstd – Rust Implementation of the ZSTD Seekable
              Format</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-15 @ 20:49:18</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44284871"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
            <div class="text">
              <p>
                I would like to share a Rust implementation of the Zstandard
                seekable format I've been working on.
              </p>
              <p>
                Regular zstd compressed files consist of a single frame, meaning
                you have to start decompression at the beginning. The seekable
                format splits compressed data into a series of independent
                frames, each compressed individually, so that decompression of a
                section in the middle of an archive only requires zstd to
                decompress at most a frame's worth of extra data, instead of the
                entire archive.
              </p>
              <p>
                I started working with the seekable format because I wanted to
                resume downloads of big zstd compressed files that are
                decompressed and written to disk on the fly. At first I created
                and used bindings to the C functions that are available
                upstream[1], however, I stumbled over the first segfault rather
                quickly (it's now fixed) and found out that the functions only
                allow basic things. After looking closer at the upstream
                implementation, I noticed that is uses functions of the core API
                that are now deprecated and it doesn't allow access to low-level
                (de)compression contexts. To me it looks like a PoC/demo
                implementation that isn't maintained the same way as the zstd
                core API, probably that's also the reason it's in the contrib
                directory.
              </p>
              <p>
                My use-case seemed to require a complete rewrite of the seekable
                format, so I decided to implement it from scratch in Rust using
                bindings to the advanced zstd compression API, available from
                zstd 1.4.0.
              </p>
              <p>
                The result is a single dependency library crate[2], and a CLI
                crate[3] for the seekable format that feels similar to the
                regular zstd tool.
              </p>
              <p>Any feedback is highly appreciated!</p>
              <p>
                [1]:
                <a
                  href="https://github.com/facebook/zstd/tree/dev/contrib/seekable_format"
                  >https://github.com/facebook/zstd/tree/dev/contrib/seekable_f...</a
                >
                [2]:
                <a href="https://crates.io/crates/zeekstd"
                  >https://crates.io/crates/zeekstd</a
                >
                [3]:
                <a href="https://github.com/rorosen/zeekstd/tree/main/cli"
                  >https://github.com/rorosen/zeekstd/tree/main/cli</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44284569">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=M6XIgdS1rzs"
              >Iron nitride permanent magnets made with DIY ball mill [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-15 @ 19:51:42</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44284569"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44281540">
          <h3>
            <a
              class="item"
              href="https://zxonline.net/zx-spectrum-graphics-magic-the-basics-every-spectrum-fan-should-know/"
              >ZX Spectrum graphics magic</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-15 @ 10:22:34</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44281540"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44268345">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s41893-025-01559-z.epdf?sharing_token=SST16F7yBaUkRDb702ZphtRgN0jAjWel9jnR3ZoTv0P9y52VPdTYScQoHBinE3JzdSvQ1aN3fhS4SSECYXRnvZ77nkrWJA2412S2E-26Il-ncine3ET1t1GzNaX2Oo2cK9GYzFNCrKSRycPCrQKJZ8QvfBeSTNR5d12_ZHLvyYkt26oAnSVTBuopgCE4tHIVPnWtjLZS3OhBz1H2OhtXQMmNFMhf-2lYu5vkTl596uaKjxxqTFBbSZj1phjSIDRELkwyRfUsM77Gu7S0VF_fPvJZAYxvV_2Hduld7MbfF1M4RO8vHe5OtCz383c2iHBjxkZ4gU59FErIjNBnLDPDT79Jaj04hbpqLWqUoVxoYCs%3D"
              >Natural rubber with high resistance to crack growth</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-13 @ 13:28:45</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44268345"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
