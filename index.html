<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45753222">
          <h3>
            <a
              class="item"
              href="https://cacm.acm.org/federal-funding-of-academic-research/how-the-u-s-national-science-foundation-enabled-software-defined-networking/"
              >How the U.S. National Science Foundation Enabled Software-Defined
              Networking</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 21:22:50</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45753222"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45751995">
          <h3>
            <a class="item" href="https://rashil2000.me/blogs/tune-wezterm"
              >How to Obsessively Tune WezTerm</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 19:39:57</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45751995"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45751400">
          <h3>
            <a class="item" href="https://emily.space/posts/251023-uv"
              >Uv is the best thing to happen to the Python ecosystem in a
              decade</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:57:29</span
              ><span class="points-container"
                >Points: <span class="points">762</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45751400"
                  >Comments</a
                ><span class="descendants">: 438</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750995">
          <h3>
            <a class="item" href="https://extropic.ai/"
              >Extropic is building thermodynamic computing hardware</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:25:01</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750995"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750954">
          <h3>
            <a
              class="item"
              href="https://visualrambling.space/dithering-part-1/"
              >Dithering – Part 1</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:21:35</span
              ><span class="points-container"
                >Points: <span class="points">141</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750954"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750875">
          <h3>
            <a
              class="item"
              href="https://www.icann.org/en/blogs/details/the-internet-runs-on-free-and-open-source-softwareand-so-does-the-dns-23-10-2025-en"
              >The Internet Runs on Free and Open Source Software–and So Does
              the DNS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:16:07</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750875"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750501">
          <h3>
            <a
              class="item"
              href="https://www-user.tu-chemnitz.de/~heha/hs/chm/x86.chm/x86.htm"
              >Encoding x86 Instructions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:50:21</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750501"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750425">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/tech/ai/openais-promise-to-stay-in-california-helped-clear-the-path-for-its-ipo-3af1c31c"
              >OpenAI’s promise to stay in California helped clear the path for
              its IPO</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:44:34</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750425"
                  >Comments</a
                ><span class="descendants">: 127</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.ph/NCZhi">https://archive.ph/NCZhi</a>
            </div>
          </section>
        </section>
        <section id="45749690">
          <h3>
            <a class="item" href="https://www.upwave.com/job/8228849002/"
              >Upwave (YC S12) is hiring software engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:00:15</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749161">
          <h3>
            <a
              class="item"
              href="https://www.axios.com/2025/10/29/aol-bending-spoons-deal"
              >AOL to be sold to Bending Spoons for $1.5B</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:28:56</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749161"
                  >Comments</a
                ><span class="descendants">: 133</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749017">
          <h3>
            <a class="item" href="https://tailscale.com/blog/peer-relays-beta"
              >Tailscale Peer Relays</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:21:36</span
              ><span class="points-container"
                >Points: <span class="points">212</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749017"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748879">
          <h3>
            <a
              class="item"
              href="https://www.minecraft.net/en-us/article/removing-obfuscation-in-java-edition"
              >Minecraft removing obfuscation in Java Edition</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:12:56</span
              ><span class="points-container"
                >Points: <span class="points">434</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748879"
                  >Comments</a
                ><span class="descendants">: 157</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748725">
          <h3>
            <a class="item" href="https://cursor.com/blog/composer"
              >Composer: Building a fast frontier model with RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:04:33</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748725"
                  >Comments</a
                ><span class="descendants">: 124</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748661">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45748661"
              >Tell HN: Azure outage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:01:18</span
              ><span class="points-container"
                >Points: <span class="points">575</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748661"
                  >Comments</a
                ><span class="descendants">: 567</span></span
              >
            </h4>
            <div class="text">
              <p>
                <a href="https://downdetector.ca/status/windows-azure/"
                  >https://downdetector.ca/status/windows-azure/</a
                >
              </p>
              <p>
                <a href="https://azure.status.microsoft/en-gb/status"
                  >https://azure.status.microsoft/en-gb/status</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45747112">
          <h3>
            <a
              class="item"
              href="https://www.atomic14.com/2025/10/29/CH32V003-talking"
              >I made a 10¢ MCU Talk</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 14:12:50</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45747112"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45747018">
          <h3>
            <a
              class="item"
              href="https://topicpartition.io/blog/postgres-pubsub-queue-benchmarks"
              >Kafka is Fast – I'll use Postgres</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 14:06:01</span
              ><span class="points-container"
                >Points: <span class="points">244</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45747018"
                  >Comments</a
                ><span class="descendants">: 224</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45745281">
          <h3>
            <a
              class="item"
              href="https://oneuptime.com/blog/post/2025-10-29-aws-to-bare-metal-two-years-later/view"
              >AWS to bare metal two years later: Answering your questions about
              leaving AWS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 11:14:38</span
              ><span class="points-container"
                >Points: <span class="points">541</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45745281"
                  >Comments</a
                ><span class="descendants">: 398</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45742456">
          <h3>
            <a class="item" href="https://board.fun/"
              >Board: New game console recognizes physical pieces, with an open
              SDK</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 03:58:57</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45742456"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45740241">
          <h3>
            <a class="item" href="https://github.com/graphitemaster/detour"
              >Detour: Dynamic linking on Linux without Libc</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 22:42:16</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45740241"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45739877">
          <h3>
            <a class="item" href="https://docs.swirldb.org/"
              >SwirlDB: Modular-first, CRDT-based embedded database</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 22:07:41</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45739877"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45736426">
          <h3>
            <a
              class="item"
              href="https://www.allendowney.com/blog/2025/10/27/cancer-survival-rates-are-misleading/"
              >Cancer survival rates are misleading</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 17:59:45</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45736426"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45734865">
          <h3>
            <a class="item" href="https://github.com/Pipelex/pipelex"
              >Show HN: Pipelex – Declarative language for repeatable AI
              workflows</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 16:19:26</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45734865"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>Why this instead of yet another workflow builder?</p>
              <p>
                - Declarative, not glue code: you state what to do; the runtime
                figures out how. - Agent-first: each step carries
                natural-language context (purpose, inputs/outputs with meaning)
                so LLMs can follow, audit, and optimize. Our MCP server enables
                agents to run pipelines but also to build new pipelines on
                demand. - Open standard under MIT: language spec, runtime, API
                server, editor extensions, MCP server, n8n node. - Composable:
                pipes can call other pipes, created by you or shared in the
                community.
              </p>
              <p>Why a domain-specific language?</p>
              <p>
                - We need context, meaning and nuances preserved in a structured
                syntax that both humans and LLMs can understand - We need
                determinism, control, and reproducibility that pure prompts
                can't deliver - Bonus: editors, diffs, semantic coloring, easy
                sharing, search &amp; replace, version control, linters…
              </p>
              <p>How we got there:</p>
              <p>
                Initially, we just wanted to solve every use-case with LLMs but
                kept rebuilding the same agentic patterns across different
                projects. So we challenged ourselves to keep the code generic
                and separate from use-case specifics, which meant modeling
                workflows from the relevant knowledge and know-how.
              </p>
              <p>
                Unlike existing code/no-code frameworks for AI workflows, our
                abstraction layer doesn't wrap APIs, it transcribes business
                logic into a structured, unambiguous script executable by
                software and AI. Hence the "declarative" aspect: the script says
                what should be done, not how to do it. It's like a Dockerfile or
                SQL for AI workflows.
              </p>
              <p>
                Additionally, we wanted the language to be LLM-friendly. Classic
                programming languages hide logic and context in variable names,
                functions, and comments: all invisible to the interpreter. In
                Pipelex, these elements are explicitly stated in natural
                language, giving AI full visibility: it's all logic and context,
                with minimal syntax.
              </p>
              <p>
                Then, we didn't want to write Pipelex scripts ourselves so we
                dogfooded: we built a Pipelex workflow that writes Pipelex
                workflows. It's in the MCP and CLI: "pipelex build pipe '…'"
                runs a multi-step, structured generation flow that produces a
                validated workflow ready to execute with "pipelex run". Then you
                can iterate on it yourself or with any coding agent.
              </p>
              <p>
                What’s included: Python library, FastAPI and Docker, MCP server,
                n8n node, VS Code extension.
              </p>
              <p>What we’d like from you</p>
              <p>
                1. Build a workflow: did the language work for you or against
                you? 2. Agent/MCP workflows and n8n node usability. 3. Suggest
                new kinds of pipes and other AI models we could integrate 4.
                Looking for OSS contributors to the core library but also to
                share pipes with the community
              </p>
              <p>Known limitations</p>
              <p>
                - Connectors: Pipelex doesn’t integrate with “your apps”, we
                focus on the cognitive steps, and you can integrate through
                code/API or using MCP or n8n - Visualization: we need to
                generate flow-charts - The pipe builder is still buggy - Run it
                yourself: we don’t yet provide a hosted Pipelex API, it’s in the
                works - Cost-tracking: we only track LLM costs, not image
                generation or OCR costs yet - Caching and reasoning options: not
                supported yet
              </p>
              <p>Links</p>
              <p>
                - GitHub:
                <a href="https://github.com/Pipelex/pipelex"
                  >https://github.com/Pipelex/pipelex</a
                >
                - Cookbook:
                <a href="https://github.com/Pipelex/pipelex-cookbook"
                  >https://github.com/Pipelex/pipelex-cookbook</a
                >
                - Starter:
                <a href="https://github.com/Pipelex/pipelex-starter"
                  >https://github.com/Pipelex/pipelex-starter</a
                >
                - VS Code extension:
                <a href="https://github.com/Pipelex/vscode-pipelex"
                  >https://github.com/Pipelex/vscode-pipelex</a
                >
                - Docs: [<a href="https://docs.pipelex.com"
                  >https://docs.pipelex.com</a
                >](<a href="https://docs.pipelex.com/"
                  >https://docs.pipelex.com/</a
                >) - Demo video (2 min):
                <a href="https://youtu.be/dBigQa8M8pQ"
                  >https://youtu.be/dBigQa8M8pQ</a
                >
                - Discord for support and sharing:
                <a href="https://go.pipelex.com/discord"
                  >https://go.pipelex.com/discord</a
                >
              </p>
              <p>
                Thanks for reading. If you try Pipelex, tell us exactly where it
                hurts, that’s the most valuable feedback we can get.
              </p>
            </div>
          </section>
        </section>
        <section id="45732800">
          <h3>
            <a
              class="item"
              href="https://e360.yale.edu/digest/china-new-forest-report"
              >China has added forest the size of Texas since 1990</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 13:42:44</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45732800"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45731848">
          <h3>
            <a class="item" href="https://tailscale.com/blog/services-beta"
              >Tailscale Services</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 12:19:38</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45731848"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.youtube.com/watch?v=mELAg50ljSA"
                >https://www.youtube.com/watch?v=mELAg50ljSA</a
              >
            </div>
          </section>
        </section>
        <section id="45728525">
          <h3>
            <a
              class="item"
              href="https://academic.oup.com/jes/article/9/11/bvaf141/8277723?login=false"
              >GLP-1 therapeutics: Their emerging role in alcohol and substance
              use disorders</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 02:00:58</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45728525"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45728170">
          <h3>
            <a class="item" href="https://owen.cafe/posts/struct-sizes/"
              >Quantifying pass-by-value overhead</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 00:52:44</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45728170"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45726272">
          <h3>
            <a class="item" href="https://github.com/M64GitHub/movycat"
              >Movycat – A terminal movie player written in Zig</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 21:04:11</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45726272"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <p>
                Update: Since writing this, Mario has uploaded the game, too:
                <a href="https://github.com/M64GitHub/1st-shot"
                  >https://github.com/M64GitHub/1st-shot</a
                >
                . I misunderstood, though: It doesn't seem to be a port of an
                actual C64 game.
              </p>
            </div>
          </section>
        </section>
        <section id="45722896">
          <h3>
            <a
              class="item"
              href="https://www.johndcook.com/blog/2025/10/27/blockchain/"
              >How blocks are chained in a blockchain</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 16:27:50</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45722896"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45722471">
          <h3>
            <a
              class="item"
              href="https://thundergolfer.com/blog/aws-us-east-1-outage-oct20"
              >More than DNS: Learnings from the 14 hour AWS outage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 15:56:46</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45722471"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45674766">
          <h3>
            <a
              class="item"
              href="https://jack-vanlightly.com/blog/2025/10/22/a-fork-in-the-road-deciding-kafkas-diskless-future"
              >A Fork in the Road: Deciding Kafka's Diskless Future</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-22 @ 20:30:58</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45674766"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
