<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="42828294">
          <h3>
            <a
              class="item"
              href="https://www.linkedin.com/posts/pranay01_inviting-backend-engineers-interested-activity-7275015683980075008-CzV9"
              >SigNoz (YC W21) Is hiring back end engineers to build open-source
              Datadog</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 07:02:13</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42828198">
          <h3>
            <a class="item" href="https://ycgraveyard.iamwillwang.com/"
              >YC Graveyard: 821 inactive Y Combinator startups</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 06:37:12</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42828198"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42827976">
          <h3>
            <a class="item" href="https://graphicscodex.com/"
              >The Graphics Codex</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 05:36:33</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42827976"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42827601">
          <h3>
            <a class="item" href="https://timkellogg.me/blog/2025/01/25/r1"
              >Explainer: What's R1 and Everything Else?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 04:03:03</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42827601"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42827532">
          <h3>
            <a
              class="item"
              href="https://benjamincongdon.me/blog/2025/01/25/AI-Slop-Suspicion-and-Writing-Back/"
              >AI slop, suspicion, and writing back</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 03:44:43</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42827532"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42827399">
          <h3>
            <a class="item" href="https://hkust-nlp.notion.site/simplerl-reason"
              >Emerging Reasoning with Reinforcement Learning</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 03:18:32</span
              ><span class="points-container"
                >Points: <span class="points">157</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42827399"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/hkust-nlp/simpleRL-reason"
                >https://github.com/hkust-nlp/simpleRL-reason</a
              >
            </div>
          </section>
        </section>
        <section id="42827335">
          <h3>
            <a
              class="item"
              href="https://bitsandtheorems.com/the-simplicity-of-prolog/"
              >The Simplicity of Prolog</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 03:04:19</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42827335"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42826536">
          <h3>
            <a
              class="item"
              href="https://www.historynet.com/maj-buang-lys-daring-feat-to-save-his-family/"
              >The South Vietnamese pilot who landed a Cessna on a carrier to
              save his family (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-26 @ 00:40:46</span
              ><span class="points-container"
                >Points: <span class="points">221</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42826536"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42826171">
          <h3>
            <a class="item" href="https://sqlook.com"
              >SQLook â€“ A free online SQLite database manager with a Windows
              2000 interface</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 23:47:38</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42826171"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42825441">
          <h3>
            <a
              class="item"
              href="https://crastinator-pro.github.io/steam-brick/"
              >Steam Brick: No screen, no controller, just a power button and a
              USB port</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 22:15:13</span
              ><span class="points-container"
                >Points: <span class="points">553</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42825441"
                  >Comments</a
                ><span class="descendants">: 159</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42824983">
          <h3>
            <a
              class="item"
              href="https://www.cidrdb.org/cidr2015/Papers/CIDR15_Paper16.pdf"
              >Immutability Changes Everything (2016) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 21:25:42</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42824983"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42824625">
          <h3>
            <a
              class="item"
              href="https://magazine.ucsf.edu/building-a-silicon-brain"
              >Using AI to develop a fuller model of the human brain</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 20:36:26</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42824625"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42824617">
          <h3>
            <a class="item" href="https://wikenigma.org.uk/start"
              >Wikenigma â€“ an Encyclopedia of Unknowns</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 20:35:45</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42824617"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42824562">
          <h3>
            <a
              class="item"
              href="https://www.downtowndougbrown.com/2025/01/the-invalid-68030-instruction-that-accidentally-allowed-the-mac-classic-ii-to-successfully-boot-up/"
              >An invalid 68030 instruction accidentally allowed the Mac Classic
              II to boot</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 20:29:41</span
              ><span class="points-container"
                >Points: <span class="points">231</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42824562"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42824473">
          <h3>
            <a
              class="item"
              href="https://outsidetext.substack.com/p/anomalous-tokens-in-deepseek-v3-and"
              >Searching for DeepSeek's glitch tokens</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 20:19:12</span
              ><span class="points-container"
                >Points: <span class="points">146</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42824473"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823722">
          <h3>
            <a
              class="item"
              href="https://iamwillwang.com/dollar/every-html-element/"
              >Every HTML Element</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 19:02:26</span
              ><span class="points-container"
                >Points: <span class="points">317</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823722"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823667">
          <h3>
            <a class="item" href="https://www.openra.net/"
              >OpenRA â€“ Classic strategy games rebuilt for the modern era</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 18:55:07</span
              ><span class="points-container"
                >Points: <span class="points">424</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823667"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823568">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2501.12948"
              >DeepSeek-R1: Incentivizing Reasoning Capability in LLMs via RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 18:39:49</span
              ><span class="points-container"
                >Points: <span class="points">802</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823568"
                  >Comments</a
                ><span class="descendants">: 675</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821457">
          <h3>
            <a class="item" href="https://pilane.obviy.us/"
              >Show HN: I built a DIY plane spotting system at home</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 13:14:37</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821457"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42817554">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=42817554"
              >Ask HN: How to automate collecting HAR file while user is
              browsing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 22:29:57</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42817554"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                We are facing an intermittent issue in our web application where
                for some users for some reasons http requests are ending in
                error ( 400s ) esp. during token refresh with authentication
                server.
              </p>
              <p>
                Normally, we would ask user to generate the HAR ( HTTP archive
                file ) and we inspect to find the root cause. However, at this
                time it is challenging to collect the HAR file manually because
                the error is not consistent. Sometimes it seems to goes away but
                suddenly appears causing bad user experience.
              </p>
              <p>
                It is also hard to add logs etc. because the token refresh
                happens on the client side from the browser so technically there
                is no traces of it on the server side.
              </p>
              <p>
                I am looking into ways to automate generating the HAR file but
                it seems not straightforward to do it.
              </p>
              <p>
                If anyone of you have faces similar issue in the past and find a
                way to add such error logging in a web service let me know. Any
                other thoughts and suggestions are highly appreciated.
              </p>
              <p>Thank you in advance.</p>
            </div>
          </section>
        </section>
        <section id="42810293">
          <h3>
            <a
              class="item"
              href="https://subwaysheds.com/#11.27/40.7427/-73.9869"
              >How far can you get in 40 minutes from each subway station in
              NYC?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 03:46:02</span
              ><span class="points-container"
                >Points: <span class="points">277</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42810293"
                  >Comments</a
                ><span class="descendants">: 167</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42806998">
          <h3>
            <a
              class="item"
              href="https://www.verses.ai/blog/mastering-atari-games-with-natural-intelligence"
              >Mastering Atari Games with Natural Intelligence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-23 @ 19:12:05</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42806998"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42805777">
          <h3>
            <a
              class="item"
              href="https://www.caltech.edu/about/news/bacteria-in-polymers-form-cables-that-grow-into-living-gels"
              >Bacteria in Polymers Form Cables That Grow into Living Gels</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-23 @ 17:09:13</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42805777"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42804406">
          <h3>
            <a
              class="item"
              href="https://silk.us/blog/vector-search-ai-integration/"
              >An experiment of adding recommendation engine to your app using
              pgvector search</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-23 @ 14:35:39</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42804406"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42799388">
          <h3>
            <a class="item" href="https://iceberg.apache.org/"
              >Apache Iceberg</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-23 @ 01:03:02</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42799388"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42795488">
          <h3>
            <a
              class="item"
              href="https://gist.github.com/abhishek-anand/a65ff0e44d158ae306dcce9151b1331c"
              >I ask this chess puzzle to every new LLM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 17:49:57</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42795488"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42793580">
          <h3>
            <a class="item" href="https://github.com/SpinalHDL/VexRiscv"
              >A FPGA friendly 32 bit RISC-V CPU implementation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 15:06:36</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42793580"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42791874">
          <h3>
            <a
              class="item"
              href="https://tweedegolf.nl/en/blog/145/the-hunt-for-error--22"
              >The Hunt for Error -22</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 12:07:57</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42791874"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42791378">
          <h3>
            <a class="item" href="https://openheart.fyi/"
              >Open Heart Protocol</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 10:49:56</span
              ><span class="points-container"
                >Points: <span class="points">199</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42791378"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42778151">
          <h3>
            <a
              class="item"
              href="https://mattrighetti.com/2025/01/20/you-dont-need-sql-builders"
              >You probably don't need query builders</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-21 @ 09:47:55</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42778151"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
