<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40947657">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/business/telecom/at-t-says-hacker-stole-data-on-nearly-all-its-wireless-customers-32d6969d"
              >AT&amp;amp;T: Hacker Stole Cell, Text Data on Nearly All Wireless
              Customers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 17:36:04</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40947657"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40947540">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-024-02214-x"
              >Ex-Meta scientists debut gigantic AI protein design model</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 17:22:29</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40947540"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40947357">
          <h3>
            <a class="item" href="https://www.tesorio.com/careers#job-openings"
              >Tesorio (YC S15) Is Hiring a Senior GenAI/LLM Engineer (100%
              Remote)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 17:00:54</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40946033">
          <h3>
            <a class="item" href="https://github.com/taubyte/tau"
              >Tau: Open-source PaaS – A self-hosted Vercel / Netlify /
              Cloudflare alternative</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 14:41:22</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40946033"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40945846">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2407.08447"
              >WildGaussians: 3D Gaussian Splatting in the Wild</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 14:22:25</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40945846"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40945671">
          <h3>
            <a class="item" href="https://silogy-io.github.io/smelt/"
              >Show HN: Smelt — an open source test runner for chip
              developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 14:04:21</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40945671"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                We’re excited to open-source our test runner, Smelt. Smelt is a
                simple and extensible test runner optimized for chip development
                workflows. Smelt enables developers to:
              </p>
              <p>* Programmatically define numerous test variants</p>
              <p>* Execute these tests in parallel</p>
              <p>* Easily analyze test results</p>
              <p>
                As chip designs get more complex, the state space that needs to
                be explored in design verification is exploding. In chip
                development, it's common to run thousands of tests, each with
                multiple hyperparameters that result in even more variation.
                Smelt offers a straightforward approach to generating test
                variants and extracting valuable insights from your test runs.
                Smelt integrates seamlessly with most popular simulators and
                other chip design tools.
              </p>
              <p>Key features:</p>
              <p>
                * Procedural test generation: Programmatically generate tests
                with python
              </p>
              <p>
                * Automatic rerun on failure: Describe the computation required
                re-run failing tests
              </p>
              <p>
                * Analysis APIs: All of the data needed to track and reproduce
                tests
              </p>
              <p>
                * Extensible: Define your tests with a simple python interface
              </p>
              <p>
                Yves (<a href="https://github.com/silogy-io/yves"
                  >https://github.com/silogy-io/yves</a
                >) is a suite of directed performance tests that we brought up
                with smelt – check it out if you’d like to see smelt in action.
              </p>
              <p>
                Repo:
                <a href="https://github.com/silogy-io/smelt"
                  >https://github.com/silogy-io/smelt</a
                >
              </p>
              <p>
                We built Smelt to streamline the testing process for chip
                developers. We're eager to hear your feedback and see how it
                performs in your projects!
              </p>
            </div>
          </section>
        </section>
        <section id="40945355">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/entertainment/art/2024/07/12/guillaume-lethiere-exhibition-life/"
              >Born into slavery, he rose to the top of France's art world</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 13:24:24</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40945355"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40945285">
          <h3>
            <a
              class="item"
              href="https://thequackdoctor.substack.com/p/the-human-x-ray-scientists"
              >The human x-ray scientists</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 13:17:36</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40945285"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40945076">
          <h3>
            <a class="item" href="https://github.com/Wack0/maciNTosh"
              >Windows NT for Power Macintosh</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 12:51:58</span
              ><span class="points-container"
                >Points: <span class="points">196</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40945076"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40944840">
          <h3>
            <a class="item" href="https://baai-agents.github.io/Cradle/"
              >Cradle: Empowering Foundation Agents Towards General Computer
              Control</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 12:19:27</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40944840"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40943904">
          <h3>
            <a class="item" href="https://daminik.com"
              >Show HN: Daminik – An Open source digital asset manager</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 09:06:15</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40943904"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
            <div class="text">
              <p>
                Over the last 10 years we have built small to large web-projects
                of all kind. Almost every project involved managing images and
                files in one way or another. How do we manage our images and
                where? What happens if an image or logo changes, does it get
                updated across all sites? Which Host/CDN to choose? Is
                everything we do GDPR-compliant? With Daminik, we are trying to
                build a simple solution to solve these problems. One DAM with an
                integrated CDN. That’s it.
              </p>
              <p>
                You can check it out at:
                <a href="https://daminik.com/?ref=hackernews"
                  >https://daminik.com/?ref=hackernews</a
                >
                (hackernews being the invitation code)
              </p>
              <p>
                Repo:
                <a href="https://github.com/daminikhq/daminik"
                  >https://github.com/daminikhq/daminik</a
                >
              </p>
              <p>We would love to get your guys feedback on our alpha.</p>
            </div>
          </section>
        </section>
        <section id="40943777">
          <h3>
            <a class="item" href="https://www.ultratechnology.com/method.htm"
              >The Forth Methodology of Charles Moore (2001)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 08:45:42</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40943777"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40943460">
          <h3>
            <a
              class="item"
              href="https://community.arm.com/arm-community-blogs/b/graphics-gaming-and-vr-blog/posts/introducing-arm-accuracy-super-resolution"
              >Arm Accuracy Super Resolution</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 07:46:10</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40943460"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40943253">
          <h3>
            <a
              class="item"
              href="https://www.geaerospace.com/news/press-releases/ge-aerospace-successfully-develops-and-tests-new-hypersonic-dual-mode-ramjet"
              >GE Aerospace Successfully Develops and Tests New Hypersonic
              Dual-Mode Ramjet</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 06:54:19</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40943253"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40942732">
          <h3>
            <a
              class="item"
              href="https://ochagavia.nl/blog/using-s3-as-a-container-registry/"
              >Using S3 as a Container Registry</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 04:26:23</span
              ><span class="points-container"
                >Points: <span class="points">241</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40942732"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40942307">
          <h3>
            <a
              class="item"
              href="https://research.google/pubs/streamvc-real-time-low-latency-voice-conversion/"
              >StreamVC: Real-Time Low-Latency Voice Conversion</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 02:27:52</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40942307"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40942270">
          <h3>
            <a class="item" href="https://jsben.ch/"
              >JSBen.ch – Performance benchmarking playground for JavaScript</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 02:18:11</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40942270"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40942141">
          <h3>
            <a
              class="item"
              href="https://abe.today/blogs/main/floppy8-a-tiny-computer-in-a-floppy-drive"
              >Floppy8 – A Tiny Computer, in a Floppy Drive (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-12 @ 01:45:05</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40942141"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40941412">
          <h3>
            <a
              class="item"
              href="https://github.com/aws/aws-secretsmanager-agent"
              >AWS Secrets Manager Agent</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 23:09:01</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40941412"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40941056">
          <h3>
            <a
              class="item"
              href="https://physicsbaseddeeplearning.org/intro.html"
              >Physics-Based Deep Learning Book</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 22:10:10</span
              ><span class="points-container"
                >Points: <span class="points">277</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40941056"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40940241">
          <h3>
            <a class="item" href="https://mazzo.li/posts/value-speculation.html"
              >Beating the L1 cache with value speculation (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 20:17:58</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40940241"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40940225">
          <h3>
            <a class="item" href="https://webvm.io/"
              >WebVM is a server-less virtual Linux environment running
              client-side</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 20:16:21</span
              ><span class="points-container"
                >Points: <span class="points">565</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40940225"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40940181">
          <h3>
            <a class="item" href="https://github.com/amakelov/mandala"
              >Show HN: Mandala – Automatically save, query and version Python
              computations</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 20:10:44</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40940181"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <p>
                Surprisingly, it turns out that this vision can pretty much be
                achieved with two generic tools:
              </p>
              <p>
                1. a memoization+versioning decorator, `@op`, which tracks
                inputs, outputs, code and runtime dependencies (other functions
                called, or global variables accessed) every time a function is
                called. Essentially, this makes function calls replace logging:
                if you want something saved, you write a function that returns
                it. Using (a lot of) hashing, `@op` ensures that the same
                version of the function is never executed twice on the same
                inputs.
              </p>
              <p>
                Importantly, the decorator encourages/enforces composition.
                Before a call, `@op` functions wrap their inputs in special
                objects, `Ref`s, and return `Ref`s in turn. Furthermore, data
                structures can be made transparent to `@op`s, so that an `@op`
                can be called on a list of outputs of other `@op`s, or on an
                element of the output of another `@op`. This creates an
                expressive "web" of `@op` calls over time.
              </p>
              <p>
                2. a data structure, `ComputationFrame`, can automatically
                organize any such web of `@op` calls into a high-level view, by
                grouping calls with a similar role into "operations", and their
                inputs/outputs into "variables". It can detect "imperative"
                patterns - like feedback loops, branching/merging, and grouping
                multiple results in a single object - and surface them in the
                graph.
              </p>
              <p>
                `ComputationFrame`s are a "synthesis" of computation graphs and
                relational databases, and can be automatically "exported" as
                dataframes, where columns are variables and operations in the
                graph, and rows contain values and calls for (possibly partial)
                executions of the graph. The upshot is that you can query the
                relationships between any variables in a project in one line,
                even in the presence of very heterogeneous patterns in the
                graph.
              </p>
              <p>
                I'm very excited about this project - which is still in an alpha
                version being actively developed - and especially about the
                `ComputationFrame` data structure. I'd love to hear the feedback
                of the HN community.
              </p>
              <p>
                Colab quickstart:
                <a
                  href="https://colab.research.google.com/github/amakelov/mandala/blob/master/docs_source/tutorials/01_hello.ipynb"
                  >https://colab.research.google.com/github/amakelov/mandala/bl...</a
                >
              </p>
              <p>
                Blog post introducing `ComputationFrame`s (can be opened in
                Colab too):
                <a href="https://amakelov.github.io/mandala/blog/01_cf/"
                  >https://amakelov.github.io/mandala/blog/01_cf/</a
                >
              </p>
              <p>
                Docs:
                <a href="https://amakelov.github.io/mandala/"
                  >https://amakelov.github.io/mandala/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="40939703">
          <h3>
            <a
              class="item"
              href="https://news.mit.edu/2024/charmed-collaboration-creates-therapy-candidate-fatal-prion-diseases-0627"
              >Gene-silencing tool shows promise as a future therapy against
              prion diseases</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 19:21:08</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40939703"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40938810">
          <h3>
            <a class="item" href="https://github.com/gojue/ecapture"
              >Capturing Linux SSL/TLS plaintext without a CA certificate using
              eBPF</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 17:31:48</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40938810"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40934924">
          <h3>
            <a
              class="item"
              href="https://typesetinthefuture.com/2018/12/04/walle/"
              >The Typeset of Wall·E (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-11 @ 09:28:54</span
              ><span class="points-container"
                >Points: <span class="points">642</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40934924"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40914635">
          <h3>
            <a
              class="item"
              href="https://www.photoroom.com/inside-photoroom/so-you-want-to-rent-an-nvidia-h100-cluster-2024-consumer-guide?slug=inside-photoroom/so-you-want-to-rent-an-nvidia-h100-cluster-2024-consumer-guide&amp;_storyblok_published=511470179&amp;"
              >So you want to rent an NVIDIA H100 cluster? 2024 Consumer
              Guide</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-09 @ 11:02:22</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40914635"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40909094">
          <h3>
            <a
              class="item"
              href="https://healeycodes.com/making-python-less-random"
              >Making Python Less Random</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-08 @ 20:09:08</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40909094"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40907826">
          <h3>
            <a
              class="item"
              href="https://theory.stanford.edu/~aiken/publications/papers/pldi24.pdf"
              >Recursive Program Synthesis using Paramorphisms [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-08 @ 18:18:35</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40907826"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40898383">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s41928-024-01171-7"
              >Neuromorphic dendritic network with silent synapses for visual
              motion perception</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-07 @ 15:37:46</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40898383"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
