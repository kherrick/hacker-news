<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44337225">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/security/2025/06/record-ddos-pummels-site-with-once-unimaginable-7-3tbps-of-junk-traffic/"
              >Record DDoS pummels site with once-unimaginable 7.3Tbps of junk
              traffic</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 12:56:57</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44337225"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44336015">
          <h3>
            <a
              class="item"
              href="https://clickhouse.com/blog/scaling-observability-beyond-100pb-wide-events-replacing-otel"
              >Scaling our observability platform by embracing wide events and
              replacing OTel</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 09:23:21</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44336015"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335920">
          <h3>
            <a
              class="item"
              href="https://medium.com/@accounts_73078/goodbye-aws-how-we-kept-iso-27001-slashed-costs-by-90-914ccb4b89fc"
              >Show HN: We moved from AWS to Hetzner, saved 90%, kept ISO 27001
              with Ansible</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 09:02:29</span
              ><span class="points-container"
                >Points: <span class="points">165</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335920"
                  >Comments</a
                ><span class="descendants">: 82</span></span
              >
            </h4>
            <div class="text">
              <p>
                We rebuilt key AWS features ourselves using Terraform for VPS
                provisioning, and Ansible for everything from hardening (auditd,
                ufw, SSH policies) to rolling deployments (with Cloudflare
                integration). Our Prometheus + Alertmanager + Blackbox setup
                monitors infra, apps, and SSL expiry, with ISO 27001-aligned
                alerts. Loki + Grafana Agent handle logs to S3-compatible object
                storage.
              </p>
              <p>
                The stack includes: • Ansible roles for PostgreSQL (with
                automated s3cmd backups + Prometheus metrics) • Hardening tasks
                (auditd rules, ufw, SSH lockdown, chrony for clock sync) •
                Rolling web app deploys with rollback + Cloudflare draining •
                Full monitoring with Prometheus, Alertmanager, Grafana Agent,
                Loki, and exporters • TLS automation via Certbot in Docker +
                Ansible
              </p>
              <p>
                I wrote up the architecture, challenges, and lessons learned:
                <a
                  href="https://medium.com/@accounts_73078/goodbye-aws-how-we-kept-iso-27001-slashed-costs-by-90-914ccb4b89fc"
                  >https://medium.com/@accounts_73078/goodbye-aws-how-we-kept-i...</a
                >
              </p>
              <p>
                I’m happy to share insights, diagrams, or snippets if people are
                interested — or answer questions on pitfalls, compliance, or
                cost modeling.
              </p>
            </div>
          </section>
        </section>
        <section id="44335907">
          <h3>
            <a class="item" href="https://cosmoe.org/index.html"
              >Cosmoe: BeOS Class Library on Top of Wayland</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 09:00:01</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335907"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335519">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/research/agentic-misalignment"
              >Agentic Misalignment: How LLMs could be insider threats</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 07:39:28</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335519"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335517">
          <h3>
            <a
              class="item"
              href="https://entrevue.fr/en/un-groupe-sanguin-inedit-decouvert-en-france-gwada-negatif-une-exception-mondiale/"
              >A new blood type discovered in France: "Gwada negative", a global
              exception</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 07:38:42</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335517"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335065">
          <h3>
            <a class="item" href="https://delta.chat/en/"
              >Delta Chat is a decentralized and secure messenger app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 06:29:00</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335065"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335038">
          <h3>
            <a
              class="item"
              href="https://www.gematsu.com/2025/06/sega-mistakenly-reveals-sales-numbers-for-like-a-dragon-infinite-wealth-persona-3-reload-shin-megami-tensei-v-and-more"
              >Sega mistakenly reveals sales numbers of popular games</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 06:23:01</span
              ><span class="points-container"
                >Points: <span class="points">144</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335038"
                  >Comments</a
                ><span class="descendants">: 114</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44334403">
          <h3>
            <a
              class="item"
              href="https://graphics.cs.utah.edu/research/projects/avbd/"
              >Augmented Vertex Block Descent (AVBD)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 04:04:56</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44334403"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44334167">
          <h3>
            <a
              class="item"
              href="https://smex.org/open-letter-to-samsung-end-forced-israeli-app-installations-in-the-wana-region/"
              >Samsung embeds IronSource spyware app on phones across WANA</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 03:06:42</span
              ><span class="points-container"
                >Points: <span class="points">488</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44334167"
                  >Comments</a
                ><span class="descendants">: 299</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44333960">
          <h3>
            <a
              class="item"
              href="https://vermaden.wordpress.com/2024/03/21/tiny-undervalued-hardware-companions/"
              >Tiny Undervalued Hardware Companions (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 02:19:47</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44333960"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44333388">
          <h3>
            <a
              class="item"
              href="https://xorvoid.com/galois_fields_for_great_good_00.html"
              >Learn You Galois Fields for Great Good (00)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 00:21:25</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44333388"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44333187">
          <h3>
            <a
              class="item"
              href="https://www.science.org/doi/10.1126/science.adp9274"
              >Plastic bag bans and fees reduce harmful bag litter on
              shorelines</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 23:46:50</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44333187"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44332699">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2506.11440"
              >AbsenceBench: Language models can't tell what's missing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 22:26:52</span
              ><span class="points-container"
                >Points: <span class="points">259</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332699"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44332221">
          <h3>
            <a
              class="item"
              href="https://chipsandcheese.com/p/amds-freshly-baked-mi350-an-interview"
              >AMD's Freshly-Baked MI350: An Interview with the Chief
              Architect</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 21:20:46</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332221"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44332170">
          <h3>
            <a class="item" href="https://www.monkeon.co.uk/wikiradio/"
              >Wiki Radio: The thrilling sound of random Wikipedia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 21:15:15</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332170"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44331362">
          <h3>
            <a class="item" href="https://writewithharper.com"
              >Harper – an open-source alternative to Grammarly</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 19:51:45</span
              ><span class="points-container"
                >Points: <span class="points">398</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44331362"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44329712">
          <h3>
            <a class="item" href="https://iter.ca/post/yt-adblock/"
              >YouTube's new anti-adblock measures</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 17:01:35</span
              ><span class="points-container"
                >Points: <span class="points">621</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329712"
                  >Comments</a
                ><span class="descendants">: 931</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44329457">
          <h3>
            <a class="item" href="https://github.com/nxtscape/nxtscape"
              >Show HN: Nxtscape – an open-source agentic browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:35:55</span
              ><span class="points-container"
                >Points: <span class="points">269</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329457"
                  >Comments</a
                ><span class="descendants">: 168</span></span
              >
            </h4>
            <div class="text">
              <p>
                -- Why bother building a new browser? For the first time since
                Netscape was released in 1994, it feels like we can reimagine
                browsers from scratch for the age of AI agents. The web browser
                of tomorrow might not look like what we have today.
              </p>
              <p>
                We saw how tools like Cursor gave developers a 10x productivity
                boost, yet the browser—where everyone else spends their entire
                workday—hasn't fundamentally changed.
              </p>
              <p>
                And honestly, we feel like we're constantly fighting the browser
                we use every day. It's not one big thing, but a series of small,
                constant frustrations. I'll have 70+ tabs open from three
                different projects and completely lose my train of thought. And
                simple stuff like reordering tide pods from amazon or filling
                out forms shouldn't need our full attention anymore. AI can
                handle all of this, and that's exactly what we're building.
              </p>
              <p>
                Here’s a demo of our early version
                <a href="https://dub.sh/nxtscape-demo"
                  >https://dub.sh/nxtscape-demo</a
                >
              </p>
              <p>
                -- What makes us different We know others are exploring this
                space (Perplexity, Dia), but we want to build something
                open-source and community-driven. We're not a search or ads
                company, so we can focus on being privacy-first – Ollama
                integration, BYOK (Bring Your Own Keys), ad-blocker.
              </p>
              <p>
                Btw we love what Brave started and stood for, but they've now
                spread themselves too thin across crypto, search, etc. We are
                laser-focused on one thing: making browsers work for YOU with
                AI. And unlike Arc (which we loved too but got abandoned), we're
                100% open source. Fork us if you don't like our direction.
              </p>
              <p>
                -- Our journey hacking a new browser To build this, we had to
                fork Chromium. Honestly, it feels like the only viable path
                today—we've seen others like Brave (started with electron) and
                Microsoft Edge learn this the hard way.
              </p>
              <p>
                We also started with why not just build an extension. But
                realized we needed more control. Similar to the reason why
                Cursor forked VSCode. For example, Chrome has this thing called
                the Accessibility Tree - basically a cleaner, semantic version
                of the DOM that screen readers use. Perfect for AI agents to
                understand pages, but you can't use it through extension APIs.
              </p>
              <p>
                That said, working with the 15M-line C++ chromium codebase has
                been an adventure. We've both worked on infra at Google and
                Meta, but Chromium is a different beast. Tools like Cursor's
                indexing completely break at this scale, so we've had to get
                really good with grep and vim. And the build times are
                brutal—even with our maxed-out M4 Max MacBook, a full build
                takes about 3 hours.
              </p>
              <p>
                Full disclosure: we are still very early, but we have a working
                prototype on GitHub. It includes an early version of a "local
                Manus" style agent that can automate simple web tasks, plus an
                AI sidebar for questions, and other productivity features
                (grouping tabs, saving/resuming sessions, etc.).
              </p>
              <p>Looking forward to any and all comments!</p>
              <p>
                You can download the browser from our github page:
                <a href="https://github.com/nxtscape/nxtscape"
                  >https://github.com/nxtscape/nxtscape</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44328598">
          <h3>
            <a
              class="item"
              href="https://jgeekstudies.org/2025/06/20/wilted-lands-and-wounded-worlds-visualizing-environmental-costs-of-war-in-hayao-miyazakis-nausicaa-of-the-valley-of-the-wind/"
              >Visualizing environmental costs of war in Hayao Miyazaki's
              Nausicaä</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:23:29</span
              ><span class="points-container"
                >Points: <span class="points">227</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328598"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328326">
          <h3>
            <a
              class="item"
              href="https://fly.io/blog/phoenix-new-the-remote-ai-runtime/"
              >Phoenix.new – Remote AI Runtime for Phoenix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:57:04</span
              ><span class="points-container"
                >Points: <span class="points">487</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328326"
                  >Comments</a
                ><span class="descendants">: 214</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44323083">
          <h3>
            <a
              class="item"
              href="https://caitlynclark.substack.com/p/deeping-it-manifesto"
              >On memes, mimetic desire, and why it's always that deep</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 22:23:52</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44323083"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44317291">
          <h3>
            <a class="item" href="https://meodai.github.io/color-name-api/"
              >Show HN: A color name API that maps hex to the closest
              human-readable name</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 10:40:01</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44317291"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
            <div class="text">
              <p>
                I made it from scratch without Express or any frameworks
                because:
              </p>
              <p>
                - I’m a frontend/interaction dev and wanted to learn how to
                build an API from the ground up. - Existing APIs didn’t
                guarantee unique names per color—mine does. - It also supports
                WebSocket updates, gzip responses, and multiple name sets.
              </p>
              <p>
                I’ve been collecting color names for over 10 years [1]. With
                ~30,000 entries, bundling them into every color-related project
                became excessive. This API keeps things lightweight—for me and
                hopefully for others too.
              </p>
              <p>
                GitHub:
                <a href="https://github.com/meodai/color-name-api"
                  >https://github.com/meodai/color-name-api</a
                >
              </p>
              <p>
                Would love feedback on naming logic, accuracy, performance, or
                backend best practices I might’ve missed.
              </p>
              <p>
                [1] Large Color Name List:
                <a href="https://github.com/meodai/color-names"
                  >https://github.com/meodai/color-names</a
                >
                [2] XKCD color survey results:
                <a href="https://xkcd.com/color/rgb/"
                  >https://xkcd.com/color/rgb/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44315188">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/mathematicians-hunting-prime-numbers-discover-infinite-new-pattern-for/"
              >Mathematicians hunting prime numbers discover infinite new
              pattern</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 03:28:29</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44315188"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44308953">
          <h3>
            <a
              class="item"
              href="https://blog.trailofbits.com/2025/06/17/unexpected-security-footguns-in-gos-parsers/"
              >Unexpected security footguns in Go's parsers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 11:35:12</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44308953"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44307972">
          <h3>
            <a
              class="item"
              href="https://groups.google.com/a/chromium.org/g/chromium-dev/c/v-WOvWUtOpg"
              >Chromium Switching from Ninja to Siso</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 08:49:42</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44307972"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44307275">
          <h3>
            <a
              class="item"
              href="https://rjp.io/blog/2025-06-17-unreasonable-effectiveness-of-fuzzing"
              >The Unreasonable Effectiveness of Fuzzing for Porting Programs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 06:50:11</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44307275"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44306892">
          <h3>
            <a
              class="item"
              href="https://www.omgubuntu.co.uk/2025/06/microsoft-edit-text-editor-ubuntu"
              >Using Microsoft's New CLI Text Editor on Ubuntu</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 05:25:36</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44306892"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44303767">
          <h3>
            <a
              class="item"
              href="https://www.independent.co.uk/news/science/captain-cook-missing-ship-found-hms-endeavour-b2771322.html"
              >Captain Cook's missing ship found after sinking 250 years ago</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 20:46:35</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44303767"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44298666">
          <h3>
            <a class="item" href="https://www.asimov.press/p/slime"
              >Life as Slime</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 13:03:36</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44298666"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
