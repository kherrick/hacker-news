<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46242907">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46242907"
              >How does a "you interview for US company, we do the work" scam
              work?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 10:55:08</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46242907"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>How does the scammer benefit from this operation?</p>
              <p>I can think of 2 ways:</p>
              <p>
                - Personal / private data mining, but this seems quite work
                intensive for that purpose - Actually going through with the
                whole scam and disappearing after first salary payments come
                through
              </p>
              <p>
                Any other ideas? Anyone have experience or insight about this?
              </p>
              <p>---</p>
              <p>Full email below:</p>
              <p>"Hi &lt;name&gt;, I hope you’re doing well.</p>
              <p>
                My name is &lt;sender&gt;, and I’ve been a software developer
                for over 7 years — mainly full stack, with a strong focus on
                frontend. I’m reaching out because I’m looking for someone to
                collaborate with, and I think you're the best one whom I'm
                looking for.
              </p>
              <p>
                I used to partner with my friend Jim, and we worked really well
                together. Sadly, he was diagnosed with cancer about a month ago,
                and he advised me to find someone new to team up with. That’s
                why I wanted to talk to you.
              </p>
              <p>
                Here’s the idea: I’ll handle sending proposals to companies, and
                you would take care of the interviews with recruiters. My
                English isn’t strong enough for U.S. interviews, so I’m looking
                for someone who is confident in English and also has strong
                technical knowledge. If we land a position, you’d receive a
                share of the monthly salary, while I would take care of the
                actual development work.
              </p>
              <p>
                My initial suggestion is a 50/50 split of the salary after tax.
                For example, if a job pays $10K per month and taxes are 30%
                ($3K), the remaining $7K would be split evenly — $3.5K each.
              </p>
              <p>
                I will manage all the proposals and keep you informed about
                interview schedules. If things work out and we join a team, I’ll
                handle the project development. Then you'll get profit every
                month without any work.
              </p>
              <p>
                If this sounds interesting to you, please let me know — I’d
                really like the chance to work together.
              </p>
              <p>Thank you, Best regards, &lt;sender&gt;"</p>
            </div>
          </section>
        </section>
        <section id="46242513">
          <h3>
            <a
              class="item"
              href="https://www.razor.blog/2025/12/you-will-never-be-in-two-person.html"
              >You are dating an ecosystem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 09:48:52</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46242513"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46241849">
          <h3>
            <a
              class="item"
              href="https://vulpinecitrus.info/blog/guarding-git-forge-ai-scrapers/"
              >Guarding My Git Forge Against AI Scrapers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 07:51:04</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46241849"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46241767">
          <h3>
            <a
              class="item"
              href="https://yaky.dev/2022-09-06-smartphone-without-battery/"
              >Smartphone Without a Battery (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 07:36:17</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46241767"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46241763">
          <h3>
            <a
              class="item"
              href="https://lucassifoni.info/blog/miniscope-tiny-telescope/"
              >The tiniest yet real telescope I've built</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 07:35:49</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46241763"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46239895">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/c24l223d9n7o"
              >Cadmium Zinc Telluride: The wonder material powering a medical
              'revolution'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 01:41:15</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46239895"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46239752">
          <h3>
            <a
              class="item"
              href="https://journal.james-zhan.com/google-de-indexed-my-entire-bear-blog-and-i-dont-know-why/"
              >Google de-indexed Bear Blog and I don't know why</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 01:20:05</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46239752"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46239629">
          <h3>
            <a
              class="item"
              href="https://www.isaaa.org/kc/cropbiotechupdate/article/default.asp?ID=21607"
              >CRISPR fungus: Protein-packed, sustainable, and tastes like
              meat</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 00:59:46</span
              ><span class="points-container"
                >Points: <span class="points">171</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46239629"
                  >Comments</a
                ><span class="descendants">: 92</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46239372">
          <h3>
            <a class="item" href="https://github.com/stoolap/stoolap"
              >Stoolap: High-performance embedded SQL database in pure Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 00:28:24</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46239372"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46239188">
          <h3>
            <a
              class="item"
              href="https://tedium.co/2025/12/10/404-media-zine-linux-affinity/?"
              >Laying out the 404 Media zine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 00:05:36</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46239188"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46239177">
          <h3>
            <a
              class="item"
              href="https://yaky.dev/2025-12-11-nokia-n900-necromancy/"
              >Nokia N900 Necromancy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 00:04:29</span
              ><span class="points-container"
                >Points: <span class="points">330</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46239177"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46236924">
          <h3>
            <a
              class="item"
              href="https://react.dev/blog/2025/12/11/denial-of-service-and-source-code-exposure-in-react-server-components"
              >Denial of service and source code exposure in React Server
              Components</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 20:46:46</span
              ><span class="points-container"
                >Points: <span class="points">296</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46236924"
                  >Comments</a
                ><span class="descendants">: 182</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://blog.cloudflare.com/react2shell-rsc-vulnerabilities-exploitation-threat-brief/"
                >https://blog.cloudflare.com/react2shell-rsc-vulnerabilities-...</a
              >,
              <a href="https://nextjs.org/blog/security-update-2025-12-11"
                >https://nextjs.org/blog/security-update-2025-12-11</a
              >
            </div>
          </section>
        </section>
        <section id="46235959">
          <h3>
            <a
              class="item"
              href="https://jon.recoil.org/blog/2025/12/an-svg-is-all-you-need.html"
              >An SVG is all you need</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 19:25:14</span
              ><span class="points-container"
                >Points: <span class="points">258</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46235959"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234920">
          <h3>
            <a
              class="item"
              href="https://riviantrackr.com/news/rivian-unveils-custom-silicon-r2-lidar-roadmap-universal-hands-free-and-its-next-gen-autonomy-platform/"
              >Rivian Unveils Custom Silicon, R2 Lidar Roadmap, and Universal
              Hands Free</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:17:19</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234920"
                  >Comments</a
                ><span class="descendants">: 421</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234806">
          <h3>
            <a class="item" href="https://larr.net/p/namings.html"
              >Programmers and software developers lost the plot on naming their
              tools</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:06:42</span
              ><span class="points-container"
                >Points: <span class="points">311</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234806"
                  >Comments</a
                ><span class="descendants">: 404</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234788">
          <h3>
            <a class="item" href="https://openai.com/index/introducing-gpt-5-2/"
              >GPT-5.2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 18:04:47</span
              ><span class="points-container"
                >Points: <span class="points">1020</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234788"
                  >Comments</a
                ><span class="descendants">: 873</span></span
              >
            </h4>
            <div class="text">
              <a href="https://platform.openai.com/docs/guides/latest-model"
                >https://platform.openai.com/docs/guides/latest-model</a
              >
              <p>
                System card:
                <a
                  href="https://cdn.openai.com/pdf/3a4153c8-c748-4b71-8e31-aecbde944f8d/oai_5_2_system-card.pdf"
                  >https://cdn.openai.com/pdf/3a4153c8-c748-4b71-8e31-aecbde944...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46234710">
          <h3>
            <a class="item" href="https://fly.io/blog/litestream-vfs/"
              >Litestream VFS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 17:59:10</span
              ><span class="points-container"
                >Points: <span class="points">307</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234710"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46234186">
          <h3>
            <a class="item" href="https://github.com/simstudioai/sim"
              >Show HN: Sim – Apache-2.0 n8n alternative</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 17:20:11</span
              ><span class="points-container"
                >Points: <span class="points">206</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46234186"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
            <div class="text">
              <a href="https://sim.ai/">https://sim.ai/</a>), an open-source
              visual editor to build agentic workflows. Repo here:
              <a href="https://github.com/simstudioai/sim/"
                >https://github.com/simstudioai/sim/</a
              >. Docs here:
              <a href="https://docs.sim.ai">https://docs.sim.ai</a>.
              <p>
                You can run Sim locally using Docker, with no execution limits
                or other restrictions.
              </p>
              <p>
                We started building Sim almost a year ago after repeatedly
                troubleshooting why our agents failed in production. Code-first
                frameworks felt hard to debug because of implicit control flow,
                and workflow platforms added more overhead than they removed. We
                wanted granular control and easy observability without piecing
                everything together ourselves.
              </p>
              <p>
                We launched Sim [1][2] as a drag-and-drop canvas around 6 months
                ago. Since then, we've added:
              </p>
              <p>
                - 138 blocks: Slack, GitHub, Linear, Notion, Supabase, SSH, TTS,
                SFTP, MongoDB, S3, Pinecone, ...
              </p>
              <p>- Tool calling with granular control: forced, auto</p>
              <p>
                - Agent memory: conversation memory with sliding window support
                (by last n messages or tokens)
              </p>
              <p>
                - Trace spans: detailed logging and observability for nested
                workflows and tool calling
              </p>
              <p>
                - Native RAG: upload documents, we chunk, embed with pgvector,
                and expose vector search to agents
              </p>
              <p>- Workflow deployment versioning with rollbacks</p>
              <p>- MCP support, Human-in-the-loop block</p>
              <p>
                - Copilot to build workflows using natural language (just
                shipped a new version that also acts as a superagent and can
                call into any of your connected services directly, not just
                build workflows)
              </p>
              <p>
                Under the hood, the workflow is a DAG with concurrent execution
                by default. Nodes run as soon as their dependencies (upstream
                blocks) are satisfied. Loops (for, forEach, while, do-while) and
                parallel fan-out/join are also first-class primitives.
              </p>
              <p>
                Agent blocks are pass-through to the provider. You pick your
                model (OpenAI, Anthropic, Gemini, Ollama, vLLM), and and we pass
                through prompts, tools, and response format directly to the
                provider API. We normalize response shapes for block
                interoperability, but we're not adding layers that obscure
                what's happening.
              </p>
              <p>
                We're currently working on our own MCP server and the ability to
                deploy workflows as MCP servers. Would love to hear your
                thoughts and where we should take it next :)
              </p>
              <p>
                [1]
                <a href="https://news.ycombinator.com/item?id=43823096"
                  >https://news.ycombinator.com/item?id=43823096</a
                >
              </p>
              <p>
                [2]
                <a href="https://news.ycombinator.com/item?id=44052766"
                  >https://news.ycombinator.com/item?id=44052766</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46231709">
          <h3>
            <a
              class="item"
              href="https://suggger.substack.com/p/the-architecture-of-not-bad-decoding"
              >The architecture of “not bad”: Decoding the Chinese source code
              of the void</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 14:21:14</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231709"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46231493">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/disney-sora-agreement/"
              >The Walt Disney Company and OpenAI Partner on Sora</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 14:05:16</span
              ><span class="points-container"
                >Points: <span class="points">236</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231493"
                  >Comments</a
                ><span class="descendants">: 463</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.cnbc.com/2025/12/11/disney-openai-sora-characters-video.html"
                >https://www.cnbc.com/2025/12/11/disney-openai-sora-character...</a
              >
            </div>
          </section>
        </section>
        <section id="46231274">
          <h3>
            <a
              class="item"
              href="https://rapha.land/craft-software-that-makes-people-feel-something/"
              >Craft software that makes people feel something</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 13:45:08</span
              ><span class="points-container"
                >Points: <span class="points">301</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231274"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46231187">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=Na9VmMNJvsA"
              >French supermarket's Christmas advert is worldwide hit (without
              AI) [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 13:35:55</span
              ><span class="points-container"
                >Points: <span class="points">385</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231187"
                  >Comments</a
                ><span class="descendants">: 199</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46220540">
          <h3>
            <a class="item" href="https://karpathy.bearblog.dev/auto-grade-hn/"
              >Auto-grading decade-old Hacker News discussions with hindsight</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 17:23:53</span
              ><span class="points-container"
                >Points: <span class="points">615</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46220540"
                  >Comments</a
                ><span class="descendants">: 255</span></span
              >
            </h4>
            <div class="text">
              <i
                >Show HN: Gemini Pro 3 imagines the HN front page 10 years from
                now</i
              >
              -
              <a href="https://news.ycombinator.com/item?id=46205632"
                >https://news.ycombinator.com/item?id=46205632</a
              >
            </div>
          </section>
        </section>
        <section id="46197930">
          <h3>
            <a
              class="item"
              href="https://gricha.dev/blog/the-highest-quality-codebase"
              >The highest quality codebase</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 21:33:09</span
              ><span class="points-container"
                >Points: <span class="points">560</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46197930"
                  >Comments</a
                ><span class="descendants">: 356</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46190324">
          <h3>
            <a class="item" href="https://github.com/pguyot/Einstein"
              >Einstein: NewtonOS running on other operating systems</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 09:42:04</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46190324"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46190288">
          <h3>
            <a
              class="item"
              href="https://jkbrickworks.com/simple-drawing-machine/"
              >Spirograph style Lego drawing machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 09:37:02</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46190288"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46182874">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/lifestyle/2025/12/05/karl-bushby-walk-around-world/"
              >He set out to walk around the world. After 27 years, his quest is
              nearly over</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-07 @ 16:26:45</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46182874"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46179103">
          <h3>
            <a class="item" href="https://github.com/pdsink/pdsink"
              >Pdsink: USB Power Delivery Sink library for embedded devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-07 @ 04:14:03</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46179103"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46174114">
          <h3>
            <a
              class="item"
              href="https://andreasjhkarlsson.github.io//jekyll/update/2023/12/27/4-billion-if-statements.html"
              >4B If Statements</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-06 @ 15:34:26</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46174114"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46172439">
          <h3>
            <a class="item" href="https://github.com/JohnEarnest/Octo"
              >Octo: A Chip8 IDE</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-06 @ 11:17:58</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46172439"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
