<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39217616">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2024/02/01/us_china_military_collaborators/"
              >US designates more Chinese tech companies as military
              collaborators</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 16:21:41</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217616"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39217440">
          <h3>
            <a
              class="item"
              href="https://www.quadratichq.com/blog/2024-01-28-the-multiplayer-spreadsheet"
              >Quadratic – Open-Source Spreadsheet Is Now Multiplayer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 16:07:47</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217440"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39217436">
          <h3>
            <a
              class="item"
              href="https://adamtooze.substack.com/p/chartbook-carbon-notes-10-in-china"
              >In China, clean energy is now THE driver of overall economic
              growth</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 16:07:38</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217436"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39217395">
          <h3>
            <a class="item" href="https://labs.leaningtech.com/blog/cheerpj-3.0"
              >CheerpJ 3.0: A WebAssembly JVM to run real-world applications in
              the browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 16:05:19</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217395"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39217231">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39217231"
              >Ask HN: Looking for a project to volunteer on? (February 2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:52:49</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217231"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
            <div class="text">
              <p>
                SEEKING PROJECTS: If comfortable doing so, write down your name,
                and programming languages that you know. Also don't forget to
                write down some of the projects that you have volunteered on, or
                some of the projects that you made, and what you are interested
                in working on. Optionally, you can write your email, if you want
                opportunities to be discussed privately. Also, please don't
                forget to start your comment off with "SEEKING PROJECTS" for
                people seeking volunteers to find your comment easier, and not
                get it mixed up with the "SEEKING VOLUNTEERS" comments.
              </p>
            </div>
          </section>
        </section>
        <section id="39217174">
          <h3>
            <a
              class="item"
              href="https://themarkup.org/still-loading/2024/02/01/los-angeles-becomes-first-us-city-to-outlaw-digital-discrimination"
              >Los Angeles Becomes First US City to Outlaw Digital
              Discrimination</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:48:27</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217174"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39217149">
          <h3>
            <a
              class="item"
              href="https://dhwthompson.com/2019/my-favourite-git-commit"
              >My favourite Git commit (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:46:15</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217149"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39217046">
          <h3>
            <a
              class="item"
              href="https://blog.google/products/bard/google-bard-gemini-pro-image-generation/"
              >Bard's latest updates: Access Gemini Pro globally and generate
              images</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:36:51</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39217046"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39216921">
          <h3>
            <a
              class="item"
              href="https://newsletter.pessimistsarchive.org/p/when-the-mac-was-a-munition"
              >When the Mac Was a Munition</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:25:20</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39216921"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39216904">
          <h3>
            <a
              class="item"
              href="https://bernsteinbear.com/blog/compiling-a-lisp-0/"
              >Compiling a Lisp</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:23:27</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39216904"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39216790">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/what-makes-for-good-mathematics-20240201/"
              >What Makes for 'Good' Mathematics?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 15:11:59</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39216790"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39216110">
          <h3>
            <a class="item" href="https://hindenburgresearch.com/lifestance/"
              >Lifestance: A mental health rollup headed for a breakdown</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 14:13:20</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39216110"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39215846">
          <h3>
            <a class="item" href="https://www.damnsmalllinux.org/"
              >Damn Small Linux 2024</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 13:47:48</span
              ><span class="points-container"
                >Points: <span class="points">211</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39215846"
                  >Comments</a
                ><span class="descendants">: 92</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39215779">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39215779"
              >Launch HN: Escape (YC W23) – Discover and secure all your APIs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 13:38:42</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39215779"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
            <div class="text">
              <a href="https://escape.tech">https://escape.tech</a>). We use AI
              inspired by chess to help security engineers and developers
              discover and secure APIs created by their organizations.
              <p>
                Here is our demo:
                <a href="https://youtu.be/qcCaegVElTY"
                  >https://youtu.be/qcCaegVElTY</a
                >
              </p>
              <p>
                Typical modern large orgs have hundreds if not thousands of
                APIs, and many of those handle sensitive data or are critical to
                business operations. The development of those APIs is
                distributed across different development teams that don’t always
                have knowledge of API security best practices. API source codes
                are updated frequently, making it easy for new, easily
                exploitable security vulnerabilities to be introduced in
                production environments (think the 2018 FB 50M accounts data
                leak).
              </p>
              <p>
                APIs make up 80% of global web traffic, and this share is
                growing. The responsibility for securing APIs is usually given
                to the organization's security engineers, not the API
                developers, which makes sense because they’re the ones who know
                how to secure things. But in practice, it is almost an
                impossible job because the security engineers have no way to
                track everything the developers are exposing online, and
                usually, there’s nobody to tell them! And when they do find out,
                they lack the right tooling for achieving it. This is a huge
                risk for organizations, a pain and personal risk for security
                engineers, and a great technical challenge.
              </p>
              <p>
                Working as a software engineer a few years back, I faced a data
                scare: a pharmaceutical client's data was compromised due to a
                NoSQL injection. In this case the damage ended up controlled,
                but it led to the nightmarish thought of waking up one day with
                all the data from the applications gone, simply because
                cybercriminals exploited a security issue. When looking for
                solutions that allowed developers to ensure what they released
                in production was secure, we couldn’t find anything particularly
                good. Security scanning tools like OWASP ZAP had been designed
                for people with penetration testing backgrounds. Code scanning
                tools were only finding the low-hanging fruit at the cost of
                many false positives, and ended up resembling security-oriented
                linters, turning the entire IDE red for minimal value. It felt
                like none of the existing security tools were built with real
                engineers in mind. When I met Antoine, who had previously been a
                security engineer at NATO and Apple, we decided to tackle this
                issue together and create a modern security tool that would
                appeal to both developers and security people. It needed to be
                fast, easy to set up yet configurable, have outstanding support
                for securing APIs, and find what was relevant with a low false
                positive rate.
              </p>
              <p>
                The first step was to show security engineers and developers
                what APIs they had to secure. We needed to find an easy way to
                discover any organization’s exposed and internal APIs.
              </p>
              <p>
                To discover all APIs, we crafted a system that extracts all the
                API routes the organization exposes by scanning its domains,
                frontend websites, and SPAs. It then enriches this data by
                connecting to code repositories, API gateways, and API
                development tools to create a full list of all the exposed
                endpoints and the sensitivity of the data they handle. Other
                testing tools do not provide an inventory of all the API routes
                exposed by an organization, but as we mentioned above, the
                biggest problem security engineers face is often just finding
                out what it is they need to test!
              </p>
              <p>
                Then, we needed to provide security engineers and developers
                with a list of security issues in their APIs.
              </p>
              <p>
                Since APIs act as a business model layer, most of the critical
                security issues lie in the business processes underlying APIs.
                In security, issues obtained from breaking business processes
                are called Broken Object Level Authorization (BOLA), Broken
                Function Level Authorization (BFLA), and Broken Object Property
                Level Authorization (BOPLA).
              </p>
              <p>
                To find them, we knew we couldn’t rely on traditional techniques
                like fuzzing. We needed to find a way to model the Business
                Process underlying the API and attempt to break it.
              </p>
              <p>
                Doing research on this topic, we discovered that modeling API
                business processes in a similar way to board games, like Chess
                or Go, worked surprisingly well. The underlying reason is
                simple: a board game is a state machine on which you can execute
                actions that must respect rules to change the game’s state.
                Think about moving the pieces in a chess game, each piece has
                its specific moves, and their position on the board represents
                the state.
              </p>
              <p>
                APIs are similar: they have a database, which represents the
                internal state, and API routes, which represent the actions you
                can run on the state. Of course, most APIs are more complex than
                a chess game because they have much more routes than there are
                chess pieces. In mathematics, we would say that the action space
                is much larger.
              </p>
              <p>
                But the models are similar enough for us to try applying
                alpha-beta, Monte-Carlo Search Three, and more advanced Machine
                Learning techniques that have proven to work well in the context
                of large action space games like Go.
              </p>
              <p>
                Those were the foundational ideas behind our in-house algorithm,
                Feedback-Driven API Exploration (FDAE), which automatically
                identifies the underlying business processes and generates
                sequences of API requests especially aimed at breaking them,
                uncovering potential security flaws and data leaks.
              </p>
              <p>
                FDAE starts by ingesting the list of routes and parameters in an
                API. It first identifies the routes leading to sensitive data,
                like PII or financial information, and the parameters that have
                the most chances of being vulnerable to various kinds of
                injections and attacks.
              </p>
              <p>
                Often, those routes require parameters like UUIDs or
                domain-specific values. That’s where traditional security
                scanners fall short: they often fuzz randomly the parameters
                hoping to find some low-hanging fruit injection, but end up
                blocked at the data validation layer.
              </p>
              <p>
                FDAE is smarter. If it detects that the route /user/:uuid might
                be sensible, it will first look at all the other routes in the
                API and try to find one that returns a valid user UUID. Once it
                gets the valid user UUID, it will use it to trigger the
                /user/:uuid route and try to exploit it in many different ways.
              </p>
              <p>
                If there are no existing users in the database, but there is a
                route to create one, Escape’s FDAE will even be able to create a
                user, get its UUID, and then attempt exploiting the routes that
                require a user UUID.
              </p>
              <p>
                This process, very similar to what human penetration testers and
                bug hunters do, allows Escape to do extensive and deep testing
                of any API and business processes. It’s specifically good at
                finding many access control bugs like tenant isolation problems,
                complex multi-step injections, and request forgeries.
              </p>
              <p>
                To give a specific example, imagine you’re building an
                e-commerce application, Escape can detect cases where users can
                bypass payment steps or modify input parameters in the request
                to access other user’s orders or private information.
              </p>
              <p>
                You can find a more detailed explanation of how Feedback Driven
                API Exploration works with graphics here:
                <a
                  href="https://escape.tech/blog/feedback-driven-api-exploration/"
                  >https://escape.tech/blog/feedback-driven-api-exploration/</a
                >
              </p>
              <p>
                Escape’s entire scanning process takes minutes. It was very
                important to us, as former developers, to seamlessly integrate
                API testing in CI/CD pipelines and quickly implement relevant
                fixes. To verify that it was scalable, we scanned all public
                APIs on the internet and produced research reports on their
                quality: the State of GraphQL Security (<a
                  href="https://26857953.fs1.hubspotusercontent-eu1.net/hubfs/26857953/State-of-GraphQL-security.pdf"
                  >https://26857953.fs1.hubspotusercontent-eu1.net/hubfs/268579...</a
                >), and the State of Public APIs (<a
                  href="https://apirank.dev/state-of-public-api-2023/"
                  >https://apirank.dev/state-of-public-api-2023/</a
                >).
              </p>
              <p>
                Apart from discovering and testing APIs in minutes, we wanted to
                make Escape actionable. Pinpointing a problem is one thing, but
                then how to fix it? Most dynamic scanners give vague remediation
                instructions. Escape actually generates code snippets to help
                developers.
              </p>
              <p>
                We offer a few monthly and yearly subscription plans based on
                the number of APIs and developers in the org, with a free 7 days
                trial. The pricing is accessible in the app during a trial
                period. Since our product is highly technical, we wanted to make
                sure that users can explore our features, evaluate what Escape
                does, and understand its value before making a decision. Users
                can see pricing details at a point in their trial journey where
                it makes the most sense, aligning with their understanding of
                the product. You can try us without a credit card at
                <a href="https://escape.tech">https://escape.tech</a>.
              </p>
              <p>
                Our main SaaS product is closed source, but we publish many open
                source packages for security and developers on
                <a href="https://github.com/Escape-Technologies/"
                  >https://github.com/Escape-Technologies/</a
                >
                , some of them being widely used like GraphQL Armor (<a
                  href="https://github.com/Escape-Technologies/graphql-armor/"
                  >https://github.com/Escape-Technologies/graphql-armor/</a
                >)
              </p>
              <p>
                The number and complexity of APIs are constantly growing, and
                we’re continuing to learn every day, so we would greatly
                appreciate and are eager for your feedback (no matter how big or
                small)! Thanks!
              </p>
            </div>
          </section>
        </section>
        <section id="39215723">
          <h3>
            <a
              class="item"
              href="https://www.cell.com/iscience/fulltext/S2589-0042(24)00125-1"
              >Spider webs capture environmental DNA from terrestrial
              vertebrates</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 13:33:38</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39215723"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39215309">
          <h3>
            <a
              class="item"
              href="https://wololo.net/2024/02/01/is-an-18-year-old-vulnerability-the-key-to-the-next-ps5-ps4-jailbreak/"
              >FreeBSD 4 Bug may be present in Playstation 4/5</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 12:36:15</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39215309"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39215242">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/StableDiffusion/comments/1ag5h5s/the_vae_used_for_stable_diffusion_1x2x_and_other/"
              >The VAE Used for Stable Diffusion Is Flawed</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 12:25:48</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39215242"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39214939">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2401.09417"
              >Vision Mamba: Efficient Visual Representation Learning with
              Bidirectional SSM</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 11:46:28</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39214939"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39214743">
          <h3>
            <a class="item" href="https://words.filippo.io/dispatches/mlkem768/"
              >Show HN: filippo.io/mlkem768 – Post-Quantum Cryptography for the
              Go Ecosystem</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 11:10:58</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39214743"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39213421">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39213421"
              >PhotoRoom (YC S20) Is Hiring an API Designer in Paris (Node,
              Rust)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 07:00:46</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                TL;DR; We're looking for a seasoned engineer who has experience
                building easy-to-use public web APIs with Node.js
              </p>
              <p>
                Our goal: allow anyone to edit images by typing an URL. Think of
                it as PhotoRoom-in-a-box, where the interface is an URL
              </p>
              <p>
                For instance, you can call:
                <a
                  href="https://beta-sdk.photoroom.com/v2/edit?background.color=blue&amp;outputSize=1000x1000&amp;padding=0.1&amp;imageUrl=IMAGE_URL_GOES_HERE"
                  >https://beta-sdk.photoroom.com/v2/edit?background.color=blue...</a
                >
                and get your edited image back. (here it's missing an API key)
              </p>
              <p>
                The first version is live, but there's so much we want to build:
                text editing, new AI capabilities ("turn that t-shirt from red
                to blue") and so much more
              </p>
              <p>
                About you: our main requirement is that you have a track record
                of to use and scalable.
              </p>
              <p>
                Our stack: Node 18 deployed on a serverless stack. Ideally you'd
                have a lot of experience in Node/TypeScript but that's not a
                strong requirement if you can adapt to best practices quickly.
                We're sharing a lot of the rendering code with our apps (in
                Rust, C). While you won't have to dig into that part of the
                stack you'll be able to if you're curious
              </p>
              <p>
                You'll find more details in the offer here:
                <a
                  href="https://jobs.lever.co/photoroom/29260c53-a84f-4d4f-a322-3bdc8540cdb7?lever-origin=applied&amp;lever-source%5B%5D=yc"
                  >https://jobs.lever.co/photoroom/29260c53-a84f-4d4f-a322-3bdc...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="39213410">
          <h3>
            <a
              class="item"
              href="https://elijahpotter.dev/articles/markov_chains_are_the_original_language_models"
              >Markov Chains Are the Original Language Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 06:59:11</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39213410"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39212905">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2205.13147"
              >Matryoshka Representation Learning</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 05:12:32</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39212905"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39212833">
          <h3>
            <a
              class="item"
              href="https://medium.engineering/the-curious-case-of-disappearing-polish-s-fa398313d4df"
              >The curious case of the disappearing Polish Ś (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-01 @ 04:53:54</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39212833"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39210507">
          <h3>
            <a class="item" href="https://alexwlchan.net/2024/big-pdf/"
              >Making a PDF that's larger than Germany</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-31 @ 22:47:47</span
              ><span class="points-container"
                >Points: <span class="points">637</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39210507"
                  >Comments</a
                ><span class="descendants">: 131</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39205020">
          <h3>
            <a class="item" href="https://neal.fun/infinite-craft/"
              >Infinite Craft</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-31 @ 15:34:28</span
              ><span class="points-container"
                >Points: <span class="points">1034</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39205020"
                  >Comments</a
                ><span class="descendants">: 470</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39202722">
          <h3>
            <a class="item" href="https://neovide.dev"
              >Neovide – A simple, no-nonsense, cross-platform GUI for Neovim</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-31 @ 11:54:45</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39202722"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39202248">
          <h3>
            <a class="item" href="https://projectf.io/posts/riscv-arithmetic/"
              >RISC-V Assembler: Arithmetic</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-31 @ 10:46:42</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39202248"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39201772">
          <h3>
            <a class="item" href="https://www.nubero.ch/blog/009/"
              >In Praise of Buttons</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-31 @ 09:27:23</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39201772"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39188987">
          <h3>
            <a
              class="item"
              href="https://www.dcs.warwick.ac.uk/~hugh/TTM/relvars.pdf"
              >To Be Is to Be a Value of a Variable (2006) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-30 @ 11:47:46</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39188987"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39187487">
          <h3>
            <a
              class="item"
              href="https://dmathieu.com/articles/opinions/mikado/"
              >A Plea for More Mikado</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-30 @ 08:00:26</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39187487"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
