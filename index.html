<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40811624">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40811624"
              >Ask HN: Have coders made stuff complicated on purpose?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 15:30:46</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40811624"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
            <div class="text">
              <p>
                Or is it some kinds of fallacy to believe that simplicity has a
                rather obvious form?
              </p>
              <p>
                It's more like "simple" isn't "simple enough", isn't it? The
                latter of which one can get to faster and from his own POV alone
                while true "simplicity" takes time and consideration.
              </p>
            </div>
          </section>
        </section>
        <section id="40810986">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40810986"
              >Launch HN: Hatchet (YC W24) – Open-source task queue, now with a
              cloud version</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 14:35:34</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40810986"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
            <div class="text">
              <a href="https://hatchet.run">https://hatchet.run</a>). We’re
              building a modern task queue as an alternative to tools like
              Celery for Python and BullMQ for Node. Our open-source repo is at
              <a href="https://github.com/hatchet-dev/hatchet"
                >https://github.com/hatchet-dev/hatchet</a
              >
              and is 100% MIT licensed.
              <p>
                When we did a Show HN a few months ago (<a
                  href="https://news.ycombinator.com/item?id=39643136"
                  >https://news.ycombinator.com/item?id=39643136</a
                >), our cloud version was invite-only and we were focused on our
                open-source offering.
              </p>
              <p>
                Today we’re launching our self-serve cloud so that anyone can
                get started creating tasks on our platform - you can get started
                at
                <a href="https://cloud.onhatchet.run"
                  >https://cloud.onhatchet.run</a
                >, or you can use these credentials to access a demo (should be
                prefilled):
              </p>
              <p></p>
              <pre><code>  URL: https://demo.hatchet-tools.com 
  Email: hacker@news.ycombinator.com
  Password: HatchetDemo123!
</code></pre>
              People are currently using Hatchet for a bunch of use-cases:
              orchestrating RAG pipelines, queueing up user notifications,
              building agentic LLM workflows, or scheduling image generation
              tasks on GPUs.
              <p>
                We built this out of frustration with existing tools and a
                conviction that PostgreSQL is the right choice for a task queue.
                Beyond the fact that many developers are already using Postgres
                in their stack, which makes it easier to self-host Hatchet, it’s
                also easier to model higher-order concepts in Postgres, like
                chains of tasks (which we call workflows). In our system, the
                acknowledgement of the task, the task result, and the updates to
                higher-order models are done as part of the same Postgres
                transaction, which significantly reduces the risk of data
                loss/race conditions when compared with other task queues (which
                usually pass acknowledgements through a broker, storing the task
                results elsewhere, and only then figuring out the next task in
                the chain).
              </p>
              <p>
                We also became increasingly frustrated with tools like Celery
                and the challenges it introduces when using a modern Python
                stack (&gt; 3.5). We wrote up a list of these frustrations here:
                <a href="https://docs.hatchet.run/blog/problems-with-celery"
                  >https://docs.hatchet.run/blog/problems-with-celery</a
                >.
              </p>
              <p>
                Since our Show HN, we’ve (partially or completely) addressed the
                most common pieces of feedback from the post, which we’ll
                outline here:
              </p>
              <p>
                1. The most common ask was built-in support for fanout workflows
                — one task which triggers an arbitrary number of child tasks to
                run in parallel. We previously only had support for DAG
                executions. We generalized this concept and launched child
                workflows (<a
                  href="https://docs.hatchet.run/home/features/child-workflows"
                  >https://docs.hatchet.run/home/features/child-workflows</a
                >). This is the first step towards a developer-friendly model of
                durable execution.
              </p>
              <p>
                2. Support for HTTP-based triggers — we’ve built out support for
                webhook workers (<a
                  href="https://docs.hatchet.run/home/features/webhooks"
                  >https://docs.hatchet.run/home/features/webhooks</a
                >), which allow you to trigger any workflow over an HTTP
                webhook. This is particularly useful for apps on Vercel, who are
                dealing with timeout limits of 60s, 300s, or 900s (depending on
                your tier).
              </p>
              <p>
                3. Our RabbitMQ dependency — while we haven’t gotten rid of this
                completely, we’ve recently launched hatchet-lite (<a
                  href="https://docs.hatchet.run/self-hosting/hatchet-lite"
                  >https://docs.hatchet.run/self-hosting/hatchet-lite</a
                >), which allows you to run the various Hatchet components in a
                single Docker image that bundles RabbitMQ along with a migration
                process, admin CLI, our REST API, and our gRPC engine. Hopefully
                the lite was a giveaway, but this is meant for local development
                and low-volume processing, on the order of hundreds per minute.
              </p>
              <p>
                We’ve also launched more features, like support for global rate
                limiting, steps which only run on workflow failure, and custom
                event streaming.
              </p>
              <p>
                We’ll be here the whole day for questions and feedback, and look
                forward to hearing your thoughts!
              </p>
            </div>
          </section>
        </section>
        <section id="40810949">
          <h3>
            <a class="item" href="https://pketh.org/open-sourcing-kinopio.html"
              >Open Sourcing Kinopio</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 14:32:35</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40810949"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40810802">
          <h3>
            <a
              class="item"
              href="https://storage.googleapis.com/deepmind-media/gemma/gemma-2-report.pdf"
              >Gemma 2: Improving Open Language Models at a Practical Size
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 14:18:46</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40810802"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40810776">
          <h3>
            <a
              class="item"
              href="https://behavioralscientist.org/is-everything-bs/"
              >Is Everything BS?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 14:16:26</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40810776"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40810767">
          <h3>
            <a
              class="item"
              href="https://www.nbcnews.com/politics/supreme-court/supreme-court-blocks-purdue-pharma-opioid-settlement-rcna139066"
              >Supreme Court blocks Purdue Pharma opioid settlement</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 14:15:23</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40810767"
                  >Comments</a
                ><span class="descendants">: 130</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40809069">
          <h3>
            <a
              class="item"
              href="https://www.karlsnotes.com/fuggerei-the-worlds-first-public-housing/"
              >Fuggerei: the world’s first public housing (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 10:38:51</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40809069"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40809033">
          <h3>
            <a
              class="item"
              href="https://mlops.systems/posts/2024-06-25-evaluation-finetuning-manual-dataset.html"
              >How to think about creating a dataset for LLM fine-tuning
              evaluation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 10:29:06</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40809033"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40808933">
          <h3>
            <a
              class="item"
              href="https://www.ams.org/notices/199701/comm-rota.pdf"
              >Lessons I Wish I Had Been Taught (1997) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 10:06:18</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40808933"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40808820">
          <h3>
            <a
              class="item"
              href="https://web.dev/case-studies/google-sheets-wasmgc"
              >Google Sheets ported its calculation worker from JavaScript to
              WasmGC</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 09:34:09</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40808820"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40808110">
          <h3>
            <a
              class="item"
              href="https://coryrylan.com/blog/flow-charts-with-css-anchor-positioning"
              >Flow Charts with CSS Anchor Positioning</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 07:07:08</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40808110"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40807923">
          <h3>
            <a
              class="item"
              href="https://lars.ingebrigtsen.no/2024/06/26/a-new-package-for-making-charts-in-emacs-eplot/"
              >Eplot: A new package for making charts in Emacs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 06:33:44</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40807923"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40806858">
          <h3>
            <a class="item" href="https://github.com/orisano/gosax"
              >Show HN: Gosax – A high-performance SAX XML parser for Go</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 03:17:09</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40806858"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/orisano/gosax"
                >https://github.com/orisano/gosax</a
              >
              Key features:
              <p>
                - Read-only SAX parsing - Highly efficient parsing using
                techniques inspired by quick-xml and pkg/json - SWAR (SIMD
                Within A Register) optimizations for fast text processing
              </p>
              <p>
                gosax is particularly useful for processing large XML files or
                streams without loading the entire document into memory. It's
                well-suited for data feeds, large configuration files, or any
                scenario where XML parsing speed is crucial. I'd appreciate any
                feedback, especially from those working with large-scale XML
                processing in Go. What are your current pain points with XML
                parsing? How could gosax potentially help your projects?
              </p>
            </div>
          </section>
        </section>
        <section id="40806356">
          <h3>
            <a
              class="item"
              href="https://www.readmargins.com/p/doordash-and-pizza-arbitrage"
              >DoorDash and Pizza Arbitrage (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-27 @ 01:16:52</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40806356"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40805351">
          <h3>
            <a class="item" href="https://github.com/corcel/corcel"
              >Corcel – Use WordPress backend with Laravel or any PHP
              application</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 22:33:59</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40805351"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40805099">
          <h3>
            <a
              class="item"
              href="https://www.tomshardware.com/tech-industry/cyber-security/south-korean-telecom-company-attacks-torrent-users-with-malware-over-600000-people-report-missing-files-strange-folders-and-disabled-pcs"
              >South Korean telecom company attacks torrent users with
              malware</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 22:03:00</span
              ><span class="points-container"
                >Points: <span class="points">380</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40805099"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40805010">
          <h3>
            <a class="item" href="https://fastvoiceagent.cerebrium.ai/"
              >Show HN: Voice bots with 500ms response times</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 21:51:03</span
              ><span class="points-container"
                >Points: <span class="points">211</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40805010"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm convinced that voice is going to be a bigger and bigger part
                of how we all interact with generative AI. But one thing that's
                hard, today, is building voice bots that respond as quickly as
                humans do in conversation. A 500ms voice-to-voice response time
                is just <i>barely</i> possible with today's AI models.
              </p>
              <p>
                You can get down to 500ms if you: host transcription, LLM
                inference, and voice generation all together in one place; are
                careful about how you route and pipeline all the data; and the
                gods of both wifi and vram caching smile on you.
              </p>
              <p>
                Here's a demo of a 500ms-capable voice bot, plus a container you
                can deploy to run it yourself on an A10/A100/H100 if you want
                to:
              </p>
              <p>
                <a href="https://fastvoiceagent.cerebrium.ai/"
                  >https://fastvoiceagent.cerebrium.ai/</a
                >
              </p>
              <p>
                We've been collecting lots of metrics. Here are typical numbers
                (in milliseconds) for all the easily measurable parts of the
                voice-to-voice response cycle.
              </p>
              <p></p>
              <pre><code>  macOS mic input                 40
  opus encoding                   30
  network stack and transit       10
  packet handling                  2
  jitter buffer                   40
  opus decoding                   30
  transcription and endpointing  200
  llm ttfb                       100
  sentence aggregation          100
  tts ttfb                        80
  opus encoding                   30
  packet handling                  2
  network stack and transit       10
  jitter buffer                   40
  opus decoding                   30
  macOS speaker output           15
  ----------------------------------
  total ms                       759
</code></pre>
              Everything in AI is changing all the time. LLMs with native audio
              input and output capabilities will likely make it easier to build
              fast-responding voice bots soon. But for the moment, I think this
              is the fastest possible approach/tech stack.
            </div>
          </section>
        </section>
        <section id="40804827">
          <h3>
            <a class="item" href="https://tripsitter.substack.com/p/xenon"
              >Tripping on Xenon Gas (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 21:32:26</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40804827"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40804675">
          <h3>
            <a class="item" href="https://sfwriter.com/wordstar.htm"
              >WordStar – A Writer's Word Processor (1990)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 21:16:41</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40804675"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40804294">
          <h3>
            <a class="item" href="https://github.com/VladM7/Stack-Solver"
              >Show HN: A Modern Palletization App</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 20:31:37</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40804294"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>
                So what I had in mind when making Stack Solver was an app with a
                modern interface that has the most essential features. It is
                also well integrated with Microsoft Excel and renders a 3D
                customizable drawing.
              </p>
              <p>
                Stack Solver is programmed in C# using the WPF framework to
                ensure it is fast and light. The interface is built using WPF
                UI, a library that allows it to keep up with modern trends
                (specifically the Fluent design).
              </p>
              <p>
                It is a work in progress with tons of new features planned and
                it is my first "serious" project so I would appreciate any
                feedback :)
              </p>
            </div>
          </section>
        </section>
        <section id="40804122">
          <h3>
            <a class="item" href="http://mynor.org/my4th_forthdeck.htm"
              >The Forth Deck mini: a portable Forth computer with a discrete
              CPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 20:12:31</span
              ><span class="points-container"
                >Points: <span class="points">255</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40804122"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40803783">
          <h3>
            <a class="item" href="https://fabric8labs.com"
              >Next gen 3D metal printing</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 19:41:14</span
              ><span class="points-container"
                >Points: <span class="points">214</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40803783"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40802676">
          <h3>
            <a class="item" href="https://www.figma.com/slides/"
              >Figma Slides</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 18:04:34</span
              ><span class="points-container"
                >Points: <span class="points">450</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40802676"
                  >Comments</a
                ><span class="descendants">: 164</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40802557">
          <h3>
            <a class="item" href="https://alpha.reconquer.online"
              >Show HN: I built an indie, browser-based MMORPG</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 17:53:22</span
              ><span class="points-container"
                >Points: <span class="points">287</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40802557"
                  >Comments</a
                ><span class="descendants">: 127</span></span
              >
            </h4>
            <div class="text">
              <p>Here are the major open source technologies that I use:</p>
              <p>
                Blender - 3D modeling software for creating the overall
                environment and every game object. I've gotten a lot of CC and
                Public Domain assets from
                <a href="https://poly.pizza">https://poly.pizza</a>
              </p>
              <p>
                GLTF - I export assets from blender to the GLTF asset format
              </p>
              <p>
                JSON - I write a JSON config for every game object that
                describes things like its name, its interactions, its
                collisions, etc.
              </p>
              <p>
                Node.js exporter - I iterate over the environment and every
                asset to create a scene hierarchy. I use gltf-transform for
                processing all GLTF files, compressing them, removing
                redundancies, etc.
              </p>
              <p>
                Node.js server - Uses express and socket.io to process game
                state updates. It keeps track of every client's game state and
                issues delta's at each game tick (currently 600ms). The client
                can send interactions with different objects. The server
                validates those and updates the game state accordingly.
              </p>
              <p>
                HTML/CSS/JavaScript/Three.js client - I use regular web
                technologies for the UI elements and three.js for the 3D rending
                on the browser. The client is responsible for rending the world
                state and providing the client with different interactions. All
                code is written in JavaScript which means less context
                switching. Performance seems to be good enough, and I figure I
                can always optimize the server code in C++ if necessary.
              </p>
              <p>
                I am currently running two cheap shared instances but based on
                my testing, they can likely support about 200 users each. This
                is a low-poly browser based game so it should be compatible
                across many devices. The data a user needs to download to play,
                including all 3d assets, is approximately 2 MB, even though
                there are hundreds of assets.
              </p>
              <p>
                Overall, it's been a fun project. Web development and open
                source software have progressed to the point that this is no
                longer an incredibly difficult feat. I feel like development is
                going pretty well and in a year or so there will be plenty of
                good content to play.
              </p>
            </div>
          </section>
        </section>
        <section id="40800869">
          <h3>
            <a class="item" href="https://onemillioncheckboxes.com/"
              >One Million Checkboxes</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 15:02:38</span
              ><span class="points-container"
                >Points: <span class="points">884</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40800869"
                  >Comments</a
                ><span class="descendants">: 289</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40796447">
          <h3>
            <a
              class="item"
              href="https://blog.khanacademy.org/why-were-deeply-invested-in-making-ai-better-at-math-tutoring-and-what-weve-been-up-to-lately/"
              >Making AI better at math tutoring</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-26 @ 04:42:22</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40796447"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40774833">
          <h3>
            <a
              class="item"
              href="https://developers.redhat.com/articles/2022/09/17/gccs-new-fortification-level"
              >GCC's new fortification level: The gains and costs (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 11:42:03</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40774833"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40772882">
          <h3>
            <a class="item" href="https://github.com/dpohanlon/mesh-tumbler"
              >Determine mesh rotations to minimise overhangs for 3D printing</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 05:39:30</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40772882"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40767676">
          <h3>
            <a
              class="item"
              href="https://blog.stuffedcow.net/2018/04/ras-microbenchmarks/"
              >Microbenchmarking return address branch prediction (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-23 @ 14:21:49</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40767676"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40766445">
          <h3>
            <a
              class="item"
              href="http://uridiumauthor.blogspot.com/2024/06/character-tiling.html"
              >Character Tiling</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-23 @ 10:50:29</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40766445"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
