<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41631995">
          <h3>
            <a
              class="item"
              href="https://albertcory50.substack.com/p/traffic-violence-the-grifters-go"
              >"Traffic Violence": The Grifters Go After Cars</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-24 @ 00:38:12</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41631995"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41631912">
          <h3>
            <a
              class="item"
              href="https://twitter.com/wpengine/status/1838350670564377051"
              >WP Engine sent "cease and desist" letter to Automattic</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-24 @ 00:21:58</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41631912"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41631130">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=KRRNR4HyYaw"
              >iPhone 16 Pro Storage Expansion 128GB to 1TB [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 22:11:56</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41631130"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41631017">
          <h3>
            <a
              class="item"
              href="https://torrentfreak.com/telegram-removes-z-library-posts-due-to-copyright-infringement-240923/"
              >Telegram Removes Z-Library Posts 'Due to Copyright
              Infringement'</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 21:56:35</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41631017"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41630913">
          <h3>
            <a
              class="item"
              href="https://publish.obsidian.md/felafax/pages/Tune+Llama3+405B+on+AMD+MI300x+(our+journey)"
              >We fine-tuned Llama 405B on AMD GPUs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 21:42:26</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41630913"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/felafax/felafax"
                >https://github.com/felafax/felafax</a
              >
              <p>
                We're a small startup building AI infra for fine-tuning and
                serving LLMs on non-NVIDIA hardware (TPUs, AMD, Trainium).
              </p>
              <p>
                Problem: Many companies are trying to get PyTorch working on AMD
                GPUs, but we believe this is a treacherous path. PyTorch is
                deeply intertwined with the NVIDIA ecosystem in a lot of ways
                (e.g., `torch.cuda` or scaled_dot_product_attention is an NVIDIA
                CUDA kernel exposed as a PyTorch function). So, to get PyTorch
                code running on non-NVIDIA hardware, there's a lot of
                "de-NVIDIAfying" that needs to be done.
              </p>
              <p>
                Solution: We believe JAX is a better fit for non-NVIDIA
                hardware. In JAX, ML model code compiles to hardware-independent
                HLO graphs, which are then optimized by the XLA compiler before
                hardware-specific optimization. This clean separation allowed us
                to run the same LLaMA3 JAX code both on Google TPUs and AMD GPUs
                with no changes.
              </p>
              <p>
                Our strategy as a company is to invest upfront in porting models
                to JAX, then leverage its framework and XLA kernels to extract
                maximum performance from non-NVIDIA backends. This is why we
                first ported Llama 3.1 from PyTorch to JAX, and now the same JAX
                model works great on TPUs and runs perfectly on AMD GPUs.
              </p>
              <p>We'd love to hear your thoughts on our vision and repo!</p>
            </div>
          </section>
        </section>
        <section id="41630907">
          <h3>
            <a
              class="item"
              href="https://www.thetransmitter.org/neural-coding/averaging-is-a-convenient-fiction-of-neuroscience/"
              >Averaging is a convenient fiction of neuroscience</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 21:41:24</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41630907"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41629923">
          <h3>
            <a
              class="item"
              href="http://www.righto.com/2024/09/ramtron-ferroelectric-fram-die.html"
              >Inside a Ferroelectric RAM Chip</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 20:06:03</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41629923"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41629475">
          <h3>
            <a class="item" href="https://www.atomsonly.news/p/franklin-oil"
              >In 1870, Lord Rayleigh used oil and water to calculate the size
              of molecules</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 19:08:14</span
              ><span class="points-container"
                >Points: <span class="points">245</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41629475"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41629474">
          <h3>
            <a
              class="item"
              href="https://rogersm.net/posts/developing-a-go-bot-embedding-ichiban-prolog/"
              >Developing a go bot embedding ichiban Prolog</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 19:08:00</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41629474"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41629377">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41629377"
              >Show HN: I Wrote a Book on Java</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 18:56:44</span
              ><span class="points-container"
                >Points: <span class="points">335</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41629377"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.manning.com/books/data-oriented-programming-in-java"
                >https://www.manning.com/books/data-oriented-programming-in-j...</a
              >
              <p>
                This book is a distillation of everything I’ve learned about
                what effective development looks like in Java (so far!). It's
                about how to organize programs around data "as plain data" and
                the surprisingly benefits that emerge when we do. Programs that
                are built around the data they manage tend to be simpler,
                smaller, and significantly easier understand.
              </p>
              <p>
                Java has changed radically over the last several years. It has
                picked up all kinds of new language features which support data
                oriented programming (records, pattern matching, `with`
                expressions, sum and product types). However, this is not a book
                about tools. No amount of studying a screw-driver will teach you
                how to build a house. This book focuses on house building. We'll
                pick out a plot of land, lay a foundation, and build upon it
                house that can weather any storm.
              </p>
              <p>
                DoP is based around a very simple idea, and one people have been
                rediscovering since the dawn of computing, "representation is
                the essence of programming." When we do a really good job of
                capturing the data in our domain, the rest of the system tends
                to fall into place in a way which can feel like it’s writing
                itself.
              </p>
              <p>
                That's my elevator pitch! The book is currently in early access.
                I hope you check it out. I'd love to hear your feedback.
              </p>
              <p>
                You can get 50% off (thru October 9th) with code `mlkiehl`
                <a
                  href="https://www.manning.com/books/data-oriented-programming-in-java"
                  >https://www.manning.com/books/data-oriented-programming-in-j...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41627966">
          <h3>
            <a class="item" href="https://github.com/panoratech/Panora"
              >Launch HN: Panora (YC S24) – Data Integration API for LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 16:43:30</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41627966"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/panoratech/Panora"
                >https://github.com/panoratech/Panora</a
              >), an open-source API that connects various data sources to LLMs,
              from 3rd party integrations to embeddings and chunking generation.
              <p>
                Here's a demo:
                <a href="https://www.youtube.com/watch?v=45QaN8mzAfg"
                  >https://www.youtube.com/watch?v=45QaN8mzAfg</a
                >, and you can check our docs here:
                <a href="https://docs.panora.dev/quick-start"
                  >https://docs.panora.dev/quick-start</a
                >
              </p>
              <p>
                Our GitHub repo is at
                <a href="https://github.com/panoratech/Panora"
                  >https://github.com/panoratech/Panora</a
                >.
              </p>
              <p>
                Building integrations by hand is tedious and time-consuming. You
                must adapt to API documentation quirks, manage request retries,
                OAuth/API key authorization, refresh tokens, rate limits, and
                data sync freshness. Moreover, you have to keep up with the
                constant rise of embedding models and chunking capabilities. On
                the other hand, with the rise of AI-powered apps, you have to
                handle embedding and chunking of all the unstructured data.
              </p>
              <p>
                The dominant player in this space is Merge.dev, but it has
                several drawbacks:
              </p>
              <p>
                1. It's a black box for most developers, lacking transparency on
                data handling. 2. Strong vendor lock-in: once an end-user
                connects their software, it's challenging to access
                authorization tokens if you want to perform requests on their
                behalf after leaving Merge. 3. Long time-to-deploy for the long
                tail of integrations, leading to lost opportunities as
                integrations become the backbone of LLM-based applications. 4.
                Unrealistic prices per connection (action of one end-user
                connecting their tool). 5. Not positioned to serve LLM-based
                products that need RAG-ready data to power their use cases.
              </p>
              <p>
                That's how Panora was born. We set out to build a solution that
                addresses these pain points head-on, creating something that is
                both developer-friendly and open-source. Our goal was to
                simplify the complex world of integrations and data preparation
                for LLMs, allowing developers to focus on building great
                products rather than wrestling with integration headaches.
              </p>
              <p>
                Panora is 100% open-source under the Apache 2.0 license and you
                can either use our cloud version or self-host the product.
              </p>
              <p>
                We provide two ways for your end-users to connect their software
                seamlessly.
              </p>
              <p>
                1. A frontend SDK (React) where you can embed the integrations
                catalog within your app.
              </p>
              <p>
                2. A magic link that you can share with anyone allowing them to
                connect their software.
              </p>
              <p>
                You can either use your own OAuth clients or our managed ones.
                You receive a connection token per user and per provider
                connected, which you must use to retrieve/insert data using our
                universal API.
              </p>
              <p>
                We have different categories of software such as CRMs or File
                storage. Every category is divided into entities (e.g: File
                Storage has File, Folder, Drive, Group &amp; User) following a
                standard data model. You even have access to remote data
                (non-transformed data from the provider) within each response,
                so you can build custom &amp; complex integrations on your end.
              </p>
              <p>
                If the remote data isn't enough beyond the standard data model,
                you can create custom fields either via API or our dashboard to
                map your remote fields to our model.
              </p>
              <p>
                We're more than just integrations—we provide ready data for your
                RAG applications with auto-generation of embeddings and chunks
                for all your synced documents. You have the option to select
                your own vector database and embedding model in the dashboard.
                We then sync your documents and store the chunks/embeddings to
                the specified vector DB.
              </p>
              <p>
                We make sure to maintain up-to-date data that we send through
                webhooks, and you can set custom sync frequency (1hr, once a
                day, etc.) depending on your use case.
              </p>
              <p>
                Developers use our API to access fragmented data across various
                software such as File storage systems (Google Drive, OneDrive,
                SharePoint) and retrieve the embeddings of their documents using
                a single API. Our backend SDK is available for Python,
                TypeScript, Ruby, and Go.
              </p>
              <p>
                Your honest feedback, suggestions, and wishes would be very
                helpful. We'd love to hear about your integration stories,
                challenges you've faced with data integration for LLMs, and any
                thoughts on our approach. Thanks, HN!
              </p>
            </div>
          </section>
        </section>
        <section id="41627787">
          <h3>
            <a class="item" href="https://www.nrm.org/2024/08/mad/"
              >What, Me Worry? The Art and Humor of Mad Magazine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 16:25:00</span
              ><span class="points-container"
                >Points: <span class="points">158</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41627787"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41627549">
          <h3>
            <a class="item" href="https://github.com/nobuyuki83/floor_plan"
              >Free-form floor plan design using differentiable Voronoi
              diagram</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 16:06:03</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41627549"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41625714">
          <h3>
            <a
              class="item"
              href="https://github.com/theMK2k/Media-Hoarder/releases/tag/v1.4.0"
              >Show HN: Media Hoarder v1.4.0 Supporting TV Series, Introducing
              Episode Heatmaps</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 13:13:38</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41625714"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
            <div class="text">
              <p>
                Media Hoarder is celebrating its 2nd birthday today and it
                finally supports tv series with the freshly released v1.4.0.
              </p>
              <p>
                Here's a video showcasing the new features:
                <a href="https://www.youtube.com/watch/3qfb5UWJrdQ"
                  >https://www.youtube.com/watch/3qfb5UWJrdQ</a
                >
              </p>
              <p>
                Development wise I've been joined by an individual named
                <i>kolbdog323</i> providing lots of feedback and requests over
                multiple months which I'm truly grateful of, because Media
                Hoarder is still an absolute side-project developed by a father
                of two in his limited spare time :D
              </p>
              <p>
                Please feel free to discuss features, development and
                sideproject-y things, I'm really curious!
              </p>
              <p>
                Media Hoarder Website:
                <a href="https://media.hoarder.software"
                  >https://media.hoarder.software</a
                >
              </p>
              <p>
                Blog post "2nd Birthday - TV Series Support":
                <a
                  href="https://media.hoarder.software/blog/2nd-birthday-tv-series-support"
                  >https://media.hoarder.software/blog/2nd-birthday-tv-series-s...</a
                >
              </p>
              <p>
                GitHub project:
                <a href="https://github.com/theMK2k/Media-Hoarder"
                  >https://github.com/theMK2k/Media-Hoarder</a
                >
              </p>
              <p>cheers</p>
              <p>-- MK2k</p>
            </div>
          </section>
        </section>
        <section id="41625456">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2403.08156"
              >NeRF-Supervised Feature Point Detection and Description</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 12:46:15</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41625456"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41625402">
          <h3>
            <a class="item" href="https://todayhasbeen.com"
              >Show HN: A journaling service that runs over WhatsApp</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 12:37:45</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41625402"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
            <div class="text">
              <p>
                I’m excited to share a tiny service that’s very close to my
                heart - Today Has Been.
              </p>
              <p>
                Here’s how it works: We have a phone number that has WhatsApp
                Business API enabled. Your messages sent to this number (after
                you activate your free trial) are added to your journal. It’s a
                super light weight journaling service - no app download or
                registration is required.
              </p>
              <p>
                We also send you a daily nudge asking “How did your day go?” and
                after you have a few posts we send you a random blast from the
                past.
              </p>
              <p>
                Why I built it: I was an active user and fan of Ohlife - only
                journalling app that could make me write 100s of entries. So,
                when it shut down it left a hole in my life too (just like it
                did for Paul G -
                <a href="https://x.com/paulg/status/1216714155731890176"
                  >https://x.com/paulg/status/1216714155731890176</a
                >). :)
              </p>
              <p>“Today Has Been” is Ohlife on WhatsApp.</p>
              <p>
                I’d love to hear your feedback and ideas. Please visit
                <a href="http://todayhasbeen.com">http://todayhasbeen.com</a>
                and tap on Get Started. (Note: Works on WhatsApp only)
              </p>
              <p>
                Also, if you have questions on using WhatsApp as a platform, I’m
                happy to chat.
              </p>
              <p>Thank you!</p>
            </div>
          </section>
        </section>
        <section id="41625154">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/dot/jobs/VdiEzXq-founding-engineer-ai-analytics-remote"
              >Dot (YC S21) Is Hiring an Engineer to Automate Analytics
              (Remote)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 12:00:43</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41624510">
          <h3>
            <a
              class="item"
              href="https://blogs.gentoo.org/mgorny/2024/09/23/overview-of-cross-architecture-portability-problems/"
              >Overview of cross-architecture portability problems</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 10:34:54</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41624510"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41623467">
          <h3>
            <a
              class="item"
              href="https://arslan.io/2024/09/23/dieter-rams-inspired-iphone-dock/"
              >I designed a Dieter Rams-inspired iPhone dock</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 07:51:26</span
              ><span class="points-container"
                >Points: <span class="points">1108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41623467"
                  >Comments</a
                ><span class="descendants">: 261</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41622653">
          <h3>
            <a class="item" href="http://rachelbythebay.com/w/2024/09/22/colo/"
              >A terrible way to jump into colocating your own stuff</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 05:39:32</span
              ><span class="points-container"
                >Points: <span class="points">175</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41622653"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41622419">
          <h3>
            <a
              class="item"
              href="https://archive.computerhistory.org/resources/text/Knuth_Don_X4100/PDF_index/k-4-pdf/k-4-u2780-Manchester-Mark-I-manual.pdf"
              >Alan Turing's 1950 manual for the Mark I electronic computer
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-23 @ 04:36:59</span
              ><span class="points-container"
                >Points: <span class="points">181</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41622419"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41620198">
          <h3>
            <a class="item" href="https://github.com/bf-enterprise-solutions"
              >Brainfuck Enterprise Solutions</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-22 @ 21:24:07</span
              ><span class="points-container"
                >Points: <span class="points">538</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41620198"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41618685">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-024-03099-6"
              >Mathematicians discover new class of shape seen throughout
              nature</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-22 @ 17:56:20</span
              ><span class="points-container"
                >Points: <span class="points">255</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41618685"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41609947">
          <h3>
            <a class="item" href="https://time-flies.koenvangilst.nl/"
              >Show HN: Time Flies</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-21 @ 13:46:54</span
              ><span class="points-container"
                >Points: <span class="points">370</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41609947"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
            <div class="text">
              A visualization of the passage of time using flies. Written in
              JavaScript with some HTML &amp;amp; CSS in one index.html.
            </div>
          </section>
        </section>
        <section id="41609771">
          <h3>
            <a
              class="item"
              href="https://blogsystem5.substack.com/p/glibc-versions-runtime"
              >Picking Glibc Versions at Runtime</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-21 @ 13:17:02</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41609771"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41608405">
          <h3>
            <a class="item" href="https://nts.strzibny.name/kamal-proxy/"
              >A brief look at the new Kamal Proxy</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-21 @ 08:09:27</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41608405"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41598330">
          <h3>
            <a
              class="item"
              href="https://hazelweakly.me/blog/cache-me-not-cache-me-cache-me-not/"
              >Cache Me Not, Cache Me, Cache Me Not</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-20 @ 02:43:46</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41598330"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41585509">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/books/article/2024/sep/14/the-many-lives-of-james-lovelock-by-jonathan-watts-man-of-many-myths"
              >The Many Lives of James Lovelock</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-18 @ 21:07:39</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41585509"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41582756">
          <h3>
            <a
              class="item"
              href="https://timculpan.substack.com/p/the-death-of-lcds-means-new-life"
              >The Death of LCDs, Means New Life for Chips</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-18 @ 17:22:13</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41582756"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41579268">
          <h3>
            <a class="item" href="https://github.com/srush/GPU-Puzzles"
              >GPU Puzzles</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-09-18 @ 13:08:37</span
              ><span class="points-container"
                >Points: <span class="points">340</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41579268"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
