<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44200895">
          <h3>
            <a
              class="item"
              href="https://sebastiano.tronto.net/blog/2025-06-06-webdev/"
              >A masochist's guide to web development</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 13:48:52</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44200895"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44200866">
          <h3>
            <a class="item" href="https://odyc.dev"
              >Odyc.js – A tiny JavaScript library for narrative games</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 13:46:01</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44200866"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44200797">
          <h3>
            <a class="item" href="https://ratfactor.com/cards/pl-small"
              >Small Programs and Languages</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 13:38:31</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44200797"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44200773">
          <h3>
            <a
              class="item"
              href="https://wordsmith.social/elilla/deep-in-mordor-where-the-shadows-lie-dystopian-stories-of-my-time-as-a-googler"
              >Dystopian tales of that time when I sold out to Google</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 13:36:06</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44200773"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44200101">
          <h3>
            <a class="item" href="https://github.com/ThornWalli/web-workbench"
              >ThornWalli/web-workbench: Old operating system as homepage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 12:19:46</span
              ><span class="points-container"
                >Points: <span class="points">3</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44200101"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199967">
          <h3>
            <a class="item" href="https://deepnote.com/join-us"
              >Deepnote (YC S19) is hiring engineers to build an AI-powered data
              notebook</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 12:01:16</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199770">
          <h3>
            <a
              class="item"
              href="https://edm115.dev/blog/2025/01/22/how-to-send-dtmf-on-android"
              >How to (actually) send DTMF on Android without being the default
              call app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 11:29:11</span
              ><span class="points-container"
                >Points: <span class="points">3</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199770"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199699">
          <h3>
            <a
              class="item"
              href="https://layer22.com/swift-and-cute-framework-setting-up-a-project-with-cmake"
              >Swift and Cute 2D Game Framework: Setting Up a Project with
              CMake</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 11:15:16</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199699"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199649">
          <h3>
            <a
              class="item"
              href="https://www.aardvark.co.nz/daily/2025/0606.shtml"
              >What you need to know about EMP weapons</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 11:06:48</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199649"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199597">
          <h3>
            <a
              class="item"
              href="https://boostsecurity.io/blog/weaponizing-dependabot-pwn-request-at-its-finest"
              >Weaponizing Dependabot: Pwn Request at its finest</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 10:55:17</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199597"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199592">
          <h3>
            <a
              class="item"
              href="https://jepsen.io/analyses/tigerbeetle-0.16.11"
              >Jepsen: TigerBeetle 0.16.11</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 10:53:51</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199592"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199495">
          <h3>
            <a
              class="item"
              href="https://www.phoronix.com/review/amd-radeon-8050s-graphics"
              >AMD Radeon 8050S “Strix Halo” Linux Graphics Performance
              Review</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 10:34:24</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199495"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199299">
          <h3>
            <a
              class="item"
              href="https://portal.gov.cz/e-petice/1205-petice-za-povinne-zverejneni-zdrojovych-kodu-softwaru-pouzitych-ve-verejne-sprave"
              >Czech Republic: Petition for open source in public
              administration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 09:57:23</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199299"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44199005">
          <h3>
            <a
              class="item"
              href="https://www.freightwaves.com/news/how-freight-rail-fueled-a-new-luxury-overnight-train-startup"
              >Freight rail fueled a new luxury overnight train startup</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 08:57:38</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44199005"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44198503">
          <h3>
            <a
              class="item"
              href="https://lebcit.github.io/post/meet-aether-a-cms-that-actually-gets-out-of-your-way/"
              >Aether: A CMS That Gets Out of Your Way</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 07:14:16</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44198503"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44197932">
          <h3>
            <a
              class="item"
              href="https://www.jeffgeerling.com/blog/2025/self-hosting-your-own-media-considered-harmful"
              >Self-hosting your own media considered harmful according to
              YouTube</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 04:59:58</span
              ><span class="points-container"
                >Points: <span class="points">1157</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44197932"
                  >Comments</a
                ><span class="descendants">: 478</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44197112">
          <h3>
            <a class="item" href="https://opensourcedistilling.com/"
              >Open Source Distilling</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 01:36:17</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44197112"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44196945">
          <h3>
            <a class="item" href="https://github.com/wey-gu/py-pglite"
              >Test Postgres in Python Like SQLite</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 00:56:20</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44196945"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44196850">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/response-to-nyt-data-demands/"
              >How we’re responding to The NYT’s data demands in order to
              protect user privacy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-06 @ 00:35:17</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44196850"
                  >Comments</a
                ><span class="descendants">: 207</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44196433">
          <h3>
            <a class="item" href="https://masonyarbrough.com/blog/ask-human"
              >Show HN: Ask-human-mcp – zero-config human-in-loop hatch to stop
              hallucinations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 22:57:16</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44196433"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
            <div class="text">
              <p>
                ask-human-mcp pauses your agent whenever it’s stuck, logs a
                question into ask_human.md in your root directory with answer:
                PENDING, and then resumes as soon as you fill in the correct
                answer.
              </p>
              <p>the pain:</p>
              <p>
                your agent screams out an endpoint that never existed it makes
                confident assumptions and you spend hours debugging false leads
              </p>
              <p>the fix:</p>
              <p>
                ask-human-mcp gives your agent an escape hatch. when it’s
                unsure, it calls ask_human(), writes a question into
                ask_human.md, and waits. you swap answer: PENDING for the real
                answer and it keeps going.
              </p>
              <p>some features:</p>
              <p>
                - zero config: pip install ask-human-mcp + one line in
                .cursor/mcp.json → boom, you’re live - cross-platform: works on
                macOS, Linux, and Windows—no extra servers or webhooks. -
                markdown Q\&amp;A: agent calls await ask_human(), question lands
                in ask_human.md with answer: PENDING. you write the answer,
                agent picks back up - file locking &amp; rotation: prevents
                corrupt files, limits pending questions, auto-rotates when
                ask_human.md hits ~50 MB
              </p>
              <p>the quickstart</p>
              <p>pip install ask-human-mcp ask-human-mcp --help</p>
              <p>
                add to .cursor/mcp.json and restart: { "mcpServers": {
                "ask-human": { "command": "ask-human-mcp" } } }
              </p>
              <p>now any call like:</p>
              <p>
                answer = await ask_human( "which auth endpoint do we use?",
                "building login form in auth.js" )
              </p>
              <p>creates:</p>
              <p>
                ### Q8c4f1e2a ts: 2025-01-15 14:30 q: which auth endpoint do we
                use? ctx: building login form in auth.js answer: PENDING
              </p>
              <p>
                just replace answer: PENDING with the real endpoint (e.g., `POST
                /api/v2/auth/login`) and your agent continues.
              </p>
              <p>link:</p>
              <p>
                github -&gt;
                <a href="https://github.com/Masony817/ask-human-mcp"
                  >https://github.com/Masony817/ask-human-mcp</a
                >
              </p>
              <p>feedback:</p>
              <p>
                I'm Mason a 19yo solo-founder at Kallro. Happy to hear any bugs,
                feature requests, or weird edge cases you uncover - drop a
                comment or open an issue! buy me a coffee -&gt;
                coff.ee/masonyarbrough
              </p>
            </div>
          </section>
        </section>
        <section id="44196417">
          <h3>
            <a
              class="item"
              href="https://github.com/possibilities/claude-composer"
              >Show HN: Claude Composer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 22:53:21</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44196417"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
            <div class="text">
              <p>
                Let me know if you have any questions and feel free to contact
                me on X at
                <a href="https://x.com/possibilities"
                  >https://x.com/possibilities</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44196393">
          <h3>
            <a
              class="item"
              href="https://tesseral.com/blog/what-a-developer-needs-to-know-about-scim"
              >What a developer needs to know about SCIM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 22:48:21</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44196393"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44195961">
          <h3>
            <a
              class="item"
              href="https://scalingintelligence.stanford.edu/blogs/tokasaurus/"
              >Tokasaurus: An LLM inference engine for high-throughput
              workloads</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 21:27:07</span
              ><span class="points-container"
                >Points: <span class="points">189</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44195961"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44195931">
          <h3>
            <a
              class="item"
              href="https://scharenbroch.dev/projects/apl-interpreter/"
              >APL Interpreter – An implementation of APL, written in Haskell
              (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 21:22:24</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44195931"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44195354">
          <h3>
            <a
              class="item"
              href="https://countercraft.substack.com/p/defending-adverbs-exuberantly-if"
              >Defending adverbs exuberantly if conditionally</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 20:12:50</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44195354"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44194859">
          <h3>
            <a
              class="item"
              href="https://www.rtl-sdr.com/skyroof-new-ham-satellite-tracking-and-sdr-receiver-software/"
              >SkyRoof: New Ham Satellite Tracking and SDR Receiver Software</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 19:15:41</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44194859"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44194468">
          <h3>
            <a
              class="item"
              href="https://softwaredoug.com/blog/2024/08/06/i-made-search-worse-elasticsearch"
              >I made a search engine worse than Elasticsearch (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 18:37:20</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44194468"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44192995">
          <h3>
            <a
              class="item"
              href="https://defector.com/seven-days-at-the-bin-store"
              >Seven Days at the Bin Store</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 16:07:03</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44192995"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44191620">
          <h3>
            <a
              class="item"
              href="https://crookedtimber.org/2025/06/05/occasional-paper-the-impossible-predicament-of-the-death-newts/"
              >The impossible predicament of the death newts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 13:40:48</span
              ><span class="points-container"
                >Points: <span class="points">520</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44191620"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44189329">
          <h3>
            <a
              class="item"
              href="https://networkedartifacts.com/airlab/simulator"
              >Show HN: Air Lab – A portable and open air quality measuring
              device</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-05 @ 07:42:25</span
              ><span class="points-container"
                >Points: <span class="points">426</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44189329"
                  >Comments</a
                ><span class="descendants">: 175</span></span
              >
            </h4>
            <div class="text">
              <p>
                I’ve been working on an air quality measuring device called Air
                Lab for the past three years. It measures CO2, temperature,
                relative humidity, air pollutants (VOC, NOx), and atmospheric
                pressure. You can log and analyze the data directly on the
                device — no smartphone or laptop needed.
              </p>
              <p>
                To better show what the device can do and how it feels like, I
                spent the past week developing a web-based simulator using
                Emscripten. It runs the stock firmware with most features
                available except for networking. Check it out and let me know
                what you think!
              </p>
              <p>
                The firmware will be open-source and available once the first
                batch of devices ships. We’re currently finishing up our
                crowdfunding campaign on CrowdSupply. If you want to get one,
                now is the time to support the project:
                <a
                  href="https://www.crowdsupply.com/networked-artifacts/air-lab"
                  >https://www.crowdsupply.com/networked-artifacts/air-lab</a
                >
              </p>
              <p>
                We started building the Air Lab because most air quality
                measuring devices we found were locked-down or hard to tinker
                with. Air quality is a growing concern, and we’re hoping a more
                open, playful approach can help make the topic more accessible.
                It is important to us that there is a low bar for customizing
                and extending the Air Lab. Until we ship, we plan to create rich
                documentation and further tools, like the simulator, to make
                this as easy as possible.
              </p>
              <p>
                The technical: The device is powered by the popular ESP32S3
                microcontroller, equipped with a precise CO2, temperature, and
                relative humidity sensor (SCD41) as well as a VOC/NOx (SGP41)
                and atmospheric pressure sensor (LPS22). The support circuitry
                provides built-in battery charging, a real-time clock, an RGB
                LED, buzzer, an accelerometer, and capacitive touch, which makes
                Air Lab a powerful stand-alone device. The firmware itself is
                written on top of esp-idf and uses LVGL for rendering the UI.
              </p>
              <p>
                If you seek more high-level info, here are also some videos
                covering the project: -
                <a href="https://www.youtube.com/watch?v=oBltdMLjUyg"
                  >https://www.youtube.com/watch?v=oBltdMLjUyg</a
                >
                (Introduction) -
                <a href="https://www.youtube.com/watch?v=_tzjVYPm_MU"
                  >https://www.youtube.com/watch?v=_tzjVYPm_MU</a
                >
                (Product Update)
              </p>
              <p>
                Would love your feedback — on the device, hardware choices,
                potential use cases, or anything else worth improving. If you
                want to get notified on project updates, subscribe on Crowd
                Supply.
              </p>
              <p>Happy to answer any questions!</p>
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
