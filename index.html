<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44146744">
          <h3>
            <a
              class="item"
              href="https://blog.helsing.ai/sguaba-hard-to-misuse-rigid-body-transforms-for-engineers-with-other-things-to-worry-about-than-aeaa45af9e0d"
              >Sguaba: Hard-to-misuse rigid body transforms for engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 20:27:09</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44146744"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44145517">
          <h3>
            <a
              class="item"
              href="https://terrytao.wordpress.com/2025/05/31/a-lean-companion-to-analysis-i/"
              >A Lean companion to Analysis I</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 16:55:37</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44145517"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44145202">
          <h3>
            <a
              class="item"
              href="https://github.com/volution/punchcard-key-backup"
              >Show HN: PunchCard Key Backup</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 16:09:40</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44145202"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44144750">
          <h3>
            <a
              class="item"
              href="https://mitxela.com/projects/precision_clock_mk_iv"
              >Precision Clock Mk IV</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 15:06:03</span
              ><span class="points-container"
                >Points: <span class="points">276</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144750"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44144543">
          <h3>
            <a
              class="item"
              href="https://www.unm.edu/~toolson/salmon_osmoregulation.html"
              >Acclimation of Osmoregulatory Function in Salmon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 14:34:09</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144543"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44144451">
          <h3>
            <a class="item" href="https://fontofweb.com"
              >Show HN: Fontofweb – Discover Fonts Used on a Website or Websites
              Using Font(s)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 14:20:58</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144451"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <p>
                A big plus is that it doesn't require a Chrome extension, unlike
                a lot of other tools in this space.
              </p>
              <p>
                You can also search for a specific font and find websites using
                it. For example, check out sites using Inter:
                <a href="https://fontofweb.com/w/inter"
                  >https://fontofweb.com/w/inter</a
                >. This reverse font search even supports looking for multiple
                fonts at once, like here’s an example with Inter and Space Mono:
                <a href="https://fontofweb.com/w/inter/space-mono"
                  >https://fontofweb.com/w/inter/space-mono</a
                >.
              </p>
              <p>
                My goal with Font of Web is to build up a comprehensive database
                of font usage across the web. By collecting and analyzing this
                data, I believe we can uncover some valuable trends, such as:
              </p>
              <p>
                * Common font pairings * Popular heading fonts over time *
                Market share of commercial fonts * Top font foundries based on
                actual usage
              </p>
              <p>
                I originally built a version of this four years ago and was
                surprised by how much organic interest it received.
              </p>
              <p>
                I’ve now rebuilt the tool from scratch, moving away from
                browserless.io — which was quite expensive — to an invisible
                iframe approach with a proxied URL to handle CORS (it’s a
                straightforward solution, and I’m rather surprised it isn’t
                discussed more often). This change has completely eliminated all
                costs related to web scraping.
              </p>
              <p>Here's the Tech Stack:</p>
              <p>
                * Remix + HeroUI + Tailwind * Rust Backend in Axum *
                Authentication with OTP email and Google social auth (via
                openidconnect) * Sqlite running on the same VPS as the API
                service * $5/mo VPS * Cloudflare CDN * Cloudflare R2 for storage
                * Zeptomail for emails (very cheap and reliable, highly
                recommend!) * Simple Analytics:
                <a href="https://dashboard.simpleanalytics.com/fontofweb.com"
                  >https://dashboard.simpleanalytics.com/fontofweb.com</a
                >
                * Logging: Journalctl :)
              </p>
              <p>
                There are currently 275 websites in the database, and I'm
                working on increasing this. Stats are available at:
                <a href="https://api.fontofweb.com/stats"
                  >https://api.fontofweb.com/stats</a
                >.
              </p>
              <p>
                While the main site doesn't need an extension, for more robust
                searching and to help with Cloudflare-protected sites, there’s a
                chrome extension available.
              </p>
              <p>
                There's also a public API for domains that have already been
                checked. For instance:
                <a
                  href="https://api.fontofweb.com/report?domain=apple.com&amp;path=/"
                  >https://api.fontofweb.com/report?domain=apple.com&amp;path=/</a
                >.
              </p>
              <p>
                There's also RSS feed I’ve got no idea why you would need this
                directly, but I'm using it because Pinterest allows you to
                automatically populate boards with an RSS.
                <a href="https://api.fontofweb.com/rss"
                  >https://api.fontofweb.com/rss</a
                >
              </p>
              <p>Appreciate your thoughts and feedback</p>
            </div>
          </section>
        </section>
        <section id="44144407">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.23735"
              >Atlas: Learning to Optimally Memorize the Context at Test Time</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 14:13:00</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144407"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44144331">
          <h3>
            <a class="item" href="https://susam.net/two-ideals-of-fields.html"
              >The Two Ideals of Fields</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 13:59:52</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144331"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44144308">
          <h3>
            <a class="item" href="https://aartaka.me/this-post-is-ed.html"
              >Using Ed(1) as My Static Site Generator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 13:55:26</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144308"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44144280">
          <h3>
            <a class="item" href="https://github.com/robertjakob/rigorous"
              >Show HN: AI Peer Reviewer – Multiagent System for Scientific
              Manuscript Analysis</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 13:51:16</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44144280"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
            <div class="text">
              <p>
                The system uses multiple specialized agents to analyze different
                aspects of scientific papers, from methodology to writing
                quality.
              </p>
              <p>
                Key features: 24 specialized agents analyzing sections,
                scientific rigor, and writing quality // Detailed feedback with
                actionable recommendations. // PDF report generation. // Support
                for custom review criteria and target journals.
              </p>
              <p>Two ways to use it:</p>
              <p>
                1. Cloud version (free during testing):
                <a href="https://www.rigorous.company"
                  >https://www.rigorous.company</a
                >
                - Upload your manuscript - Get a comprehensive PDF report within
                1–2 working days - No setup required
              </p>
              <p>
                2. Self-hosted version (GitHub):
                <a href="https://github.com/robertjakob/rigorous"
                  >https://github.com/robertjakob/rigorous</a
                >
                - Use your own OpenAI API keys - Full control over the review
                process - Customize agents and criteria - MIT licensed
              </p>
              <p>
                The system is particularly useful for researchers preparing
                manuscripts before submission to co-authors or target journals.
              </p>
              <p>
                Would love to get feedback from the HN community, especially
                from PhDs and researchers across all academic fields. The
                project is open source and we welcome contributions!
              </p>
              <p>
                GitHub:
                <a href="https://github.com/robertjakob/rigorous"
                  >https://github.com/robertjakob/rigorous</a
                >
                Cloud version:
                <a href="https://www.rigorous.company"
                  >https://www.rigorous.company</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44143244">
          <h3>
            <a class="item" href="https://github.com/Yutarop/turtlesim_agent"
              >Show HN: I built an AI agent that turns ROS 2's turtlesim into a
              digital artist</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 10:17:17</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44143244"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>
                So, I built TurtleSim Agent, an AI agent that turns the classic
                ROS 2 turtlesim turtle into a creative artist.
              </p>
              <p>
                With this agent, you can give plain English commands like “draw
                a triangle” or “make a red star,” and it will reason through the
                instructions and control the simulated turtle accordingly. I’ve
                included demo videos on GitHub. Behind the scenes, it uses an
                LLM to interpret the text, decide what actions are needed, and
                then call a set of modular tools (motion, pen control, math,
                etc.) to complete the task.
              </p>
              <p>
                If you're interested in LLM+robotics, ROS, or just want to see a
                turtle become a digital artist, I'd love for you to check it
                out:
              </p>
              <p>
                GitHub:
                <a href="https://github.com/Yutarop/turtlesim_agent"
                  >https://github.com/Yutarop/turtlesim_agent</a
                >
              </p>
              <p>
                Looking ahead, I’m also exploring frameworks like LangGraph and
                MCP (Modular Chain of Thought Planning) to see whether they
                might be better suited for more complex planning and
                decision-making tasks in robotics. If anyone here is familiar
                with these frameworks or working in this space, I’d love to
                connect or hear your thoughts.
              </p>
            </div>
          </section>
        </section>
        <section id="44142839">
          <h3>
            <a
              class="item"
              href="https://jamesoclaire.com/2025/05/31/the-trackers-and-sdks-in-chatgpt-claude-grok-and-perplexity/"
              >The Trackers and SDKs in ChatGPT, Claude, Grok and Perplexity</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 08:23:51</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44142839"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44142761">
          <h3>
            <a class="item" href="https://lambdacreate.com/posts/68"
              >Using lots of little tools to aggressively reject the bots</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 08:06:21</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44142761"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44142472">
          <h3>
            <a class="item" href="https://simonbyrne.github.io/notes/fastmath/"
              >Beware of Fast-Math</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 07:05:57</span
              ><span class="points-container"
                >Points: <span class="points">262</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44142472"
                  >Comments</a
                ><span class="descendants">: 178</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44142266">
          <h3>
            <a
              class="item"
              href="https://www.mattkeeter.com/blog/2025-05-14-gradients/"
              >Gradients Are the New Intervals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-31 @ 06:25:19</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44142266"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44140349">
          <h3>
            <a class="item" href="https://cel.cs.brown.edu/crp/"
              >C++ to Rust Phrasebook</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 22:18:48</span
              ><span class="points-container"
                >Points: <span class="points">182</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44140349"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139626">
          <h3>
            <a
              class="item"
              href="https://www.dpreview.com/photography/5400934096/probe-lenses-and-focus-stacking-the-secrets-to-incredible-photos-taken-inside-instruments"
              >Photos taken inside musical instruments</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:32:19</span
              ><span class="points-container"
                >Points: <span class="points">920</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139626"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44139454">
          <h3>
            <a
              class="item"
              href="https://crfm.stanford.edu/2025/05/28/fast-kernels.html"
              >Surprisingly fast AI-generated kernels we didn't mean to publish
              yet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 20:03:12</span
              ><span class="points-container"
                >Points: <span class="points">362</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44139454"
                  >Comments</a
                ><span class="descendants">: 152</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44137715">
          <h3>
            <a class="item" href="https://anemato.de/blog/kctf-vdf"
              >Beating Google's kernelCTF PoW using AVX512</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 16:19:50</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44137715"
                  >Comments</a
                ><span class="descendants">: 92</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44136117">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2025/05/30/business/anthropic-amodei-ai-jobs-nightcap"
              >The ‘white-collar bloodbath’ is all part of the AI hype
              machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 13:38:21</span
              ><span class="points-container"
                >Points: <span class="points">568</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44136117"
                  >Comments</a
                ><span class="descendants">: 1025</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44135977">
          <h3>
            <a class="item" href="https://github.com/microsandbox/microsandbox"
              >Microsandbox: Virtual Machines that feel and perform like
              containers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-30 @ 13:20:04</span
              ><span class="points-container"
                >Points: <span class="points">361</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44135977"
                  >Comments</a
                ><span class="descendants">: 171</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44122860">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/cz70p0qevlro"
              >Oxfordshire clock still keeping village on time after 500
              years</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-29 @ 03:32:27</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44122860"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44119144">
          <h3>
            <a class="item" href="https://experience.odyssey.world"
              >AI video you can watch and interact with, in real-time</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 18:33:50</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44119144"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44118718">
          <h3>
            <a
              class="item"
              href="https://filwd.substack.com/p/the-illusion-of-causality-in-charts"
              >The Illusion of Causality in Charts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 17:49:52</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44118718"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44118055">
          <h3>
            <a
              class="item"
              href="https://pluralistic.net/2022/04/17/revenge-of-the-chickenized-reverse-centaurs/"
              >Revenge of the Chickenized Reverse-Centaurs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 16:55:08</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44118055"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44117937">
          <h3>
            <a
              class="item"
              href="https://www.mgaudet.ca/technical/2025/5/28/exploring-a-language-runtime-with-bpftrace"
              >Exploring a Language Runtime with Bpftrace</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 16:46:55</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44117937"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44116130">
          <h3>
            <a
              class="item"
              href="https://www.datarobot.com/blog/pareto-optimized-ai-workflows-syftr/"
              >Designing Pareto-optimal RAG workflows with syftr</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 14:01:05</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116130"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44115897">
          <h3>
            <a class="item" href="https://www.atomvm.net/"
              >AtomVM, the Erlang virtual machine for IoT devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 13:35:27</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44115897"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44114309">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-05-webb-telescope-refines-hubble-constant.html"
              >Webb telescope helps refines Hubble constant, suggesting
              resolution rate debate</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 09:49:12</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44114309"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44112948">
          <h3>
            <a
              class="item"
              href="https://press.princeton.edu/books/paperback/9780691084961/from-clocks-to-chaos"
              >From Clocks to Chaos: The Rhythms of Life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 05:16:28</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44112948"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
