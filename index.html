<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43135934">
          <h3>
            <a
              class="item"
              href="https://www.digikey.com/en/resources/tariff-resources"
              >DigiKey's Tariff Resources</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-22 @ 03:52:56</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43135934"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43135382">
          <h3>
            <a
              class="item"
              href="https://www.eql.com/media/sneaker-bot-ai-error"
              >Who needs a sneaker bot when AI can hallucinate a win for you?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-22 @ 02:08:11</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43135382"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43135176">
          <h3>
            <a class="item" href="https://startacomputer.club/"
              >Start a computer club in the place that you live (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-22 @ 01:30:18</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43135176"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43134907">
          <h3>
            <a class="item" href="https://hanlab.mit.edu/blog/svdquant-nvfp4"
              >SVDQuant+NVFP4: 4× Smaller, 3× Faster FLUX with 16-bit Quality on
              Blackwell GPUs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-22 @ 00:46:18</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43134907"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43133174">
          <h3>
            <a
              class="item"
              href="https://successfulsoftware.net/2025/02/21/20-years-working-on-the-same-software-product/"
              >20 years working on the same software product</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 21:22:55</span
              ><span class="points-container"
                >Points: <span class="points">358</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43133174"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43132964">
          <h3>
            <a class="item" href="https://svraster.github.io/"
              >Sparse Voxels Rasterization: Real-Time High-Fidelity Radiance
              Field Rendering</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 21:06:05</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43132964"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43132482">
          <h3>
            <a class="item" href="https://github.com/abeisgoat/slime_os"
              >Show HN: Slime OS – An open-source app launcher for RP2040 based
              devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 20:22:57</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43132482"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <p>
                The Slimedeck Zero is based around this somewhat esoteric device
                called the PicoVision which is a super cool RP2040 (Raspberry Pi
                Pico) based device. It outputs relatively high-res video over
                HDMI while still being super fast to boot with low power
                consumption.
              </p>
              <p>
                The PicoVision actually uses two RP2040 - one as a CPU and one
                as a GPU. This gives the CPU plenty of cycles to run bigger apps
                (and a heavy python stack) and lets the GPU handle some of the
                rendering and the complex timing HDMI requires. You can do this
                same thing on a single RP2040, but we get a lot of extra
                headroom with this double setup.
              </p>
              <p>
                The other unique thing about the PicoVision is it has a physical
                double-buffer - two PSRAM chips which you manually swap between
                the CPU and GPU. This removes any possibility of screen tearing
                since you always know the buffer your CPU is writing to is not
                being used to generate the on-screen image.
              </p>
              <p>
                For my cyberdeck, I took a PicoVision, hacked a QWERTY keyboard
                from a smart TV remote, added an expansion port, and hooked it
                all up to a big 5" 800x480 screen (interlaced up from 400x240
                internal resolution).
              </p>
              <p>
                I did a whole Slimedeck Zero build video (
                <a href="https://www.youtube.com/watch?v=rnwPmoWMGqk"
                  >https://www.youtube.com/watch?v=rnwPmoWMGqk</a
                >
                ) over on my channel but I really hope Slime OS can have a life
                of it's own and fit onto multiple form-factors with an ecosystem
                of apps.
              </p>
              <p>
                I've tried to make it easy and fun to write apps for. There's
                still a lot broken / missing / tbd but it's enough of a base
                that, personally, it already sparks that "programming is fun
                again" vibe so hopefully some other folks can enjoy it!
              </p>
              <p>
                Right now it only runs on the PicoVision but there's no reason
                it couldn't run on RP2350s or other hardware - but for now I'm
                more interested in adding more input types (we're limited to the
                i2c TV remote keyboard I hacked together) and fleshing out the
                internal APIs so they're stable enough to make apps for it!
              </p>
            </div>
          </section>
        </section>
        <section id="43132336">
          <h3>
            <a class="item" href="https://www.renpy.org/"
              >The Ren'Py Visual Novel Engine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 20:09:32</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43132336"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131902">
          <h3>
            <a
              class="item"
              href="https://vpetersson.com/2025/02/21/yocto-rockpi-and-sboms.html"
              >Yocto, RockPi and SBOMs: Building modern embedded Linux images</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 19:34:37</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131902"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131059">
          <h3>
            <a class="item" href="https://suckless.org/"
              >Suckless.org: software that sucks less</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 18:27:00</span
              ><span class="points-container"
                >Points: <span class="points">276</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131059"
                  >Comments</a
                ><span class="descendants">: 164</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131017">
          <h3>
            <a
              class="item"
              href="https://digital.archives.caltech.edu/collections/Images/1.10-29/"
              >Richard Feynman's blackboard at the time of his death (1988)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 18:22:59</span
              ><span class="points-container"
                >Points: <span class="points">341</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131017"
                  >Comments</a
                ><span class="descendants">: 179</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130732">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2410.06992"
              >Some critical issues with the SWE-bench dataset</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:59:48</span
              ><span class="points-container"
                >Points: <span class="points">323</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130732"
                  >Comments</a
                ><span class="descendants">: 111</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130546">
          <h3>
            <a
              class="item"
              href="https://www.contraption.co/rails-versus-nextjs/"
              >Why Ruby on Rails still matters</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:46:15</span
              ><span class="points-container"
                >Points: <span class="points">340</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130546"
                  >Comments</a
                ><span class="descendants">: 287</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130143">
          <h3>
            <a
              class="item"
              href="https://www.tradingview.com/news/coindesk:cda1c390e094b:0-bybit-ceo-confirms-exchange-was-hacked-for-1-46b-says-his-firm-can-cover-the-loss/"
              >Bybit loses $1.5B in hack but can cover loss, CEO confirms</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:15:03</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130143"
                  >Comments</a
                ><span class="descendants">: 156</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129887">
          <h3>
            <a
              class="item"
              href="https://github.com/therealoliver/Deepdive-llama3-from-scratch"
              >DeepDive in everything of Llama3: revealing detailed insights and
              implementation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:57:13</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129887"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129439">
          <h3>
            <a
              class="item"
              href="https://trufflesecurity.com/blog/removing-jeff-bezos-from-my-bed"
              >I found a backdoor into my bed</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:27:54</span
              ><span class="points-container"
                >Points: <span class="points">738</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129439"
                  >Comments</a
                ><span class="descendants">: 314</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129301">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43129301"
              >Launch HN: Massdriver (YC W22) – Self-serve cloud infra without
              the red tape</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:19:12</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129301"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.massdriver.cloud/"
                >https://www.massdriver.cloud/</a
              >), an infrastructure automation platform. Massdriver enforces
              organizational standards and delivers consistent, compliant
              deployments—no more endless approvals, red tape, or broken
              Terraform plans.
              <p>
                Here’s a demo video:
                <a href="https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s"
                  >https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s</a
                >
              </p>
              <p>
                Infrastructure as Code (IaC) workflows were designed to help
                developers and work fine for small teams, but as organizations
                scale, they create bottlenecks, complexity, and endless
                firefighting.
              </p>
              <p>
                After decades in ops and platform engineering, we kept running
                into the same problems: brittle pipelines (Terraform variables
                and input checks don’t catch errors until it’s too late), poor
                compliance integration (issues are caught during CI/CD, but by
                then, delays and rework are already inevitable), and a patchwork
                of tools that developers are forced to learn (Terraform,
                Kubernetes manifests, cloud APIs), adding more work and turning
                them into junior devops engineers when they should be shipping
                value.
              </p>
              <p>
                We were working on a side project and ended up doing the
                Spider-Man pointing-meme: two experienced ops guys, neither
                wanting to touch the infrastructure. We started asking why. The
                “boring parts” weren’t just boring—they were time-consuming and
                error-prone, especially at scale. What if we didn’t just
                automate provisioning but handled all the messy stuff
                (permissions, compliance, networking, security groups) upfront?
                That’s when we realized we could encode ops knowledge directly
                into modules and let developers work off those.
              </p>
              <p>
                The hard part isn’t just technical, it’s socio-technical.
                Conway’s Law is inescapable, and nowhere is its impact more
                painful than at the intersection of development, operations, and
                cloud APIs. Everyone talks about cloud complexity, but the real
                challenge is navigating the messy intersection of tools, teams,
                and processes. Ops teams want control, devs want speed, and
                compliance creates friction between them.
              </p>
              <p>
                The traditional answer has been patchwork solutions like GitOps
                or retroactive guardrails, but these tend to shift complexity
                around instead of eliminating it. This often results in an
                ever-expanding CI/CD toolchain, where teams must maintain
                complex workflows just to enforce policies and validate
                infrastructure, adding friction rather than reducing it. We
                think the real challenge is designing abstractions that are
                simple enough for developers but powerful enough for ops.
              </p>
              <p>
                Massdriver lets ops teams define reusable infrastructure modules
                that handle everything: provisioning, permissions, compliance,
                and cost constraints. Developers don’t write IaC or navigate
                cloud APIs—they draw a diagram to describe their architecture,
                and Massdriver provisions resources using those modules.
                Compliance and security rules are enforced proactively, and
                ephemeral CI/CD pipelines are spun up automatically. The result:
                no more brittle pipelines or last-minute guardrails.
              </p>
              <p>How it works:</p>
              <p>
                (1) We turn IaC into functional modules: use tools like
                Terraform/OpenTofu, Helm, or CloudFormation to create reusable
                modules with built-in validation, policies, and metadata for
                visualization and self-service.
              </p>
              <p>
                (2) Stop pushing IaC code through pipelines: Instead of managing
                configuration changes in Git repos, create modules as
                releases—packaged and ready to deploy. Each release bundles both
                the IaC and policy tooling (e.g., Checkov, OPA), so developers
                don’t have to copy and maintain separate workflows. These checks
                are enforced automatically as part of Massdriver’s ephemeral
                CI/CD process, making it impossible to bypass them.
              </p>
              <p>
                (3) Self-service with APIs and visual tools: provision
                infrastructure by interacting with pre-approved modules, without
                dealing directly with low-level IaC code or brittle YAML
                pipelines.
              </p>
              <p>
                Massdriver is live, and we’d love to hear your thoughts on our
                approach to the IaC problem. If you’re interested in learning
                more about how we simplify configuration management, check out
                our demo video—here's the link again:
                <a href="https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s"
                  >https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s</a
                >
              </p>
              <p>Thanks for reading. We’re excited to hear what you think!</p>
            </div>
          </section>
        </section>
        <section id="43128253">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/cgj54eq4vejo"
              >Apple pulls data protection tool after UK government security
              row</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 15:05:24</span
              ><span class="points-container"
                >Points: <span class="points">1264</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43128253"
                  >Comments</a
                ><span class="descendants">: 856</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43128093">
          <h3>
            <a class="item" href="https://johnnydecimal.com"
              >Johnny.Decimal – A system to organise your life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 14:52:14</span
              ><span class="points-container"
                >Points: <span class="points">403</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43128093"
                  >Comments</a
                ><span class="descendants">: 219</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43125487">
          <h3>
            <a class="item" href="https://github.com/Edu4rdSHL/fly-to-podman"
              >Fly To Podman: a script that will help you to migrate from
              Docker</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 08:52:13</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43125487"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43117861">
          <h3>
            <a
              class="item"
              href="https://www.science.org/content/article/ancient-switch-soft-food-gave-us-overbite-and-ability-pronounce-f-s-and-v-s"
              >Ancient switch to soft food gave us overbite–the ability to
              pronounce 'f's,'v'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 17:49:41</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43117861"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43101449">
          <h3>
            <a class="item" href="https://www.philipzucker.com/rewrite_rules/"
              >Where are all the Rewrite Rules?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 12:42:03</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43101449"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43094895">
          <h3>
            <a
              class="item"
              href="https://threekindwords.com/blog/vending-machine-on-the-internet/"
              >A vending machine, on the internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 20:47:51</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43094895"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43093360">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2024/05/14/magazine/native-language-loss.html"
              >Can you lose your native tongue? (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 18:34:23</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43093360"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43092390">
          <h3>
            <a
              class="item"
              href="https://anandsanwal.me/financial-literacy-fallacy/"
              >Money lessons without money: The financial literacy fallacy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 17:21:44</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43092390"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43090077">
          <h3>
            <a
              class="item"
              href="https://frankhecker.com/2025/02/08/math-academy-part-1/"
              >Math Academy, part 1: My eigenvector embarassment</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 14:47:10</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43090077"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43089646">
          <h3>
            <a class="item" href="https://cot.rs/"
              >Cot: The Rust web framework for lazy developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 14:09:52</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43089646"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43088735">
          <h3><a class="item" href="https://demo.augu.rs/">Augurs demo</a></h3>
          <section>
            <h4>
              <span>2025-02-18 @ 12:28:18</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43088735"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43087779">
          <h3>
            <a
              class="item"
              href="http://johnsalvatier.org/blog/2017/reality-has-a-surprising-amount-of-detail"
              >Reality has a surprising amount of detail (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 09:36:30</span
              ><span class="points-container"
                >Points: <span class="points">295</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43087779"
                  >Comments</a
                ><span class="descendants">: 149</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43085665">
          <h3>
            <a
              class="item"
              href="https://aras-p.info/blog/2025/02/09/Surface-Stable-Fractal-Dither-on-Playdate/"
              >Surface-Stable Fractal Dither on Playdate</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 03:04:19</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43085665"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
