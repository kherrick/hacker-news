<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="38005311">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=38005311"
              >Ask HN: What's the point of automated skill assessment tests in
              the age of AI?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 20:47:24</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38005311"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
            <div class="text">
              <p>
                Yesterday I've applied to a role I found interesting, received a
                confirmation email and seconds later - skill assessment test
                link. So it looks like nowadays humans no longer bother reading
                the CVs, it's all left to the bots. The test involved a tech
                stack I was not familiar with, so I thought it would be a good
                opportunity for the ChatGPT and it handled it well without even
                breaking a sweat. The though occurred to me that today one side
                uses AI to create and evaluate these tests and the other side
                uses AI to complete them. Is this the new reality? What's even
                the point?
              </p>
            </div>
          </section>
        </section>
        <section id="38005228">
          <h3>
            <a
              class="item"
              href="https://apnews.com/article/instagram-facebook-children-teens-harms-lawsuit-attorney-general-1805492a38f7cee111cbb865cc786c28"
              >States sue Meta claiming its platforms are addictive and harm
              kids mental health</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 20:41:05</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38005228"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38004709">
          <h3>
            <a
              class="item"
              href="https://techcommunity.microsoft.com/t5/outlook/mail-amp-calendar-apps-will-be-replaced-with-new-outlook-for/td-p/3850309"
              >Windows 11's default mail client will show ads starting 2024</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 20:07:48</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38004709"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38004178">
          <h3>
            <a class="item" href="https://gittuf.github.io/"
              >Gittuf – a security layer for Git using some concepts introduced
              by TUF</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 19:31:59</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38004178"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38003292">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/technology/apple-make-tools-parts-fix-phones-computers-available-nationwide-white-house-2023-10-24/"
              >Apple to make tools and parts to fix phones, computers available
              nationwide</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 18:33:27</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38003292"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38003211">
          <h3>
            <a
              class="item"
              href="https://ybouane.com/where-to-showcase-your-startup-project"
              >Show HN: Where to Showcase Your Startup Project?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 18:27:15</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38003211"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm excited to share a project that's been a labor of love over
                the past few years. As someone who’s launched 10 products in the
                last year alone, I know the struggle of getting your startup the
                attention it deserves. It's like having a treasure, but not
                knowing where to show it off!
              </p>
              <p>
                So, I took matters into my own hands and created a curated guide
                to help fellow entrepreneurs and makers. It’s a comprehensive
                list of sites, directories, and marketing strategies that I’ve
                found incredibly effective for showcasing and promoting
                startups.
              </p>
              <p>
                Why did I make this? Well, I realized that while we have
                incredible products, sometimes we just don't know the right
                places or strategies to get them in front of the right eyes. I
                wanted to create a go-to resource that not only lists the
                platforms but also provides practical tips on how to best
                leverage them.
              </p>
              <p>
                It’s all about boosting your traffic, increasing your
                visibility, and making sure your startup shines like it should!
              </p>
              <p>
                I’d love for you to check it out and share your thoughts. Have
                you used any of these platforms before? Do you have any secret
                weapons of your own? Let’s chat and share our experiences!
              </p>
              <p>
                Cheers to making our startup journeys a bit smoother and more
                successful!
              </p>
            </div>
          </section>
        </section>
        <section id="38002979">
          <h3>
            <a
              class="item"
              href="https://www.installaware.com/download-torrent.htm"
              >InstallAware First and Only to Source Decentralized Setups on
              BitTorrent (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 18:10:25</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38002979"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38002752">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/business/autos-transportation/california-suspends-gm-cruises-driverless-autonomous-vehicle-permits-2023-10-24/"
              >California suspends GM Cruise's autonomous vehicle deployment</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 17:55:33</span
              ><span class="points-container"
                >Points: <span class="points">370</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38002752"
                  >Comments</a
                ><span class="descendants">: 554</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38002665">
          <h3>
            <a class="item" href="https://github.com/srevinsaju/togomak"
              >Show HN: Togomak – declarative pipeline orchestrator based on HCL
              and Terraform</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 17:49:31</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38002665"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                I love Terraform and its ecosystem, so I guess I borrowed a huge
                chunk of their design. Togomak makes parts of your pipeline
                reusable, by making it a Togomak module, just like Terraform
                modules. It also gives you power over several HCL functions,
                loop expressions, templating, and customizing a pipeline
                according to user input.
              </p>
              <p>
                I started this project over a year ago, and over the course, I
                learned a lot about how Terraform works. Hopefully, some of our
                other Terraform friends would find this little tool useful!
              </p>
              <p>
                togomak is actually short for "to-go-and-make", and it sounds
                similar to "tokamak", a fusion device using magnetic fields to
                contain hot plasma for energy; perhaps it's containers here!
              </p>
            </div>
          </section>
        </section>
        <section id="38002026">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2023/10/24/eu-csam-scanning-edps-seminar/"
              >Europe's CSAM-scanning plan is tipping point for democratic
              rights, experts warn</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 17:04:41</span
              ><span class="points-container"
                >Points: <span class="points">199</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38002026"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38001978">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/livedocs/jobs/IqaU8e4-marketing-coordinator"
              >Livedocs (YC W22) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 17:01:00</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38001784">
          <h3>
            <a
              class="item"
              href="https://mchap.io/that-time-the-city-of-seattle-accidentally-gave-me-32m-emails-for-40-dollars4997.html"
              >The City of Seattle accidentally gave me 32M emails for $40
              (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 16:47:57</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38001784"
                  >Comments</a
                ><span class="descendants">: 139</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38000843">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2023-10-24/meta-sued-by-california-states-over-harmful-youth-marketing"
              >Meta sued by states over harmful youth marketing</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 15:48:22</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38000843"
                  >Comments</a
                ><span class="descendants">: 194</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38000824">
          <h3>
            <a
              class="item"
              href="https://www.figma.com/blog/server-side-sandboxing-containers-and-seccomp/#j1WRe"
              >Server-side sandboxing: Containers and seccomp</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 15:47:24</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38000824"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38000551">
          <h3>
            <a class="item" href="https://brilliant.org/challenges/halfsies/"
              >Halfsies</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 15:30:45</span
              ><span class="points-container"
                >Points: <span class="points">317</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38000551"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38000154">
          <h3>
            <a
              class="item"
              href="https://words.filippo.io/dispatches/parameters/"
              >We don't generate elliptic curves every day</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 15:00:51</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38000154"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37999380">
          <h3>
            <a
              class="item"
              href="https://www.moderntreasury.com/journal/reconciliation-is-a-knapsack-problem"
              >Reconciliation is a knapsack problem</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 14:09:10</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37999380"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37999164">
          <h3>
            <a
              class="item"
              href="https://www.stackfix.com/blog/the-ideation-flywheel"
              >The Ideation Flywheel (or how to get better startup ideas)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 13:50:11</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37999164"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37999035">
          <h3>
            <a class="item" href="https://animatedai.github.io/">Animated AI</a>
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 13:39:54</span
              ><span class="points-container"
                >Points: <span class="points">441</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37999035"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37998691">
          <h3>
            <a class="item" href="https://ethang.dev/blog/i-hate-nest-js/"
              >I Hate NestJS</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 13:09:21</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37998691"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37996999">
          <h3>
            <a
              class="item"
              href="https://nautil.us/elephants-are-total-scaredy-cats-around-bees-423763/"
              >Elephants are scared around bees</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 10:24:21</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37996999"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37996918">
          <h3>
            <a class="item" href="https://github.com/orangekame3/paclear"
              >Show HN: Paclear – A Fun Twist on the 'Clear' Command with
              Pac-Man Animation</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 10:12:22</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37996918"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
            <div class="text">
              Delight your terminal with paclear, a whimsical take on the
              'clear' command accompanied by a PAC-MAN animation. It's a fun way
              to clear your terminal screen and enjoy a bit of nostalgia at the
              same time.
            </div>
          </section>
        </section>
        <section id="37996712">
          <h3>
            <a
              class="item"
              href="https://www.yodobashi.com/product/100000001008041534/"
              >Sharp Color E-Paper Display EPoster 25.3in</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 09:35:08</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37996712"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37996295">
          <h3>
            <a
              class="item"
              href="https://morethanmoore.substack.com/p/the-risk-of-risc-v-whats-going-on"
              >Major Changes at RISC-V Designer SiFive</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 08:35:45</span
              ><span class="points-container"
                >Points: <span class="points">325</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37996295"
                  >Comments</a
                ><span class="descendants">: 263</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37996291">
          <h3>
            <a
              class="item"
              href="https://sindresorhus.com/blog/goodbye-nodejs-buffer"
              >Goodbye, Node.js Buffer</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-24 @ 08:35:19</span
              ><span class="points-container"
                >Points: <span class="points">157</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37996291"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37974897">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=ZUY2AtBD6Sk"
              >Development Secrets of the Original Kirby [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-22 @ 12:47:08</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37974897"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37974524">
          <h3>
            <a
              class="item"
              href="https://elifshafak.substack.com/p/write-what-you-dont-know"
              >Write what you don't know</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-22 @ 11:43:16</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37974524"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37974260">
          <h3>
            <a class="item" href="https://dconf.org/2023/slides/nitu.pdf"
              >DMD as a Library: Myth and Reality [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-22 @ 10:38:41</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37974260"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37973742">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/uk-news/2023/oct/21/a-neolithic-feat-of-engineering-orkney-dig-reveals-ruins-of-huge-tomb"
              >'A Neolithic feat of engineering': Orkney dig reveals ruins of
              tomb</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-22 @ 08:24:57</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37973742"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37973731">
          <h3>
            <a
              class="item"
              href="https://jacobbrazeal.wordpress.com/2023/10/22/on-not-noticing-rather-too-many-things/"
              >On not noticing rather too many things</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-10-22 @ 08:23:01</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37973731"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
