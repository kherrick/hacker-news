<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44348649">
          <h3>
            <a class="item" href="https://github.com/c12i/bunge-bits"
              >Show HN: A Tool to Summarize Kenya's Parliament with Rust,
              Whisper, and LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 17:33:04</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44348649"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                Sessions are typically 3–7 hours long, mixing English and
                Swahili. This tool transcribes, chunks, and summarizes them to
                make political content more accessible and searchable for the
                public.
              </p>
              <p>
                <a href="https://bungebits.ke/summaries"
                  >https://bungebits.ke/summaries</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44348448">
          <h3>
            <a
              class="item"
              href="https://apps.apple.com/us/app/idle-reporter-for-nyc-dep/id6747315971"
              >Show HN: Report idling vehicles in NYC (and get a cut of the
              fines) with AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 17:06:51</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44348448"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've filed a few reports, and I found the process frustrating
                and error-prone. The forms are fiddly, there's way too much
                information that needs to be copied down from the video by hand,
                you have to use a third-party app to take a timestamped video
                and a different app to compress it before uploading, and
                approximately none of it can be done on your phone — the device
                you probably used to record your video in the first place.
              </p>
              <p>
                I built Idle Reporter to make filing complaints into a
                five-minute process that you can do entirely from your phone.
              </p>
              <p>
                Idle Reporter uses AI to automatically extract all the required
                information and screenshots from the video and fill out the form
                for you. It compresses your video, adds the required
                screenshots, and uploads the whole thing to DEP. All you have to
                do is log in, give it a final check, and submit.
              </p>
              <p>
                The AI features cost me money to run, so I put those behind a
                subscription ($5.99/month, which can pay for itself after a
                single report). There's a one-week free trial so you can test it
                out. All the other features — including a fully-featured
                timestamp camera, which other apps charge for, and an editor for
                filling out the forms manually and submitting in a single step —
                will be free forever, as a service to the community.
              </p>
              <p>
                The app is iOS-only for now — part of this was an exercise in
                learning SwiftUI in my spare time.
              </p>
              <p>
                Check it out on the App Store and let me know what you think!
              </p>
              <p>
                [1]:
                <a
                  href="https://www.nyc.gov/site/dep/environment/idling-citizens-air-complaint-program.page"
                  >https://www.nyc.gov/site/dep/environment/idling-citizens-air...</a
                >
              </p>
              <p>
                [2]:
                <a
                  href="https://www.cbsnews.com/news/new-york-city-idling-law-reporters/"
                  >https://www.cbsnews.com/news/new-york-city-idling-law-report...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44347973">
          <h3>
            <a
              class="item"
              href="https://oyyy.substack.com/p/the-cultural-decline-of-literary"
              >The Cultural Decline of Literary Fiction</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 16:00:09</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44347973"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44347425">
          <h3>
            <a class="item" href="https://fellerts.no/projects/epoch.html"
              >Mechanical Watch: Exploded View</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 14:56:44</span
              ><span class="points-container"
                >Points: <span class="points">265</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44347425"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44346529">
          <h3>
            <a
              class="item"
              href="https://nautil.us/the-father-of-modern-metal-235939/"
              >Harry Brearley, the creator of stainless steel (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 12:52:27</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44346529"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44345451">
          <h3>
            <a
              class="item"
              href="https://apps.apple.com/us/app/lungy-breathing-exercises/id1545223887"
              >Show HN: I'm a doctor and built a responsive breathing app for
              anxiety and sleep</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 09:40:15</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44345451"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <p>
                I’m an NHS doctor and the founder of Pia (<a
                  href="https://www.piahealth.co"
                  >https://www.piahealth.co</a
                >) which developed Lungy (<a href="https://www.lungy.app"
                  >https://www.lungy.app</a
                >). Lungy is an iOS app that responds to breathing in real-time
                and was designed to make breathing exercises more engaging and
                beneficial to do. It’s been two years since Lungy launched
                (here’s the original ShowHN:
                <a href="https://news.ycombinator.com/item?id=34534615"
                  >https://news.ycombinator.com/item?id=34534615</a
                >) and it's had a huge update and complete redesign. We rebuilt
                the whole app, and added a real-time 3D soft body solver which
                gives some really cool interactions like blobs / objects that
                inflate as you breathe. We also made a version for Vision Pro,
                called 'Lungy Spaces'.
              </p>
              <p>
                My background is as a surgical trainee and I started building
                Lungy in 2020 during the first COVID lockdown in London. During
                COVID, there were huge numbers of patients coming off
                ventilators and patients are often given breathing exercises on
                a worksheet and disposable plastic devices called incentive
                spirometers to encourage deep breathing. This is intended to
                prevent chest infections and strengthen breathing muscles that
                have weakened. I noticed often the incentive spirometer would
                sit by the bedside, whilst the patient would be on their phone –
                this was the spark that lead to Lungy!
              </p>
              <p>
                Since making the first version we’ve made exercises fully
                customisable (you can dial in exact timings for each breath
                phase), added new breathing indicators, learning modules, e.g.
                self-care for anxiety symptoms, and lots of new visuals. The
                free version gives you access to a new breathing exercise each
                day, whilst premium unlocks the full library of exercises,
                exercise data and visuals..
              </p>
              <p>
                The visuals are mostly built using Metal (a couple use
                SpriteKit) and there are lots to choose from - boids, cloth
                sims, fluid sims, a hacky DLA implementation, rigid body + soft
                body sims - each one reacts to breath and touch. The audio uses
                AudioKit with a polyphonic synth and a sequencer plays generated
                notes from a chosen scale (you can mess around with the
                sequencer and synth in Settings/Create Music). The nice thing
                about the visuals + audio being generative is that the download
                size is relatively small with no other downloads. We’re still
                working on improving the breath detection, using ML - currently,
                it uses microphone input, with optional camera input to guide
                positioning.
              </p>
              <p>
                We’re also close to finishing the medical device version -
                <a href="http://lungy.health">http://lungy.health</a> - designed
                as a pulmonary rehab platform for patients with asthma, it
                should hopefully undergo early trials in the UK in 2026.
              </p>
              <p>Thanks for reading - would love to hear any feedback!</p>
              <p><a href="https://www.lungy.app">https://www.lungy.app</a></p>
              <p>
                Lungy Version 2 here:
                <a href="https://apps.apple.com/app/apple-store/id1545223887"
                  >https://apps.apple.com/app/apple-store/id1545223887</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44345334">
          <h3>
            <a
              class="item"
              href="https://tylercipriani.com/blog/2022/11/19/git-notes-gits-coolest-most-unloved-feature/"
              >Git Notes: Git's coolest, most unloved­ feature (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 09:14:35</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44345334"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44344708">
          <h3>
            <a class="item" href="https://mazzo.li/posts/fast-pipes.html"
              >How fast are Linux pipes anyway?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 07:27:27</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44344708"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44344246">
          <h3>
            <a class="item" href="https://libredirect.github.io"
              >LibRedirect – Redirects popular sites to alternative
              privacy-friendly frontends</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 06:07:48</span
              ><span class="points-container"
                >Points: <span class="points">292</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44344246"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44342977">
          <h3>
            <a
              class="item"
              href="https://henryhmko.github.io/posts/tpu/tpu.html"
              >TPU Deep Dive</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 02:51:03</span
              ><span class="points-container"
                >Points: <span class="points">304</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44342977"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44342731">
          <h3>
            <a class="item" href="https://github.com/lfnoise/sapf"
              >Sound As Pure Form: Music Language Inspired by Supercollider,
              APL, and Forth</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 02:17:51</span
              ><span class="points-container"
                >Points: <span class="points">158</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44342731"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.youtube.com/watch?v=FY2WYXOdXoM"
                >https://www.youtube.com/watch?v=FY2WYXOdXoM</a
              >
            </div>
          </section>
        </section>
        <section id="44341639">
          <h3>
            <a class="item" href="https://www.bbc.co.uk/news/live/ckg3rzj8emjt"
              >U.S. bombs Iranian nuclear sites</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 00:00:16</span
              ><span class="points-container"
                >Points: <span class="points">1061</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44341639"
                  >Comments</a
                ><span class="descendants">: 3124</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44341281">
          <h3>
            <a
              class="item"
              href="https://7goldfish.com/articles/Requiem_for_a_solar_plant.php"
              >Requiem for a Solar Plant</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 22:44:28</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44341281"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44340386">
          <h3>
            <a
              class="item"
              href="https://www.filmlabs.org/wiki/en/meetings_projects/spectral/laborberlin16mmprojector/start"
              >LaborBerlin: State-of-the-Art 16mm Projector</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 20:08:30</span
              ><span class="points-container"
                >Points: <span class="points">196</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44340386"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335664">
          <h3>
            <a class="item" href="https://testflight.apple.com/join/JjTcThrV"
              >uBlock Origin Lite Beta for Safari iOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 08:10:50</span
              ><span class="points-container"
                >Points: <span class="points">341</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335664"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44335065">
          <h3>
            <a class="item" href="https://delta.chat/en/"
              >Delta Chat is a decentralized and secure messenger app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 06:29:00</span
              ><span class="points-container"
                >Points: <span class="points">283</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44335065"
                  >Comments</a
                ><span class="descendants">: 172</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328326">
          <h3>
            <a
              class="item"
              href="https://fly.io/blog/phoenix-new-the-remote-ai-runtime/"
              >Phoenix.new – Remote AI Runtime for Phoenix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:57:04</span
              ><span class="points-container"
                >Points: <span class="points">587</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328326"
                  >Comments</a
                ><span class="descendants">: 254</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44323905">
          <h3>
            <a class="item" href="https://github.com/EbodShojaei/bake"
              >Mbake – A Makefile formatter and linter, that only took 50
              years</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 01:06:13</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44323905"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44319166">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/investigations/interactive/2025/eggs-prices-gouging-cal-maine-investigation/"
              >The Great Egg Heist</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 14:44:57</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44319166"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44318728">
          <h3>
            <a
              class="item"
              href="https://www.glassflow.dev/blog/load-test-glass-flow-for-click-house-real-time-deduplication-at-scale"
              >Load Test GlassFlow for ClickHouse: Real-Time Dedup at Scale</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 13:56:10</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44318728"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44315968">
          <h3>
            <a
              class="item"
              href="https://tgmatos.github.io/allocators-are-for-monkeys-with-typewriters/"
              >Allocators Are Monkeys with Typewriters</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 06:20:41</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44315968"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44314203">
          <h3>
            <a
              class="item"
              href="https://www.thedrive.com/news/worlds-largest-wildlife-bridge-spanning-10-lanes-of-101-freeway-is-nearly-complete"
              >Largest Wildlife Bridge Spanning 10 Lanes of CA 101 Is Nearly
              Complete</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 23:43:25</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44314203"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44313739">
          <h3>
            <a
              class="item"
              href="https://www.complexsystemspodcast.com/episodes/how-to-negotiate-your-salary-package/"
              >How to negotiate your salary package</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 22:16:53</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44313739"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44313722">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/06/18/science/ancient-human-adaptation-environments.html"
              >When Humans Learned to Live Everywhere</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 22:14:18</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44313722"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44311141">
          <h3>
            <a
              class="item"
              href="https://www.ll.mit.edu/research-and-development/advanced-technology/microsystems-prototyping-foundry/low-temperature"
              >Low-Temperature Additive Manufacturing of Glass</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 16:13:49</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44311141"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44310763">
          <h3>
            <a class="item" href="https://airpass.tiagoalves.me/"
              >Airpass – Easily overcome WiFi time limits</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 15:29:30</span
              ><span class="points-container"
                >Points: <span class="points">353</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44310763"
                  >Comments</a
                ><span class="descendants">: 237</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44309191">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/denmark-let-amateurs-dig-for-treasure-and-it-paid-off/"
              >Denmark's Archaeology Experiment Is Paying Off in Gold and
              Knowledge</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 12:13:15</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44309191"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44308328">
          <h3>
            <a class="item" href="https://briefer.cloud/blog/posts/p-hacking/"
              >P-Hacking in Startups</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 09:56:28</span
              ><span class="points-container"
                >Points: <span class="points">252</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44308328"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44307667">
          <h3>
            <a class="item" href="https://zoo.cuichen.cc/"
              >Type Inference Zoo</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 08:02:32</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44307667"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44306892">
          <h3>
            <a
              class="item"
              href="https://www.omgubuntu.co.uk/2025/06/microsoft-edit-text-editor-ubuntu"
              >Using Microsoft's New CLI Text Editor on Ubuntu</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 05:25:36</span
              ><span class="points-container"
                >Points: <span class="points">272</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44306892"
                  >Comments</a
                ><span class="descendants">: 285</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
