<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="35233725">
          <h3>
            <a
              class="item"
              href="https://lucumr.pocoo.org/2023/3/20/lessons-from-a-pessimist/"
              >Lessons from a Pessimist: Make Your Pessimism Productive</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 16:10:33</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233725"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233650">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2023/03/20/openai_warns_that_gpt4_could/"
              >OpenAI CEO warns that GPT-4 could be misused for nefarious
              purposes</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 16:06:19</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233650"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233534">
          <h3>
            <a class="item" href="https://old.reddit.com/r/ChatGPT/"
              >ChatGPT is rendering other people's chat history in the
              sidebar</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:59:59</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233534"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233524">
          <h3>
            <a
              class="item"
              href="https://robhaisfield.com/notes/the-hard-problem-of-onboarding-horizontal-products"
              >The hard problem of onboarding horizontal products</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:59:09</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233524"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233523">
          <h3>
            <a class="item" href="https://lweb.cfa.harvard.edu/~loeb/LK1.pdf"
              >Could UFOs be alien probes? A new 2023 Harvard study explores it
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:58:57</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233523"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233500">
          <h3>
            <a
              class="item"
              href="https://ij.org/press-release/supreme-court-asked-to-strike-down-immunity-for-police-task-force-officers-who-brutally-beat-innocent-college-student/"
              >Supreme Court Asked to Strike Down Immunity for Police Who
              Brutally Beat Student</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:57:45</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233500"
                  >Comments</a
                ><span class="descendants">: 92</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233484">
          <h3>
            <a
              class="item"
              href="https://github.com/minborg/articles/tree/jep442/2023/March/22-jep442-FFM-Third-Preview"
              >JEP 442: Foreign Function and Memory API (Third Preview)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:56:39</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233484"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35233479">
          <h3>
            <a
              class="item"
              href="https://asahilinux.org/2023/03/road-to-vulkan/"
              >Paving the Road to Vulkan on Asahi Linux</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:56:12</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35233479"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35232975">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2023-03-20/using-chatgpt-at-work-nearly-half-of-firms-are-drafting-policies-on-its-use"
              >Nearly Half of Firms Are Drafting Policies on ChatGPT Use</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 15:28:11</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35232975"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35232326">
          <h3>
            <a
              class="item"
              href="https://tinker-board.asus.com/product/tinker-v.html?s=09"
              >Tinker V: The first RISC-V single-board computer</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 14:50:04</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35232326"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35232171">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=35232171"
              >Launch HN: Lume (YC W23) – Generate custom data integrations with
              AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 14:40:35</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35232171"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <a href="https://lume.ai">https://lume.ai</a>). Lume uses AI to
              generate custom data integrations. We transform data between any
              start and end schema and pipe the data directly to your desired
              destination. There’s a demo video here:
              <a
                href="https://www.loom.com/share/bed137eb38884270a2619c71cebc1213"
                >https://www.loom.com/share/bed137eb38884270a2619c71cebc1213</a
              >.
              <p>
                Companies spend countless engineering hours manually
                transforming data for custom integrations, or pay large amounts
                to consulting firms to do it for them. Engineers have to work
                through massive data schemas and create hacky scripts to
                transform data. Dynamic schemas from different clients or apps
                require custom integration pipelines. Many non-tech companies
                are even still relying on schemas from csv and pdf file formats.
                Days, weeks, and even months are spent just building
                integrations.
              </p>
              <p>
                We ran into this problem first-hand as engineers: Nebyou during
                his time as a ML engineer at Opendoor, where he spent months
                manually creating data transformations, while Nicolas did the
                same at his time working at Apple Health. Talking to other
                engineers, we learned this problem was everywhere. Because of
                the dynamic and one-off nature of different data integrations,
                it has been a challenging problem to automate. We believe that
                with recent improvements in LLMs (large language models),
                automation has become feasible and now is the right time to
                tackle it.
              </p>
              <p>
                Lume solves this problem head-on by generating data
                transformations, which makes the integration process 10x faster.
                This is provided through a self-serve managed platform where
                engineers can manage and create new data integrations.
              </p>
              <p>
                How it works: users can specify their data source and data
                destination, both of which specify the desired data formats,
                a.k.a. schemas. Data source and destinations can be specified
                through our 300+ app connectors, or custom data schemas can be
                connected by either providing access to your data warehouse, or
                a manual file upload (csv, json, etc) of your end schema. Lume,
                which includes AI and rule-based models, creates the desired
                transformation under the hood by drafting the necessary SQL
                code, and deploys it to your destination.
              </p>
              <p>
                At the same time, engineers don’t want to rely on low- or
                no-code tools without visibility under the hood. Thus, we also
                provide features to ensure visibility, confidence, and
                editability of each integration: Data Preview allows you to view
                samples of the transformed data, SQL Editor allows you to see
                the SQL used to create the transformation and to change the
                assumptions made my Lume’s model, if needed (most of the time,
                you don’t!). In addition, Lineage Graph (launching soon) shows
                you the dependencies of your new integration, giving more
                visibility for maintenance.
              </p>
              <p>
                Our clients have two primary use cases. One common use case is
                to transform data source(s) into one unified ontology. For
                example, you can create a unified schema between Salesforce,
                Hubspot, Quickbooks, and Pipedrive in your data warehouse.
                Another common use case is to create data integrations between
                external apps, such as custom syncs between your SaaS apps. For
                example, you can create an integration directly between your CRM
                and BI tools.
              </p>
              <p>
                The most important thing about our solution is our generative
                system: our model ingests and understands your schemas, and uses
                that to generate transformations that map one schema to another.
                Other integration tools, such as Mulesoft and Informatica, ask
                users to manually map columns between schemas—which takes a long
                time. Data transformation tools such as dbt have improved the
                data engineering process significantly (we love dbt!) but still
                require extensive manual work to understand the data and to
                program. We abstract all of this and do all the transformations
                for our customers under the hood - which reduces the time taken
                to manually map and engineer these integrations from days/weeks
                to minutes. Our solution handles the truly dynamic nature of
                data integrations.
              </p>
              <p>
                We don’t have a public self-serve option yet (sorry!) because
                we’re at the early stage of working closely with specific
                customers to get their use cases into production. If you’re
                interested in becoming one of those, we’d love to hear from you
                at <a href="https://lume.ai">https://lume.ai</a>. Once the core
                feature set has stabilized, we’ll build out the public product.
                In the meantime, our demo video shows it in action:
                <a
                  href="https://www.loom.com/share/bed137eb38884270a2619c71cebc1213"
                  >https://www.loom.com/share/bed137eb38884270a2619c71cebc1213</a
                >.
              </p>
              <p>
                We currently charge a flat monthly fee that varies based on the
                quantity of data integrations. In the future, we plan on having
                more transparent pricing that’s made up of a fixed platform fee
                + compute-based charges. To not have surprise charges, we
                currently run the compute in your data warehouse.
              </p>
              <p>
                We’re looking forward to hearing any of your comments,
                questions, ideas, experiences, and feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="35232150">
          <h3>
            <a
              class="item"
              href="https://www.cnbc.com/2023/03/20/amazon-layoffs-company-to-cut-off-9000-more-workers.html"
              >Amazon to lay off 9,000 more workers after earlier cuts</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 14:39:08</span
              ><span class="points-container"
                >Points: <span class="points">310</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35232150"
                  >Comments</a
                ><span class="descendants">: 310</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35232148">
          <h3>
            <a
              class="item"
              href="https://www.aboutamazon.com/news/company-news/update-from-ceo-andy-jassy-on-amazons-operating-plan-and-additional-role-eliminations"
              >Amazon to eliminate 9,000 more positions in the next few weeks</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 14:39:05</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35232148"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35232047">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/articles/that-plum-job-listing-may-just-be-a-ghost-3aafc794"
              >That plum job listing may just be a ghost</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 14:33:04</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35232047"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35231980">
          <h3>
            <a
              class="item"
              href="https://blog.gitea.io/2023/03/gitea-1.19.0-is-released/"
              >Gitea 1.19</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 14:28:20</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35231980"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35231276">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/the-quantum-state-of-a-tcp-port/"
              >When can two TCP sockets share a local address?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 13:35:21</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35231276"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35231159">
          <h3>
            <a
              class="item"
              href="https://nymag.com/intelligencer/article/mark-zuckerberg-metaverse-meta-horizon-worlds.html"
              >Who is still inside the metaverse?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 13:25:52</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35231159"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35231111">
          <h3>
            <a
              class="item"
              href="https://www.forbes.com/sites/carltonreid/2023/03/01/cyclists-now-outnumber-motorists-in-city-of-london/"
              >Cyclists now outnumber motorists in City of London</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 13:22:50</span
              ><span class="points-container"
                >Points: <span class="points">595</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35231111"
                  >Comments</a
                ><span class="descendants">: 477</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35230766">
          <h3>
            <a class="item" href="https://argbash.dev"
              >Argbash – Bash Argument Parsing Code Generator</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 12:53:22</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35230766"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35230740">
          <h3>
            <a
              class="item"
              href="https://torrentfreak.com/zippyshare-file-hosting-veteran-calls-it-quits-2006-2023-230320/"
              >Zippyshare quits after 17 years, 45M visits per month makes no
              money</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 12:50:08</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35230740"
                  >Comments</a
                ><span class="descendants">: 156</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35230370">
          <h3>
            <a class="item" href="https://jobs.lever.co/buildzoom"
              >BuildZoom (YC W13) is hiring a growth associate</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 12:10:28</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35229945">
          <h3>
            <a
              class="item"
              href="https://commodoreformatarchive.com/games-of-the-90s-the-covertapes/"
              >The British computer magazine cover tape</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 11:17:24</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35229945"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35229045">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=35229045"
              >Ask HN: Where can I find a primer on how computers boot?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 09:15:18</span
              ><span class="points-container"
                >Points: <span class="points">248</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35229045"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
            <div class="text">
              As a developer, I recently encountered challenges with GRUB and
              discovered I lacked knowledge about my computer's boot process. I
              realized terms like EFI partition, MBR, GRUB, and Bootloader were
              unfamiliar to me and many of my colleagues. I'm seeking
              introductory and easy-to-understand resources to learn about these
              concepts. Any recommendations would be appreciated!
            </div>
          </section>
        </section>
        <section id="35228884">
          <h3>
            <a class="item" href="https://www.commandlinefu.com/commands/browse"
              >Command Line One-Liners</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 08:52:46</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35228884"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35228716">
          <h3>
            <a
              class="item"
              href="https://systemsapproach.substack.com/p/rpc-vs-tcp-redux"
              >RPC vs. TCP (Redux)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 08:29:35</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35228716"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35227635">
          <h3>
            <a class="item" href="https://tinyvg.tech/"
              >TinyVG – an alternative binary encoded vector graphics format</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 05:27:07</span
              ><span class="points-container"
                >Points: <span class="points">243</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35227635"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35227600">
          <h3>
            <a class="item" href="https://previous.unixdude.net/"
              >Previous: A NeXT Computer Emulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 05:21:04</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35227600"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35227564">
          <h3>
            <a class="item" href="https://www.pacificpinball.org"
              >Pacific Pinball Museum</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 05:15:20</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35227564"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35226887">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=35226887"
              >Ask HN: Why do many CS graduates lack foundational knowledge?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 03:24:59</span
              ><span class="points-container"
                >Points: <span class="points">304</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35226887"
                  >Comments</a
                ><span class="descendants">: 565</span></span
              >
            </h4>
            <div class="text">
              <p>* Database Systems (relational algebra, SQL)</p>
              <p>* Concurrent Programming</p>
              <p>* Network Programming</p>
              <p>
                It seems most are exposed to them partially through project work
                but without the base knowledge.
              </p>
              <p>
                Is this typical for CS undergraduate degrees because you get to
                pick your own classes?
              </p>
            </div>
          </section>
        </section>
        <section id="35226197">
          <h3>
            <a class="item" href="https://altstore.io/"
              >Altstore: Home for apps that push the boundaries of iOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-03-20 @ 01:41:37</span
              ><span class="points-container"
                >Points: <span class="points">296</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35226197"
                  >Comments</a
                ><span class="descendants">: 205</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
