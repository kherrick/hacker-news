<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39681919">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/infisical/jobs/MteMdIQ-full-stack-engineer"
              >Infisical (YC W23) Is Hiring to Build the Open Source Secret
              Management Platform</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 17:00:26</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39681804">
          <h3>
            <a
              class="item"
              href="https://www.msn.com/en-us/money/careers/california-state-university-system-sees-unprecedented-decline-in-enrollment/ar-BB1jJy2i"
              >California State University system sees unprecedented decline in
              enrollment</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 16:53:41</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39681804"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39681313">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2024/03/05/youtube_workers_sacked_on_camera/"
              >YouTube workers laid off mid-plea at City Hall meeting</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 16:19:34</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39681265">
          <h3>
            <a
              class="item"
              href="https://motherduck.com/blog/differential-storage-building-block-for-data-warehouse/"
              >Differential Storage: A Key Building Block for a DuckDB-Based
              Data Warehouse</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 16:15:07</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39681265"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39681246">
          <h3>
            <a
              class="item"
              href="https://nltimes.nl/2024/03/12/two-thirds-young-dutch-people-say-influencers-affect-financial-decisions"
              >Two-thirds of young Dutch say influencers affect their financial
              decisions</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 16:13:59</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39681246"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39681063">
          <h3>
            <a
              class="item"
              href="https://news.mit.edu/2024/mit-study-polyglots-brain-processing-native-language-0310"
              >For polyglots, there's something special about their native
              tongue</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 15:58:19</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39681063"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39681062">
          <h3>
            <a
              class="item"
              href="https://theaircurrent.com/aviation-safety/737-max-anti-ice-fix-slow-going/"
              >737 Max anti-ice system fix is slow going</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 15:58:17</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39681062"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39680997">
          <h3>
            <a
              class="item"
              href="https://engineering.fb.com/2024/03/12/data-center-engineering/building-metas-genai-infrastructure/"
              >Building Meta’s GenAI Infrastructure</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 15:52:35</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39680997"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39680945">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2024-03-12/crypto-mixer-convicted-of-money-laundering-on-bitcoin-fog"
              >Crypto 'Mixer' Convicted of Money Laundering on Bitcoin Fog</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 15:48:51</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39680945"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39680579">
          <h3>
            <a
              class="item"
              href="https://www.warpstream.com/blog/deterministic-simulation-testing-for-our-entire-saas"
              >Deterministic Simulation Testing for Our Entire SaaS</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 15:21:23</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39680579"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39680155">
          <h3>
            <a
              class="item"
              href="https://feertech.com/legion/retro/computer/2021/07/12/epson-hx20.html"
              >The Epson HX-20 – A Contrarian's View</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 14:45:52</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39680155"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39678929">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39678929"
              >Ask HN: Problems worth solving with a low-code back end?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 12:58:22</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39678929"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <p>### average=AVERAGE([1,1,2,3,5,8]) ECHO(average) ###</p>
              <p>
                Now I am trying to find problems worth solving with it to verify
                builder's expressiveness and limitations. So far I haven't
                really encountered suitable problems. I have researched many
                lowcode/workflow automation tools/builder and their shared
                use-cases or success stories, but to me they just show-case how
                little they can achieve.
              </p>
              <p>
                Have you used a low-code backend builder already for some
                ambitious/cool problems/use-cases? Or do you have a such
                problem/use-case in mind? If you would evaluate a low-code
                backend builder, how would you do it?
              </p>
            </div>
          </section>
        </section>
        <section id="39678783">
          <h3>
            <a class="item" href="https://ourworldindata.org/weather-forecasts"
              >Weather forecasts have become much more accurate</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 12:42:35</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39678783"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39678555">
          <h3>
            <a class="item" href="https://developer.apple.com/news/?id=8c1m8hqt"
              >More options for apps distributed in the European Union</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 12:11:55</span
              ><span class="points-container"
                >Points: <span class="points">279</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39678555"
                  >Comments</a
                ><span class="descendants">: 326</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39677845">
          <h3>
            <a class="item" href="https://www.ultratec.com/about/timeline/"
              >Ultratec Technology Timeline</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 10:14:06</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39677845"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39677530">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/science/2024/03/shields-up-new-ideas-might-make-active-shielding-viable/"
              >Shields up: New ideas might make active shielding viable</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 09:10:11</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39677530"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39677009">
          <h3>
            <a class="item" href="https://bevyengine.org/news/bevy-foundation/"
              >The Bevy Foundation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 07:31:06</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39677009"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39676767">
          <h3>
            <a
              class="item"
              href="https://copyninja.in/blog/clone_laptop_nvmet.html"
              >Cloning a Laptop over NVMe TCP</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 06:37:23</span
              ><span class="points-container"
                >Points: <span class="points">350</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39676767"
                  >Comments</a
                ><span class="descendants">: 133</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39676702">
          <h3>
            <a
              class="item"
              href="https://herbsutter.com/2024/03/11/safety-in-context/"
              >C++ Safety, in Context</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 06:23:53</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39676702"
                  >Comments</a
                ><span class="descendants">: 165</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39675807">
          <h3>
            <a class="item" href="https://www.trangram.com"
              >Show HN: I made a free animator. Think Adobe Illustrator but for
              animation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 03:15:51</span
              ><span class="points-container"
                >Points: <span class="points">504</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39675807"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
            <div class="text">
              Trangram is a free one-stop platform to create, and share motion
              graphics and svg animations with a free built-in powerful editor
              which is a fusion of Adobe Illustrator and animation tools.
            </div>
          </section>
        </section>
        <section id="39675735">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2403.06634"
              >Stealing Part of a Production Language Model</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 03:01:03</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39675735"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39675585">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2403.05440"
              >Is Cosine-Similarity of Embeddings Really About Similarity?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 02:29:22</span
              ><span class="points-container"
                >Points: <span class="points">173</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39675585"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39674931">
          <h3>
            <a
              class="item"
              href="https://www.cs.princeton.edu/courses/archive/spring03/cs333/thompson"
              >Unix and Beyond: An Interview with Ken Thompson (1999)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-12 @ 00:57:51</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39674931"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39673087">
          <h3>
            <a
              class="item"
              href="https://www.esa.int/Science_Exploration/Space_Science/Webb/Webb_Hubble_confirm_Universe_s_expansion_rate"
              >Webb and Hubble confirm Universe's expansion rate</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 20:49:35</span
              ><span class="points-container"
                >Points: <span class="points">592</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39673087"
                  >Comments</a
                ><span class="descendants">: 282</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39671983">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/business/2024/03/07/llama-emu-ostrich-herds-down/"
              >The great American llama (and ostrich and emu) collapse</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 18:53:39</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39671983"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39671418">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-03-humans-bees-chimps-skills.html"
              >Not just humans: Bees and chimps can also pass on their skills</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 18:03:01</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39671418"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670986">
          <h3>
            <a
              class="item"
              href="https://scratchdata.com/blog/go-nonblocking-pipes-bug/"
              >Debugging a Golang Bug with Non-Blocking Reads</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 17:26:28</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670986"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670324">
          <h3>
            <a
              class="item"
              href="https://www.gettyimages.in/detail/video/at-the-first-hackers-conference-in-1984-steve-wozniak-and-news-footage/146496695"
              >Steve Wozniak and Stuart Brand Discuss Control of IP (1984)
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 16:35:48</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670324"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39670279">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/a-double-brood-of-periodical-cicadas-will-emerge-in-2024/"
              >A double emergence of periodical cicadas isn’t cicada-geddon –
              It’s a marvel</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 16:32:47</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39670279"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39668962">
          <h3>
            <a class="item" href="https://github.com/OnedocLabs/react-print-pdf"
              >Launch HN: Onedoc (YC W24) – A better way to create PDFs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-11 @ 14:52:56</span
              ><span class="points-container"
                >Points: <span class="points">272</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39668962"
                  >Comments</a
                ><span class="descendants">: 166</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.onedoclabs.com/"
                >https://www.onedoclabs.com/</a
              >
              ), and the original contributors to the open-source library
              react-print-pdf (<a
                href="https://github.com/OnedocLabs/react-print-pdf"
                >https://github.com/OnedocLabs/react-print-pdf</a
              >
              ) which lets developers design and generate PDF documents
              automatically. Here’s a demo video:
              <a href="https://www.youtube.com/watch?v=MgfCyOyckQU&amp;t=3s"
                >https://www.youtube.com/watch?v=MgfCyOyckQU&amp;t=3s</a
              >
              <p>
                Billions of PDFs are generated daily: invoices, contracts,
                receipts, reports, you name it. Developer time gets wasted
                producing these basic documents because there are no good-enough
                tools to design and generate PDFs.
              </p>
              <p>
                We previously worked at giant firms, where documents (especially
                PDFs) were central to most workflows. We got asked to generate
                automated trade confirmations for our customer’s counterparties.
                We could not find any tool other than outdated libraries
                offering poor control over layout and the generation process. In
                the end, we just created our own—basically bringing web
                technologies to PDFs. That was the genesis of Onedoc.
              </p>
              <p>
                PDF creation has two phases: design (specifying content and
                layout) and generation (producing the actual PDF file). Onedoc
                lets you do both simply and automatically.
              </p>
              <p>
                <i>Design</i>: we have an open-source library called
                "react-print-pdf" (<a
                  href="https://github.com/OnedocLabs/react-print-pdf"
                  >https://github.com/OnedocLabs/react-print-pdf</a
                >
                ) that allows you to design a document the same way you would
                design a website. It supports Tailwind CSS components, Chakra UI
                components, and recently also built LaTeX and Markdown
                components. The latter let you write text in Markdown style, and
                include formulas using LaTeX syntax, directly within a React
                component.
              </p>
              <p>
                <i>Generation</i>: we have an API (<a
                  href="https://docs.onedoclabs.com/api-reference/introduction"
                  >https://docs.onedoclabs.com/api-reference/introduction</a
                >
                ) and Node.js SDK (<a
                  href="https://docs.onedoclabs.com/quickstart/nodejs"
                  >https://docs.onedoclabs.com/quickstart/nodejs</a
                >
                ) that render your designs into PDFs.
              </p>
              <p>
                The choice of renderer significantly affects the accuracy of the
                resulting PDF. For example, exporting a webpage into PDF will
                often result in a layout that differs from the original webpage.
                We ensure that what you designed is what you get, and therefore
                you have 100% control over the entire layout of your document
                including margin, style, etc. We can do that because we built
                the react-print-pdf library to match the HTML/CSS to PDF
                rendering tool we have.
              </p>
              <p>
                Once you have generated your document, you can either store it
                on your local system or, if you want, use our platform (<a
                  href="https://app.onedoclabs.com/"
                  >https://app.onedoclabs.com/</a
                >
                ) to host your document online. If you use us, you’ll also get
                analytics over your documents.
              </p>
              <p>
                Our main product is an API, but you can try it on our website
                directly (<a href="https://www.onedoclabs.com/"
                  >https://www.onedoclabs.com/</a
                >) using our playground without any installation or sign-up. Our
                pricing is usage-based: per document generated. The pricing is
                degressive: the more documents you generate, the less you pay
                per document. If you don’t want to pay for PDF generation, you
                can still generate as many documents as you want, but with a
                watermark on the margin.
              </p>
              <p>
                It’s been fun to see what our users are building with our
                open-source library (components, templates, etc.) and our API.
                We have a website (<a href="https://react-print.onedoclabs.com/"
                  >https://react-print.onedoclabs.com/</a
                >) dedicated to the open-source library where we post the
                templates submitted by the community. Some early power users
                built simple web apps (CV/Resume generator, NDA and Invoice
                generator). We are excited to show our product to the HN
                community and look forward to your feedback!
              </p>
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
