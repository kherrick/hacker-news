<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46996067">
          <h3>
            <a
              class="item"
              href="https://michael-dev-tech.github.io/Website/matrix.html"
              >Discord Just Killed Anonymity</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 22:18:01</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46996067"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46995046">
          <h3>
            <a
              class="item"
              href="https://matrix.org/blog/2026/02/welcome-discord/"
              >Welcoming Discord users amidst the challenge of Age
              Verification</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 20:57:33</span
              ><span class="points-container"
                >Points: <span class="points">189</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46995046"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46995001">
          <h3>
            <a
              class="item"
              href="https://www.techdirt.com/2026/02/12/ice-cbp-knew-facial-recognition-app-couldnt-do-what-dhs-says-it-could-deployed-it-anyway/"
              >ICE, CBP Knew Facial Recognition App Couldn't Do What DHS Says It
              Could</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 20:53:30</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46995001"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46994869">
          <h3>
            <a
              class="item"
              href="https://worksinprogress.co/issue/fixing-retail-with-land-value-capture/"
              >Fixing retail with land value capture</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 20:44:17</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46994869"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46994255">
          <h3>
            <a class="item" href="https://github.com/puffinsoft/syntux"
              >Show HN: Generate Web Interfaces from Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 19:59:52</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46994255"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46993596">
          <h3>
            <a class="item" href="https://rari.build/"
              >Rari – Rust-powered React framework</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 19:15:47</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46993596"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46993397">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=Rn1w4MRHIhc"
              >How to Have a Bad Career – David Patterson (2016) [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 19:01:54</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46993397"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46993345">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/news/anthropic-raises-30-billion-series-g-funding-380-billion-post-money-valuation"
              >Anthropic raises $30B in Series G funding at $380B post-money
              valuation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 18:58:56</span
              ><span class="points-container"
                >Points: <span class="points">212</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46993345"
                  >Comments</a
                ><span class="descendants">: 249</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46992815">
          <h3>
            <a class="item" href="https://pol.is/home2"
              >Polis: Open-source platform for large-scale civic deliberation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 18:23:20</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46992815"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46992553">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/introducing-gpt-5-3-codex-spark/"
              >GPT‑5.3‑Codex‑Spark</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 18:06:09</span
              ><span class="points-container"
                >Points: <span class="points">470</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46992553"
                  >Comments</a
                ><span class="descendants">: 197</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46991591">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46991591"
              >Launch HN: Omnara (YC S25) – Run Claude Code and Codex from
              anywhere</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 17:14:28</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46991591"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.omnara.com/">https://www.omnara.com/</a>)
              here. We’re building a web and mobile agentic IDE for Claude Code
              and Codex that lets you run and interact with coding agents from
              anywhere. Omnara lets you run Claude Code and Codex sessions on
              your own machine, and exposes those sessions through a web and
              mobile interface so you can stay involved even when you’re away
              from your desk. Think of it like Claude Code Desktop or Conductor,
              except you can continue your sessions on your phone.
              <p>
                Here’s a demo of the web and mobile apps -
                <a href="https://youtu.be/R8Wmy4FLbhQ"
                  >https://youtu.be/R8Wmy4FLbhQ</a
                >
              </p>
              <p>
                We started using Claude Code early last year and quickly ran
                into a pattern: agents could work for long stretches on their
                own, but progress would stall whenever they needed follow-up
                input. If that happened while we were away from our desks,
                everything just paused. We looked at remote agent solutions like
                Codex Web and Devin, which were the main options at the time,
                but they ran in remote VMs, and we wanted our coding agent to
                run in our own environment. Our first attempt at solving this
                was a lightweight wrapper that streamed messages from the Claude
                Code CLI to a mobile app, but that approach ended up being
                fragile and hard to maintain.
              </p>
              <p>
                As the Claude Agent SDK matured, it gave us enough control to
                rewrite Omnara from scratch and run the agent loop directly. We
                chose to build a GUI across web and mobile instead of a TUI or
                CLI, because we think GUIs are generally more ergonomic for
                working with agents and code, especially on mobile. We still
                preserve the main strength of CLIs and TUIs: running anywhere,
                including on headless machines.
              </p>
              <p>
                Omnara keeps that property by running a small headless daemon on
                the user’s machine (or a remote VM) that hosts the agent loop.
                The daemon maintains an authenticated, outbound WebSocket
                connection to our server, which relays messages between the
                agent running on the user’s machine and any connected web or
                mobile clients. Because the daemon only makes outbound
                connections, there’s no need for exposed ports, SSH access, or
                tunneling on the user’s machine.
              </p>
              <p>
                In our first version of Omnara, users liked that agent sessions
                ran in their own environment, but they still depended on the
                machine staying online. Some users ran Omnara on a remote
                machine that stayed up, which worked well for them, though most
                still did most of their work on laptops. In the current version,
                Omnara can continue an agent session in a hosted remote sandbox
                when your local machine goes offline.
              </p>
              <p>
                The conversation state of an agent is already persisted on our
                server, and you can optionally enable cloud syncing for the
                working code. When syncing is enabled, Omnara creates git
                commits at each turn in the conversation and pushes them to our
                server, so execution can resume from the same state regardless
                of whether it continues locally or in the cloud. If you continue
                working in a remote sandbox, you can later pull any changes back
                into your local environment when you return to your machine.
                Environment parity in the sandbox isn’t perfect yet, but in
                practice, missing dependencies are usually easy to resolve by
                asking the agent to install them.
              </p>
              <p>
                Another thing we learned from using the initial version of
                Omnara is that mobile is fine for quick interactions, but not
                great for extended back-and-forth. Users asked for a hands-free
                way to keep agents moving while walking, driving, or doing
                something else, which led us to add a voice agent. Coming from
                more traditional software engineering backgrounds, we honestly
                thought coding by talking to a voice agent would be gimmicky and
                added it mostly as a fallback.
              </p>
              <p>
                What surprised us is how useful the voice agent ended up being
                in practice. When working with coding agents, being redundant
                and overly explicit usually helps, and people naturally give
                more detail when speaking than when typing. Going back and forth
                with the agent as the conversation unfolds tends to produce a
                much more solid plan than trying to one-shot it with a prompt
                (this could technically also be done over text, but talking and
                iterating over voice feels easier and more natural). It’s also
                just fun. Talking through an idea with an agent while out on a
                walk is a lot more enjoyable than staring at a terminal screen.
              </p>
              <p>To try it out, open your terminal and download Omnara with</p>
              <p></p>
              <pre><code>  curl -fsSL https://omnara.com/install/install.sh | bash
</code></pre>
              then run omnara inside any git repository. This starts a headless
              Claude Code or Codex session in that repo, which immediately
              appears in the Omnara web and mobile apps. From there, you can
              continue that session or start new ones remotely (with or without
              worktrees) and switch between the web and mobile clients without
              interrupting the agent.
              <p>
                Omnara is free for 10 agent sessions per month, then $20/month
                for unlimited sessions. When agents run in your own environment,
                you can use your existing Claude or Codex subscription, so
                there’s no need to pay us for additional tokens. If you use
                Claude Code or Codex, we’d love to hear your feedback on Omnara!
              </p>
            </div>
          </section>
        </section>
        <section id="46991435">
          <h3>
            <a class="item" href="https://rickyromero.com/shutup/"
              >Shut Up: Comment Blocker</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 17:05:36</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46991435"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46991394">
          <h3>
            <a class="item" href="https://www.0xsid.com/blog/aidr">ai;dr</a>
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 17:03:30</span
              ><span class="points-container"
                >Points: <span class="points">535</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46991394"
                  >Comments</a
                ><span class="descendants">: 212</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46991240">
          <h3>
            <a
              class="item"
              href="https://blog.google/innovation-and-ai/models-and-research/gemini-models/gemini-3-deep-think/"
              >Gemini 3 Deep Think</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 16:55:50</span
              ><span class="points-container"
                >Points: <span class="points">572</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46991240"
                  >Comments</a
                ><span class="descendants">: 340</span></span
              >
            </h4>
            <div class="text">
              <a href="https://x.com/GoogleDeepMind/status/2021981510400709092"
                >https://x.com/GoogleDeepMind/status/2021981510400709092</a
              >
              <p>
                <a href="https://x.com/fchollet/status/2021983310541729894"
                  >https://x.com/fchollet/status/2021983310541729894</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46991154">
          <h3>
            <a class="item" href="https://www.minimax.io/news/minimax-m25"
              >MiniMax M2.5 released: 80.2% in SWE-bench Verified</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 16:51:37</span
              ><span class="points-container"
                >Points: <span class="points">161</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46991154"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46990729">
          <h3>
            <a
              class="item"
              href="https://theshamblog.com/an-ai-agent-published-a-hit-piece-on-me/"
              >An AI agent published a hit piece on me</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 16:23:24</span
              ><span class="points-container"
                >Points: <span class="points">1321</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46990729"
                  >Comments</a
                ><span class="descendants">: 577</span></span
              >
            </h4>
            <div class="text">
              <i
                >AI agent opens a PR write a blogpost to shames the maintainer
                who closes it</i
              >
              -
              <a href="https://news.ycombinator.com/item?id=46987559"
                >https://news.ycombinator.com/item?id=46987559</a
              >
              - Feb 2026 (582 comments)
            </div>
          </section>
        </section>
        <section id="46990578">
          <h3>
            <a
              class="item"
              href="https://waymo.com/blog/2026/02/ro-on-6th-gen-waymo-driver"
              >Beginning fully autonomous operations with the 6th-generation
              Waymo driver</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 16:10:29</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46990578"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46989605">
          <h3>
            <a
              class="item"
              href="https://loriemerson.net/2024/08/31/a-brief-history-of-barbed-wire-fence-telephone-networks/"
              >A brief history of barbed wire fence telephone networks (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 14:56:18</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46989605"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46989217">
          <h3>
            <a class="item" href="https://atha.io/blog/2026-02-12-viva"
              >Major European payment processor can't send email to Google
              Workspace users</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 14:24:15</span
              ><span class="points-container"
                >Points: <span class="points">429</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46989217"
                  >Comments</a
                ><span class="descendants">: 285</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46989124">
          <h3>
            <a
              class="item"
              href="https://aethermug.com/posts/culture-is-the-mass-synchronization-of-framings"
              >Culture Is the Mass-Synchronization of Framings</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 14:17:37</span
              ><span class="points-container"
                >Points: <span class="points">115</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46989124"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46989117">
          <h3>
            <a class="item" href="https://lwn.net/Articles/1055590/"
              >The Future for Tyr, a Rust GPU Driver for Arm Mali Hardware</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 14:17:06</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46989117"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46988596">
          <h3>
            <a
              class="item"
              href="http://blog.can.ac/2026/02/12/the-harness-problem/"
              >Improving 15 LLMs at Coding in One Afternoon. Only the Harness
              Changed</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 13:30:20</span
              ><span class="points-container"
                >Points: <span class="points">527</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46988596"
                  >Comments</a
                ><span class="descendants">: 215</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46988462">
          <h3>
            <a class="item" href="https://ericmigi.github.io/pebble-qemu-wasm/"
              >Run Pebble OS in Browser via WASM</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 13:16:11</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46988462"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46988438">
          <h3>
            <a
              class="item"
              href="https://arrow.apache.org/blog/2026/02/12/arrow-anniversary/"
              >Apache Arrow is 10 years old</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 13:13:30</span
              ><span class="points-container"
                >Points: <span class="points">173</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46988438"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46987919">
          <h3>
            <a
              class="item"
              href="https://theshamblog.com/the-crown-of-nobles-noble-gas-tube-display/"
              >The "Crown of Nobles" Noble Gas Tube Display (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 12:23:05</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46987919"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46987038">
          <h3>
            <a class="item" href="https://geo-racers.com/"
              >Show HN: Geo Racers – Race from London to Tokyo on a single bus
              pass</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 10:27:50</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46987038"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46948278">
          <h3>
            <a
              class="item"
              href="https://maplant.com/2026-02-09-I-Wrote-a-Scheme-in-2025.html"
              >I Wrote a Scheme in 2025</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-09 @ 17:44:32</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46948278"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46944376">
          <h3>
            <a
              class="item"
              href="https://lichess.org/@/Lichess/blog/op1-partial-8-piece-tablebase-available/1ptPBDpC"
              >Partial 8-Piece Tablebase</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-09 @ 12:09:59</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46944376"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46928157">
          <h3>
            <a
              class="item"
              href="https://harpers.org/archive/2023/04/the-science-of-the-perfect-second/"
              >The Science of the Perfect Second (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-07 @ 21:19:05</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46928157"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46928105">
          <h3>
            <a
              class="item"
              href="https://blog.typeobject.com/posts/2026-barn-owls-know-when-to-wait/"
              >Barn Owls Know When to Wait</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-07 @ 21:14:08</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46928105"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
