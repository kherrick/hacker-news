<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44046578">
          <h3>
            <a
              class="item"
              href="https://neuecc.medium.com/zlinq-a-zero-allocation-linq-library-for-net-1bb0a3e5c749"
              >"ZLinq", a Zero-Allocation LINQ Library for .NET</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 22:29:12</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44046578"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44046277">
          <h3>
            <a class="item" href="https://arxivxplorer.com/"
              >Semantic search engine for ArXiv, biorxiv and medrxiv</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 21:49:36</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44046277"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44046227">
          <h3>
            <a
              class="item"
              href="https://github.com/LittleGreenViper/LGV_TZ_Lookup"
              >Show HN: A Simple Server to Match Long/Lat to a TimeZone</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 21:43:50</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44046227"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                It's a simple PHP server that requires a single-table database
                (It's fairly "agnostic," but all my uses are in MySQL).
              </p>
              <p>
                I won't publish any of the servers that I've set up for my apps,
                because someone is bound to write an application that drives my
                bandwidth into the stratosphere.
              </p>
              <p>
                I could definitely take it further, but this gives me all I need
                for my purposes.
              </p>
              <p>
                Here's an app I wrote, that uses it:
                <a
                  href="https://apps.apple.com/us/app/we-are-never-alone/id6504826025"
                  >https://apps.apple.com/us/app/we-are-never-alone/id650482602...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44045292">
          <h3>
            <a class="item" href="https://fly.io/blog/litestream-revamped/"
              >Litestream: Revamped</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 19:58:27</span
              ><span class="points-container"
                >Points: <span class="points">194</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44045292"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44044459">
          <h3>
            <a
              class="item"
              href="https://github.com/wenzellabs/the_NSA_selector"
              >The NSA Selector</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 18:30:18</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44044459"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44044367">
          <h3>
            <a
              class="item"
              href="https://blog.google/products/google-one/google-ai-ultra/"
              >Google AI Ultra</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 18:20:47</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44044367"
                  >Comments</a
                ><span class="descendants">: 228</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44044306">
          <h3>
            <a class="item" href="https://www.red-lang.org/p/about.html"
              >Red Programming Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 18:14:02</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44044306"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44044199">
          <h3>
            <a
              class="item"
              href="https://developers.googleblog.com/en/introducing-gemma-3n/"
              >Gemma 3n preview: Mobile-first AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 18:03:32</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44044199"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44044043">
          <h3>
            <a
              class="item"
              href="https://blog.google/technology/ai/generative-media-models-io-2025/"
              >Veo 3 and Imagen 4, and a new tool for filmmaking called Flow</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 17:46:36</span
              ><span class="points-container"
                >Points: <span class="points">398</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44044043"
                  >Comments</a
                ><span class="descendants">: 243</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44043735">
          <h3>
            <a
              class="item"
              href="https://aeon.co/essays/how-the-last-letters-of-the-condemned-can-teach-us-how-to-live"
              >The Last Letter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 17:10:15</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44043735"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44043687">
          <h3>
            <a
              class="item"
              href="https://blog.dshr.org/2025/05/the-dawn-of-nvidias-technology.html"
              >The Dawn of Nvidia's Technology</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 17:04:00</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44043687"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44043659">
          <h3>
            <a
              class="item"
              href="https://www.ashbyhq.com/careers?utm_source=hn&amp;ashby_jid=933570bc-a3d6-4fcc-991d-dc399c53a58a"
              >Ashby (YC W19) Is Hiring Engineering Managers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 17:00:53</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44043421">
          <h3>
            <a class="item" href="https://github.com/OKUA1/juvio"
              >Show HN: Juvio – UV Kernel for Jupyter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 16:32:58</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44043421"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
            <div class="text">
              Juvio brings inline, PEP 723-style dependency management and
              automatic, ephemeral env setup to Jupyter notebooks.
            </div>
          </section>
        </section>
        <section id="44043323">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.13400"
              >Robin: A multi-agent system for automating scientific
              discovery</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 16:21:03</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44043323"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44043045">
          <h3>
            <a class="item" href="https://logdahl.net/p/gpu-driven"
              >GPU-Driven Clustered Forward Renderer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 15:57:01</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44043045"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44042791">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44042791"
              >Launch HN: Opusense (YC X25) – AI assistant for construction
              inspectors on site</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 15:35:29</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44042791"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.opusense.com/">https://www.opusense.com/</a
              >), a tool to help engineers and consultants automatically
              generate construction site reports from typed or voice notes, plus
              photos.
              <p>
                Here’s a video:
                <a href="https://www.youtube.com/watch?v=u3Pi1iih1_Y"
                  >https://www.youtube.com/watch?v=u3Pi1iih1_Y</a
                >.
              </p>
              <p>
                Before this, I (Roya) worked in human-machine interaction at
                Huawei, and before that as a construction site inspector for
                civil engineering firms. I have a PhD in Civil Engineering, and
                in my experience reporting was by far the most tedious and
                mind-numbing part of the job.
              </p>
              <p>
                You’d walk around a site all day taking short notes (maybe,
                often you'd rely on memory) and snapping photos, then go to
                three more sites before finally making it back to the office and
                try to remember everything you wanted to write. Sometimes you’d
                fill in gaps from memory or you’d keep it purposefully vague.
                Reports had to be consistent, branded, and checked by senior
                engineers. It was a huge time sink across the team.
              </p>
              <p>
                Writing reports was the worst part of the job, so we built
                Opusense to get rid of it. On-site, users type or dictate short
                notes (e.g. “rebar exposed east end of slab”), and the tool
                turns them into full sentences, paragraphs, tables, or photo
                captions in a report template that matches the firm’s format.
                You can work offline, and it syncs automatically when back
                online.
              </p>
              <p>
                Most inspection and reporting tools are built for
                checklist-style workflows (which is great for home inspections
                or punch lists), but civil, structural, environmental, or
                geotechnical engineers usually need freeform notes, not radio
                buttons.
              </p>
              <p>
                This is a particularly good fit for LLMs because engineering
                field reports live in a constrained, conventional domain:
                similar language, repeated structures, and highly standardized
                content across firms and projects. There’s a lot of redundancy
                and grunt work, summarizing the same site conditions, formatting
                repetitive data, translating field notes into polished
                paragraphs, all of which LLMs handle well with the right
                prompting and guardrails. We’re not generating arbitrary prose;
                we’re transforming structured inputs (notes, images, forms) into
                structured outputs, with firm-defined templates and required
                fields that minimize the risk of hallucination. When facts
                matter (e.g. test results or measurements), we keep them
                grounded in the user’s input, the model doesn’t invent data
                because there’s nothing for it to invent. This makes it one of
                those cases where LLMs aren’t just a novelty, they're genuinely
                the best tool for the job.
              </p>
              <p>
                Under the hood, we use a combination of prompt-engineered LLMs
                and firm-specific formatting rules to get outputs that don’t
                just sound good, but also look right. We’ve recently added
                translation features, and we’re iterating quickly based on field
                feedback. We charge per seat and are deployed at mid size firms,
                and trialing with some multinational engineering firms who have
                thousands of reports to file each week. We're also starting to
                see interest from construction managers and developers who do
                their own internal QA reporting.
              </p>
              <p>
                We don't have a self-serve way to try out the product yet,
                because the way our business works requires templates to be
                customized by company. But there’s a demo at
                <a href="https://www.youtube.com/watch?v=u3Pi1iih1_Y"
                  >https://www.youtube.com/watch?v=u3Pi1iih1_Y</a
                >, and if you want to poke around the UI yourself, here’s a
                sample account to log in with:
              </p>
              <p></p>
              <pre><code>  login: hndemo@opusense.com
  password: OpusenseHacker2025
</code></pre>
              The app is available for download on the Apple and Google Play
              stores. When sample reports are generated, you can log into the
              web interface to also view them online through our website
              (www.opusense.com) with the same login credentials.
              <p>
                We’d love to hear how others are thinking about tools for field
                work, reporting, or similar workflows (engineering,
                architectural, etc.). If you’ve built in this space, or have
                thoughts on how to improve it, we’re all ears!
              </p>
            </div>
          </section>
        </section>
        <section id="44042490">
          <h3>
            <a class="item" href="https://agent-kilo.github.io/jwno/"
              >Show HN: A Tiling Window Manager for Windows, Written in Janet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 15:08:42</span
              ><span class="points-container"
                >Points: <span class="points">189</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44042490"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
            <div class="text">
              <p>
                I read[1] about Janet[2] some time ago, then immediately got
                impressed by the enthusiasm of its community, and by the
                language itself, so I started playing with it.
              </p>
              <p>
                At the time I was searching for a tiling window manager for
                Windows, and unavoidably the idea of scratching my own itch with
                Janet got hold of me, so Jwno was born.
              </p>
              <p>
                Simply put, Jwno is a keyboard-driven tiling window manager for
                Windows, scriptable with Janet. But since it has a complete Lisp
                runtime, and a thin wrapper library for Win32 APIs[3], you can
                certainly do much more with it.
              </p>
              <p>
                I hope you'll enjoy playing with it as much as I enjoyed
                building it.
              </p>
              <p>And yes, I use StumpWM on the Linux side, by the way.</p>
              <p>
                [1]:
                <a href="https://ianthehenry.com/posts/why-janet/"
                  >https://ianthehenry.com/posts/why-janet/</a
                >
              </p>
              <p>
                [2]:
                <a href="https://janet-lang.org/">https://janet-lang.org/</a>
              </p>
              <p>
                [3]:
                <a href="https://github.com/agent-kilo/jw32"
                  >https://github.com/agent-kilo/jw32</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44042371">
          <h3>
            <a
              class="item"
              href="https://90s.dev/blog/finally-releasing-90s-dev.html"
              >Show HN: 90s.dev – Game maker that runs on the web</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 14:58:03</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44042371"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44041738">
          <h3>
            <a
              class="item"
              href="https://theahura.substack.com/p/deep-learning-is-applied-topology"
              >Deep Learning Is Applied Topology</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 13:54:54</span
              ><span class="points-container"
                >Points: <span class="points">326</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44041738"
                  >Comments</a
                ><span class="descendants">: 154</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44040419">
          <h3>
            <a class="item" href="https://mused.com/map/"
              >Show HN: Text to 3D simulation on a map (does history pretty
              well)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 11:43:55</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040419"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
            <div class="text">
              <p>
                As historian Benjamin Breen mentions, the leading language
                models are good historians, so the application will simulate
                historical events pretty well also.
              </p>
              <p>
                I include a Multi-Agent RL Urban Mobility model in progress
                displayed on the map as small white cubes representing traffic
                and pedestrians. Around SF, it uses real census data and other
                sources for semantically meaningful day plans, etc. It will
                populate where you move the map, albeit a little slowly. This is
                based on previous work on my GitHub--I hope to connect it to
                Unreal's city samples project soon.
              </p>
              <p>
                The simulations are pretty simple so far but will grow in
                complexity soon.
              </p>
              <p>
                I won the AGI House World Models Hackathon with this and the
                MARL model.
              </p>
              <p>
                Many thanks to Shota Matsuda and Garrett Johnson for the cloud
                and atmospheric effects libraries on Github at
                takram-design-engineering/three-geospatial
              </p>
              <p>Glad for feedback, and thanks for trying it out!</p>
            </div>
          </section>
        </section>
        <section id="44040332">
          <h3>
            <a class="item" href="https://deno.com/blog/greatly-exaggerated"
              >Reports of Deno's Demise Have Been Greatly Exaggerated</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 11:33:14</span
              ><span class="points-container"
                >Points: <span class="points">181</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040332"
                  >Comments</a
                ><span class="descendants">: 172</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44039864">
          <h3>
            <a
              class="item"
              href="https://artofproblemsolving.com/community/c2532359h2760821_the_emoji_problem__part_i?srsltid=AfmBOor9TbMq_A7hGHSJGfoWaa2HNzducSYZu35d_LFlCSNLXpvt-pdS"
              >The emoji problem (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 10:18:15</span
              ><span class="points-container"
                >Points: <span class="points">307</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44039864"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44039808">
          <h3>
            <a
              class="item"
              href="https://www.technologyreview.com/2025/05/20/1116327/ai-energy-usage-climate-footprint-big-tech/"
              >AI's energy footprint</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 10:07:55</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44039808"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44039744">
          <h3>
            <a class="item" href="https://bernsteinbear.com/blog/simple-search/"
              >A simple search engine from scratch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 09:58:56</span
              ><span class="points-container"
                >Points: <span class="points">234</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44039744"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44026959">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/linguists-find-proof-of-sweeping-language-pattern-once-deemed-a-hoax/"
              >Linguists find proof of sweeping language pattern once deemed a
              'hoax'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 06:23:01</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44026959"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44026703">
          <h3>
            <a
              class="item"
              href="https://moxie.org/2024/09/23/a-good-engineer.html"
              >Magic of software; what makes a good engineer also makes a good
              engineering org</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 05:26:32</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44026703"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44017098">
          <h3>
            <a
              class="item"
              href="https://www.legacy.com/us/obituaries/name/gail-wellington-obituary?id=58418580"
              >Gail Wellington, former Commodore executive, has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 21:27:40</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44017098"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44017043">
          <h3>
            <a
              class="item"
              href="https://www.cyberdemon.org/2023/07/19/bunch-of-bits.html"
              >A disk is a bunch of bits (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 21:19:36</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44017043"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44013470">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/technology/2025/05/16/google-amazon-ebooks-apps/"
              >Google is giving Amazon a leg up in digital book sales</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 11:15:52</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44013470"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44011686">
          <h3>
            <a
              class="item"
              href="https://www.lfe.pt/latex/fonts/typography/2022/11/21/latex-fonts-part1.html"
              >My favourite fonts to use with LaTeX (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 02:53:34</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44011686"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
