<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46427376">
          <h3>
            <a
              class="item"
              href="https://matklad.github.io/2025/12/28/parsing-advances.html"
              >Parsing Advances</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 23:29:35</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46427376"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46427084">
          <h3>
            <a class="item" href="https://pubs.acs.org/doi/10.1021/jacs.5c15484"
              >Lead-Free Organic–Inorganic Halobismuthate for Large
              Piezoelectric Effect</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 23:03:06</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46427084"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46426624">
          <h3>
            <a
              class="item"
              href="https://github.com/mutable-state-inc/ensue-skill"
              >Show HN: Stop Claude Code from forgetting everything</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 22:30:25</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46426624"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
            <div class="text">
              <p>
                We built a shared memory layer you can drop in as a Claude Code
                Skill. It’s basically a tiny memory DB with recall that
                remembers your sessions. Not magic. Not AGI. Just state.
              </p>
              <p>Install in Claude Code:</p>
              <p></p>
              <pre><code>  /plugin marketplace add https://github.com/mutable-state-inc/ensue-skill
  /plugin install ensue-memory
  # restart Claude Code
</code></pre>
              What it does: (1) persists context between sessions (2) semantic
              &amp; temportal search (not just string grep). Basically git for
              your Claude brain
              <p>
                What it doesn’t do: - it won’t read your mind - it’s alpha; it
                might break if you throw a couch at it
              </p>
              <p>
                Repo:
                <a href="https://github.com/mutable-state-inc/ensue-skill"
                  >https://github.com/mutable-state-inc/ensue-skill</a
                >
              </p>
              <p>
                If you try it and it sucks, tell me why so I can fix it. Don't
                be kind, tia
              </p>
            </div>
          </section>
        </section>
        <section id="46426596">
          <h3>
            <a
              class="item"
              href="https://alec.is/posts/ai-employees-dont-pay-taxes/"
              >AI Employees Don't Pay Taxes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 22:28:53</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46426596"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46426534">
          <h3>
            <a
              class="item"
              href="https://manus.im/blog/manus-joins-meta-for-next-era-of-innovation"
              >ManusAI Joins Meta</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 22:24:22</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46426534"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46425198">
          <h3>
            <a
              class="item"
              href="https://www.circusscientist.com/2025/12/29/google-is-dead-where-do-we-go-now/"
              >Google is dead. Where do we go now?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 20:29:26</span
              ><span class="points-container"
                >Points: <span class="points">434</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46425198"
                  >Comments</a
                ><span class="descendants">: 415</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424892">
          <h3>
            <a
              class="item"
              href="https://www.web3isgoinggreat.com/?id=trust-wallet-hack"
              >Binance's Trust Wallet extension hacked; users lose $7M</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 20:04:50</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424892"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424789">
          <h3>
            <a
              class="item"
              href="https://obeli.sk/blog/announcing-obelisk-0-32/"
              >Obelisk 0.32: Cancellation, WebAPI, Postgres</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 19:58:09</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424789"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424782">
          <h3>
            <a class="item" href="https://osf.io/preprints/psyarxiv/5b26t_v1"
              >Which Humans? (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 19:57:47</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424782"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424460">
          <h3>
            <a
              class="item"
              href="https://www.getflack.com/p/responding-to-negative-feedback"
              >When someone says they hate your product</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 19:30:40</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424460"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424262">
          <h3>
            <a
              class="item"
              href="https://delistedgames.com/all-delisted-steam-games/"
              >All Delisted Steam Games</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 19:16:32</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424262"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424217">
          <h3>
            <a
              class="item"
              href="https://www.boundary2.org/2019/08/sarah-t-roberts-and-mel-hogan-left-behind-futurist-fetishists-prepping-and-the-abandonment-of-earth/"
              >Left Behind: Futurist Fetishists, Prepping and the Abandonment of
              Earth (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 19:12:27</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424217"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46424200">
          <h3>
            <a
              class="item"
              href="https://bits.logic.inc/p/ai-is-forcing-us-to-write-good-code"
              >AI is forcing us to write good code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 19:11:26</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46424200"
                  >Comments</a
                ><span class="descendants">: 70</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46423566">
          <h3>
            <a class="item" href="https://cuiiliste.de/domains"
              >List of domains censored by German ISPs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 18:21:30</span
              ><span class="points-container"
                >Points: <span class="points">280</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46423566"
                  >Comments</a
                ><span class="descendants">: 111</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46423521">
          <h3>
            <a
              class="item"
              href="https://gaultier.github.io/blog/the_production_bug_that_made_me_care_about_undefined_behavior.html"
              >A production bug that made me care about undefined behavior</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 18:17:29</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46423521"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46423010">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/legal/transactional/nvidia-takes-5-billion-stake-intel-under-september-agreement-2025-12-29/"
              >Nvidia takes $5B stake in Intel under September agreement</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 17:32:08</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46423010"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46422412">
          <h3>
            <a
              class="item"
              href="https://www.gog.com/blog/gog-is-getting-acquired-by-its-original-co-founder-what-it-means-for-you/"
              >GOG is getting acquired by its original co-founder</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 16:43:14</span
              ><span class="points-container"
                >Points: <span class="points">512</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46422412"
                  >Comments</a
                ><span class="descendants">: 281</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46422009">
          <h3>
            <a
              class="item"
              href="https://nickmonad.blog/2025/static-allocation-with-zig-kv/"
              >Static Allocation with Zig</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 16:07:27</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46422009"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46420672">
          <h3>
            <a class="item" href="https://github.com/drpaneas/libgodc"
              >Libgodc: Write Go Programs for Sega Dreamcast</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 13:43:29</span
              ><span class="points-container"
                >Points: <span class="points">203</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46420672"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46419970">
          <h3>
            <a
              class="item"
              href="https://www.theocharis.dev/blog/kidnapped-by-deutsche-bahn/"
              >Kidnapped by Deutsche Bahn</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 12:24:00</span
              ><span class="points-container"
                >Points: <span class="points">915</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46419970"
                  >Comments</a
                ><span class="descendants">: 829</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46419968">
          <h3>
            <a class="item" href="https://linuxdaw.org/"
              >Linux DAW: Help Linux musicians to quickly and easily find the
              tools they need</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 12:23:49</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46419968"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46418415">
          <h3>
            <a
              class="item"
              href="https://www.seangoedecke.com/you-cant-design-software-you-dont-work-on/"
              >You can't design software you don't work on</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-29 @ 07:54:19</span
              ><span class="points-container"
                >Points: <span class="points">237</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46418415"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46401982">
          <h3>
            <a
              class="item"
              href="https://ohadravid.github.io/posts/2025-12-rav1d-faster-asm/"
              >Why is calling my asm function from Rust slower than calling it
              from C?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-27 @ 14:13:58</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46401982"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46401052">
          <h3>
            <a
              class="item"
              href="https://www.brendangregg.com/blog/2017-02-06/flamegraphs-vs-treemaps-vs-sunburst.html"
              >Flame Graphs vs Tree Maps vs Sunburst (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-27 @ 11:30:40</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46401052"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46395714">
          <h3>
            <a
              class="item"
              href="https://twitter.com/karpathy/status/2004607146781278521"
              >Karpathy on Programming: "I've never felt this much behind"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-26 @ 20:12:09</span
              ><span class="points-container"
                >Points: <span class="points">279</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46395714"
                  >Comments</a
                ><span class="descendants">: 294</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46387028">
          <h3>
            <a class="item" href="https://intelligencegame.tech/"
              >Intelligence – A Mystery Investigation Game</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 21:03:28</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46387028"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46386878">
          <h3>
            <a class="item" href="https://github.com/Sakura-sx/Aroma"
              >Show HN: Aroma: Every TCP Proxy Is Detectable with RTT
              Fingerprinting</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 20:34:59</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46386878"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://github.com/Sakura-sx/Aroma?tab=readme-ov-file#tldr-explanation"
                >https://github.com/Sakura-sx/Aroma?tab=readme-ov-file#tldr-e...</a
              >
              if you want the formatted version)
              <p>
                This is done by measuring the minimum TCP RTT
                (client.socket.tcpi_min_rtt) seen and the smoothed TCP RTT
                (client.socket.tcpi_rtt). I am getting this data by using Fastly
                Custom VCL, they get this data from the Linux kernel (struct
                tcp_info -&gt; tcpi_min_rtt and tcpi_rtt). I am using Fastly for
                the Demo since they have PoPs all around the world and they
                expose TCP socket data to me.
              </p>
              <p>
                The score is calculated by doing tcpi_min_rtt/tcpi_rtt. It's
                simple but it's what worked best for this with the data Fastly
                gives me. Based on my testing, 1-0.7 is normal, 0.7-0.3 is
                normal if the connection is somewhat unstable (WiFi, mobile
                data, satellite...), 0.3-0.1 is low and may be a proxy, anything
                lower than 0.1 is flagged as TCP proxy by the current code.
              </p>
            </div>
          </section>
        </section>
        <section id="46371120">
          <h3>
            <a
              class="item"
              href="https://github.com/Cranot/grouped-simd-hashtable"
              >High-performance C++ hash table using grouped SIMD metadata
              scanning</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 00:27:27</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46371120"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46370446">
          <h3>
            <a
              class="item"
              href="https://matklad.github.io/2025/12/23/static-allocation-compilers.html"
              >Static Allocation for Compilers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-23 @ 22:53:51</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46370446"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46368739">
          <h3>
            <a class="item" href="https://superset.sh/"
              >Show HN: Superset – Terminal to run 10 parallel coding agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-23 @ 19:52:30</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46368739"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
            <div class="text">
              <p>
                - Superset makes it easy to spin up git worktrees and
                automatically setup your environment
              </p>
              <p>
                - Agents and terminal tabs are isolated to worktrees, preventing
                conflicts
              </p>
              <p>
                - Built-in hooks [0] to notify when your coding agents are
                done/needs attention,
              </p>
              <p>- A diff viewer to review the changes and make PRs quickly</p>
              <p>
                We’re three engineers who’ve built and maintained large
                codebases, and kept wanting to work on as many features in
                parallel as possible. Git worktrees [1] have been a useful
                solution for this task but they’re annoying to spin up and
                manage. We started superset as a tool that uses the best
                practices we’ve discovered running parallel agents.
              </p>
              <p>Here is a demo video:</p>
              <p>
                <a href="https://www.youtube.com/watch?v=pHJhKFX2S-4"
                  >https://www.youtube.com/watch?v=pHJhKFX2S-4</a
                >
              </p>
              <p>
                We all use Superset to build Superset, and it more than doubles
                our productivity (you’ll be able to tell from the autoupdates).
                We have many friends using it over their IDE of choice or
                replacing their terminals with Superset, and it seems to stick
                because they can keep using whatever CLI agent or tool they want
                while Superset just augments their existing set of tools.
              </p>
              <p>
                Superset is written predominantly in Typescript and based on
                Electron, xterm.js, and node-pty. We chose xterm+node-pty
                because it's a proven way to run real PTYs in a desktop app
                (used by VSCode and Hyper), and Electron lets us ship fast.
                Next, we’re exploring features like running worktrees in cloud
                VMs to offload local resources, context sharing between agents,
                and a top-level orchestration agent for managing many worktrees
                or projects at once.
              </p>
              <p>
                We’ve learned a lot building this: making a good terminal is
                more complex than you’d think, and terminal and git defaults
                aren’t universal (svn vs git, weird shell setups, complex
                monorepos, etc.).
              </p>
              <p>
                Building a product for yourself is way faster and quite fun.
                It's early days, but we’d love you to try Superset across all
                your CLI tools and environments, we welcome your feedback! :)
              </p>
              <p>
                [0]
                <a href="https://code.claude.com/docs/en/hooks"
                  >https://code.claude.com/docs/en/hooks</a
                >
              </p>
              <p>
                [1]
                <a href="https://git-scm.com/docs/git-worktree"
                  >https://git-scm.com/docs/git-worktree</a
                >
              </p>
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
