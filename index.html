<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41249504">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2024/08/isps-ask-supreme-court-to-kill-new-york-law-that-requires-15-broadband-plans/"
              >ISPs worry that killing FCC net neutrality rules will come back
              to haunt them</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 19:13:44</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41249504"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41249080">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/My_Trial_as_a_War_Criminal"
              >My Trial as a War Criminal (By Leo Szilard, Inventor of Nuclear
              Chain Reaction)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 18:29:40</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41249080"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41248542">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41248542"
              >Tell HN: Server error (5xx) in Google Search Console may not be
              5xx at all</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 17:36:47</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41248542"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <a href="https://next-episode.net">https://next-episode.net</a>
              and recently (a few months ago) - I noticed it started getting
              pages not indexed because of “Server error (5xx)” in Google Search
              Console (GSC):
              <p>
                <a href="https://next-episode.net/img/upload/5xx.png"
                  >https://next-episode.net/img/upload/5xx.png</a
                >
              </p>
              <p>
                On the website everything looked good and all reported links
                worked fine.
              </p>
              <p>
                I tried validating these errors at GSC as fixed, but it would
                always report back that the issue is still present and new links
                would keep popping up to have 5xx errors (as seen on the
                screenshot).
              </p>
              <p>
                This was worrisome because it indicated there was some kind of
                an issue I wasn’t aware of that may be affecting not only
                Google’s crawlers, but my users as well.
              </p>
              <p>
                I did what everyone would do - checked my server, Cloudflare and
                analytics logs for anything suspicious and placed some
                additional logging to try and catch what was happening.
              </p>
              <p>
                This turned out nothing - as far as I could tell - no requests
                returned any 5xx errors, so I decided it’s just a weird Google
                quirk and ignored it for a while.
              </p>
              <p>
                With time though, Google kept reporting these problems and the
                count of 5xx URLs only grew larger so once again (about 2 weeks
                ago) I started investigating what was happening.
              </p>
              <p>
                This time around, I tried to match the URLs reported by GSC with
                the analytics provided by Cloudflare and bingo - I found that
                all these requests had the Edge Status Code (and Origin Status
                Code) of “429 Too Many Requests”.
              </p>
              <p>Now that was progress.</p>
              <p>
                There is only one thing on my service that would return this
                status code and is my custom rate limiting which would be
                triggered if you do more than 30 requests in less than 10
                seconds.
              </p>
              <p>
                What changed so that Google suddenly decided to crawl so
                aggressively and hit that limit (something that never happened
                before, and Next Episode is online for more than 19 years now!)
                and why it’s reporting them 5xx in GSC when my server clearly
                returns 429 - I don’t know.
              </p>
              <p>
                What I do know for sure is that Google is misreporting 429
                server status as 5xx.
              </p>
              <p>
                To fix this (at least as a quick fix for now) - I whitelisted in
                my rate limiter all Google Crawlers’ IPs (which I found through
                here:
                <a
                  href="https://www.infidigit.com/blog/google-update-googlebots-ip-addresses/"
                  >https://www.infidigit.com/blog/google-update-googlebots-ip-a...</a
                >
                ) - listed in this JSON provided by Google:
                <a
                  href="https://developers.google.com/search/apis/ipranges/googlebot.json"
                  >https://developers.google.com/search/apis/ipranges/googlebot...</a
                >
              </p>
              <p>
                For just in case, I also passed on the ASN in the request header
                (through a Cloudflare transform rule) and whitelisted the whole
                Google ASN (15169) as well.
              </p>
              <p>
                After - I monitored for new 5xx errors popping up in GSC and new
                429 statuses logged in Cloudflare from Google’s ASN and so far
                (for more than 2 weeks) - so good.
              </p>
            </div>
          </section>
        </section>
        <section id="41248438">
          <h3>
            <a
              class="item"
              href="https://www.chinatalk.media/p/why-moutai-is-investing-in-semiconductors"
              >Baijiu Meets Binary: Why Moutai is Investing in Semiconductors</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 17:27:04</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41248438"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41248260">
          <h3>
            <a
              class="item"
              href="http://numberworld.org/blogs/2024_8_7_zen5_avx512_teardown/"
              >Zen5's AVX512 Teardown and More (Without Redacted Content)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 17:08:48</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41248260"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41248208">
          <h3>
            <a
              class="item"
              href="https://jobs.ashbyhq.com/cointracker/83a181d0-f08c-44ff-8b8c-e0ad3b7a89a1?utm_source=hackernews"
              >CoinTracker (YC W18) Is Hiring a Consumer Product Lead</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 17:00:54</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41248104">
          <h3>
            <a
              class="item"
              href="https://www.troyhunt.com/inside-the-3-billion-people-national-public-data-breach/"
              >Inside the "3 billion people" national public data breach</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 16:50:31</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41248104"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247982">
          <h3>
            <a
              class="item"
              href="https://davekiss.com/blog/how-i-won-2750-using-javascript-ai-and-a-can-of-wd-40"
              >How I won $2,750 using JavaScript, AI, and a can of WD-40</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 16:35:52</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247982"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247881">
          <h3>
            <a
              class="item"
              href="https://www.noemamag.com/making-food-out-of-thin-air/"
              >Making 'food out of thin air'</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 16:25:39</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247881"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247841">
          <h3>
            <a
              class="item"
              href="https://epmonthly.com/article/not-heroes-wear-capes-one-las-vegas-ed-saved-hundreds-lives-worst-mass-shooting-u-s-history/"
              >How one ED mobilized his department during a mass casualty
              incident (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 16:22:40</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247841"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247238">
          <h3>
            <a class="item" href="https://ianthehenry.com/posts/peggi/"
              >A different kind of keyboard (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 15:30:46</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247238"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247211">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41247211"
              >Launch HN: Promi (YC S24) – AI-powered ecommerce discounts</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 15:28:43</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247211"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.usepromi.com">https://www.usepromi.com</a>).
              Promi uses AI to optimize retail ecommerce discounts across
              products and customers (think new customer discounts, clearance
              sales, holiday sales, etc.).
              <p>
                Here’s a quick video overview:
                <a href="https://www.youtube.com/watch?v=SHTw9VH8bCw"
                  >https://www.youtube.com/watch?v=SHTw9VH8bCw</a
                >
              </p>
              <p>
                Discounts have traditionally been a bit of the ‘wild west’ of
                pricing. Optimization techniques at even the largest merchants
                are heavily manual. Product level discounting decisions are
                distributed among operations or category managers, and
                store-wide discounts are often set by marketers. Typically they
                rely on order history, look at competitor discounts, or find
                prior discount performance to inform their decision. But there’s
                not a lot of science behind choosing the discount, and teams
                don’t have the time or means to optimize it at a granular level
                - i.e. by product or customer groups.
              </p>
              <p>
                We believe AI can better solve this problem by setting the most
                appropriate discount value, varying that discount across
                products, and personalizing that discount across users in order
                to achieve various goals. AI models can leverage more data (e.g.
                item conversion rate, profit margin, customer referral URL,
                device type) and update more frequently than is realistically
                possible to do manually.
              </p>
              <p>
                Our approach will also allow us to generate discounts for
                relatively small merchants. We use models (layering traditional
                NLP models and custom LLMs) to build a large-scale knowledge
                graph to gather similar products across merchants in order to
                build profiles around different clusters of products. Those
                profiles help us build solutions catering towards subscale shops
                which traditionally do not have an optimal pricing strategy.
              </p>
              <p>
                Our first AI product focuses on liquidating inventory, and uses
                a store’s historic transaction and sales data to jump start
                training our model and generating discounts. Our model predicts
                the discount required to increase conversion rate by the proper
                amount to liquidate the inventory by the desired timeframe. We
                then monitor the conversion rate and (if we have statistical
                significance) make frequent adjustments as needed.
              </p>
              <p>
                We’ve got a full roadmap of new model approaches, including
                personalization and new objective functions (e.g. profit instead
                of liquidation) to fit more discount use cases.
              </p>
              <p>
                How we got here: Jiaxin and I are coming from Uber, where I led
                product for the discount team across Eats and Rides. We launched
                several analogous AI features at Uber and saw just how impactful
                they can be for structuring discounts. For example, we had
                issues with deploying our ML models for automated discounts in
                smaller markets because of the quantity of data required to
                train those models. We pivoted to a 'global model' that used
                data across countries to significantly reduce the amount of data
                required in any one country. That model performed even better
                than country-specific models, showing us that there were very
                reproduce-able trends in improving discount performance.
              </p>
              <p>
                If you run or know someone who runs a Shopify store, you can
                download and play around with our app here:
                <a href="https://apps.shopify.com/promi-discounts"
                  >https://apps.shopify.com/promi-discounts</a
                >
              </p>
              <p>
                We’d love feedback, thoughts on other use cases for discounts +
                AI, questions, etc. Looking forward to hearing from the
                community!
              </p>
            </div>
          </section>
        </section>
        <section id="41247193">
          <h3>
            <a
              class="item"
              href="https://utcc.utoronto.ca/~cks/space/blog/sysadmin/OpenSSHPerSourcePenaltiesThings"
              >Some thoughts on OpenSSH 9.8's PerSourcePenalties feature</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 15:27:01</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247193"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247153">
          <h3>
            <a
              class="item"
              href="https://blog.plover.com/calendar/poor-richards-almanack.html"
              >Poor Richard's Almanack</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 15:22:54</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247153"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247132">
          <h3>
            <a
              class="item"
              href="https://literaryreview.co.uk/journeys-into-the-interior"
              >Hilary Mantel Reviews “A Life of One's Own/An Experiment in
              Leisure” (1986)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 15:21:08</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247132"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41247023">
          <h3>
            <a class="item" href="https://ytch.xyz"
              >Show HN: If YouTube had actual channels</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 15:10:06</span
              ><span class="points-container"
                >Points: <span class="points">1107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41247023"
                  >Comments</a
                ><span class="descendants">: 283</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41246686">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41246686"
              >Show HN: Double – Design and invest in your own stock index</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 14:42:43</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41246686"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <a href="https://double.finance">https://double.finance</a>). Over
              the past few months we’ve been working on an investing app that
              lets anyone design and invest in their own stock index.
              <p>
                Start by picking one or more strategies. You can find 20+
                starting points in Double that vary from direct index versions
                of classic ETFs (like SPY) to strategies focused on specific
                industries, market trends, or themes (like YC public companies).
                You can also easily build your own grouping of stocks, and tilt
                your strategy towards or away from certain stocks or sectors.
              </p>
              <p>
                Once you’ve chosen your portfolio, we run a daily portfolio
                optimization to determine what trades to make, which considers
                taxes, trading costs, drift and holding costs[1]. If your
                account is sufficiently diversified, we enable Tax Loss
                Harvesting as well to capture losses that can help offset
                capital gains[2]. Finally you can move between strategies either
                all at once or over time[3].
              </p>
              <p>
                JJ started work on this after selling his last company, making
                some money, and growing really frustrated at the quality of the
                portfolio tools available to retail investors. Financial
                advisors have tools for direct indexing, tax loss harvesting and
                dollar cost averaging, but they generally charge upwards of 1% a
                year in AUM fees. Things like Parametric[4] and Canvas[5] have
                succeeded, but are only accessible through advisors. We wanted
                to build these kinda advanced portfolio tools for ourselves
                without any AUM fees.
              </p>
              <p>
                Some common use cases we’ve found are diversifying away from a
                large RSU position or migrating between risk on and risk off
                strategies over time. You can also easily allocate a percent of
                your portfolio to specific baskets of stocks.
              </p>
              <p>
                Let us know what you think! Feel free to email us at
                founders@double.finance as well
              </p>
              <p>
                [1] More info about our optimizer here
                <a
                  href="https://help.double.finance/en/articles/9718142-portfolio-optimization"
                  >https://help.double.finance/en/articles/9718142-portfolio-op...</a
                >
              </p>
              <p>
                [2] More info about out direct indexing tax loss harvesting here
                <a
                  href="https://help.double.finance/en/articles/9718959-direct-indexing-tax-loss-harvesting"
                  >https://help.double.finance/en/articles/9718959-direct-index...</a
                >
              </p>
              <p>
                [3] More info about out dollar cost averaging here
                <a
                  href="https://help.double.finance/en/articles/9718389-dollar-cost-averaging"
                  >https://help.double.finance/en/articles/9718389-dollar-cost-...</a
                >
              </p>
              <p>
                [4]
                <a href="https://www.parametricportfolio.com/"
                  >https://www.parametricportfolio.com/</a
                >
              </p>
              <p>
                [5]
                <a href="https://canvas.osam.com/">https://canvas.osam.com/</a>
              </p>
            </div>
          </section>
        </section>
        <section id="41246211">
          <h3>
            <a class="item" href="https://github.com/sdushantha/tmpmail"
              >Tmpmail: Temporary email right from your terminal written in
              POSIX sh</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 14:03:42</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41246211"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41246181">
          <h3>
            <a class="item" href="https://github.com/project-oak/oak"
              >Project Oak: Meaningful control of data in distributed systems</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 14:00:55</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41246181"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41246050">
          <h3>
            <a
              class="item"
              href="https://www.texasattorneygeneral.gov/sites/default/files/images/press/General%20Motors%20Data%20Privacy%20Petition%20Filed.pdf"
              >Texas sues GM for unlaw­ful­ly collecting and selling dri­vers'
              pri­vate data [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 13:50:26</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41246050"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41245901">
          <h3>
            <a
              class="item"
              href="https://medium.com/@polyglot_factotum/re-fixing-servos-event-loop-e00bdf267385"
              >Re-fixing Servo's event-loop</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 13:36:40</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41245901"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41244847">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/of-modes-and-men"
              >Larry Tesler pioneered cut-and-paste, the one-button mouse,
              WYSIWIG (2005)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 11:22:29</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41244847"
                  >Comments</a
                ><span class="descendants">: 119</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41244468">
          <h3>
            <a class="item" href="https://syndicate-lang.org/about/"
              >The Syndicated Actor Model</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 10:12:04</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41244468"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41244423">
          <h3>
            <a class="item" href="https://github.com/zuplo/rate-my-openapi"
              >Show HN: We made a tool to help developers improve OpenAPI
              specs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 10:03:32</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41244423"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <p>
                So we built a suite of tools to help with this called Rate My
                OpenAPI. It will score your OpenAPI document out of 100, as well
                as giving you individual scores in 4 key areas; completeness,
                SDK generation, security and documentation.
              </p>
              <p>
                Along with the score, you also get details of what the issues,
                or errors are, as well as guidance on what they actually mean
                and why they're important.
              </p>
              <p>
                We exposed the API for it using Zuplo, and then built a CLI, and
                a GitHub Action on top of that so that you can add Rate My
                OpenAPI into your workflow however you like.
              </p>
              <p>
                You can check it out and use all of this right now, for free.
                I've already found it extremely useful and I hope you do to.
              </p>
              <p>Feedback is absolutely welcome!</p>
            </div>
          </section>
        </section>
        <section id="41241942">
          <h3>
            <a class="item" href="https://leanrada.com/notes/sweep-and-prune/"
              >Sort, sweep, and prune: Collision detection algorithms (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-14 @ 02:19:17</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41241942"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41240556">
          <h3>
            <a class="item" href="https://github.com/dougdonohoe/ddpoker"
              >Show HN: I've open sourced DD Poker</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 22:34:00</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41240556"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
            <div class="text">
              <p>
                I shut down the backend servers in 2017 but the game is still
                functional and people can still play each other online even
                though the central lobby and find-a-game functionality no longer
                work.
              </p>
              <p>
                I've been asked over the years to release the source code,
                especially during the pandemic, and again this year. I finally
                got motivated to clean up the code and put it out there.
              </p>
              <p>
                The code is 20 years old and uses some ancient Spring, log4j,
                Wicket and other dependencies, but it still works on Java 1.8.
              </p>
            </div>
          </section>
        </section>
        <section id="41236718">
          <h3>
            <a
              class="item"
              href="https://newscenter.lbl.gov/2024/08/12/dune-scientists-observe-first-neutrinos-with-prototype-detector-at-fermilab/"
              >DUNE scientists observe first neutrinos with prototype detector
              at Fermilab</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 16:02:57</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41236718"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41235662">
          <h3>
            <a
              class="item"
              href="https://jdstillwater.blogspot.com/2012/05/i-put-toaster-in-dishwasher.html"
              >I put a toaster in the dishwasher (2012)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-13 @ 14:11:36</span
              ><span class="points-container"
                >Points: <span class="points">215</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41235662"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41224128">
          <h3>
            <a
              class="item"
              href="https://blog.yossarian.net/2024/08/12/Approximating-sum-types-in-Python-with-Pydantic"
              >Approximating sum types in Python with Pydantic</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-12 @ 13:27:39</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41224128"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41222528">
          <h3>
            <a
              class="item"
              href="https://abuseofnotation.github.io/category-theory-illustrated/02_category/"
              >From Sets to Categories (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-08-12 @ 09:01:28</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41222528"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
