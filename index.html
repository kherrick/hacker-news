<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45751400">
          <h3>
            <a class="item" href="https://emily.space/posts/251023-uv"
              >Uv is the best thing to happen to the Python ecosystem in a
              decade</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:57:29</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45751400"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45751339">
          <h3>
            <a class="item" href="https://github.com/agentflare-ai/sqlite-graph"
              >Show HN: SQLite Graph – Graph database with Cypher queries
              (alpha, but working)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:52:46</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45751339"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>Here's what it looks like:</p>
              <p></p>
              <pre><code>    import sqlite3
    conn = sqlite3.connect(":memory:")
    conn.load_extension("./libgraph.so")
    
    conn.execute("CREATE VIRTUAL TABLE graph USING graph()")
    
    # Create a social network
    conn.execute("""SELECT cypher_execute('
        CREATE (alice:Person {name: "Alice", age: 30}),
               (bob:Person {name: "Bob", age: 25}),
               (alice)-[:KNOWS {since: 2020}]-&gt;(bob)
    ')""")
    
    # Query the graph with relationship patterns
    conn.execute("""SELECT cypher_execute('
        MATCH (a:Person)-[r:KNOWS]-&gt;(b:Person) 
        WHERE a.age &gt; 25 
        RETURN a, r, b
    ')""")
</code></pre>
              The interesting part was building the complete execution pipeline
              - lexer, parser, logical planner, physical planner, and an
              iterator-based executor using the Volcano model. All in C99 with
              no dependencies beyond SQLite.
              <p>
                What works now: - Full CREATE: nodes, relationships, properties,
                chained patterns (70/70 openCypher TCK tests) - MATCH with
                relationship patterns: (a)-[r:TYPE]-&gt;(b) with label and type
                filtering - WHERE clause: property comparisons on nodes (=,
                &gt;, &lt;, &gt;=, &lt;=, &lt;&gt;) - RETURN: basic projection
                with JSON serialization - Virtual table integration for mixing
                SQL and Cypher
              </p>
              <p>
                Performance: - 340K nodes/sec inserts (consistent to 1M nodes) -
                390K edges/sec for relationships - 180K nodes/sec scans with
                WHERE filtering
              </p>
              <p>
                Current limitations (alpha): - Only forward relationships (no
                `&lt;-[r]-` or bidirectional `-[r]-`) - No relationship property
                filtering in WHERE (e.g., `WHERE r.weight &gt; 5`) - No
                variable-length paths yet (e.g., `[r*1..3]`) - No aggregations,
                ORDER BY, property projection in RETURN - Must use double quotes
                for strings: {name: "Alice"} not {name: 'Alice'}
              </p>
              <p>
                This is alpha - API may change. But core graph query patterns
                work! The execution pipeline handles CREATE/MATCH/WHERE/RETURN
                end-to-end.
              </p>
              <p>
                Next up: bidirectional relationships, property projection,
                aggregations. Roadmap targets full Cypher support by Q1 2026.
              </p>
              <p>
                Built as part of Agentflare AI, but it's standalone and MIT
                licensed. Would love feedback on what to prioritize.
              </p>
              <p>
                GitHub:
                <a href="https://github.com/agentflare-ai/sqlite-graph"
                  >https://github.com/agentflare-ai/sqlite-graph</a
                >
              </p>
              <p>Happy to answer questions about the implementation!</p>
            </div>
          </section>
        </section>
        <section id="45750995">
          <h3>
            <a class="item" href="https://extropic.ai/"
              >Extropic is building thermodynamic computing hardware</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:25:01</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750995"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750954">
          <h3>
            <a
              class="item"
              href="https://visualrambling.space/dithering-part-1/"
              >Dithering – Part 1</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:21:35</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750954"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750875">
          <h3>
            <a
              class="item"
              href="https://www.icann.org/en/blogs/details/the-internet-runs-on-free-and-open-source-softwareand-so-does-the-dns-23-10-2025-en"
              >The Internet Runs on Free and Open Source Software–and So Does
              the DNS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 18:16:07</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750875"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750501">
          <h3>
            <a
              class="item"
              href="https://www-user.tu-chemnitz.de/~heha/hs/chm/x86.chm/x86.htm"
              >Encoding x86 Instructions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:50:21</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750501"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45750425">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/tech/ai/openais-promise-to-stay-in-california-helped-clear-the-path-for-its-ipo-3af1c31c"
              >OpenAI’s promise to stay in California helped clear the path for
              its IPO</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:44:34</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45750425"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.ph/NCZhi">https://archive.ph/NCZhi</a>
            </div>
          </section>
        </section>
        <section id="45749935">
          <h3>
            <a
              class="item"
              href="https://erikschluntz.com/hardware/2025/10/26/robot-dog.html"
              >Building a Robot Dog (with an airsoft gun)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:15:33</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749935"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749763">
          <h3>
            <a class="item" href="https://www.relace.ai/blog/relace-apply-3"
              >A Year of Fast Apply – Our Path to 10k Tokens per Second</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:04:48</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749763"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749746">
          <h3>
            <a class="item" href="https://go.dev/blog/greenteagc"
              >The Green Tea Garbage Collector</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:03:51</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749746"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749690">
          <h3>
            <a class="item" href="https://www.upwave.com/job/8228849002/"
              >Does brand advertising work? Upwave (YC S12) is hiring engineers
              to answer that</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 17:00:15</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749161">
          <h3>
            <a
              class="item"
              href="https://www.axios.com/2025/10/29/aol-bending-spoons-deal"
              >AOL to be sold to Bending Spoons for $1.5B</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:28:56</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749161"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45749017">
          <h3>
            <a class="item" href="https://tailscale.com/blog/peer-relays-beta"
              >Tailscale Peer Relays</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:21:36</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45749017"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748879">
          <h3>
            <a
              class="item"
              href="https://www.minecraft.net/en-us/article/removing-obfuscation-in-java-edition"
              >Minecraft removing obfuscation in Java Edition</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:12:56</span
              ><span class="points-container"
                >Points: <span class="points">267</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748879"
                  >Comments</a
                ><span class="descendants">: 100</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748725">
          <h3>
            <a class="item" href="https://cursor.com/blog/composer"
              >Composer: Building a fast frontier model with RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:04:33</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748725"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748661">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45748661"
              >Tell HN: Azure outage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 16:01:18</span
              ><span class="points-container"
                >Points: <span class="points">391</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748661"
                  >Comments</a
                ><span class="descendants">: 443</span></span
              >
            </h4>
            <div class="text">
              <p>
                <a href="https://downdetector.ca/status/windows-azure/"
                  >https://downdetector.ca/status/windows-azure/</a
                >
              </p>
              <p>
                <a href="https://azure.status.microsoft/en-gb/status"
                  >https://azure.status.microsoft/en-gb/status</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45748195">
          <h3>
            <a
              class="item"
              href="https://www.economist.com/finance-and-economics/2025/10/27/the-end-of-the-rip-off-economy"
              >The end of the rip-off economy: consumers use LLMs against
              information asymmetry</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 15:32:46</span
              ><span class="points-container"
                >Points: <span class="points">166</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748195"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45748186">
          <h3>
            <a
              class="item"
              href="https://phiresky.github.io/blog/2021/hosting-sqlite-databases-on-github-pages/"
              >Hosting SQLite Databases on GitHub Pages (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 15:32:11</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45748186"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45747804">
          <h3>
            <a
              class="item"
              href="https://www.ccc.de/en/disclosure/collins-aerospace-mit-test-test-textnachrichten-bis-ins-cockpit-senden"
              >Collins Aerospace: Sending text messages to the cockpit with
              test:test</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 15:07:20</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45747804"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45747112">
          <h3>
            <a
              class="item"
              href="https://www.atomic14.com/2025/10/29/CH32V003-talking"
              >I made a 10¢ MCU Talk</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 14:12:50</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45747112"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45746844">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/10/29/technology/characterai-underage-users.html"
              >Character.ai to bar children under 18 from using its chatbots</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 13:52:31</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45746844"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.ph/fhVEV">https://archive.ph/fhVEV</a>
            </div>
          </section>
        </section>
        <section id="45746478">
          <h3>
            <a
              class="item"
              href="https://ergaster.org/posts/2025/10/29-vscode-to-helix/"
              >From VS Code to Helix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 13:19:30</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45746478"
                  >Comments</a
                ><span class="descendants">: 100</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45746020">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=mdOxIc0HM04"
              >Zig's New Async I/O [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 12:35:12</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45746020"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45742488">
          <h3>
            <a class="item" href="http://keepandroidopen.org/"
              >Keep Android Open</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 04:03:41</span
              ><span class="points-container"
                >Points: <span class="points">2180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45742488"
                  >Comments</a
                ><span class="descendants">: 659</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45734429">
          <h3>
            <a class="item" href="https://sturdystatistics.com/deepdive-search"
              >Show HN: Research Hacker News, ArXiv &amp;amp; Google with
              Hierarchical Bayesian Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 15:49:51</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45734429"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <p>
                My literature review process starts with a broad search to find
                a few key papers/groups, and from there expands along their
                citation networks. I needed to conduct a few rounds of
                literature reviews during the course of my research and decided
                to build a tool to facilitate this process. The tool started as
                an experimental wrapper over low-level statistical software in
                C, quickly became a testing/iteration ground for our api, and is
                now my personal go-to for lit reviews.
              </p>
              <p>
                The tool organizes corpuses of text content, visualizes the high
                level themes, and enables me to pull up relevant excerpts.
                Unlike LLMs, this model transparently organizes the data and can
                train from scratch quickly on small datasets to learn custom
                hierarchical taxonomies. My favorite part of the tool is the
                citation network integration: any research paper it pulls up has
                a button “Citation Network Deep Dive” that pulls every paper
                that cites or is cited by the original paper, and organizes it
                for further exploration.
              </p>
              <p>
                I initially built this tool for academic research, but ended up
                extending it to support Hacker News to mine technical
                conversation, the top 200 Google results, and earnings
                transcripts. We have a gallery of ready to explore results on
                the homepage. If you are kicking off a custom deep dive, it
                takes about 1-5 minutes for academic search, 3-7 minutes for
                Hacker News, and 5-10 minutes for Google. To demonstrate the
                process, I put together a video walkthrough of a short
                literature review I conducted on AI hallucinations:
                <a href="https://www.youtube.com/watch?v=OUmDPAcK6Ns"
                  >https://www.youtube.com/watch?v=OUmDPAcK6Ns</a
                >
              </p>
              <p>
                I host this tool on my company’s website, free for personal use.
                I’d love to know if the HN community finds it useful (or to hear
                what breaks)!
              </p>
            </div>
          </section>
        </section>
        <section id="45710981">
          <h3>
            <a class="item" href="https://samcurry.net/hacking-clubwpt-gold"
              >Hacking the World Poker Tour: Inside ClubWPT Gold's Back
              Office</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-26 @ 11:48:12</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45710981"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45702397">
          <h3>
            <a
              class="item"
              href="https://www.anildash.com//2025/10/22/atlas-anti-web-browser/"
              >ChatGPT's Atlas: The Browser That's Anti-Web</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-25 @ 09:08:26</span
              ><span class="points-container"
                >Points: <span class="points">721</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45702397"
                  >Comments</a
                ><span class="descendants">: 297</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45701803">
          <h3>
            <a
              class="item"
              href="https://indico.cern.ch/event/694811/contributions/2863859/attachments/1595533/2526938/2018_02_06_FCCee_MDI_workshop_Serluca.pdf"
              >Vibration Analysis and Control in Particle Accelerator 2018
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-25 @ 06:44:02</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45701803"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45697234">
          <h3>
            <a
              class="item"
              href="https://sbcwiki.com/news/articles/state-of-embedded-q4-25/"
              >Beyond RaspberryPi: What are all the other SoC vendors up to
              *summarised*</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-24 @ 17:52:20</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45697234"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45671677">
          <h3>
            <a
              class="item"
              href="https://med.stanford.edu/news/all-news/2025/10/eye-prosthesis.html"
              >Eye prosthesis is the first to restore sight lost to macular
              degeneration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-22 @ 16:36:25</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45671677"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
