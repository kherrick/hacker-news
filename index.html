<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44574990">
          <h3>
            <a
              class="item"
              href="https://cartesia.ai/blog/hierarchical-modeling"
              >Hierarchical Modeling (H-Nets)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 19:35:15</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574990"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44574905">
          <h3>
            <a class="item" href="https://aethermug.com/posts/human-stigmergy"
              >Human Stigmergy: The world is my task list</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 19:27:19</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574905"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44574815">
          <h3>
            <a
              class="item"
              href="https://helix-editor.com/news/release-25-07-highlights/"
              >Helix Editor Release 25.07 Highlights</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 19:16:59</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574815"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44574786">
          <h3>
            <a class="item" href="https://underwriting-superintelligence.com/"
              >Underwriting Superintelligence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 19:13:42</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574786"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44574506">
          <h3>
            <a
              class="item"
              href="https://nypost.com/2025/07/15/business/meta-shareholders-aim-to-haul-ceo-mark-zuckerberg-sheryl-sandberg-to-court/"
              >Meta shareholders look to haul CEO Mark Zuckerberg, Sheryl
              Sandberg to court</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 18:45:43</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574506"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44574318">
          <h3>
            <a class="item" href="https://www.juliascope.com/"
              >Show HN: Beyond Z²+C, Plot Any Fractal</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 18:24:51</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574318"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              <p>Fun ones to try include - sin(z^2+c) - c^z - z^{1.7}+c</p>
              <p>
                Also supports animation, just enter any other letter and turn it
                into a variable. Supports Mandelbrot or Julia Set style
                calculation.
              </p>
              <p>Use with a graphics card or integrated graphics</p>
            </div>
          </section>
        </section>
        <section id="44574204">
          <h3>
            <a
              class="item"
              href="https://huggingface.co/mistralai/Voxtral-Mini-3B-2507"
              >Mistralai/Voxtral-Mini-3B-2507 · Hugging Face</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 18:14:51</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574204"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44574095">
          <h3>
            <a class="item" href="https://words.filippo.io/passkey-encryption/"
              >Encrypting Files with Passkeys and Age</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 18:05:21</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44574095"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573887">
          <h3>
            <a class="item" href="https://www.nubero.ch/blog/015/"
              >Designing for the Eye: Optical Corrections in Architecture and
              Typography</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:48:35</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573887"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573840">
          <h3>
            <a
              class="item"
              href="https://garymarcus.substack.com/p/why-my-pdoom-has-risen-dramatically"
              >Why my p(doom) has risen, dramatically</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:43:45</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573840"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573752">
          <h3>
            <a
              class="item"
              href="https://www.neowin.net/news/kdes-android-tv-alternative-plasma-bigscreen-rises-from-the-dead-with-a-better-ui/"
              >KDE's official Roku/Android TV alternative is back from the
              dead</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:35:42</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573752"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573574">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/technology/mira-muratis-ai-startup-thinking-machines-raises-2-billion-a16z-led-round-2025-07-15/"
              >Mira Murati's AI startup Thinking Machines raises $2B in A16Z-led
              round</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:19:57</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573574"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573409">
          <h3>
            <a
              class="item"
              href="https://the-nerve-blog.ghost.io/to-be-a-better-programmer-write-little-proofs-in-your-head/"
              >To be a better programmer, write little proofs in your head</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:05:39</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573409"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573320">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44573320"
              >CoinTracker (YC W18) is hiring to solve crypto taxes and
              accounting (remote)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:00:04</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                We solve challenging technical problems: tracking crypto assets
                across wallets and exchanges, classifying complex transactions
                like DeFi and NFTs, global stablecoin payments, and helping
                users stay compliant in an evolving global regulatory landscape.
              </p>
              <p>
                We currently track $100B+ in crypto assets across 3M users. Our
                customers range from everyday dabblers in crypto to large
                enterprises.
              </p>
              <p>
                We’re a remote-first, globally distributed team of 80 people,
                backed by Accel, YC, and others. Our team has experience from
                Google, Airbnb, Stripe, Coinbase, Intuit, and other top
                companies.
              </p>
              <p>We’re hiring across multiple roles, including:</p>
              <p>- Software Engineers (Backend, Full Stack, Infra)</p>
              <p>- Product Designers</p>
              <p>- Product Managers</p>
              <p>- Crypto Accounting CPAs</p>
              <p>- Marketers</p>
              <p>- Customer Experience</p>
              <p>
                We care about building a mission-driven company that enables
                everyone in the world to use crypto with peace of mind. A key
                part of that mission is solving crypto taxes and accounting as
                more financial activity moves onchain.
              </p>
              <p>
                If you’re interested in helping solve messy crypto data problems
                and improving financial infrastructure, please learn more and
                apply here:
                <a href="https://www.cointracker.com/careers"
                  >https://www.cointracker.com/careers</a
                >
              </p>
              <p>
                CoinTracker builds the rails for crypto taxes and onchain
                accounting.
              </p>
              <p>=== What we do ===</p>
              <p>
                - Aggregate transactions from 500+ wallets &amp; exchanges and
                reconcile them to GAAP/IFRS rules
              </p>
              <p>
                - Classify hard edge‑cases (DeFi, NFTs, stablecoin payments)
              </p>
              <p>
                - Generate IRS-ready (and international) tax forms with $100B+
                tracked in crypto
              </p>
              <p>=== Why it's interesting ===</p>
              <p>
                - Streaming terabytes of blockchain data → millisecond portfolio
                views - Global tax rules engine written as pure functions:
                testable &amp; versioned - 80-person remote team shipping daily
              </p>
              <p>=== Stack &amp; culture ===</p>
              <p>- TypeScript / Node, Python, React, Postgres</p>
              <p>- Remote‑first across 15 countries</p>
              <p>- Async‑heavy with quarterly in‑person meet‑ups</p>
              <p>=== Open roles (all remote) ===</p>
              <p>- Software Engineer – backend / infra / full‑stack</p>
              <p>- Product Designer</p>
              <p>- Product Marketing</p>
              <p>- Product Manager</p>
              <p>- Crypto Accounting CPA / Tax Analyst</p>
              <p>- Customer Experience</p>
              <p>=== Comp &amp; benefits ===</p>
              <p>- Competitive salary (see details in link below)</p>
              <p>- Meaningful equity</p>
              <p>- Strong health care</p>
              <p>- 401(k) matching</p>
              <p>- Learning budget</p>
              <p>- Home-office budget</p>
              <p>- Company-wide retreats</p>
              <p>
                If untangling messy crypto data and upgrading the world’s
                financial back‑office sounds fun, say hello:
                www.cointracker.com/careers
              </p>
            </div>
          </section>
        </section>
        <section id="44573195">
          <h3>
            <a class="item" href="https://calv.info/openai-reflections"
              >Reflections on OpenAI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 16:49:06</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573195"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44572499">
          <h3>
            <a
              class="item"
              href="https://www.nist.gov/news-events/news/2025/07/nist-ion-clock-sets-new-record-most-accurate-clock-world"
              >NIST Ion Clock Sets New Record for Most Accurate Clock in the
              World</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 15:56:47</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44572499"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44572377">
          <h3>
            <a
              class="item"
              href="https://www.matthieulc.com/posts/shoggoth-mini"
              >Show HN: Shoggoth Mini – A soft tentacle robot powered by GPT-4o
              and RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 15:46:41</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44572377"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44572273">
          <h3>
            <a
              class="item"
              href="https://systemf.epfl.ch/blog/rust-regex-lookbehinds/"
              >Adding lookbehinds to rust-lang/regex</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 15:37:15</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44572273"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44571917">
          <h3>
            <a
              class="item"
              href="https://www.blender.org/download/releases/4-5/"
              >Blender 4.5 LTS Released</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 15:06:44</span
              ><span class="points-container"
                >Points: <span class="points">216</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44571917"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44570048">
          <h3>
            <a class="item" href="https://github.com/trymirai/uzu"
              >Show HN: We made our own inference engine for Apple Silicon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 11:29:02</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44570048"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
            <div class="text">
              We wrote our inference engine on Rust, it is faster than llama cpp
              in all of the use cases. Your feedback is very welcomed. Written
              from scratch with idea that you can add support of any kernel and
              platform.
            </div>
          </section>
        </section>
        <section id="44567857">
          <h3>
            <a
              class="item"
              href="https://tomrenner.com/posts/llm-inevitabilism/"
              >LLM Inevitabilism</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 04:35:35</span
              ><span class="points-container"
                >Points: <span class="points">1405</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44567857"
                  >Comments</a
                ><span class="descendants">: 1302</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44567683">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/culture/critics-notebook/the-new-literalism-plaguing-todays-biggest-movies"
              >Literalism plaguing today’s movies</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 03:52:38</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44567683"
                  >Comments</a
                ><span class="descendants">: 319</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44565668">
          <h3>
            <a class="item" href="https://github.com/ml-explore/mlx/pull/1983"
              >Apple's MLX adding CUDA support</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-14 @ 21:40:30</span
              ><span class="points-container"
                >Points: <span class="points">515</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44565668"
                  >Comments</a
                ><span class="descendants">: 180</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44564656">
          <h3>
            <a
              class="item"
              href="https://www.caltech.edu/about/news/ligo-detects-most-massive-black-hole-merger-to-date"
              >LIGO detects most massive black hole merger to date</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-14 @ 20:06:51</span
              ><span class="points-container"
                >Points: <span class="points">349</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44564656"
                  >Comments</a
                ><span class="descendants">: 182</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44551203">
          <h3>
            <a
              class="item"
              href="https://www.uninformativ.de/blog/postings/2025-07-13/0/POSTING-en.html"
              >A quick look at unprivileged sandboxing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 15:41:30</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44551203"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44549549">
          <h3>
            <a class="item" href="https://menerdu.vercel.app/"
              >Show HN: I built this to talk Danish to my girlfriend – works
              with any language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 11:38:18</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44549549"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
            <div class="text">
              <p>
                Especially in those cases, I used to give up and translate the
                entire message from English, which kind of defeats the purpose
                and interrupts the learning process.
              </p>
              <p>
                So I started prompting GPT. I’d write my message with wildcards
                or notes for the parts I didn’t know, and it would return a
                corrected version. That worked well, but reusing the prompt each
                time became tedious.
              </p>
              <p>So I built a wrapper around it.</p>
              <p>
                Now I can type in the target language, mark unclear parts with
                curly braces {like this}, and get an instant corrected version
                with explanations. I also added a history feature so I can
                review what I got wrong, and I plan to build more on that soon
                (eg. summary of areas or words to review).
              </p>
              <p>
                This app is for language learners who want to practice writing
                without feeling insecure about mistakes or breaking their flow
                by switching to a translator.
              </p>
              <p>I hope you find it useful!</p>
            </div>
          </section>
        </section>
        <section id="44548620">
          <h3>
            <a class="item" href="http://loremgibson.com/">Lorem Gibson</a>
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 08:39:47</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44548620"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44546321">
          <h3>
            <a
              class="item"
              href="https://www.nict.go.jp/en/press/2025/05/29-1.html"
              >Petabit-class transmission over &amp;gt; 1000 km using standard
              19-core optical fiber</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 00:06:20</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44546321"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44545050">
          <h3>
            <a
              class="item"
              href="https://www.hillelwayne.com/post/influential-dead-languages/"
              >Most (ly Dead) Influential Programming Languages (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-12 @ 20:50:56</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44545050"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44533759">
          <h3>
            <a
              class="item"
              href="https://rubenerd.com/vcds-and-laserdiscs-in-southeast-asia/"
              >VHS, VCDs, and Laserdiscs in Southeast Asia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-11 @ 16:02:13</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44533759"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
