<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39443695">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39443695"
              >MixRank (YC S11) Is Hiring Global Remote Software Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 17:01:13</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                MixRank processes petabytes of data every month from web
                crawling. We have hundreds of customers using our data products
                including Google, Amazon, Facebook, Intel, and Adobe, across
                industries including Recruiting, Finance, Security, Sales, and
                Marketing.
              </p>
              <p>
                Our team is 42 full-time, full-remote from 16+ countries. We're
                growing, profitable, employee-owned, no dependence on outside
                funding. Applicants from all geographies and backgrounds are
                welcome.
              </p>
              <p>
                We are looking for passionate individuals for whom programming
                is not just a job but it's something they love to do. We're
                obsessed with computers, programming, big data, databases,
                compilers, hardware, math, data science, and the internet. Does
                this sound like you? Please apply to join our team.
              </p>
              <p>
                Our code base is very friendly to new contributors. You'll have
                a (fully-automated) development environment and be pushing
                commits on your first day. Deployments to production happen
                multiple times per day and finish in less than 2 minutes. Our
                codebase is written in Python, SQL, Javascript/TypeScript, Rust,
                and Nix. The basic technologies you'll need to be productive are
                Python, PostgreSQL, Linux, and Git.
              </p>
              <p>
                We operate at a larger scale than typical startups. We operate
                two datacenters with high performance servers we've built that
                are capable of dealing with the volumes of data we process.
                We've implemented our own distributed file system. We do
                full-scale web crawls. We download and perform static analysis
                on the entire universe of Android APKs and iOS IPAs that are
                published. Unlike a typical startup where you'll spend half of
                your time in meetings, and the other half fixing bugs from Jira
                tickets— at MixRank you'll get to direct your entire focus into
                difficult technical problems that will help you to grow as an
                individual.
              </p>
              <p>--</p>
              <p>Junior Software Engineer</p>
              <p>
                We're looking for remote junior engineers that have 0-3 years of
                professional experience in software, and 5+ years of curiosity
                exploring computers, programming, and technical hobby projects.
                This is an open-ended entry role with mentorship and diverse
                opportunities to work on all areas of our product: databases,
                distributed systems, infrastructure and tooling, data analysis,
                machine learning, frontend/backend web development, APIs, data
                mining, data modeling, and more. To stand out, please highlight
                what makes you unique: passion for computing, curiosity and side
                projects, work ethic, niche research, etc.
              </p>
              <p>
                Ideally you've already finished with school, but if you still
                have one or more years left please feel free to apply anyway. If
                you're the right fit for the team we'll figure out a way to
                accommodate your schedule.
              </p>
              <p>--</p>
              <p>Software Engineer</p>
              <p>
                We're hiring generalist software engineers to work on web
                applications, data mining, machine learning/data science, data
                transformation/ETL, data modeling, database scaling,
                infrastructure, devops, and more. We'll customize the role to
                whatever subset of these areas match your interests.
              </p>
              <p>
                Beneficial experience includes PostgreSQL, Python, Linux,
                TypeScript, Rust, Nix, frontend/backend web development, and
                data mining.
              </p>
              <p>--</p>
              <p>
                Please apply here:
                <a href="https://www.ycombinator.com/companies/mixrank/jobs"
                  >https://www.ycombinator.com/companies/mixrank/jobs</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="39443679">
          <h3>
            <a
              class="item"
              href="http://databasearchitects.blogspot.com/2024/02/ssds-have-become-ridiculously-fast.html"
              >SSDs Have Become Fast, Except in the Cloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 16:59:43</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39443679"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39443548">
          <h3>
            <a
              class="item"
              href="https://yaledailynews.com/blog/2024/02/19/faculty-group-calls-on-yale-to-make-teaching-distinct-from-activism/"
              >Faculty group calls on Yale to make teaching 'distinct from
              activism'</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 16:50:33</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39443548"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39443362">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/24078212/right-to-repair-xbox-game-pass-cloud-vergecast"
              >The right to repair – and play games anywhere</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 16:35:19</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39443362"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39443283">
          <h3>
            <a
              class="item"
              href="https://www.phoronix.com/news/Steam-Audio-SDK-Fully-Open"
              >Valve Makes All Steam Audio SDK Source Code Available Under
              Apache 2.0 License</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 16:29:27</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39443283"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39442429">
          <h3>
            <a
              class="item"
              href="https://www.schneier.com/blog/archives/2024/02/microsoft-is-spying-on-users-of-its-ai-tools.html"
              >Microsoft Is Spying on Users of Its AI Tools</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 15:28:22</span
              ><span class="points-container"
                >Points: <span class="points">215</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39442429"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39442400">
          <h3>
            <a
              class="item"
              href="http://arighi.blogspot.com/2024/02/writing-scheduler-for-linux-in-rust.html"
              >Writing a scheduler for Linux in Rust that runs in user-space</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 15:26:11</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39442400"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39442368">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39442368"
              >Launch HN: Dart (YC W22) – Project management with automatic
              report generation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 15:24:05</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39442368"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <a href="https://itsdart.com">https://itsdart.com</a>). Dart is a
              fully-featured project management tool that can automatically
              create reports, fill in task properties, generate subtasks, detect
              duplicate tasks, and more. Here’s a quick demo of some of the
              highlight features:
              <a href="https://youtu.be/CMsBAv9CCyU"
                >https://youtu.be/CMsBAv9CCyU</a
              >
              <p>
                Like many others we grew frustrated with the constant upkeep in
                creating and organizing tickets in Jira and other PM tools. We
                routinely wasted as much as seven hours a week on repetitive PM
                chores like cleaning up the backlog or drafting changelog
                updates. At Zack’s previous company he even built a system to
                try to automate some of this work. In conversations with other
                founders and engineers we learned that he was far from the only
                person doing this.
              </p>
              <p>
                We started Dart when we realized we could bring a new approach
                to this problem through techniques enabled by generative AI.
                There are of course a lot of project management tools out there,
                but none have the ability to automate most of the busywork
                without having to configure long sets of rules.
              </p>
              <p>
                For example, one of the most helpful functions is summarizing
                work that was accomplished over some time interval, by
                automatically creating a changelog update for it that can be
                pasted into company blogs or elsewhere. Another highly used
                feature is giving Dart a large task or PRD and generating a
                recommendation for how to break it up into more manageable
                subtasks.
              </p>
              <p>
                Over the last two years we’ve continued to build a broad set of
                PM functionality in Dart (task management, docs, roadmaps, etc.)
                along with what we hope is a neatly vertically integrated
                application of gen AI that adds value.
              </p>
              <p>
                Dart is built with Vue on the frontend, Django on the backend,
                and uses various gen AI models such as GPT-4. We embed almost
                all of the content that goes into the app for later retrieval
                and search. Over time we build up context for users, workspaces,
                working patterns, etc. and are able to provide this context to
                do situation specific few-shot prompting or RAG, depending on
                the situation. For better or worse we’ve implemented most of our
                LLM infrastructure internally and are largely calling OpenAI
                APIs directly.
              </p>
              <p>
                While Dart improves its recommendations as users work on more
                tasks, ultimately it’s not quite ready to replace your product
                manager. You’ll probably still need to evaluate if the
                recommendations make sense for your team, and make any
                adjustments before confirming them. By having a helpful
                companion offering suggestions as you go we’ve still found that
                this process ends up net saving time–about 12% of time spent in
                PM tools according to our users. You can think of it like a
                helpful tool for generating ideas as opposed to a product that
                will fully strategize and do all of your work for you (at least
                for now!).
              </p>
              <p>
                Our current users come from a wide range of backgrounds
                including other founders, developers, writers, small business
                owners, consultants, researchers, etc.
              </p>
              <p>
                You can try out Dart for free at
                <a href="https://app.itsdart.com/sign-up"
                  >https://app.itsdart.com/sign-up</a
                >. We’d really appreciate any and all feedback or ideas in the
                comments!
              </p>
            </div>
          </section>
        </section>
        <section id="39442347">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2024/02/20/vietnam_id_cards_dna/"
              >Vietnam to collect biometrics – even DNA – for new ID cards</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 15:22:24</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39442347"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39442298">
          <h3>
            <a
              class="item"
              href="https://www.tomshardware.com/tech-industry/cyber-security/your-fingerprints-can-be-recreated-from-the-sounds-made-when-you-swipe-on-a-touchscreen-researchers-new-side-channel-attack-can-reproduce-partial-fingerprints-to-enable-attacks"
              >Fingerprints can be recreated from the sounds made when you swipe
              a screen</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 15:18:54</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39442298"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39442273">
          <h3>
            <a
              class="item"
              href="https://proxiesapi.com/articles/web-scraping-in-python-the-complete-guide"
              >Web Scraping in Python – The Complete Guide</a
            >
          </h3>
        </section>
        <section id="39441088">
          <h3>
            <a
              class="item"
              href="https://worksinprogress.co/issue/life-in-the-time-of-zika/"
              >I was deliberately infected with Zika to test a vaccine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 13:40:30</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39441088"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39440808">
          <h3>
            <a class="item" href="https://github.com/Speykious/cve-rs"
              >Fast memory vulnerabilities, written in 100% safe Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 13:17:01</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39440808"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39440503">
          <h3>
            <a
              class="item"
              href="https://robot.hetzner.com/order/index/culture/en_GB"
              >Hetzner GPU Server</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 12:39:16</span
              ><span class="points-container"
                >Points: <span class="points">175</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39440503"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39440480">
          <h3>
            <a class="item" href="https://blog.jim-nielsen.com/2024/ui-fn-org/"
              >UI Is a Function of Your Organization</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 12:35:52</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39440480"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39440179">
          <h3>
            <a class="item" href="https://danluu.com/simple-architectures/"
              >In Defense of Simple Architectures (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 11:50:34</span
              ><span class="points-container"
                >Points: <span class="points">376</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39440179"
                  >Comments</a
                ><span class="descendants">: 268</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39440034">
          <h3>
            <a
              class="item"
              href="https://lists.freebsd.org/archives/freebsd-announce/2024-February/000117.html"
              >Future of 32-bit platform support in FreeBSD</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 11:26:30</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39440034"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39440025">
          <h3>
            <a
              class="item"
              href="https://wcedmisten.fyi/post/keyboard-shortcuts-userscripts/"
              >Adding Keyboard Shortcuts to a 24 Year Old Government Website
              with Userscripts</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 11:25:11</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39440025"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39439986">
          <h3>
            <a
              class="item"
              href="https://liftingstones.org/articles/stonelifting-etiquette"
              >Stonelifting Etiquette</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 11:19:35</span
              ><span class="points-container"
                >Points: <span class="points">178</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39439986"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39439782">
          <h3>
            <a class="item" href="https://github.com/gcarmix/HexWalk"
              >HexWalk – Hex Editor/Viewer/Analyzer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 10:50:19</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39439782"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39439771">
          <h3>
            <a
              class="item"
              href="https://googlemapsmania.blogspot.com/2024/02/ai-your-home-on-street-view.html"
              >AI your home on street view</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 10:48:01</span
              ><span class="points-container"
                >Points: <span class="points">161</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39439771"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39439655">
          <h3>
            <a
              class="item"
              href="https://mary.codes/blog/programming/translating_openstreetmaps_to_HTML5_canvas_rust_wasm/"
              >Translating OpenStreetMap data to HTML5 Canvas with Rust and
              WebAssembly</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 10:28:01</span
              ><span class="points-container"
                >Points: <span class="points">231</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39439655"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39439505">
          <h3>
            <a class="item" href="https://samwho.dev/bloom-filters/"
              >A Visual Interactive Guide to Bloom Filters</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 09:58:36</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39439505"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39438908">
          <h3>
            <a
              class="item"
              href="https://blogs.igalia.com/carlosgc/2024/02/19/webkit-switching-to-skia-for-2d-graphics-rendering/"
              >WebKit switching to Skia for 2d graphics rendering</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 07:46:45</span
              ><span class="points-container"
                >Points: <span class="points">257</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39438908"
                  >Comments</a
                ><span class="descendants">: 130</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39438842">
          <h3>
            <a
              class="item"
              href="https://blog.quarkslab.com/dji-the-art-of-obfuscation.html"
              >DJI – The ART of obfuscation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-20 @ 07:31:03</span
              ><span class="points-container"
                >Points: <span class="points">176</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39438842"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39426569">
          <h3>
            <a
              class="item"
              href="https://www.daviddegner.com/blog/a-birds-eye-view/"
              >Capturing Avian Perspectives: Pigeon Photography</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-19 @ 05:46:31</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39426569"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39419054">
          <h3>
            <a
              class="item"
              href="https://int10h.org/blog/2024/02/game-font-forensics/"
              >Game Font Forensics</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-18 @ 13:50:23</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39419054"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39418106">
          <h3>
            <a
              class="item"
              href="https://karthinks.com/software/fifteen-ways-to-use-embark/"
              >Fifteen ways to use Embark (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-18 @ 11:07:40</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39418106"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39416784">
          <h3>
            <a
              class="item"
              href="https://github.com/SPLWare/esProc/wiki/How-Much-Is-One-Terabyte-of-Data%EF%BC%9F"
              >How Much Is One Terabyte of Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-18 @ 06:41:10</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39416784"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39416783">
          <h3>
            <a
              class="item"
              href="https://www.moriareviews.com/films-about-virtual-reality"
              >Films About Virtual Reality</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-02-18 @ 06:41:09</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39416783"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
