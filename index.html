<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45778984">
          <h3>
            <a class="item" href="https://linear.app/now/the-profitable-startup"
              >The profitable startup</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-01 @ 03:18:04</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45778984"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45777810">
          <h3>
            <a
              class="item"
              href="https://blog.shashanktomar.com/posts/strange-attractors"
              >Show HN: Strange Attractors</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 23:23:59</span
              ><span class="points-container"
                >Points: <span class="points">501</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45777810"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
            <div class="text">
              <a href="https://blog.shashanktomar.com/posts/strange-attractors"
                >https://blog.shashanktomar.com/posts/strange-attractors</a
              >). It’s built with three.js.
              <p>
                Working on it reminded me of the little "maths for fun"
                exercises I used to do while learning programming in early days.
                Just trying things out, getting fascinated and geeky, and being
                surprised by the results. I spent way too much time on this, but
                it was extreme fun.
              </p>
              <p>
                My favorite part: someone pointed me to the Simone Attractor on
                Threads. It is a 2D attractor and I asked GPT to extrapolate it
                to 3D, not sure if it’s mathematically correct, but it’s the
                coolest by far. I have left all the params configurable, so give
                it a try. I called it Simone (Maybe).
              </p>
              <p>
                If you like math-art experiments, check it out. Would love
                feedback, especially from folks who know more about the math
                side.
              </p>
            </div>
          </section>
        </section>
        <section id="45777683">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/future/article/20251014-the-rare-hyena-stalking-a-diamond-mining-ghost-town"
              >Photographing the rare brown hyena stalking a diamond mining
              ghost town</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 23:03:56</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45777683"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45777682">
          <h3>
            <a class="item" href="https://github.com/vindar/SARCASM"
              >S.A.R.C.A.S.M: Slightly Annoying Rubik's Cube Automatic Solving
              Machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 23:03:18</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45777682"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45776269">
          <h3>
            <a
              class="item"
              href="https://enaix.github.io/2025/10/30/developer-verification.html"
              >A theoretical way to circumvent Android developer verification</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 20:20:42</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45776269"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45774640">
          <h3>
            <a
              class="item"
              href="https://www.thebignewsletter.com/p/addiction-markets-abolish-corporate"
              >Addiction Markets</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 17:42:55</span
              ><span class="points-container"
                >Points: <span class="points">278</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45774640"
                  >Comments</a
                ><span class="descendants">: 275</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45774571">
          <h3>
            <a
              class="item"
              href="https://lil.law.harvard.edu/blog/2025/10/24/rethinking-data-discovery-for-libraries-and-digital-humanities/"
              >Use DuckDB-WASM to query TB of data in browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 17:37:15</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45774571"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45774086">
          <h3>
            <a class="item" href="https://rfd.shared.oxide.computer/rfd/0609"
              >Futurelock: A subtle risk in async Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 16:49:26</span
              ><span class="points-container"
                >Points: <span class="points">345</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45774086"
                  >Comments</a
                ><span class="descendants">: 165</span></span
              >
            </h4>
            <div class="text">
              <p>
                [0]
                <a href="https://github.com/oxidecomputer/omicron/issues/9259"
                  >https://github.com/oxidecomputer/omicron/issues/9259</a
                >
              </p>
              <p>
                [1]
                <a href="https://rfd.shared.oxide.computer/rfd/397"
                  >https://rfd.shared.oxide.computer/rfd/397</a
                >
              </p>
              <p>
                [2]
                <a href="https://rfd.shared.oxide.computer/rfd/400"
                  >https://rfd.shared.oxide.computer/rfd/400</a
                >
              </p>
              <p>
                [3]
                <a href="https://www.youtube.com/watch?v=zrv5Cy1R7r4"
                  >https://www.youtube.com/watch?v=zrv5Cy1R7r4</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45773347">
          <h3>
            <a
              class="item"
              href="https://cryptography.dog/blog/AI-scrapers-request-commented-scripts/"
              >AI scrapers request commented scripts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 15:44:19</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45773347"
                  >Comments</a
                ><span class="descendants">: 172</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45772347">
          <h3>
            <a
              class="item"
              href="https://fzakaria.com/2025/10/29/nix-derivation-madness"
              >Nix Derivation Madness</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 14:28:35</span
              ><span class="points-container"
                >Points: <span class="points">171</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45772347"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45771796">
          <h3>
            <a
              class="item"
              href="https://journals.plos.org/plosone/article?id=10.1371/journal.pone.0328965"
              >Sustainable memristors from shiitake mycelium for high-frequency
              bioelectronics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 13:32:08</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45771796"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45771019">
          <h3>
            <a class="item" href="https://lalitm.com/perfetto-swiss-army-knife/"
              >Perfetto: Swiss army knife for Linux client tracing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 11:54:00</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45771019"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45770875">
          <h3>
            <a
              class="item"
              href="https://blog.trailofbits.com/2025/10/31/the-cryptography-behind-electronic-passports/"
              >The cryptography behind electronic passports</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 11:33:41</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45770875"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45770304">
          <h3>
            <a
              class="item"
              href="https://michael.stapelberg.ch/posts/2025-10-31-macbook-pro-m4-impressions/"
              >My Impressions of the MacBook Pro M4</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 10:13:40</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45770304"
                  >Comments</a
                ><span class="descendants">: 272</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45767178">
          <h3>
            <a
              class="item"
              href="https://software.rajivprab.com/2018/04/29/myths-programmers-believe-about-cpu-caches/"
              >Myths Programmers Believe about CPU Caches</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-31 @ 00:46:56</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45767178"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45766501">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/gadgets/2025/10/leaker-reveals-which-pixels-are-vulnerable-to-cellebrite-phone-hacking/"
              >Leaker reveals which Pixels are vulnerable to Cellebrite phone
              hacking</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-30 @ 23:12:10</span
              ><span class="points-container"
                >Points: <span class="points">322</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45766501"
                  >Comments</a
                ><span class="descendants">: 204</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45764986">
          <h3>
            <a
              class="item"
              href="https://www.apple.com/newsroom/2025/10/apple-reports-fourth-quarter-results/"
              >Apple reports fourth quarter results</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-30 @ 20:34:02</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45764986"
                  >Comments</a
                ><span class="descendants">: 255</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45763359">
          <h3>
            <a
              class="item"
              href="https://render.com/blog/how-we-found-7-tib-of-memory-just-sitting-around"
              >How We Found 7 TiB of Memory Just Sitting Around</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-30 @ 18:25:05</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45763359"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45762064">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/research/introspection"
              >Signs of introspection in large language models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-30 @ 16:45:06</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45762064"
                  >Comments</a
                ><span class="descendants">: 88</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45758392">
          <h3>
            <a
              class="item"
              href="https://discourse.ubuntu.com/t/introducing-architecture-variants-amd64v3-now-available-in-ubuntu-25-10/71312"
              >Introducing architecture variants</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-30 @ 10:35:00</span
              ><span class="points-container"
                >Points: <span class="points">208</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45758392"
                  >Comments</a
                ><span class="descendants">: 127</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45741569">
          <h3>
            <a
              class="item"
              href="https://eaton-works.com/2025/10/28/tata-motors-hack/"
              >Hacking India's largest automaker: Tata Motors</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-29 @ 01:31:56</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45741569"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45734865">
          <h3>
            <a class="item" href="https://github.com/Pipelex/pipelex"
              >Show HN: Pipelex – Declarative language for repeatable AI
              workflows</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 16:19:26</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45734865"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <p>Why this instead of yet another workflow builder?</p>
              <p>
                - Declarative, not glue code: you state what to do; the runtime
                figures out how. - Agent-first: each step carries
                natural-language context (purpose, inputs/outputs with meaning)
                so LLMs can follow, audit, and optimize. Our MCP server enables
                agents to run pipelines but also to build new pipelines on
                demand. - Open standard under MIT: language spec, runtime, API
                server, editor extensions, MCP server, n8n node. - Composable:
                pipes can call other pipes, created by you or shared in the
                community.
              </p>
              <p>Why a domain-specific language?</p>
              <p>
                - We need context, meaning and nuances preserved in a structured
                syntax that both humans and LLMs can understand - We need
                determinism, control, and reproducibility that pure prompts
                can't deliver - Bonus: editors, diffs, semantic coloring, easy
                sharing, search &amp; replace, version control, linters…
              </p>
              <p>How we got there:</p>
              <p>
                Initially, we just wanted to solve every use-case with LLMs but
                kept rebuilding the same agentic patterns across different
                projects. So we challenged ourselves to keep the code generic
                and separate from use-case specifics, which meant modeling
                workflows from the relevant knowledge and know-how.
              </p>
              <p>
                Unlike existing code/no-code frameworks for AI workflows, our
                abstraction layer doesn't wrap APIs, it transcribes business
                logic into a structured, unambiguous script executable by
                software and AI. Hence the "declarative" aspect: the script says
                what should be done, not how to do it. It's like a Dockerfile or
                SQL for AI workflows.
              </p>
              <p>
                Additionally, we wanted the language to be LLM-friendly. Classic
                programming languages hide logic and context in variable names,
                functions, and comments: all invisible to the interpreter. In
                Pipelex, these elements are explicitly stated in natural
                language, giving AI full visibility: it's all logic and context,
                with minimal syntax.
              </p>
              <p>
                Then, we didn't want to write Pipelex scripts ourselves so we
                dogfooded: we built a Pipelex workflow that writes Pipelex
                workflows. It's in the MCP and CLI: "pipelex build pipe '…'"
                runs a multi-step, structured generation flow that produces a
                validated workflow ready to execute with "pipelex run". Then you
                can iterate on it yourself or with any coding agent.
              </p>
              <p>
                What’s included: Python library, FastAPI and Docker, MCP server,
                n8n node, VS Code extension.
              </p>
              <p>What we’d like from you</p>
              <p>
                1. Build a workflow: did the language work for you or against
                you? 2. Agent/MCP workflows and n8n node usability. 3. Suggest
                new kinds of pipes and other AI models we could integrate 4.
                Looking for OSS contributors to the core library but also to
                share pipes with the community
              </p>
              <p>Known limitations</p>
              <p>
                - Connectors: Pipelex doesn’t integrate with “your apps”, we
                focus on the cognitive steps, and you can integrate through
                code/API or using MCP or n8n - Visualization: we need to
                generate flow-charts - The pipe builder is still buggy - Run it
                yourself: we don’t yet provide a hosted Pipelex API, it’s in the
                works - Cost-tracking: we only track LLM costs, not image
                generation or OCR costs yet - Caching and reasoning options: not
                supported yet
              </p>
              <p>Links</p>
              <p>
                - GitHub:
                <a href="https://github.com/Pipelex/pipelex"
                  >https://github.com/Pipelex/pipelex</a
                >
                - Cookbook:
                <a href="https://github.com/Pipelex/pipelex-cookbook"
                  >https://github.com/Pipelex/pipelex-cookbook</a
                >
                - Starter:
                <a href="https://github.com/Pipelex/pipelex-starter"
                  >https://github.com/Pipelex/pipelex-starter</a
                >
                - VS Code extension:
                <a href="https://github.com/Pipelex/vscode-pipelex"
                  >https://github.com/Pipelex/vscode-pipelex</a
                >
                - Docs: [<a href="https://docs.pipelex.com"
                  >https://docs.pipelex.com</a
                >](<a href="https://docs.pipelex.com/"
                  >https://docs.pipelex.com/</a
                >) - Demo video (2 min):
                <a href="https://youtu.be/dBigQa8M8pQ"
                  >https://youtu.be/dBigQa8M8pQ</a
                >
                - Discord for support and sharing:
                <a href="https://go.pipelex.com/discord"
                  >https://go.pipelex.com/discord</a
                >
              </p>
              <p>
                Thanks for reading. If you try Pipelex, tell us exactly where it
                hurts, that’s the most valuable feedback we can get.
              </p>
            </div>
          </section>
        </section>
        <section id="45731256">
          <h3>
            <a
              class="item"
              href="https://verdagon.dev/blog/impossible-optimization"
              >The Impossible Optimization, and the Metaprogramming to Achieve
              It</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 10:53:21</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45731256"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45727819">
          <h3>
            <a
              class="item"
              href="https://easel.games/@raysplaceinspace/settling-the-score/"
              >Show HN: Settling the Score – a point-and-click adventure rhythm
              game</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 23:59:44</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45727819"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              I thought it'd be fun to make a point-and-click adventure game
              based around music. I thought it'd be a unique take on the gnre. I
              made this game for a 7-day gamejam and drew all the artwork and
              created all the music myself. It can be played through to
              completion in about 5 minutes.
            </div>
          </section>
        </section>
        <section id="45724043">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=A_IUIyyqw0M"
              >Viagrid – PCB template for rapid PCB prototyping with
              factory-made vias [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 17:42:17</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45724043"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45722691">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2510.21613"
              >Beyond Smoothed Analysis: Analyzing the Simplex Method by the
              Book</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 16:13:32</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45722691"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45719829">
          <h3>
            <a
              class="item"
              href="https://togetherlondon.com/insights/active-listening-swiss-army-knife"
              >Active listening: the Swiss Army Knife of communication</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 11:40:04</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45719829"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45706901">
          <h3>
            <a
              class="item"
              href="https://tidbits.com/2025/10/25/nisus-writer-schrodingers-word-processor/"
              >Nisus Writer: Schrödinger's Word Processor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-25 @ 20:57:20</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45706901"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45682917">
          <h3>
            <a
              class="item"
              href="https://medium.com/@jonas.eschenburg/how-i-stopped-worrying-and-started-loving-the-assembly-4fd00e786c60"
              >How I stopped worrying and started loving the Assembly</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 15:23:55</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45682917"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45681535">
          <h3>
            <a
              class="item"
              href="https://thecretefleet.com/blog/f/kerkship-st-jozef-antwerp-%E2%80%93-wwii-german-concrete-tanker"
              >Kerkship St. Jozef, Antwerp – WWII German Concrete Tanker</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 13:23:32</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45681535"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
