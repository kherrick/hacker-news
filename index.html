<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="36061574">
          <h3>
            <a
              class="item"
              href="https://github.com/Kneesnap/onstream-data-recovery/blob/main/info/INTRO.MD"
              >The long road to recover Frogger 2 source from tape drives</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 17:41:39</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36061574"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36061407">
          <h3>
            <a
              class="item"
              href="https://blog.pypi.org/posts/2023-05-24-pypi-was-subpoenaed/"
              >PyPI Was Subpoenaed</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 17:28:12</span
              ><span class="points-container"
                >Points: <span class="points">252</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36061407"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36061344">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=36061344"
              >Launch HN: Dittofeed (YC S22) – open-source customer engagement
              platform</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 17:24:05</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36061344"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <a href="https://dittofeed.com">https://dittofeed.com</a>. We make
              it easy for growth and marketing teams to message their customers
              across multiple channels. We're an open source alternative to
              platforms like Iterable,
              <a href="http://customer.io/">http://customer.io/</a>, Braze, and
              OneSignal. Here’s a short demo video showing how to run the
              platform locally, and use it to automate a customer onboarding
              journey:
              <p>
                <a
                  href="https://www.loom.com/share/0f7b67170b3a4205add00c22844ca06f"
                  >https://www.loom.com/share/0f7b67170b3a4205add00c22844ca06f</a
                >
              </p>
              <p>
                We created Dittofeed to tackle some commonly felt pains with
                customer engagement platforms:
              </p>
              <p>
                First, existing platforms make it difficult to keep imported
                user data accurate and up to date with your primary user
                datastore. To solve this, we’re building first-class support for
                importing data from your data warehouse, for better data
                consistency.
              </p>
              <p>
                Second, graphical “journey builders” are fragile, and difficult
                to debug at scale, so we’re building git-based workflows to
                check your messaging automation into git as configuration, as
                well the ability to run Dittofeed locally in development, or in
                CI with our testing sdk, for improved ease of debugging.
              </p>
              <p>
                Third, companies in industries like finance and healthcare are
                often forced to implement their own solutions in-house to avoid
                sharing sensitive PII with third parties. As an open source
                platform, companies can now self-host us to keep their PII in
                their network.
              </p>
              <p>
                Chandler, having worked in marketing for startups, experienced
                these challenges first hand. Max, on the other hand, was a
                senior platform infrastructure engineer at Braze, where he
                witnessed similar challenges from a technical perspective. Our
                combined experiences sparked the idea for Dittofeed.
              </p>
              <p>
                We decided to create an open source, developer-focused customer
                engagement platform, because the often unspoken truth is that
                maximizing the effectiveness of these tools requires ongoing
                engineering involvement.
              </p>
              <p>
                Dittofeed is built on Clickhouse (OLAP store used for storing
                user events, performing user segmentation, and aggregations) and
                Postgres (OLTP store for persisting application configuration,
                and serving user aggregations for efficient single-row reads).
              </p>
              <p>
                If you can use the following, we’d love it if you checked us
                out:
              </p>
              <p>Email support via sendgrid (other channels coming soon).</p>
              <p>User data import via Segment integration.</p>
              <p>
                We have a cloud offering, and offer paid support. You can find
                our pricing on our site
                <a href="https://dittofeed.com/pricing"
                  >https://dittofeed.com/pricing</a
                >.
              </p>
              <p>How to try Dittofeed out:</p>
              <p>
                Check out our demo site to play around with the app
                <a href="https://demo.dittofeed.com/dashboard"
                  >https://demo.dittofeed.com/dashboard</a
                >
              </p>
              <p>
                Run the app locally via docker compose (<a
                  href="https://docs.dittofeed.com/deployment/self-hosted/docker-compose"
                  >https://docs.dittofeed.com/deployment/self-hosted/docker-com...</a
                >).
              </p>
              <p>
                Join our slack and we’ll set you up with cloud hosting (<a
                  href="https://join.slack.com/t/dittofeed-community/shared_invite/zt-1u3lyts83-P6npff1AbjniNRLVlrlM5A"
                  >https://join.slack.com/t/dittofeed-community/shared_invite/z...</a
                >)
              </p>
              <p>
                We’d love to hear your thoughts, opinions, and experiences with
                these tools. What’s been your experience working with this kind
                of tech?
              </p>
            </div>
          </section>
        </section>
        <section id="36061326">
          <h3>
            <a class="item" href="https://github.com/polpo/picogus"
              >PicoGUS: Emulate ISA Sound Cards (GUS, Adlib, MPU-401, Tandy,
              CMS) with a Pico</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 17:22:45</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36061326"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36060983">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/aviator/jobs"
              >Aviator (YC S21) is hiring senior engineers excited about
              improving DX</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 17:01:24</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36060031">
          <h3>
            <a
              class="item"
              href="https://www.owlfolio.org/research/i-didnt-learn-unix-by-reading-all-the-manpages/"
              >I Didn’t Learn Unix by Reading All the Manpages</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 16:04:45</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36060031"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36059878">
          <h3>
            <a class="item" href="https://microsoft.github.io/devicescript/"
              >DeviceScript: TypeScript for Tiny IoT Devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 15:55:57</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36059878"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36059429">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s41586-023-06094-5"
              >Walking naturally after spinal cord injury using a brain–spine
              interface</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 15:26:00</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36059429"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36059247">
          <h3>
            <a
              class="item"
              href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC9106553/"
              >Simple exercise to eliminate gastroesophageal reflux (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 15:12:17</span
              ><span class="points-container"
                >Points: <span class="points">259</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36059247"
                  >Comments</a
                ><span class="descendants">: 114</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058966">
          <h3>
            <a
              class="item"
              href="https://orbitalindex.com/archive/2023-05-24-Issue-219/"
              >NASA has funded a bunch of fascinating early stage
              technologies</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:52:42</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058966"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058771">
          <h3>
            <a
              class="item"
              href="https://www.eff.org/deeplinks/2023/05/sfpd-obtained-live-access-business-camera-network-anticipation-tyre-nichols"
              >SFPD Obtained Live Access to Business Camera Network in
              Anticipation of Protest</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:38:56</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058771"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058767">
          <h3>
            <a
              class="item"
              href="https://worldsensorium.com/a-warmer-planet-less-nutritious-plants-and-fewer-grasshoppers/"
              >A Warmer Planet, Less Nutritious Plants and Fewer
              Grasshoppers?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:38:37</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058767"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058754">
          <h3>
            <a
              class="item"
              href="https://kerkour.com/sha256-length-extension-attacks"
              >Breaking SHA256: length extension attacks in practice</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:37:39</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058754"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058743">
          <h3>
            <a class="item" href="https://github.com/fishfolk/jumpy"
              >Fish Folk – open-source Bevy game</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:36:14</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058743"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058695">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2305.12972"
              >VanillaNet: The Power of Minimalism in Deep Learning</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:33:07</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058695"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058576">
          <h3>
            <a
              class="item"
              href="https://kelu124.gitbooks.io/echomods/content/RPI.html"
              >Building a Raspberry Pi Ultrasound</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:25:55</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058576"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36058430">
          <h3>
            <a
              class="item"
              href="https://openjdk.org/projects/amber/design-notes/patterns/exhaustiveness"
              >Patterns: Exhaustiveness, Unconditionality, and Remainder</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 14:17:49</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36058430"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36057687">
          <h3>
            <a class="item" href="https://github.com/raphamorim/rio"
              >Rio: Terminal app built over WebGPU, WebAssembly and Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 13:25:13</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36057687"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36057183">
          <h3>
            <a
              class="item"
              href="https://magazine.sebastianraschka.com/p/why-the-original-transformer-figure"
              >Why the original transformer figure is wrong, and some other
              tidbits about LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 12:39:28</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36057183"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36057074">
          <h3>
            <a class="item" href="https://helphub.commandbar.com"
              >Show HN: HelpHub – GPT chatbot for any site</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 12:29:08</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36057074"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
            <div class="text">
              <p>
                I’m the founder of a SaaS platform called CommandBar (YC S20).
                We’ve been mucking around with AI-related side quests for a
                while, but recently got excited enough about one to test it with
                some customers. Results were surprisingly good so we decided to
                launch it.
              </p>
              <p>
                HelpHub is AI chat + semantic search for any website or web app.
              </p>
              <p>
                You can add source content in 3 ways: -Crawling any public site
                via a URL (e.g. your marketing site or blog) -Syncing with a CMS
                (like Zendesk or Intercom) -Add content manually
              </p>
              <p>
                The chatbot is then “trained” on that content and will answer
                question’s based on that content only, not referencing directly
                the knowledge.
              </p>
              <p>
                The output is an embeddable widget the contains two things: the
                chatbot interface for user’s to ask questions, and a search
                interface for users to search through the content the bot is
                trained on directly (as well as view source content).
              </p>
              <p>
                You can play around with a demo on some popular sites here:
                <a href="https://helphub.commandbar.com"
                  >https://helphub.commandbar.com</a
                >
              </p>
              <p>
                Some features we added that make it better IMO than just chat:
                -Suggested questions (based on the page the user is on and their
                chat history) -Suggested follow-up questions in a chat response
                -Ask a question about a specific doc -Recommend content based on
                who the user is and where they are
              </p>
              <p>
                Would love to hear feedback (not lost on me that there are other
                chatgpt-for-your-site products and we are probably missing a ton
                of functionality from there) and can also share details about
                how we built this. It’s not rocket science but does feel magic
                :)
              </p>
              <p>-James</p>
            </div>
          </section>
        </section>
        <section id="36056907">
          <h3>
            <a class="item" href="https://github.com/ianarawjo/ChainForge"
              >ChainForge: An open-source visual programming environment for
              testing prompts</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 12:11:18</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36056907"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36056320">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/mirai-botnet"
              >The Teens Behind the Mirai Botnet</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 11:03:35</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36056320"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36056176">
          <h3>
            <a
              class="item"
              href="https://www.carpeludum.com/m-u-l-e-40th-anniversary-special/"
              >M.U.L.E. 40th Anniversary Special</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 10:43:29</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36056176"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36055826">
          <h3>
            <a
              class="item"
              href="https://fermatslibrary.com/s/venus-is-not-earth-s-closest-neighbor"
              >Venus is not Earth’s closest neighbor (2019) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-24 @ 09:50:01</span
              ><span class="points-container"
                >Points: <span class="points">209</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36055826"
                  >Comments</a
                ><span class="descendants">: 147</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36040666">
          <h3>
            <a class="item" href="https://giri.co/looking-back-on-helm/"
              >Looking Back On Helm</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-23 @ 06:33:31</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36040666"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36040612">
          <h3>
            <a class="item" href="https://gis.chat"
              >Gis.chat – The Geospatial Community</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-23 @ 06:24:07</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36040612"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <p>
                The setup is fairly simple and reproducible: a plain Zulip
                instance and a homepage with geospatial search capabilities.
              </p>
              <p>
                It seems almost trivial but it has some very nice features. I
                guess you should be familiar with Zulips stream/topic model to
                follow along (<a
                  href="https://zulip.com/help/streams-and-topics"
                  >https://zulip.com/help/streams-and-topics</a
                >).
              </p>
              <p>
                The core idea is that there are city-specific streams (currently
                represented by a pin), but there could just as well be streams
                about points of interest, line geometries (e.g. a river) or
                polygons (e.g. national park).
              </p>
              <p>
                - Every local stream can have the same topics, e.g. "general",
                "news", "meetups", "jobs" etc. - With Zulip's search you can
                either search for a particular topic, e.g. "news" in a local
                stream or instead in all streams and have some kind of news feed
                of the community with "topic:news" - Once more communities are
                added, specific filters could be added, e.g. country-wise or by
                drawing your own area of interest - Eventually, for the ones who
                like, users could associate themselves with a local community in
                their profile or add there main location so one could not only
                search for the local communities but instead also for
                individuals
              </p>
              <p>
                There are many nice features in Zulip's pipeline that would
                foster gis.chat:
              </p>
              <p>- Further nesting of streams/topics - Semantic search</p>
              <p>
                If for example Zulip would allow for saving coordinates (or
                better an entire geometry) in the Postgres DB, with the help of
                PostGIS, Zulip's search could allow for bounding boxes (or
                custom geometries).
              </p>
              <p>
                Let me know if you have any kind of other ideas or feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="36035315">
          <h3>
            <a
              class="item"
              href="https://theworld.org/stories/2023-05-19/tokyo-s-trash-collecting-samurai-takes-fun-zany-approach-cleanup"
              >Tokyo’s trash-collecting samurai takes a fun, zany approach to
              cleanup</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-22 @ 19:01:34</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36035315"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36030945">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2023-05-massive-joro-spiders-gentle-giants.html"
              >New study suggests Joro spiders are gentle giants</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-22 @ 13:06:12</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36030945"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36028410">
          <h3>
            <a class="item" href="https://www.rfc-editor.org/rfc/rfc1178"
              >Choosing a Name for Your Computer (1990)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-22 @ 07:25:42</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36028410"
                  >Comments</a
                ><span class="descendants">: 142</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36028113">
          <h3>
            <a
              class="item"
              href="https://www.topic.com/the-story-behind-the-chicago-newspaper-that-bought-a-bar"
              >A Chicago newspaper that bought a bar (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-22 @ 06:26:09</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36028113"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
