<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43700888">
          <h3>
            <a
              class="item"
              href="https://legacy.reactjs.org/blog/2016/09/28/our-first-50000-stars.html"
              >Archeology of React (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-16 @ 02:45:41</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43700888"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43700633">
          <h3>
            <a
              class="item"
              href="https://www.jeremykun.com/2015/04/06/markov-chain-monte-carlo-without-all-the-bullshit/"
              >Markov Chain Monte Carlo Without All the Bullshit (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-16 @ 02:01:46</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43700633"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43700607">
          <h3>
            <a
              class="item"
              href="https://www.csoonline.com/article/3963190/cve-program-faces-swift-end-after-dhs-fails-to-renew-contract-leaving-security-flaw-tracking-in-limbo.html"
              >CVE program faces swift end after DHS fails to renew contract</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-16 @ 01:57:27</span
              ><span class="points-container"
                >Points: <span class="points">789</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43700607"
                  >Comments</a
                ><span class="descendants">: 367</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43700232">
          <h3>
            <a class="item" href="https://flexport.com"
              >Flexport (YC W14) is hiring software engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-16 @ 01:01:11</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43699188">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/lely-dairy-robots"
              >How dairy robots are changing work for cows and farmers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 22:26:35</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43699188"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43698801">
          <h3>
            <a class="item" href="https://benbridle.com/projects/torque.html"
              >Show HN: Torque – A lightweight meta-assembler for any
              processor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 21:46:45</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43698801"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
            <div class="text">
              <p>
                Torque is a meta-assembler: instead of having an instruction set
                built into the assembler, you use macros to build up a small
                language that decribes an instruction set and then you use that
                to write your program. It's designed to work for any
                microcontroller/processor architecture, you build from the bit
                level upwards so there aren't any assumptions around word
                widths, instruction formats, or endianness.
              </p>
              <p>
                I created Torque initially to write programs for a PIC
                microcontroller, after running into difficulties with the
                official assembler. I've also used it to write programs for the
                Z80 processor inside an old TRS-80 computer.
              </p>
              <p>Let me know if you try it out or have any questions!</p>
            </div>
          </section>
        </section>
        <section id="43697532">
          <h3>
            <a class="item" href="https://foundationvision.github.io/Liquid/"
              >Liquid: Language models are scalable and unified multi-modal
              generators</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 19:46:14</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43697532"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43695723">
          <h3>
            <a
              class="item"
              href="https://devblogs.microsoft.com/oldnewthing/20250411-00/?p=111066"
              >The case of the UI thread that hung in a kernel call</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 17:13:31</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43695723"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43695620">
          <h3>
            <a class="item" href="https://github.com/bobschrag/clolog"
              >Clolog</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 17:04:47</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43695620"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43695592">
          <h3>
            <a
              class="item"
              href="https://blog.google/products/gemini/video-generation/"
              >Generate videos in Gemini and Whisk with Veo 2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 17:02:16</span
              ><span class="points-container"
                >Points: <span class="points">290</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43695592"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43694877">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/openai/648130/openai-social-network-x-competitor"
              >OpenAI is building a social network?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 16:08:29</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43694877"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43694681">
          <h3>
            <a class="item" href="https://overreacted.io/jsx-over-the-wire/"
              >JSX over the Wire</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 15:56:18</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43694681"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43693326">
          <h3>
            <a
              class="item"
              href="https://pgdog.dev/blog/hacking-postgres-wire-protocol"
              >Hacking the Postgres wire protocol</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 14:33:10</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43693326"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43692476">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43692476"
              >Launch HN: mrge.io (YC X25) – Cursor for code review</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 13:34:21</span
              ><span class="points-container"
                >Points: <span class="points">188</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43692476"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.mrge.io/home">https://www.mrge.io/home</a>),
              an AI code review platform to help teams merge code faster with
              fewer bugs. Our early users include Better Auth, Cal.com, and
              n8n—teams that handle a lot of PRs every day.
              <p>
                Here’s a demo video:
                <a href="https://www.youtube.com/watch?v=pglEoiv0BgY"
                  >https://www.youtube.com/watch?v=pglEoiv0BgY</a
                >
              </p>
              <p>
                We (Allis and Paul) are engineers who faced this problem when we
                worked together at our last startup. Code review quickly became
                our biggest bottleneck—especially as we started using AI to code
                more. We had more PRs to review, subtle AI-written bugs slipped
                through unnoticed, and we (humans) increasingly found ourselves
                rubber-stamping PRs without deeply understanding the changes.
              </p>
              <p>
                We’re building mrge to help solve that. Here’s how it works:
              </p>
              <p>
                1. Connect your GitHub repo via our Github app in two clicks
                (and optionally download our desktop app). Gitlab support is on
                the roadmap!
              </p>
              <p>
                2. AI Review: When you open a PR, our AI reviews your changes
                directly in an ephemeral and secure container. It has context
                into not just that PR, but your whole codebase, so it can pick
                up patterns and leave comments directly on changed lines. Once
                the review is done, the sandbox is torn down and your code
                deleted – we don’t store it for obvious reasons.
              </p>
              <p>
                3. Human-friendly review workflow: Jump into our web app (it’s
                like Linear but for PRs). Changes are grouped logically (not
                alphabetically), with important diffs highlighted, visualized,
                and ready for faster human review.
              </p>
              <p>
                The AI reviewer works a bit like Cursor in the sense that it
                navigates your codebase using the same tools a developer
                would—like jumping to definitions or grepping through code.
              </p>
              <p>
                But a big challenge was that, unlike Cursor, mrge doesn’t run in
                your local IDE or editor. We had to recreate something similar
                entirely in the cloud.
              </p>
              <p>
                Whenever you open a PR, mrge clones your repository and checks
                out your branch in a secure and isolated temporary sandbox. We
                provision this sandbox with shell access and a Language Server
                Protocol (LSP) server. The AI reviewer then reviews your code,
                navigating the codebase exactly as a human reviewer would—using
                shell commands and common editor features like "go to
                definition" or "find references". When the review finishes, we
                immediately tear down the sandbox and delete the code—we don’t
                want to permanently store it for obvious reasons.
              </p>
              <p>
                We know cloud-based review isn't for everyone, especially if
                security or compliance requires local deployments. But a cloud
                approach lets us run SOTA AI models without local GPU setups,
                and provide a consistent, single AI review per PR for an entire
                team.
              </p>
              <p>
                The platform itself focuses entirely on making <i>human</i> code
                reviews easier. A big inspiration came from productivity-focused
                apps like Linear or Superhuman, products that show just how much
                thoughtful design can impact everyday workflows. We wanted to
                bring that same feeling into code review.
              </p>
              <p>
                That’s one reason we built a desktop app. It allowed us to
                deliver a more polished experience, complete with keyboard
                shortcuts and a snappy interface.
              </p>
              <p>
                Beyond performance, the main thing we care about is making it
                easier for humans to read and understand code. For example,
                traditional review tools sort changed files alphabetically—which
                forces reviewers to figure out the order in which they should
                review changes. In mrge, files are automatically grouped and
                ordered based on logical connections, letting reviewers
                immediately jump in.
              </p>
              <p>
                We think the future of coding isn’t about AI replacing
                humans—it’s about giving us better tools to quickly understand
                high-level changes, abstracting more and more of the code
                itself. As code volume continues to increase, this shift is
                going to become increasingly important.
              </p>
              <p>
                You can sign up now (<a href="https://www.mrge.io/home"
                  >https://www.mrge.io/home</a
                >). mrge is currently free while we're still early. Our plan for
                later is to charge closed-source projects on a per-seat basis,
                and to continue giving mrge away for free to open source ones.
              </p>
              <p>
                We’re very actively building and would love your honest
                feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="43692360">
          <h3>
            <a
              class="item"
              href="https://steveblank.com/2025/04/15/how-the-u-s-became-a-science-superpower/"
              >How the U.S. became a science superpower</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 13:24:39</span
              ><span class="points-container"
                >Points: <span class="points">325</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43692360"
                  >Comments</a
                ><span class="descendants">: 323</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43692089">
          <h3>
            <a class="item" href="https://github.com/ubisoft/Chroma"
              >Chroma: Ubisoft's internal tool used to simulate
              color-blindness</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 13:04:26</span
              ><span class="points-container"
                >Points: <span class="points">206</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43692089"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43691334">
          <h3>
            <a
              class="item"
              href="https://knowyourmeme.com/memes/events/april-2025-4chan-sharty-hack-and-janitor-email-leak"
              >4chan Sharty Hack And Janitor Email Leak</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 11:30:56</span
              ><span class="points-container"
                >Points: <span class="points">523</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43691334"
                  >Comments</a
                ><span class="descendants">: 660</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43691142">
          <h3>
            <a
              class="item"
              href="https://www.npr.org/2025/04/15/nx-s1-5355896/doge-nlrb-elon-musk-spacex-security"
              >Whistleblower details how DOGE may have taken sensitive NLRB
              data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 10:55:41</span
              ><span class="points-container"
                >Points: <span class="points">884</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43691142"
                  >Comments</a
                ><span class="descendants">: 417</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43690289">
          <h3>
            <a class="item" href="https://filiph.github.io/unsure/"
              >Show HN: Unsure Calculator – back-of-a-napkin probabilistic
              calculator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-15 @ 08:22:59</span
              ><span class="points-container"
                >Points: <span class="points">549</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43690289"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43683012">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/cursor/comments/1jyy5am/psa_cursor_now_restricts_logins_to_a_single/"
              >Cursor IDE support hallucinates lockout policy, causes user
              cancellations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-14 @ 16:24:28</span
              ><span class="points-container"
                >Points: <span class="points">1037</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43683012"
                  >Comments</a
                ><span class="descendants">: 370</span></span
              >
            </h4>
            <div class="text">
              <p>
                Like,you’d be working on your desktop, switch to your laptop,
                and all of a sudden you're forcibly logged out. No warning, no
                notification, just gone.
              </p>
              <p>Naturally, people thought this was a new policy.</p>
              <p>So they asked support.</p>
              <p>
                And here’s where it gets batshit: Cursor has a support email, so
                users emailed them to find out. The support peson told everyone
                this was “expected behavior” under their new login policy.
              </p>
              <p>
                One problem. There was no support team, it was an AI designed to
                'mimic human responses'
              </p>
              <p>
                That answer, totally made up by the bot, spread like wildfire.
              </p>
              <p>
                Users assumed it was real (because why wouldn’t they? It's their
                own support system lol), and within hours the community was in
                revolt. Dozens of users publicly canceled their subscriptions,
                myself included. Multi-device workflows are table stakes for
                devs, and if you're going to pull something that disruptive,
                you'd at least expect a changelog entry or smth.
              </p>
              <p>Nope.</p>
              <p>
                And just as people started comparing notes and figuring out that
                the story didn’t quite add up… the main Reddit thread got
                locked. Then deleted. Like, no public resolution, no real
                response, just silence.
              </p>
              <p>
                To be clear: this wasn’t an actual policy change, just a backend
                session bug, and a hallucinated excuse from a support bot that
                somehow did more damage than the bug itself.
              </p>
              <p>
                But at that point, it didn’t matter. People were already gone.
              </p>
              <p>
                Honestly one of the most surreal product screwups I’ve seen in a
                while. Not because they made a mistake, but because the AI
                support system invented a lie, and nobody caught it until the
                userbase imploded.
              </p>
            </div>
          </section>
        </section>
        <section id="43681658">
          <h3>
            <a
              class="item"
              href="https://www.theglobeandmail.com/business/economy/article-math-prodigy-cryptocurrency-enforcement-united-states/"
              >Canadian math prodigy allegedly stole $65M in crypto</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-14 @ 14:21:36</span
              ><span class="points-container"
                >Points: <span class="points">210</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43681658"
                  >Comments</a
                ><span class="descendants">: 260</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43681132">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-03-protein-mystery-core-fractions.html"
              >A protein folding mystery solved: Study explains core packing
              fractions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-14 @ 13:36:59</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43681132"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43679781">
          <h3>
            <a class="item" href="https://github.com/codr7/hacktical-c"
              >Hacktical C: practical hacker's guide to the C programming
              language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-14 @ 10:20:42</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43679781"
                  >Comments</a
                ><span class="descendants">: 138</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43679707">
          <h3>
            <a
              class="item"
              href="https://www.openmymind.net/Zigs-New-LinkedList-API/"
              >Zig's new LinkedList API (it's time to learn fieldParentPtr)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-14 @ 10:06:33</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43679707"
                  >Comments</a
                ><span class="descendants">: 152</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43674159">
          <h3>
            <a
              class="item"
              href="https://blogs.windows.com/msedgedev/2025/04/10/significant-performance-improvements-with-edge-134/"
              >Significant performance improvements with Edge 134</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-13 @ 16:57:50</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43674159"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43674083">
          <h3>
            <a
              class="item"
              href="https://www.chicagotribune.com/2025/04/09/photos-chicagos-connection-to-the-great-gatsby/"
              >100th Anniversary of the Great Gatsby: The Chicago Connection</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-13 @ 16:47:25</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43674083"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43670652">
          <h3>
            <a
              class="item"
              href="https://newsandreviews.substack.com/p/audiobooks-vs-printed-books-a-debate"
              >Audiobooks vs. Printed Books: a debate as a reader and an
              author</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-13 @ 06:55:21</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43670652"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43663290">
          <h3>
            <a class="item" href="https://alexharri.com/blog/webgl-gradients"
              >A flowing WebGL gradient, deconstructed</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-12 @ 10:54:53</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43663290"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43662339">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/artanddesign/2025/apr/12/28-fake-images-that-fooled-the-world"
              >Fake images that fooled the world</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-12 @ 07:56:52</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43662339"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43659814">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/lifestyle/ford-motor-mike-obrien-malaprops-6e560520"
              >A Ford executive who kept score of colleagues' verbal flubs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-04-11 @ 23:28:50</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43659814"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
