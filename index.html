<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43474707">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2025/03/25/too_many_outlooks/"
              >Microsoft's many Outlooks are confusing users – including its own
              employees</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 19:11:13</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43474707"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43474593">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/03/25/us/maverick-county-texas-court-system.html"
              >In Jail Without a Lawyer: How a Texas Town Fails Poor
              Defendants</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 18:59:22</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43474593"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43474250">
          <h3>
            <a
              class="item"
              href="https://www.centauri-dreams.org/2025/03/25/the-ethics-of-spreading-life-in-the-cosmos/"
              >The Ethics of Spreading Life in the Cosmos</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 18:21:30</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43474250"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43474112">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/introducing-4o-image-generation/"
              >4o Image Generation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 18:06:02</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43474112"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43473623">
          <h3>
            <a
              class="item"
              href="https://alexwlchan.net/2025/github-actions-audit/"
              >Whose code am I running in GitHub Actions?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 17:17:05</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43473623"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43473618">
          <h3>
            <a
              class="item"
              href="https://supernuclear.substack.com/p/stoop-coffee-how-a-simple-idea-transformed"
              >Stoop Coffee: How a Simple Idea Transformed My Neighborhood</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 17:16:45</span
              ><span class="points-container"
                >Points: <span class="points">321</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43473618"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43473489">
          <h3>
            <a
              class="item"
              href="https://blog.google/technology/google-deepmind/gemini-model-thinking-updates-march-2025/"
              >Gemini 2.5: Our most intelligent AI model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 17:01:54</span
              ><span class="points-container"
                >Points: <span class="points">325</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43473489"
                  >Comments</a
                ><span class="descendants">: 165</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43473478">
          <h3>
            <a class="item" href="https://careers.activeloop.ai/"
              >Activeloop (YC S18) Is Hiring Senior Python Back End and AI
              Search Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 17:00:36</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43473358">
          <h3>
            <a class="item" href="https://abcdinamo.com/news/german-bold-italic"
              >Kylie Minogue song about a typeface</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 16:51:09</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43473358"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43473265">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/cly4xe373p4o"
              >Bitcoin in the bush – the crypto mine in remote Zambia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 16:40:55</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43473265"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43472668">
          <h3>
            <a
              class="item"
              href="https://ethz.ch/en/news-and-events/eth-news/news/2025/03/were-large-soda-lakes-the-cradle-of-life.html"
              >Were large soda lakes the cradle of life?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 15:42:58</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43472668"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43472663">
          <h3>
            <a
              class="item"
              href="https://math.ucr.edu/home/baez/physics/Relativity/SpeedOfLight/c.html"
              >Why is C the symbol for the speed of light? (2004)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 15:42:03</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43472663"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43472320">
          <h3>
            <a
              class="item"
              href="https://www.theworldwar.org/learn/about-wwi/borne-back-ceaselessly-past-fitzgerald-gatsby-and-wwi"
              >Borne Back Ceaselessly into the Past: Fitzgerald, Gatsby and
              WWI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 15:11:56</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43472320"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43472239">
          <h3>
            <a class="item" href="https://app.docs.dev/generate-docs-instantly"
              >Show HN: Generate docs from your public repos</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 15:05:58</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43472239"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <a href="https://docs.dev/">https://docs.dev/</a>), an AI powered
              docs assistant. With docs.dev you can generate your docs directly
              from your codebase, existing docs and other context sources.
              <p>
                We don’t believe AI will replace technical writers—our goal is
                to make it easier for teams to get a solid first draft that they
                can review, edit, and improve. Think of it as a head start, not
                a finished product.
              </p>
              <p>
                More info on what we’ve built below but we wanted to release a
                quick, 1 minute, generate docs from your codebase tool. Try it
                out here:
                <a href="https://app.docs.dev/generate-docs-instantly"
                  >https://app.docs.dev/generate-docs-instantly</a
                >.
              </p>
              <p>
                We built this page, so folks could generate some docs easily and
                quickly on some of their open source projects. It is still new
                so let us know if there are bugs but feel free to give it a try!
                It should work on any moderately sized public repo on GitHub.
              </p>
              <p>
                Why build another docs tool? We believe there are many great
                tools out there to help teams host their docs and make them look
                great, but that there aren’t enough tools to help teams manage
                the content that goes into them. We found that often there’s a
                disconnect between the devs shipping code and the teams managing
                the docs, often leading to delays in getting new features out
                the door or outdated docs. We kept hearing that the only thing
                worse than no docs is incorrect docs.
              </p>
              <p>
                So, we built tools to help you manage docs directly from your
                codebase—no special platforms or vendor lock-in required. With
                docs.dev you can not only generate first drafts of new docs, but
                also audit your existing docs in bulk, analyze them for
                effectiveness, and keep everything up to date as the product
                changes.
              </p>
              <p>
                docs.dev can: Work with any markdown-powered framework Generate
                clean markdown files synced with your GitHub repo Support
                existing markdown docs, your codebase, and even Slack threads as
                context
              </p>
              <p>
                More info at docs.dev (<a href="https://docs.dev/"
                  >https://docs.dev/</a
                >) and on our docs page (<a href="https://learn.docs.dev/"
                  >https://learn.docs.dev/</a
                >)
              </p>
              <p>
                We’d love for you to check us out and welcome any feedback,
                criticism, suggestions, questions, or ideas! Thanks so much for
                reading!
              </p>
            </div>
          </section>
        </section>
        <section id="43471939">
          <h3>
            <a class="item" href="https://feudlegame.com"
              >Show HN: Feudle – a daily puzzle game built with AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 14:42:21</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43471939"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                Each day, there’s a survey question, and players try to guess
                the most popular responses—but the twist is that today’s answers
                come from real players who played yesterday. After playing, you
                can vote on or submit new questions, shaping future Feudles.
              </p>
              <p>
                If I were to start again, I’d explore newer AI-assisted coding
                tools like Cursor, but overall, this was a great learning
                experience. Hopefully, this inspires others to experiment with
                AI tools to bring their ideas to life.
              </p>
              <p>
                Any feedback? Any tips for AI tools I should explore when
                iterating on the game?
              </p>
            </div>
          </section>
        </section>
        <section id="43470906">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/open-sourcing-openpubkey-ssh-opkssh-integrating-single-sign-on-with-ssh/"
              >Open-sourcing OpenPubkey SSH (OPKSSH): integrating single sign-on
              with SSH</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 13:22:09</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43470906"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43470651">
          <h3>
            <a class="item" href="https://github.com/facebookresearch/vggt"
              >VGGT: Visual Geometry Grounded Transformer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 12:59:26</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43470651"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43470162">
          <h3>
            <a class="item" href="https://github.com/habedi/hann"
              >Hann: A Fast Approximate Nearest Neighbor Search Library for
              Go</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 11:57:11</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43470162"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43468976">
          <h3>
            <a
              class="item"
              href="https://nibblestew.blogspot.com/2025/03/writing-your-own-c-standard-library.html"
              >Writing your own C++ standard library from scratch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 08:10:36</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43468976"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43468491">
          <h3>
            <a
              class="item"
              href="https://www.aizk.sh/posts/reflecting-on-wikitok"
              >Reflecting on WikiTok</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-25 @ 06:09:11</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43468491"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43466509">
          <h3>
            <a class="item" href="https://abstimmung.eu/git/2024"
              >German parliament votes as a Git contribution graph</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-24 @ 23:29:03</span
              ><span class="points-container"
                >Points: <span class="points">563</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43466509"
                  >Comments</a
                ><span class="descendants">: 156</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43462783">
          <h3>
            <a
              class="item"
              href="https://www.theatlantic.com/politics/archive/2025/03/trump-administration-accidentally-texted-me-its-war-plans/682151/"
              >U.S. national-security leaders included me in a group chat</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-24 @ 16:23:55</span
              ><span class="points-container"
                >Points: <span class="points">1244</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43462783"
                  >Comments</a
                ><span class="descendants">: 425</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43452588">
          <h3>
            <a
              class="item"
              href="https://www.exurbe.com/the-lost-towers-of-the-guelph-ghibelline-wars/"
              >The Lost Towers of the Guelph-Ghibelline Wars</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-23 @ 12:58:41</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43452588"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43451700">
          <h3>
            <a class="item" href="https://polypane.app/"
              >Polypane, The browser for ambitious web developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-23 @ 09:07:17</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43451700"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43451222">
          <h3>
            <a class="item" href="https://fingernotes.com/note/97513380"
              >Show HN: Fingernotes – handwritten notes which become their own
              preview image</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-23 @ 06:32:19</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43451222"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              <p>
                Hacking fingernotes.com together over a couple of weeks was a
                creative outlet when work got stressful. I think of it as
                digital sticky notes. The goal was to make notes with a personal
                touch that are easy to write and share. I also wanted them to
                appear as their own link preview image on supported platforms.
                That way when you send the link to a note, the person sees the
                message without following the link.
              </p>
              <p>Let me know what you think!</p>
              <p>
                I drew inspiration from Apple's quick notes: low latency made
                scribbling a pleasure, and sending notes to friends felt warm
                and original compared to a typical exchange. It was also
                intriguing to see my handwriting printed in a message chat. In a
                time of rising artificial generation, spreading my clumsy
                handwriting feels like an act of rebellion.
              </p>
              <p>
                But I dislike the light background in Apple notes, which I don't
                think you can change when sharing. More importantly, no one sent
                a note back. With fingernotes the low-friction interaction is
                meant to make creating notes simple. I also find the image
                previews aesthetically more pleasing.
              </p>
              <p>
                For implementation, fingernotes are publicly accessible links to
                collections of strokes that have been persisted to a Cloudflare
                D1 database and rendered in SVG. Like pen on a sticky note, each
                stroke is immutable but anyone can add to a note if they have
                the link. You can't undo strokes, so if you mess up your note
                just throw it out and start a new one. Having append-only
                collections avoids handling order of operations when multiple
                people edit the same note. Hosting it as a Cloudflare worker
                made it easy to get up and running. There's some latency in
                Safari on iOS which is absent on desktop. It's noticeable
                compared to Apple notes and I'm afraid it's a limitation of the
                browser.
              </p>
            </div>
          </section>
        </section>
        <section id="43448035">
          <h3>
            <a
              class="item"
              href="https://www.creaf.cat/en/articules/deciduous-trees-roots-remain-active-winter"
              >A study reveals that deciduous trees' roots remain active in
              winter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-22 @ 19:33:16</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43448035"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440321">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-03-scientists-plastic-simple-inexpensive-catalyst.html"
              >Scientists break down plastic using a simple, inexpensive
              catalyst and air</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 20:12:49</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440321"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43440143">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-025-00593-3"
              >How 'animal methods bias' is affecting research careers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 19:51:42</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43440143"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43439501">
          <h3>
            <a
              class="item"
              href="https://research.google/blog/deciphering-language-processing-in-the-human-brain-through-llm-representations/"
              >Deciphering language processing in the human brain through LLM
              representations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 18:44:37</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43439501"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43437752">
          <h3>
            <a class="item" href="https://github.com/SerenityOS/jakt"
              >The Jakt Programming Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-21 @ 16:34:26</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43437752"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
