<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="36234510">
          <h3>
            <a
              class="item"
              href="https://www.airgradient.com/open-airgradient/blog/air-purifier-vs-positive-pressure-fresh-air-system-an-unfair-battle/"
              >Air Purifier vs. Positive Pressure Fresh Air System – An Unfair
              Battle?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 22:26:36</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36234510"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36234286">
          <h3>
            <a
              class="item"
              href="https://prismlauncher.org/news/cf-compromised-alert/"
              >“fractureiser” malware in many popular Minecraft mods and
              modpacks</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 22:05:49</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36234286"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36233881">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2306.00029"
              >CodeTF: One-Stop Transformer Library for State-of-the-Art Code
              LLM</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 21:34:06</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36233881"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36233862">
          <h3>
            <a
              class="item"
              href="https://dmitryfrank.com/articles/rust_module_system_encourages_bad_practices"
              >Rust Module System Encourages Bad Practices</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 21:32:49</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36233862"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36233828">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/grass-makes-better-ethanol-than-corn/"
              >Grass Makes Better Ethanol Than Corn Does (2008)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 21:31:00</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36233828"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36233613">
          <h3>
            <a
              class="item"
              href="https://dynomight.net/better-DIY-air-purifier.html"
              >The Cuboid: A DIY air purifier that's better than a box-fan</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 21:08:59</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36233613"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36233187">
          <h3>
            <a
              class="item"
              href="https://mcoliver.substack.com/p/quick-vpn-setup-with-aws-lightsail"
              >Quick VPN Setup with AWS Lightsail and WireGuard</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 20:37:25</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36233187"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36233068">
          <h3>
            <a
              class="item"
              href="https://addons.mozilla.org/en-US/firefox/addon/i-dont-care-about-cookies/reviews/?score=1&amp;utm_content=addons-manager-reviews-link&amp;utm_medium=firefox-browser&amp;utm_source=firefox-browser"
              >Tell HN: "I don't care about cookies” extension bought by Avast,
              users jump ship</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 20:27:17</span
              ><span class="points-container"
                >Points: <span class="points">279</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36233068"
                  >Comments</a
                ><span class="descendants">: 154</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36232900">
          <h3>
            <a class="item" href="https://github.com/nanochess/bootOS"
              >A monolithic operating system in 512 bytes of x86 machine code</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 20:16:19</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36232900"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36232861">
          <h3>
            <a
              class="item"
              href="https://developer.apple.com/videos/play/wwdc2023/10268"
              >Apple's new library format combines the best of dynamic and
              static</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 20:13:05</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36232861"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36232776">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/smart-news/scientists-guide-lightning-bolts-with-lasers-for-the-first-time-180981462/"
              >Scientists Guide Lightning Bolts with Lasers for the First
              Time</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 20:07:10</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36232776"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36232348">
          <h3>
            <a
              class="item"
              href="https://github.com/kaleidawave/ezno/discussions/21"
              >Show HN: Ezno, a TypeScript checker written in Rust, is now open
              source</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 19:38:56</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36232348"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36232006">
          <h3>
            <a
              class="item"
              href="https://twitter.com/SolidEvidence/status/1665444603829407746"
              >Ohio cryptic lineage update</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 19:15:40</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36232006"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36232002">
          <h3>
            <a
              class="item"
              href="https://forum.yitechnology.com/t/ads-in-kami-home-yi-home-is-this-true/13127"
              >Kami home camera app suddenly started displaying ads in the
              app</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 19:15:31</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36232002"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36231941">
          <h3>
            <a
              class="item"
              href="https://www.star.nesdis.noaa.gov/GOES/sector.php?sat=G16&amp;sector=ne"
              >Wildfire Smoke in Northeastern US Visible on Goes East Images</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 19:11:36</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36231941"
                  >Comments</a
                ><span class="descendants">: 149</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36231313">
          <h3>
            <a
              class="item"
              href="https://twitter.com/JymFox/status/1665799627377975300"
              >Windows 11 calls a zip file a 'postcode file' in UK English</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 18:33:48</span
              ><span class="points-container"
                >Points: <span class="points">499</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36231313"
                  >Comments</a
                ><span class="descendants">: 279</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36231016">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/Blind/comments/13zr8h2/reddits_recently_announced_api_changes_and_the/"
              >Reddit's Recently Announced API Changes, and the future of
              /r/blind</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 18:19:15</span
              ><span class="points-container"
                >Points: <span class="points">336</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36231016"
                  >Comments</a
                ><span class="descendants">: 199</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36230839">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/gadgets/2023/06/how-to-install-ios-17-and-macos-14-developer-betas-now-that-anyone-can-do-it/"
              >Apple removes $99 dev account requirement for first iOS 17 and
              macOS 14 betas</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 18:09:17</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36230839"
                  >Comments</a
                ><span class="descendants">: 114</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36230750">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2306.03423"
              >I'm afraid I can't do that: Prompt refusal in generative language
              models</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 18:03:25</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36230750"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36229632">
          <h3>
            <a
              class="item"
              href="https://www.ashbyhq.com/careers?ashby_jid=f99c1c4a-07f5-42fa-987e-de9a93f945dd"
              >Ashby (YC W19) Hiring Engineers Who Make Product Decisions</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 17:00:37</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36229557">
          <h3>
            <a
              class="item"
              href="https://aboutintel.eu/nl-government-wants-to-abandon-key-safeguards-for-hacking-of-non-targets/"
              >NL national security law to grant automatic permission for
              targeted surveillance</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 16:55:29</span
              ><span class="points-container"
                >Points: <span class="points">161</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36229557"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36228125">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s41586-023-06004-9"
              >Deepmind Alphadev: Faster sorting algorithms discovered using
              deep RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 15:31:27</span
              ><span class="points-container"
                >Points: <span class="points">553</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36228125"
                  >Comments</a
                ><span class="descendants">: 175</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36226155">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/news/wonk/wp/2017/06/26/the-amount-of-work-that-once-bought-an-hour-of-light-now-buys-51-years-of-it/"
              >Amount of work that once bought an hour of light now buys 51
              years of it (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 12:53:17</span
              ><span class="points-container"
                >Points: <span class="points">158</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36226155"
                  >Comments</a
                ><span class="descendants">: 212</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36225520">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=36225520"
              >Launch HN: Fastgen (YC W23) – Visual Low-Code Backend Builder</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-07 @ 11:30:53</span
              ><span class="points-container"
                >Points: <span class="points">206</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36225520"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
            <div class="text">
              <p>
                We just launched our public beta, you can try it out here:
                <a href="https://fastgen.com/">https://fastgen.com/</a>. You can
                find demo videos
                <a href="https://youtu.be/O9IM7rLYIQU"
                  >https://youtu.be/O9IM7rLYIQU</a
                >
                and
                <a href="https://youtu.be/Hc1CYJDEDQw"
                  >https://youtu.be/Hc1CYJDEDQw</a
                >.
              </p>
              <p>
                At our previous company, a student financing platform, we built
                several internal and external facing tools and encountered how
                tedious it can be to create and maintain myriads of APIs/CRUD
                operations. We especially felt that when building for edge cases
                and “what if” scenarios, as well as integrating with lots of
                third party services which receive, update and return data. In
                our case, a custom servicing platform which handled student
                repayments had to account for different student categories and
                repayment plans, while factoring in data we received from our
                KYC and ACH banking partners for each student. With Fastgen we
                try to eliminate boilerplate code and make it easier to adjust
                and share your work in a visual environment.
              </p>
              <p>
                We’re low-code fans ourselves and believe it’s sometimes
                underappreciated how much complexity existing solutions can
                already handle, and we are excited to contribute to that market.
                The low-code space is crowded with front-end tools, but with a
                comparatively small number of backend tools. There is lots of
                busywork that comes with setting up a backend; we remove that
                busywork. Also, most low-code tools restrict users in what they
                are able to do. Our goal is to provide you with the flexibility
                and control inherent in coding, while still making it easier to
                use and faster to deploy.
              </p>
              <p>
                In Fastgen you sequence 'actions' to form rest APIs and
                workflows through a drag-and-drop interface. Actions are
                essentially functions that perform specific tasks such as
                sending an HTTP request, checking for conditions or interacting
                with a database.
              </p>
              <p>
                We support SQL for database operations, JSON for data structure,
                and comparison operators similar to JavaScript for
                decision-making in workflows. Everything you create can be
                deployed and tested instantly in the platform and will be hosted
                for you. Fastgen has a 'Debug Mode' that gives insights into the
                step-by-step execution of workflows. This aids in pinpointing
                issues and optimizing workflow performance.
              </p>
              <p>
                While some users have created backends for full MVPs with us,
                others use the platform to build automations for their
                data/operations teams. For example, one team was missing
                functionality in Pipedrive for their sales team, so they created
                a sequence of conditions and HTTP requests to the Pipedrive API
                to create their own custom lead recycling process.
              </p>
              <p>
                Other things our users have done include the creation of KYC
                onboarding flows, a Chinese translation app using ChatGPT, an
                API that retrieves a company’s financial filings from the SEC
                for a crowdfunding platform, a cron job that checks for the
                health status of all other APIs in a code base, a categorizer of
                well performing product launches, a sitemap checker for a SEO
                project, and others.
              </p>
              <p>
                We would love for you to try out the platform and are excited
                for your thoughts and feedback in the comments!
              </p>
            </div>
          </section>
        </section>
        <section id="36217163">
          <h3>
            <a
              class="item"
              href="https://aras-p.info/blog/2023/04/18/Float-Compression-9-LZSSE-and-Lizard/"
              >Float Compression 9: Lzsse and Lizard</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-06 @ 18:34:38</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36217163"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36215180">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2023-06-quantum-visualization-technique-insight-photosynthesis.html"
              >Quantum visualization technique gives insight into
              photosynthesis</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-06 @ 16:23:31</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36215180"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36215088">
          <h3>
            <a class="item" href="https://github.com/splitgraph/seafowl-gcsfuse"
              >Show HN: Serverless OLAP with Seafowl and GCP</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-06 @ 16:18:44</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36215088"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>
                A recurring problem I've faced with side projects is the need
                for Postgres, but no desire to deploy or maintain new instances.
                So when I learned GCP's "always free" tier includes serverless
                [1] I got curious to see if I could run a database.
              </p>
              <p>
                While a lot of classic databases aren't usually a great fit for
                serverless, Seafowl separates compute, storage and catalog
                (catalog == a SQLite file of metadata). [2] Last month I was
                able to introduce GCS bucket compat to Seafowl, which enabled me
                to mount the catalog via gcsfuse (i.e. an adapter that allows
                attaching GCS buckets to local filesystems). Upshot: while FUSE
                does add HTTP requests to container startup, init time remains
                comparatively quick, even cold starts, because fetching is
                limited to the single catalog SQLite file only.
              </p>
              <p>
                With this approach you get a URL you can query directly from
                your FE if you want, e.g. fetch() can send SELECT * ... queries
                straight from your users' browser. You could plot a graph from a
                static React frontend, or observablehq.com editor, with no
                persistent backend needed. So at times when nobody's using your
                app, 100% of your stack can scale to zero with obvious cloud
                spend advantages. And even if you exceed free tier limits, being
                PAYG offers a good chance you'll come out ahead on hosting costs
                anyway.
              </p>
              <p>
                NB: Seafowl is an early stage project, so it's not really
                suitable if you need transactions or fast single-row writes.
                Otherwise, this could be a nice way to get free database hosting
                at a big 3 cloud provider, especially for e.g. read-only
                analytical reporting queries.
              </p>
              <p>
                Feedback and suggestions are appreciated. Hope it helps you!
                More available if you want [3].
              </p>
              <p>
                [0]
                <a href="https://seafowl.io/docs/getting-started/introduction"
                  >https://seafowl.io/docs/getting-started/introduction</a
                >
              </p>
              <p>
                [1]
                <a href="https://cloud.google.com/run/pricing#cpu-requests"
                  >https://cloud.google.com/run/pricing#cpu-requests</a
                >
              </p>
              <p>
                [2] Neon is another interesting project that separates compute
                and storage.
                <a href="https://neon.tech/blog/architecture-decisions-in-neon"
                  >https://neon.tech/blog/architecture-decisions-in-neon</a
                >
              </p>
              <p>
                One issue I observed was a noticeably longer startup time vs
                this FUSE approach, which I believe may be related to Postgres
                connection setup time/roundtrips. Looking forward to trying Neon
                again in future.
              </p>
              <p>
                [3]
                <a
                  href="https://www.splitgraph.com/blog/deploying-serverless-seafowl"
                  >https://www.splitgraph.com/blog/deploying-serverless-seafowl</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="36214654">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=ZnUBl90tayI"
              >Why the Dvorak keyboard didn't take over the world (2014)
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-06 @ 15:47:53</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36214654"
                  >Comments</a
                ><span class="descendants">: 211</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36214199">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/entertainment-arts-65818566"
              >Astrud Gilberto has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-06 @ 15:19:50</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36214199"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36212632">
          <h3>
            <a
              class="item"
              href="http://www.typewritten.org/Articles/TI/deeb025.pdf"
              >Texas Instruments Explorer Computer System (1984) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-06-06 @ 13:43:50</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36212632"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
