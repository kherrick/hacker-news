<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45738472">
          <h3>
            <a
              class="item"
              href="https://olshansky.substack.com/p/inside-amazons-engineering-culture"
              >Inside Amazon's engineering culture: Lessons from their senior
              principals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 20:12:14</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45738472"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45737941">
          <h3>
            <a
              class="item"
              href="https://www.jeffgeerling.com/blog/2025/why-do-some-radio-towers-blink"
              >Why do some radio towers blink?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 19:38:53</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45737941"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45736608">
          <h3>
            <a
              class="item"
              href="https://www.owlposting.com/p/mapping-the-off-target-effects-of"
              >Mapping the off-target effects of every FDA-approved drug in
              existence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 18:12:10</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45736608"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45736499">
          <h3>
            <a
              class="item"
              href="https://security.googleblog.com/2025/10/https-by-default.html"
              >Chrome to warn on unencrypted HTTP by default</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 18:04:00</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45736499"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45736479">
          <h3>
            <a
              class="item"
              href="https://f-droid.org/2025/10/28/sideloading.html"
              >What we talk about when we talk about sideloading</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 18:02:36</span
              ><span class="points-container"
                >Points: <span class="points">246</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45736479"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45736400">
          <h3>
            <a
              class="item"
              href="https://fory.apache.org/blog/2025/10/29/fory_rust_versatile_serialization_framework/"
              >Show HN: Apache Fory Rust – 10-20x faster serialization than
              JSON/Protobuf</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 17:58:51</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45736400"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <p></p>
              <pre><code>  Technical approach: compile-time codegen (no reflection), compact binary protocol with meta-packing, little-endian layout optimized for modern CPUs.

  Unique features that other fast serializers don't have:
  - Cross-language without IDL files (Rust ↔ Python/Java/Go)
  - Trait object serialization (Box&lt;dyn Trait&gt;)
  - Automatic circular reference handling
  - Schema evolution without coordination

  Happy to discuss design trade-offs.

  Benchmarks: https://fory.apache.org/docs/benchmarks/rust</code></pre>
            </div>
          </section>
        </section>
        <section id="45735877">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1042938/658ade3768dd4758/"
              >Fil-C: A memory-safe C implementation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 17:25:04</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45735877"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45735491">
          <h3>
            <a
              class="item"
              href="https://jobs.ashbyhq.com/SigNoz/8447522c-1163-48d0-8f55-fac25f64a0f3"
              >SigNoz (YC W21) Is Hiring DevRel Engineers in the US – Open
              Source O11y Platform</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 17:00:31</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45735264">
          <h3>
            <a class="item" href="https://ben.page/claude-code-web"
              >I've been loving Claude Code on the web</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 16:46:57</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45735264"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45734696">
          <h3>
            <a class="item" href="https://github.com/truffle-ai/dexto"
              >Show HN: Dexto – Connect your AI Agents with real-world tools and
              data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 16:07:27</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45734696"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.dexto.ai/">https://www.dexto.ai/</a>), a
              runtime and orchestration layer for AI Agents that lets you turn
              any app, service or tool into an AI assistant that can reason,
              think and act. Here's a video walkthrough -
              <a href="https://www.youtube.com/watch?v=WJ1qbI6MU6g"
                >https://www.youtube.com/watch?v=WJ1qbI6MU6g</a
              >
              <p>
                We started working on Dexto after helping clients setup agents
                for everyday marketing tasks like posting on LinkedIn, running
                Reddit searches, generating ad creatives, etc. We realized that
                the LLMs weren’t the issue. The real drag was the repetitive
                orchestration around them:
              </p>
              <p>
                - wiring LLMs to tools - managing context and persistence -
                adding memory and approval flows - tailoring behavior per
                client/use case
              </p>
              <p>
                Each small project quietly ballooned into weeks of plumbing
                where each customer had mostly the same, but slightly custom
                requirement.
              </p>
              <p>
                So instead of another framework where you write orchestration
                logic yourself, we built Dexto as a top-level orchestration
                layer where you declare an agent’s capabilities and behavior:
              </p>
              <p>
                - which tools or MCPs the agent can use - which LLM powers it -
                how it should behave (system prompt, tone, approval rules)
              </p>
              <p>
                Once configured, the agent runs as an event-driven loop -
                reasoning through steps, invoking tools, handling retries, and
                maintaining its own state and memory. Your app doesn’t manage
                orchestration, it just triggers and subscribes to the agent’s
                events and decides how to render or approve outcomes.
              </p>
              <p>
                Agents can run locally, in the cloud, or hybrid. Dexto ships
                with a CLI, a web UI, and a few sample agents to get started.
              </p>
              <p>
                To show its flexibility, we wrapped some OpenCV functions into
                an MCP server and connected it to Dexto (<a
                  href="https://youtu.be/A0j61EIgWdI"
                  >https://youtu.be/A0j61EIgWdI</a
                >). Now, a non-technical user could detect faces in images or
                create custom photo collages by talking to the agent. The same
                approach works for coding agents, browser agents, multi-speaker
                podcast agents, and marketing assistants tuned to your data.
                <a href="https://docs.dexto.ai/examples/category/agent-examples"
                  >https://docs.dexto.ai/examples/category/agent-examples</a
                >
              </p>
              <p>
                Dexto is modular, composable and portable allowing you to plug
                in new tools or even re-expose an entire Dexto agent as an MCP
                Server and consume it from other apps like Cursor (<a
                  href="https://www.youtube.com/watch?v=_hZMFIO8KZM"
                  >https://www.youtube.com/watch?v=_hZMFIO8KZM</a
                >). Because agents are defined through config and powered by a
                consistent runtime, they can run anywhere without code changes
                making cross-agent (A2A) interactions and reuse effortless.
              </p>
              <p>
                In a way, we like to think of Dexto as a “meta-agent” or “agent
                harness” that can be customized into a specialized agent
                depending on its tools, data, and platform.
              </p>
              <p>
                For the time being, we have opted for an Elastic V2 license to
                give maximum flexibility for the community to build with Dexto
                while preventing bigger players from taking over and monetizing
                our work.
              </p>
              <p>We’d love your feedback:</p>
              <p>
                - Try the quickstart and tell us what breaks - Share a use case
                you want to ship in a day, and we’ll suggest a minimal config
              </p>
              <p>
                Repo:
                <a href="https://github.com/truffle-ai/dexto"
                  >https://github.com/truffle-ai/dexto</a
                >
              </p>
              <p>
                Docs:
                <a href="https://docs.dexto.ai/docs/category/getting-started"
                  >https://docs.dexto.ai/docs/category/getting-started</a
                >
              </p>
              <p>Quickstart: npm i -g dexto</p>
            </div>
          </section>
        </section>
        <section id="45734582">
          <h3>
            <a
              class="item"
              href="https://www.threads.com/@nthmonkey/post/DQVdAD1gHhw"
              >Using AI to negotiate a $195k hospital bill down to $33k</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 15:58:58</span
              ><span class="points-container"
                >Points: <span class="points">643</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45734582"
                  >Comments</a
                ><span class="descendants">: 510</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733772">
          <h3>
            <a
              class="item"
              href="https://www.x-plane.com/2025/10/how-to-build-a-747-a-worldflight-story/"
              >How to build a 747 – A WorldFlight Story</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 15:02:59</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733772"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733707">
          <h3>
            <a class="item" href="https://eurollm.io/"
              >EuroLLM: LLM made in Europe built to support all 24 official EU
              languages</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 14:58:04</span
              ><span class="points-container"
                >Points: <span class="points">426</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733707"
                  >Comments</a
                ><span class="descendants">: 317</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733525">
          <h3>
            <a
              class="item"
              href="https://www.exasol.com/blog/text-to-sql-governance/"
              >Text2SQL is dead – long live text2SQL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 14:43:19</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733525"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733412">
          <h3>
            <a
              class="item"
              href="https://crates.io/crates/oorandom#a-brief-history-of-random-numbers"
              >A brief history of random numbers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 14:34:18</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733412"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733329">
          <h3>
            <a
              class="item"
              href="https://basicappleguy.com/basicappleblog/the-airpods-pro-3-flight-problem"
              >The AirPods Pro 3 flight problem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 14:27:37</span
              ><span class="points-container"
                >Points: <span class="points">242</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733329"
                  >Comments</a
                ><span class="descendants">: 167</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733197">
          <h3>
            <a
              class="item"
              href="https://www.npr.org/2025/10/28/nx-s1-5587932/washington-post-editorials-omit-a-key-disclosure-bezos-financial-ties"
              >Washington Post editorials omit a key disclosure: Bezos'
              financial ties</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 14:16:42</span
              ><span class="points-container"
                >Points: <span class="points">431</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733197"
                  >Comments</a
                ><span class="descendants">: 174</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45733169">
          <h3>
            <a class="item" href="https://andonlabs.com/evals/butter-bench"
              >Our LLM-controlled office robot can't pass butter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 14:13:25</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45733169"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
            <div class="text">
              <p>
                1. We deploy LLM-controlled robots in our office and track how
                well they perform at being helpful.
              </p>
              <p>
                2. We systematically test the robots on tasks in our office. We
                benchmark different LLMs against each other. You can read our
                paper "Butter-Bench" on arXiv:
                <a href="https://arxiv.org/pdf/2510.21860"
                  >https://arxiv.org/pdf/2510.21860</a
                >
              </p>
              <p>
                The link in the title above (<a
                  href="https://andonlabs.com/evals/butter-bench"
                  >https://andonlabs.com/evals/butter-bench</a
                >) leads to a blog post + leaderboard comparing which LLM is the
                best at our robotic tasks.
              </p>
            </div>
          </section>
        </section>
        <section id="45732874">
          <h3>
            <a
              class="item"
              href="https://blog.ui.com/article/welcome-to-sfp-liberation-day"
              >Ubiquiti SFP Wizard</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 13:48:51</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45732874"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45732670">
          <h3>
            <a
              class="item"
              href="https://ijmpr.in/article/the-role-of-vitamin-d-supplementation-in-the-prevention-of-acute-respiratory-infections-a-double-blind-randomized-controlled-trial-1327/"
              >Vitamin D reduces incidence and duration of colds in those with
              low levels</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 13:31:52</span
              ><span class="points-container"
                >Points: <span class="points">275</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45732670"
                  >Comments</a
                ><span class="descendants">: 188</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45732552">
          <h3>
            <a class="item" href="https://github.com/7mind/sick"
              >Sick: Indexed deduplicated binary storage for JSON-like data
              structures</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 13:22:24</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45732552"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45732485">
          <h3>
            <a
              class="item"
              href="https://news.itsfoss.com/austrian-ministry-kicks-out-microsoft/"
              >Austrian ministry kicks out Microsoft in favor of Nextcloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 13:16:40</span
              ><span class="points-container"
                >Points: <span class="points">316</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45732485"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45732350">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/next-chapter-of-microsoft-openai-partnership/"
              >The next chapter of the Microsoft–OpenAI partnership</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 13:05:40</span
              ><span class="points-container"
                >Points: <span class="points">290</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45732350"
                  >Comments</a
                ><span class="descendants">: 405</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45731366">
          <h3>
            <a class="item" href="https://github.com/attogram/bash-screensavers"
              >Show HN: Bash Screensavers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 11:12:32</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45731366"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
            <div class="text">
              A github project to collect a bunch of bash-based
              screensavers/visualizations.
            </div>
          </section>
        </section>
        <section id="45730094">
          <h3>
            <a class="item" href="https://pokerbattle.ai/event"
              >Poker Tournament for LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-28 @ 07:42:18</span
              ><span class="points-container"
                >Points: <span class="points">258</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45730094"
                  >Comments</a
                ><span class="descendants">: 172</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45721352">
          <h3>
            <a class="item" href="https://issinrealtime.org"
              >Show HN: ISS in Real Time – 25 Years Aboard the International
              Space Station</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 14:25:00</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45721352"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <p>
                Here's an article that was just released about it:
                <a
                  href="https://www.collectspace.com/news/news-102725a-iss-in-real-time-25-years-continuous-human-occupancy-space-station.html"
                  >https://www.collectspace.com/news/news-102725a-iss-in-real-t...</a
                >
              </p>
              <p>
                I also wrote a "making of" post about it here:
                <a href="https://benfeist.com/posts/iss-in-real-time/"
                  >https://benfeist.com/posts/iss-in-real-time/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45719235">
          <h3>
            <a class="item" href="https://chrisparnin.me/pdf/emg.pdf"
              >Subvocalization: Toward Hearing the Inner Thoughts of Developers
              (2011) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-27 @ 10:14:53</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45719235"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45701546">
          <h3>
            <a
              class="item"
              href="https://www.massgeneralbrigham.org/en/about/newsroom/press-releases/research-shows-coordinated-shift-in-brain-activity-while-asleep"
              >How the brain's activity, energy use and blood flow change as
              people fall asleep</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-25 @ 05:30:57</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45701546"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45681913">
          <h3>
            <a class="item" href="https://snipettemag.com/cheese-crystals/"
              >Cheese Crystals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 14:00:37</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45681913"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45676029">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/emily-riehl-conducts-the-mathematical-orchestra-from-the-middle-20200902/"
              >Emily Riehl is rewriting the foundations of higher category
              theory (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-22 @ 22:34:24</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45676029"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
