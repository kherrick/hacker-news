<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="38213707">
          <h3>
            <a class="item" href="https://coedcherry.com/fuck-banks.html"
              >Why Is Coed Cherry Shutting Down?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-10 @ 01:11:23</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38213707"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38213590">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=38213590"
              >Imbue (Formerly Generally Intelligent) (YC S17) Is Hiring a Chief
              of Staff</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-10 @ 01:01:31</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                Machine Learning Engineer (SF or Remote, Contract or Full-time):
                <a
                  href="https://jobs.lever.co/imbue/9411e2ec-502a-403f-a39a-0d44c676b6af?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/9411e2ec-502a-403f-a39a-0d44c676...</a
                >
              </p>
              <p>
                Research Scientist (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/6c25a25c-35ec-4d7b-8d7e-40e9c4c85fba?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/6c25a25c-35ec-4d7b-8d7e-40e9c4c8...</a
                >
              </p>
              <p>
                Machine Learning Research Engineer (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/c2f4a435-1eef-489a-9972-fba95e4a0296?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/c2f4a435-1eef-489a-9972-fba95e4a...</a
                >
              </p>
              <p>
                Systems Engineer (Remote or SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/7afede07-8f22-4c49-b247-19e1a0ca6953?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/7afede07-8f22-4c49-b247-19e1a0ca...</a
                >
              </p>
              <p>
                Technical Lead Manager (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/9ce44b67-04ca-4da1-b845-6995c62aaf8b?lever-origin=applied&amp;lever-source%5B%5D=YCombinator"
                  >https://jobs.lever.co/imbue/9ce44b67-04ca-4da1-b845-6995c62a...</a
                >
              </p>
              <p>
                Infrastructure Engineer (Remote or SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/e66a55a3-a117-406c-9b07-8ba055047cea?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/e66a55a3-a117-406c-9b07-8ba05504...</a
                >
              </p>
              <p>
                Senior Software Engineer (Remote or SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/38a93a78-fb8d-4614-bb12-b6277a7f874e?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/38a93a78-fb8d-4614-bb12-b6277a7f...</a
                >
              </p>
              <p>
                Technical Interviewer (Remote or SF, Full-time/Contract):
                <a
                  href="https://jobs.lever.co/imbue/8443234d-a8c7-439f-bb8a-8142e713edc4?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/8443234d-a8c7-439f-bb8a-8142e713...</a
                >
              </p>
              <p>
                Chief of Staff (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/f5d04435-cfb5-4e3a-9269-8c5bda3ede50?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/f5d04435-cfb5-4e3a-9269-8c5bda3e...</a
                >
              </p>
              <p>
                Engineering Manager (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/75fac008-22e5-49ab-9f4e-a4c459b52b41?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/75fac008-22e5-49ab-9f4e-a4c459b5...</a
                >
              </p>
              <p>
                Founding Product Engineer (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/0764f1c0-89e5-452f-ab41-ff1d1ba8fd6a?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/0764f1c0-89e5-452f-ab41-ff1d1ba8...</a
                >
              </p>
              <p>
                Head of Data Engineering (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/05c940e7-ec08-4eb1-87c1-3dbb05a91e76?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/05c940e7-ec08-4eb1-87c1-3dbb05a9...</a
                >
              </p>
              <p>
                Prototype Engineer (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/d856bff5-776c-477d-a621-ffbe79bf429f?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/d856bff5-776c-477d-a621-ffbe79bf...</a
                >
              </p>
              <p>
                Software Engineer, Data (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/b7e42bb4-e3e4-4022-a563-556f890bbe68?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/b7e42bb4-e3e4-4022-a563-556f890b...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="38213343">
          <h3>
            <a
              class="item"
              href="https://www.biorxiv.org/content/10.1101/2023.10.10.561303v1"
              >Widespread drastic reduction of brain myelin upon prolonged
              endurance exercise</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-10 @ 00:30:03</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38213343"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38213325">
          <h3>
            <a
              class="item"
              href="https://www.leemeichin.com/posts/lemmings.html"
              >Lemmings</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-10 @ 00:27:38</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38213325"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38213158">
          <h3>
            <a
              class="item"
              href="https://two-wrongs.com/typing-fast-is-about-latency-not-throughput"
              >Typing Fast Is About Latency, Not Throughput</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-10 @ 00:06:00</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38213158"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38213097">
          <h3>
            <a
              class="item"
              href="https://softwareengineering.stackexchange.com/questions/448256/why-is-int-in-c-in-practice-at-least-a-32-bit-type-today-despite-it-being-devel"
              >Why is int in C in practice at least a 32 bit?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:58:43</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38213097"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38213004">
          <h3>
            <a
              class="item"
              href="https://mc-stan.org/users/documentation/case-studies/sem.html"
              >Bayesian Structural Equation Modeling using blavaan</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:46:40</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38213004"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38212992">
          <h3>
            <a
              class="item"
              href="https://www.bbc.co.uk/news/technology-67366306"
              >Apple co-founder Steve Wozniak suffers minor stroke</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:45:05</span
              ><span class="points-container"
                >Points: <span class="points">235</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38212992"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38212904">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/business/energy-oil/the-2-million-coal-mine-that-might-hold-a-37-billion-treasure-181dbdcf"
              >Wyoming discovery could be America's first new source of
              rare-earths since 1952</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:31:42</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38212904"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38212749">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/obituaries/2023/11/09/frank-borman-astronaut-eastern-dead/"
              >Apollo astronaut Frank Borman has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:14:17</span
              ><span class="points-container"
                >Points: <span class="points">172</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38212749"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38212712">
          <h3>
            <a
              class="item"
              href="https://linuximpact.com/play-the-first-ever-text-adventure-game-in-your-linux-terminal/"
              >Play the first ever text adventure game in your Linux terminal</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:09:38</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38212712"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38212653">
          <h3>
            <a
              class="item"
              href="https://www.polygon.com/gaming/23939222/no-mans-sky-2023-review"
              >No Man's Sky just keeps getting better</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 23:03:34</span
              ><span class="points-container"
                >Points: <span class="points">117</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38212653"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38212538">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/science/superconductor-paper-retracted-journal-nature-ranga-dias-c437ce6e"
              >Room Temperature Superconductor Paper Retracted by Journal
              Nature</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 22:53:24</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38212538"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38211798">
          <h3>
            <a class="item" href="https://news.fiu.edu/2023/let-it-flow"
              >Restoring the Everglades to ensure South Florida's freshwater
              supply</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 21:45:32</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38211798"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38211383">
          <h3>
            <a
              class="item"
              href="https://going-medieval.com/2023/05/16/on-cats/"
              >On medieval cats</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 21:11:48</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38211383"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38210574">
          <h3>
            <a class="item" href="https://monaspace.githubnext.com/"
              >Monaspace</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 20:16:34</span
              ><span class="points-container"
                >Points: <span class="points">226</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38210574"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38209680">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/doctors-complete-first-successful-face-and-whole-eye-transplant/"
              >Doctors complete first successful face and whole-eye
              transplant</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 19:25:15</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38209680"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38208334">
          <h3>
            <a
              class="item"
              href="https://store.steampowered.com/sale/steamdeck_2023"
              >Steam Deck OLED</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 17:55:02</span
              ><span class="points-container"
                >Points: <span class="points">718</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38208334"
                  >Comments</a
                ><span class="descendants">: 506</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38207743">
          <h3>
            <a
              class="item"
              href="https://www.righto.com/2023/11/reverse-engineering-intel-386.html"
              >Reverse engineering the Intel 386 processor's register cell</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 17:11:56</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38207743"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38207307">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=38207307"
              >I'm Peter Roberts, immigration attorney who does work for YC and
              startups. AMA</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 16:43:00</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38207307"
                  >Comments</a
                ><span class="descendants">: 220</span></span
              >
            </h4>
            <div class="text">
              I'll be here for the next 4-5 hours and then again for anther 2
              hours. I'll be guided by whatever you're concerned with. Please
              remember that I can't provide legal advice on specific cases for
              obvious liability reasons since I won't have access to all the
              facts and documents. Please stick to a factual discussion in your
              questions and comments and I'll try to do the same in my answers!
            </div>
          </section>
        </section>
        <section id="38207024">
          <h3>
            <a class="item" href="https://shreyans.org/google"
              >What I learned getting acquired by Google</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 16:20:56</span
              ><span class="points-container"
                >Points: <span class="points">691</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38207024"
                  >Comments</a
                ><span class="descendants">: 416</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38206973">
          <h3>
            <a class="item" href="https://www.nango.dev?source=hn-nov-2023"
              >Show HN: Nango – Open unified API for product integrations</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 16:17:35</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38206973"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <p>
                Other integration companies have focused on building a lot of
                pre-built integrations. These are fast to ship and low
                maintenance, but they limit how deeply you can integrate with
                the external APIs.
              </p>
              <p>
                We take a different approach: we make it easier for developers
                to build and maintain product integrations in code. This lets
                you create exactly the integration your customers need without
                compromising on speed and maintainability, and without having to
                build complex infrastructure (OAuth, retries, rate-limit
                handling, change detection, monitoring &amp; logging, alerting,
                etc.).
              </p>
              <p>
                Our platform has two layers: (1) An API-agnostic infrastructure
                built with Temporal and Postgres, and (2) lambda function-like
                integrations written in typescript by any developer.
              </p>
              <p>
                Integrations are rarely more than 50 lines of code (here is an
                example:
                <a href="https://bit.ly/nango-example"
                  >https://bit.ly/nango-example</a
                >), thanks to the developer tooling we’ve built in:
                authentication, pagination, retries, change detection,
                rate-limit handling, monitoring, Slack alerts, etc.
              </p>
              <p>
                We have pre-built integration templates you can clone and
                extend—or you can build entirely custom integrations. Your
                integrations live in your repo and are tested and deployed to
                Nango with a CLI.
              </p>
              <p>
                In your product, you use a single API to interact with all your
                integrations. This lets you easily grow the available
                integrations with minimal code changes in your product.
              </p>
              <p>
                As a community-driven project, anybody can contribute
                integration templates and APIs to the platform. In fact, more
                than 30% of the APIs we support today have been contributed by
                our community.
              </p>
              <p>
                Nango grew out of a “universal OAuth” project called Pizzly and
                powers the integrations of 100+ SaaS products today. We have an
                active community of 800+ developers (<a
                  href="https://nango.dev/slack"
                  >https://nango.dev/slack</a
                >).
              </p>
              <p>
                All auth-related features are free forever, and we monetize with
                sync-related features. The entire code base and all integrations
                are source-available:
                <a href="https://github.com/NangoHQ/nango"
                  >https://github.com/NangoHQ/nango</a
                >.
              </p>
              <p>
                We hope Nango can help connect all SaaS products together and
                look forward to your feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="38205357">
          <h3>
            <a
              class="item"
              href="https://www.threads.net/@waxpancake/post/CzbS-cVuGgn"
              >You Win or You Learn</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 14:25:27</span
              ><span class="points-container"
                >Points: <span class="points">235</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38205357"
                  >Comments</a
                ><span class="descendants">: 147</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38204378">
          <h3>
            <a class="item" href="https://codeberg.org/gsou/LCL"
              >An implementation of Common Lisp targeting Lua</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 12:54:39</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38204378"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38203668">
          <h3>
            <a
              class="item"
              href="https://www.folklore.org/StoryView.py?story=Calculator_Construction_Set.txt"
              >Calculator Construction Set</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 11:26:35</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38203668"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38203574">
          <h3>
            <a
              class="item"
              href="https://startupceo.com/2023/11/everything-vs-anything"
              >Everything vs. Anything</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 11:13:20</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38203574"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38202729">
          <h3>
            <a class="item" href="http://mbtaviz.github.io/"
              >An interactive exploration of Boston's subway system</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 09:12:47</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38202729"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38200532">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2023/10/25/books/review/the-greatest-capitalist-who-ever-lived-ralph-watson-mcelvenny-marc-wortman.html"
              >The father-son struggle that helped ensure IBM's success</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 02:54:10</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38200532"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38199869">
          <h3>
            <a
              class="item"
              href="https://blog.gingerbeardman.com/2023/11/09/early-computer-art-by-barbara-nessim/"
              >Early computer art by Barbara Nessim (1984)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-09 @ 01:39:06</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38199869"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38185911">
          <h3>
            <a class="item" href="https://github.com/BrokeStudio/rainbow-net"
              >Rainbow Net Wi-Fi protocol for connecting old consoles to the
              Internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-11-08 @ 02:12:52</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38185911"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
