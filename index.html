<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40658095">
          <h3>
            <a
              class="item"
              href="https://www.tomshardware.com/pc-components/cpus/intel-is-trucking-a-916000-pound-super-load-across-ohio-to-its-new-fab-spawning-road-closures-over-nine-days"
              >Intel is trucking a 916,000-pound 'Super Load' across Ohio to its
              new fab</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 13:45:46</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40658095"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40657937">
          <h3>
            <a class="item" href="https://datasetsearch.research.google.com/"
              >Google Dataset Search Engine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 13:28:42</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40657937"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40657890">
          <h3>
            <a class="item" href="https://iterm2.com/ai-plugin.html"
              >iTerm2 v3.5.1 moves AI features into external plugin</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 13:25:19</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40657890"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40657238">
          <h3>
            <a
              class="item"
              href="https://gizmodo.com/ai-detectors-inaccurate-freelance-writers-fired-1851529820"
              >AI Detectors Get It Wrong. Writers Are Being Fired Anyway</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 12:19:02</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40657238"
                  >Comments</a
                ><span class="descendants">: 117</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40657138">
          <h3>
            <a
              class="item"
              href="https://ia600908.us.archive.org/30/items/436142-samsung-relative-evaluation-report-on-s1-iphone/436142-samsung-relative-evaluation-report-on-s1-iphone.pdf"
              >Samsung Document Showed 126 Ways iPhone Was Better Than S1 (2010)
              [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 12:07:19</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40657138"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40657088">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40657088"
              >Fini (YC S22) Is Hiring a Front-End Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 12:01:01</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                The role: As a Front End Engineer, you'll lead front-end
                engineering, design intuitive UIs, create technical roadmaps,
                and collaborate with other frontend, backend and ML engineers.
              </p>
              <p>
                Must have 3-5 years of experience with React/Vue/Angular,
                leading architectural direction and a large dose of
                independence. Bonus for UX, AI/ML facing work. Our tech stack
                includes React, TypeScript/NodeJS, and Python ML APIs.
              </p>
              <p>
                Apply: The process includes a chat with the founders, and a
                tailored evaluation (work trial, take-home or code review)
                suited to your wishes. We offer competitive compensation,
                equity, flexible schedules, and the latest gear. Remote role
                with the opportunity for quarterly/biannual meetups. Office
                available in Amsterdam. Email your resume with the subject
                'Front End Engineer Application' to hello [at] usefini.com
              </p>
            </div>
          </section>
        </section>
        <section id="40656915">
          <h3>
            <a
              class="item"
              href="https://giuliomagnifico.blog/tips/2024/06/12/chatgpt-before-ios18.html"
              >Show HN: I 'integrated' ChatGPT in iOS-iPadOS-macOS with out
              official support</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 11:39:36</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40656915"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40656747">
          <h3>
            <a
              class="item"
              href="https://elixir-lang.org/blog/2024/06/12/elixir-v1-17-0-released/"
              >Elixir 1.17 released: set-theoretic types in patterns, durations,
              OTP 27</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 11:13:52</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40656747"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40656603">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2024/06/11/raspberry-pi-is-now-a-public-company-as-its-shares-pops-after-ipo-pricing/"
              >Raspberry Pi is now a public company</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 10:48:39</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40656603"
                  >Comments</a
                ><span class="descendants">: 180</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40654190">
          <h3>
            <a
              class="item"
              href="https://www.stefantheard.com/silicon-valleys-best-kept-secret-founder-liquidity/"
              >Silicon Valley's best kept secret: Founder liquidity</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 03:32:43</span
              ><span class="points-container"
                >Points: <span class="points">950</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40654190"
                  >Comments</a
                ><span class="descendants">: 379</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40653125">
          <h3>
            <a class="item" href="https://frereit.de/aes_gcm/"
              >AES-GCM and breaking it on nonce reuse</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-12 @ 00:09:23</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40653125"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40650173">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2024/06/06/technology/bnn-breaking-ai-generated-news.html"
              >The Rise and Fall of BNN Breaking, an AI-Generated News Outlet</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 19:06:39</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40650173"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40648960">
          <h3>
            <a class="item" href="https://arcprize.org/blog/launch"
              >ARC Prize – a $1M+ competition towards open AGI progress</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 17:19:41</span
              ><span class="points-container"
                >Points: <span class="points">501</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40648960"
                  >Comments</a
                ><span class="descendants">: 246</span></span
              >
            </h4>
            <div class="text">
              <p>
                ARC-AGI is (to our knowledge) the only eval which measures AGI:
                a system that can efficiently acquire new skill and solve novel,
                open-ended problems. Most AI evals measure skill directly vs the
                acquisition of new skill.
              </p>
              <p>
                Francois created the eval in 2019, SOTA was 20% at inception,
                SOTA today is only 34%. Humans score 85-100%. 300 teams
                attempted ARC-AGI last year and several bigger labs have
                attempted it.
              </p>
              <p>
                While most other skill-based evals have rapidly saturated to
                human-level, ARC-AGI was designed to resist “memorization”
                techniques (eg. LLMs)
              </p>
              <p>
                Solving ARC-AGI tasks is quite easy for humans (even children)
                but impossible for modern AI. You can try ARC-AGI tasks yourself
                here:
                <a href="https://arcprize.org/play"
                  >https://arcprize.org/play</a
                >
              </p>
              <p>
                ARC-AGI consists of 400 public training tasks, 400 public test
                tasks, and 100 secret test tasks. Every task is novel. SOTA is
                measured against the secret test set which adds to the
                robustness of the eval.
              </p>
              <p>
                Solving ARC-AGI tasks requires no world knowledge, no
                understanding of language. Instead each puzzle requires a small
                set of “core knowledge priors” (goal directedness, objectness,
                symmetry, rotation, etc.)
              </p>
              <p>
                At minimum, a solution to ARC-AGI opens up a completely new
                programming paradigm where programs can perfectly and reliably
                generalize from an arbitrary set of priors. At maximum, unlocks
                the tech tree towards AGI.
              </p>
              <p>Our goal with this competition is:</p>
              <p>
                1. Increase the number of researchers working on frontier AGI
                research (vs tinkering with LLMs). We need new ideas and the
                solution is likely to come from an outsider! 2. Establish a
                popular, objective measure of AGI progress that the public can
                use to understand how close we are to AGI (or not). Every new
                SOTA score will be published here:
                <a href="https://x.com/arcprize">https://x.com/arcprize</a> 3.
                Beat ARC-AGI and learn something new about the nature of
                intelligence.
              </p>
              <p>Happy to answer questions!</p>
            </div>
          </section>
        </section>
        <section id="40648470">
          <h3>
            <a class="item" href="https://en.wikipedia.org/wiki/Lynn_Conway"
              >Lynn Conway has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 16:44:11</span
              ><span class="points-container"
                >Points: <span class="points">1577</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40648470"
                  >Comments</a
                ><span class="descendants">: 305</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40648193">
          <h3>
            <a class="item" href="https://github.com/coqui-ai/TTS"
              >Coqui.ai TTS: A Deep Learning Toolkit for Text-to-Speech</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 16:25:16</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40648193"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40646741">
          <h3>
            <a class="item" href="https://github.com/redotvideo/revideo"
              >Show HN: Revideo – Create Videos with Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 14:43:31</span
              ><span class="points-container"
                >Points: <span class="points">260</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40646741"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/redotvideo/revideo"
                >https://github.com/redotvideo/revideo</a
              >), an open source framework for programmatic video editing.
              <p>
                Revideo lets you create video templates in Typescript and render
                them with dynamic inputs through an API. It also comes with a
                &lt;Player /&gt; component that lets you preview your projects
                in the browser and integrate video editing functionality into
                web apps.
              </p>
              <p>
                The project is useful for anyone who wants to build apps that
                automate certain video editing tasks. A lot of companies in the
                space build their own custom stack for this, like Opus (<a
                  href="https://www.opus.pro/"
                  >https://www.opus.pro/</a
                >), which automatically creates highlight videos from podcasts,
                or Clueso (<a href="https://www.clueso.io/"
                  >https://www.clueso.io/</a
                >), which lets you create stutter-free product walkthroughs with
                AI voiceovers.
              </p>
              <p>
                Revideo is based on the HTML Canvas API and is forked from
                Motion Canvas (<a
                  href="https://github.com/motion-canvas/motion-canvas"
                  >https://github.com/motion-canvas/motion-canvas</a
                >), a tool that lets you create canvas animations. While Motion
                Canvas is intended by its maintainer to exclusively be a
                standalone application [1], we have turned Revideo into a
                library that developers can integrate into their apps, while
                specifically focusing on video use cases. To support this, we
                have, among other things, added the ability to do headless
                rendering, made video rendering much faster and added support
                for syncing and exporting audio.
              </p>
              <p>
                We’re excited about programmatic video editing because of the
                possibility to automate content creation with AI. One of our
                users is building StoriesByAngris (<a
                  href="https://storiesbyangris.com/"
                  >https://storiesbyangris.com/</a
                >), which lets you create video-based RPG stories from language
                prompts. Other users are marketing-tech companies that help
                their customers generate and A/B test different versions of
                video ads.
              </p>
              <p>
                We started to work on video tooling because we ourselves
                explored a bunch of product ideas in the space of AI-based video
                creation earlier this year. For example, we built apps that
                automatically create educational short videos and tinkered with
                apps that let you create memes.
              </p>
              <p>
                While building these products, we were frustrated with the video
                editing frameworks we used: Moviepy (<a
                  href="https://github.com/Zulko/moviepy"
                  >https://github.com/Zulko/moviepy</a
                >), which we used initially, doesn’t work in the browser, so
                we’d often have to wait minutes for a video to render just to
                test our code changes. Remotion (<a
                  href="https://github.com/remotion-dev/remotion"
                  >https://github.com/remotion-dev/remotion</a
                >), which we switched to later, is pretty good, but we didn’t
                want to rely on it as it is not FOSS (source-available only).
              </p>
              <p>
                We had already followed Motion Canvas for some time and really
                liked it, so we thought that extending it would get us to
                something useful much faster than building an animation library
                from scratch. We initially tried to build Revideo as a set of
                Motion Canvas plugins, but we soon realized that the changes we
                were making were too drastic and far too complex to fit into
                plugins. This is why we ultimately created a fork. We’re unsure
                if this is the right way to go in the long term, and would
                prefer to find a way to build Revideo without feeling like we’re
                dividing the community - if you have experience with this
                (keeping forks with complex changes in sync with upstream) or
                other suggestions on how to solve this, we’d love your input.
              </p>
              <p>
                Our current focus is improving the open source project. In the
                long term, we want to make money by building a rendering service
                for developers building apps with Revideo.
              </p>
              <p>
                We’d love to hear your feedback and suggestions on what we can
                improve! You can find our repo at
                <a href="https://github.com/redotvideo/revideo"
                  >https://github.com/redotvideo/revideo</a
                >, and you can explore example projects at
                <a href="https://github.com/redotvideo/examples"
                  >https://github.com/redotvideo/examples</a
                >
              </p>
              <p>
                [1] “Motion Canvas is not a normal npm package. It's a
                standalone tool that happens to be distributed via npm.” -
                <a href="https://github.com/orgs/motion-canvas/discussions/1015"
                  >https://github.com/orgs/motion-canvas/discussions/1015</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="40646312">
          <h3>
            <a
              class="item"
              href="https://briefer.cloud/blog/posts/self-serve-bi-myth/"
              >Self-Serve Dashboards</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 14:04:36</span
              ><span class="points-container"
                >Points: <span class="points">228</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40646312"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40646061">
          <h3>
            <a class="item" href="https://dgroshev.com/blog/rp2040/"
              >I like the RP2040</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 13:39:49</span
              ><span class="points-container"
                >Points: <span class="points">588</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40646061"
                  >Comments</a
                ><span class="descendants">: 329</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40645743">
          <h3>
            <a class="item" href="https://unforget.computing-den.com/demo"
              >Show HN: Unforget, the note-taking app I always wanted: offline
              first, encrypted</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 13:02:23</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40645743"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
            <div class="text">
              <p>Features include:</p>
              <p></p>
              <pre><code>  - import from Google Keep
  - offline first including search
  - sync when online
  - own your data and fully encrypted
  - Desktop, mobile, web
  - lightweight, progressive web app without Electron.js
  - markdown support
  - programmable with public APIs
  - open source [1]
</code></pre>
              While I still use org mode for long-form notes with lots of code,
              Unforget has become my go-to for quickly jotting down ideas and
              to-do lists after migrating the thousands of notes I had on Google
              Keep.
              <p>
                In addition, I'm thrilled to announce the opening of our
                software agency, Computing Den [2]. We specialize in helping
                businesses transition from legacy software, manual workflows,
                and Excel spreadsheets to modern, automated systems. Please get
                it touch to discuss how we can help you or if you wish to join
                our team.
              </p>
              <p>
                [1]
                <a href="https://github.com/computing-den/unforget"
                  >https://github.com/computing-den/unforget</a
                >
              </p>
              <p>
                [2]
                <a href="https://computing-den.com"
                  >https://computing-den.com</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="40645161">
          <h3>
            <a
              class="item"
              href="https://nyanpasu64.gitlab.io/blog/iron-gall-ink/"
              >Making iron gall ink from oak galls</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 11:54:24</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40645161"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40644605">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=zzKgnNGqxMw"
              >When Water Flows Uphill [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 10:33:03</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40644605"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40644366">
          <h3>
            <a
              class="item"
              href="https://news.artnet.com/art-world/medieval-game-pieces-emerge-from-the-ruins-of-a-mysterious-german-castle-2497815"
              >Medieval Game Pieces Emerge from the Ruins of a German Castle</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 09:51:48</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40644366"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40644261">
          <h3>
            <a
              class="item"
              href="https://andrewkchan.dev/posts/perspective-interpolation.html"
              >Perspective-Correct Interpolation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 09:35:34</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40644261"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40642803">
          <h3>
            <a class="item" href="https://tembo.io/blog/optimizing-memory-usage"
              >How to Get the Most Out of Postgres Memory Settings</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-11 @ 05:40:57</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40642803"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40640432">
          <h3>
            <a class="item" href="https://harpers.org/archive/1982/01/my-war/"
              >My War (1982)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-10 @ 23:19:52</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40640432"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40633766">
          <h3>
            <a class="item" href="https://jott.live/markdown/telnet_draw"
              >Show HN: Collaborative ASCII Drawing with Telnet</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-10 @ 13:58:55</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40633766"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40633650">
          <h3>
            <a
              class="item"
              href="https://jillianhess.substack.com/p/re-noted-francis-ford-coppolas-godfather"
              >Francis Ford Coppola's “Godfather Notebook”</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-10 @ 13:44:59</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40633650"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40633029">
          <h3>
            <a
              class="item"
              href="https://maggieappleton.com/home-cooked-software"
              >Home-Cooked Software and Barefoot Developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-10 @ 12:49:50</span
              ><span class="points-container"
                >Points: <span class="points">276</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40633029"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40632654">
          <h3>
            <a
              class="item"
              href="https://sciencenotes.org/how-to-make-colored-fire/"
              >How to make colored fire at home (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-10 @ 12:02:19</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40632654"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40623864">
          <h3>
            <a
              class="item"
              href="https://suanto.com/2024/06/06/the-time-I-built-an-ROV-01/"
              >I built an ROV to solve missing person cases</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-09 @ 12:02:19</span
              ><span class="points-container"
                >Points: <span class="points">1018</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40623864"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
