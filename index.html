<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="36997834">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/science-environment-66387537"
              >Ocean Heat Record Broken</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 10:11:53</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36997834"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36997821">
          <h3>
            <a
              class="item"
              href="https://twitter.com/andrewmccalip/status/1687405505604734978"
              >Andrew McCalip demonstrates synthesis of LK99</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 10:10:40</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36997821"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36997641">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=36997641"
              >Jam.gg (Formerly Piepacker) (YC S20) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 09:42:32</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                We are looking for a talented Senior Backend Game Developer to
                join our growing Studio team.
              </p>
              <p>
                Location: The candidate must be based in Europe within +/- 2
                hours of CET time zone.
              </p>
              <p>Start date: As soon as possible</p>
              <p>What you will be doing:</p>
              <p>
                As a Senior Back-end Game Developer, you will work as part of a
                small and autonomous game development team. You will enjoy a
                creative, challenging and collaborative environment where your
                ideas will be every bit as valued as your programming expertise.
                You will be reporting to an experienced Tech Director who will
                mainly focus on mentoring you and supporting your growth plan.
                You will contribute to the full development life cycle of our
                new game. You will be involved in all phases: conceptualization,
                design, development, testing, and release. You will help other
                developers to grow their skills by providing support and
                mentorship.
              </p>
              <p>What we are looking for:</p>
              <p>
                - Significant experience in game development: minimum of 5 years
                of experience as a developer. - Expert with Back-end game
                services like Playfab, EOS, Nakama or others - Advanced
                knowledge of Unity and C# - Knowledge of multi-threading
                programming - Knowledge of the constraints of Real Time
                persistent online games. - Extensive knowledge of cost
                limitation and data compression for Online Games. - Would be a
                real plus: Knowledge of the Go language and bindings generation,
                networking, DevOps, or LiveOps experience is a huge plus -
                Self-motivation: highly autonomous &amp; working capabilities. -
                Communication &amp; Team work: Excellent communication and
                organization skills, team spirit, proactivity. Active
                involvement in the game creation process by interacting with the
                rest of the team. Be able to interact at different stages of an
                asset production, from conception to implementation and
                animation. Desire to learn. - Excellent spoken and written
                communication skills (English)
              </p>
              <p>Benefits:</p>
              <p>
                - Unlimited holiday leave (minimum 5 weeks). - Monthly
                well-being allowance (mental well-being, sports, massage, etc.).
                - Home office allowance. - Fully remote &amp; flexible working
                hours. - Equal pay policy. - Equal maternity, paternity,
                adoption leave (18 weeks) after 1 year of seniority. -
                Maternity/Paternity/ Adoption subsidy of 3k euros after 1 year
                of seniority. - Stock option plan. - Health insurance
                compensation on a one-to-one basis, depending on geographical
                location &amp; company's policy. - Additional benefits depending
                on the geographical location.
              </p>
              <p>
                Don't hesitate to send your resume at: hr@jam.gg or to apply on
                the following link
                <a href="https://jamgg.bamboohr.com/careers/33"
                  >https://jamgg.bamboohr.com/careers/33</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="36997434">
          <h3>
            <a class="item" href="https://www.beavernotes.com"
              >Beaver Notes: A Privacy-Focused Open-Source Note-Taking App</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 09:16:33</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36997434"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36997067">
          <h3>
            <a
              class="item"
              href="https://www.openwall.com/lists/oss-security/2023/08/03/1"
              >Mozilla VPN: CVE-2023-4104: vpndaemon wrongly implements Polkit
              authentication</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 08:25:36</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36997067"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36996287">
          <h3>
            <a
              class="item"
              href="https://blog.chromium.org/2023/08/redesigning-chrome-downloads-to-keep.html"
              >Redesigning Chrome Downloads</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 06:44:56</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36996287"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36995944">
          <h3>
            <a class="item" href="https://picolisp-explored.com"
              >PicoLisp Tutorials</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 05:53:09</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36995944"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36995466">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2023-07-earliest-glass-workshop-north-alps.html"
              >Earliest glass workshop north of the Alps discovered</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 04:24:58</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36995466"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36994214">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2308.01516"
              >Successful room temperature ambient-pressure magnetic levitation
              of LK-99</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 01:15:32</span
              ><span class="points-container"
                >Points: <span class="points">1412</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36994214"
                  >Comments</a
                ><span class="descendants">: 702</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36994122">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2308.01723"
              >Some remarks on possible superconductivity of composition
              Pb9CuP6O25</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 01:00:19</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36994122"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36994023">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=85BykUan6pw"
              >Storing dead people at -196°C [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 00:42:46</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36994023"
                  >Comments</a
                ><span class="descendants">: 124</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36993968">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/gadgets/2023/08/linux-surpasses-the-mac-among-steam-gamers/"
              >Linux surpasses the Mac among Steam gamers</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-04 @ 00:36:54</span
              ><span class="points-container"
                >Points: <span class="points">240</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36993968"
                  >Comments</a
                ><span class="descendants">: 191</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36992802">
          <h3>
            <a class="item" href="http://toastermuseum.com"
              >The worlds largest Online Toaster Exhibition</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 22:16:40</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36992802"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36992335">
          <h3>
            <a class="item" href="https://github.com/nukeykt/Nuked-MD-FPGA"
              >Nuked-MD-FPGA – Emulating Sega Mega Drive chipset using decapped
              chips photos</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 21:38:56</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36992335"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36991434">
          <h3>
            <a
              class="item"
              href="https://guochengqian.github.io/project/magic123/"
              >Magic123: One Image to High-Quality 3D Object Generation</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 20:34:42</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36991434"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36991293">
          <h3>
            <a
              class="item"
              href="https://github.com/ErwannMillon/Color-diffusion"
              >Color-Diffusion: using diffusion models to colorize black and
              white images</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 20:24:50</span
              ><span class="points-container"
                >Points: <span class="points">262</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36991293"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36990615">
          <h3>
            <a class="item" href="https://www.comigo.ai"
              >Cognitive AI for ADHD</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 19:30:52</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36990615"
                  >Comments</a
                ><span class="descendants">: 184</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36990215">
          <h3>
            <a
              class="item"
              href="https://bloodknife.com/everyone-beautiful-no-one-horny/"
              >Everyone Is Beautiful and No One Is Horny</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 19:01:05</span
              ><span class="points-container"
                >Points: <span class="points">268</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36990215"
                  >Comments</a
                ><span class="descendants">: 325</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36990162">
          <h3>
            <a
              class="item"
              href="https://www.ornl.gov/news/researchers-use-commercial-quantum-computer-identify-molecular-candidate-development-more"
              >Commercial quantum computer identifies molecular candidate for
              better solar cell</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 18:58:09</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36990162"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36989798">
          <h3>
            <a
              class="item"
              href="https://aws.amazon.com/blogs/aws/new-aws-public-ipv4-address-charge-public-ip-insights/"
              >AWS to begin charging for public IPv4 addresses</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 18:31:50</span
              ><span class="points-container"
                >Points: <span class="points">386</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36989798"
                  >Comments</a
                ><span class="descendants">: 309</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36989569">
          <h3>
            <a class="item" href="https://chrultrabook.github.io/docs/"
              >Chrultrabook – Modify a Chromebook to Run Windows/Linux/macOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 18:13:51</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36989569"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36987454">
          <h3>
            <a class="item" href="https://github.com/sweepai/sweep"
              >Launch HN: Sweep (YC S23) – A bot to create simple PRs in your
              codebase</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 15:45:58</span
              ><span class="points-container"
                >Points: <span class="points">157</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36987454"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
            <div class="text">
              <a href="https://sweep.dev/">https://sweep.dev/</a>). Sweep is an
              open-source AI-powered junior developer. You describe a feature or
              bugfix in a GitHub issue and Sweep writes a pull request with
              code. You can see some examples here:
              <a href="https://docs.sweep.dev/examples"
                >https://docs.sweep.dev/examples</a
              >.
              <p>
                Kevin and I met while working at Roblox. We talked to our
                friends who were junior developers and noticed a lot of them
                doing grunt work. We wanted to let them focus on important work.
                Copilot is great, but we realized some tasks could be completely
                offloaded to an AI (e.g. adding a banner to your webpage
                <a href="https://github.com/sweepai/landing-page/issues/225"
                  >https://github.com/sweepai/landing-page/issues/225</a
                >).
              </p>
              <p>
                Sweep does this with a code search engine. We use code chunking,
                ranking, and formatting tricks to represent your codebase in a
                token-efficient manner for LLMs. You might have seen our blog on
                code chunking here:
                <a href="https://news.ycombinator.com/item?id=36948403"
                  >https://news.ycombinator.com/item?id=36948403</a
                >.
              </p>
              <p>
                We take these fetched code snippets and come up with a plan to
                write the PR. We found that having the LLM provide structured
                information using XML tags is very robust, as it’s easy for us
                to parse with regex, has good support for multi-line answers and
                is hard for the LLM to mess up.
              </p>
              <p>
                This is because XML is common in the LLM’s training data (the
                internet / HTML), and the opening and closing tags rarely appear
                naturally in text and code, unlike the quotations, brackets,
                backticks and newlines used by JSON’s and markdown’s delimiters.
                Further, XML lets you skip the preamble (“This question has to
                do with xyz. Here is my answer:”) and handles multi-line answers
                like PR plans and code really well. For example, we ask the LLM
                for the new code in &lt;new_code&gt; tags and a final boolean
                answer by writing &lt;answer&gt;True&lt;/answer&gt;.
              </p>
              <p>
                We use this XML format to get the LLM to create a plan,
                generating a list of files to create and modify from the
                retrieved relevant files. We iterate through the file changes
                and edit/create the necessary files. Finally, we push the
                commits to GitHub and create the PR.
              </p>
              <p>
                We’ve been using Sweep to handle small issues in Sweep’s own
                repo (it recently passed 100 commits). We’ve become well
                acquainted with its limitations. For example, Sweep sometimes
                leave unimplemented functions with just “# rest of code” since
                it runs on GPT-4, a model tuned for chatting. Other times,
                there’s minor syntax errors or undefined variables. This is why
                we spend the other half of our time building self-recovery
                methods for Sweep to fix and test its PRs.
              </p>
              <p>
                First, we invite the developer to review and add comments to
                Sweep’s pull request. This helps to a point, but Sweep’s code
                sometimes wouldn’t lint. This is table stakes. It’s frustrating
                to have to tell the bot to “add an import here” or “this
                variable is undefined”. To make this better, we used GitHub
                Actions, which automatically runs the flow of “check the code →
                tell sweep → sweep fixes the code → check the code again”. We
                like this flow because you might already have GitHub Actions,
                and it’s fully configurable. Check out this blog to learn more
                <a href="https://docs.sweep.dev/blogs/giving-dev-tools"
                  >https://docs.sweep.dev/blogs/giving-dev-tools</a
                >.
              </p>
              <p>
                So far, Sweep isn’t that fast, can’t handle massive problems
                yet, and doesn’t write hundreds of lines of code. We’re excited
                to work towards that. In the meantime, a lot of our users have
                been able to get useful results. For example, a user reported
                that an app was not working correctly on Windows, and Sweep
                wrote the PR at
                <a href="https://github.com/sweepai/sweep/pull/368/files"
                  >https://github.com/sweepai/sweep/pull/368/files</a
                >, replacing all occurrences of "/tmp" with
                "tempfile.gettempdir()". Other examples include adding a
                validation function for Github branch name (<a
                  href="https://github.com/sweepai/sweep/pull/461"
                  >https://github.com/sweepai/sweep/pull/461</a
                >) and adding dynamically generated initials in the testimonials
                on our landing page (<a
                  href="https://github.com/wwzeng1/landing-page/issues/28"
                  >https://github.com/wwzeng1/landing-page/issues/28</a
                >). For more examples, checkout
                <a href="https://docs.sweep.dev/examples"
                  >https://docs.sweep.dev/examples</a
                >.
              </p>
              <p>
                Our focus is on finding ways that an AI dev can actually help
                and not just be a novelty. I think of my daily capacity to write
                good code as a stamina bar. There’s a fixed cost to opening an
                IDE, finding the right lines of code, and making changes. If
                you’re working on a big feature and have to context switch, the
                cost is higher. I’ve been leaving the small changes to Sweep,
                and my stamina bar stays full for longer.
              </p>
              <p>
                Our repo is at
                <a href="https://github.com/sweepai/sweep"
                  >https://github.com/sweepai/sweep</a
                >, there’s a demo video at
                <a href="https://www.youtube.com/watch?v=WBVna_ow8vo"
                  >https://www.youtube.com/watch?v=WBVna_ow8vo</a
                >, and you can install Sweep here:
                <a href="https://github.com/apps/sweep-ai"
                  >https://github.com/apps/sweep-ai</a
                >. We currently have a freemium model, with 5 GPT-4 PRs at the
                free tier, 120 GPT-4 PRs at the paid tier and unlimited at the
                enterprise tier.
              </p>
              <p>
                We’re far from our vision of a full AI software engineer, but
                we’re excited to work on it with the community feedback :).
                Looking forward to hearing any of your thoughts!
              </p>
            </div>
          </section>
        </section>
        <section id="36985232">
          <h3>
            <a
              class="item"
              href="https://www.bbc.co.uk/news/science-environment-66384632"
              >Peruvian fossil challenges blue whales for size</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 12:55:14</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36985232"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36983841">
          <h3>
            <a
              class="item"
              href="http://web.archive.org/web/20130302161137/http://www.vincentverhagen.nl/2009/06/13/what-does-the-pipe-value-mean-in-the-output-of-ping/"
              >What does the “pipe” value mean in the output of “ping”?
              (2009)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 10:27:17</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36983841"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36983704">
          <h3>
            <a
              class="item"
              href="https://bkhome.org/news/202112/why-iso-was-retired.html"
              >Why ISO was retired (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 10:06:02</span
              ><span class="points-container"
                >Points: <span class="points">115</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36983704"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36983599">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=6x0xmMcaWRI"
              >How the World’s Most Famous Scream Was Recovered</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 09:52:18</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36983599"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36982245">
          <h3>
            <a class="item" href="https://www.django-unicorn.com/"
              >Unicorn – A full-stack web framework for Django</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 06:48:26</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36982245"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36982067">
          <h3>
            <a
              class="item"
              href="https://lithub.com/on-the-link-between-lyme-disease-and-bioweapons/"
              >On the link between Lyme disease and bioweapons (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-03 @ 06:17:29</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36982067"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36973736">
          <h3>
            <a
              class="item"
              href="https://jakeseliger.com/2023/08/02/if-youre-involved-in-drug-development-and-have-first-hand-knowledge-of-the-fdas-torpor-get-in-touch/"
              >If you have first-hand knowledge of the FDA’s torpor, get in
              touch</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-02 @ 17:11:36</span
              ><span class="points-container"
                >Points: <span class="points">248</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36973736"
                  >Comments</a
                ><span class="descendants">: 162</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36968925">
          <h3>
            <a class="item" href="https://puzzles.nigelcoldwell.co.uk/"
              >A collection of quant riddles with answers</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-02 @ 10:04:37</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36968925"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
