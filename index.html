<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41115941">
          <h3>
            <a
              class="item"
              href="https://ogiekako.vercel.app/blog/find_mkdir_tc"
              >`find` + `mkdir` is Turing complete</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-31 @ 02:22:41</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41115941"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41115911">
          <h3>
            <a class="item" href="https://a16z.com/nobody-cares/"
              >Nobody Cares</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-31 @ 02:16:09</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41115911"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41115619">
          <h3>
            <a
              class="item"
              href="https://blog.activision.com/activision/2024/activision-releases-call-of-duty-warzone-caldera-data-set"
              >Call of Duty: Warzone Caldera Data Set for Academic Use</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-31 @ 01:06:09</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41115619"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41115591">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/new-superconductor-microprocessor-yields-a-substantial-boost-in-efficiency"
              >Superconducting Microprocessors? Turns Out They're
              Ultra-Efficient (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-31 @ 01:00:26</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41115591"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41115128">
          <h3>
            <a class="item" href="https://github.com/facundoolano/ngtop"
              >Ngtop – Request analytics from the Nginx access logs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 23:31:33</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41115128"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41114935">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/metaphysical-experiments-test-hidden-assumptions-about-reality-20240730"
              >Metaphysical Experiments Probe Our Hidden Assumptions About
              Reality</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 22:56:07</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41114935"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41114839">
          <h3>
            <a
              class="item"
              href="https://blog.trailofbits.com/2024/07/30/our-audit-of-homebrew/"
              >Our audit of Homebrew</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 22:39:21</span
              ><span class="points-container"
                >Points: <span class="points">356</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41114839"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41114825">
          <h3>
            <a
              class="item"
              href="https://shwin.co/blog/creativity-fundamentally-comes-from-memorization"
              >Creativity fundamentally comes from memorization</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 22:37:24</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41114825"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41114601">
          <h3>
            <a
              class="item"
              href="https://eli.thegreenplace.net/2024/building-static-binaries-with-go-on-linux/"
              >Building static binaries with Go on Linux</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 22:07:53</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41114601"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41114569">
          <h3>
            <a class="item" href="https://lock.cmpxchg8b.com/slowterm.html"
              >Troubleshooting: Terminal Lag</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 22:04:39</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41114569"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41113408">
          <h3>
            <a
              class="item"
              href="https://www.centauri-dreams.org/2024/07/24/on-astronomical-accidents-and-the-proxima-centauri-signal-that-wasnt/"
              >Astronomical Accidents, and the Proxima Centauri 'Signal' That
              Wasn't</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 19:48:42</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41113408"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41112854">
          <h3>
            <a class="item" href="https://porffor.dev/"
              >Porffor: A from-scratch experimental ahead-of-time JS engine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 18:55:10</span
              ><span class="points-container"
                >Points: <span class="points">302</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41112854"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41112103">
          <h3>
            <a
              class="item"
              href="https://browncs1951x.github.io/static/files/hitchhikersguide.pdf"
              >The Hitchhiker's Guide to Logical Verification [pdf] (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 17:51:08</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41112103"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41111790">
          <h3><a class="item" href="https://quint-lang.org/">Quint</a></h3>
          <section>
            <h4>
              <span>2024-07-30 @ 17:25:47</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41111790"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41111145">
          <h3>
            <a
              class="item"
              href="https://www.texastribune.org/2024/07/30/texas-meta-facebook-biometric-data-settlement/"
              >Meta to pay Texas $1.4B for using facial recognition without
              users' permission</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 16:41:13</span
              ><span class="points-container"
                >Points: <span class="points">320</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41111145"
                  >Comments</a
                ><span class="descendants">: 199</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41111129">
          <h3>
            <a
              class="item"
              href="https://www.swift.org/blog/announcing-swift-homomorphic-encryption/"
              >Swift Homomorphic Encryption</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 16:40:13</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41111129"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41111115">
          <h3>
            <a class="item" href="https://www.stat.cmu.edu/~cshalizi/TALR/"
              >The Truth About Linear Regression (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 16:38:40</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41111115"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41110866">
          <h3>
            <a
              class="item"
              href="https://blog.gingerbeardman.com/2024/07/30/taking-command-of-the-context-menu-in-macos/"
              >Taking command of the Context Menu in macOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 16:20:45</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41110866"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41110850">
          <h3>
            <a class="item" href="https://github.com/ssoready/ssoready"
              >Launch HN: SSOReady (YC W24) – Making SAML SSO painless and open
              source</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 16:19:45</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41110850"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/ssoready/ssoready"
                >https://github.com/ssoready/ssoready</a
              >).
              <p>
                SSOReady is an open-source (MIT) service that lets you implement
                SAML single sign-on without ever touching SAML yourself. You
                just need to implement two API endpoints: one to initiate SAML
                logins and another to receive incoming SAML messages. And then
                you're pretty much done.
              </p>
              <p>
                Here's me setting up SAML single sign-on in under a minute: (<a
                  href="https://www.youtube.com/watch?v=_HVtFkW8xCI"
                  >https://www.youtube.com/watch?v=_HVtFkW8xCI</a
                >).
              </p>
              <p>
                You can use our service with whatever tech stack or programming
                language you prefer.
              </p>
              <p>
                Earlier in my career, I worked on SAML authentication at
                Segment. I've been pretty obsessed with SAML since then. In the
                depths of the COVID pandemic, I even wrote an implementation of
                SAML in Go to entertain myself (<a
                  href="https://github.com/ucarion/saml"
                  >https://github.com/ucarion/saml</a
                >).
              </p>
              <p>
                Over the years, I've gotten really itchy to build better SAML
                tooling. There just aren't a lot of great options out there.
                Almost no one seems interested in making SAML easy for
                developers. Almost no one seems interested in writing clear
                documentation.
              </p>
              <p>
                We're hoping to change that with SSOReady. We've open-sourced
                our codebase on an MIT license. You can do pretty much whatever
                you want with the code. Fork us. Self-host us.
              </p>
              <p>We've also made the product entirely free.</p>
              <p>
                Why free and open source? We're focused solitarily on becoming
                developers' first choice for SAML SSO. If it makes developers'
                lives easier, it works for us. We expect to monetize in the
                future by building extra features that serve large companies
                with complex needs. We don't see any point to being secretive or
                squeezing dollars out of small companies.
              </p>
              <p>
                I'd be thrilled if you gave the product a try, and I'd be really
                grateful for any feedback on your experience.
              </p>
              <p>
                If you have any questions or concerns, my cofounder Ned and I
                will stay active on this thread throughout the day. You can also
                reach us directly at founders@ssoready.com. (We really mean
                this! We want to hear from you!)
              </p>
            </div>
          </section>
        </section>
        <section id="41110269">
          <h3>
            <a
              class="item"
              href="https://www.darpa.mil/program/translating-all-c-to-rust"
              >Translating All C to Rust (TRACTOR)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 15:42:06</span
              ><span class="points-container"
                >Points: <span class="points">262</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41110269"
                  >Comments</a
                ><span class="descendants">: 215</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41108884">
          <h3>
            <a class="item" href="https://siliconfolklore.com/internet-history/"
              >Was the Internet created to survive a nuclear strike? (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 13:20:14</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41108884"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41107480">
          <h3>
            <a
              class="item"
              href="https://www.bristol.ac.uk/news/2024/july/butterflies-static-electricity.html"
              >Butterflies accumulate static electricity to attract pollen
              without contact</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 09:32:56</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41107480"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41106686">
          <h3>
            <a
              class="item"
              href="https://jstrieb.github.io/posts/c-reflection-zig/"
              >C Macro Reflection in Zig</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 06:57:53</span
              ><span class="points-container"
                >Points: <span class="points">279</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41106686"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41106280">
          <h3>
            <a
              class="item"
              href="https://cohost.org/prophet/post/7083950-functional-programmi"
              >Functional languages should be so much better at mutation than
              they are</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 05:31:05</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41106280"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41105229">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/ckdgp7r5y11o"
              >Missing Henry VIII portrait found after random X post</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 01:10:28</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41105229"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41104954">
          <h3>
            <a class="item" href="https://synapse.nugatio.com/"
              >Show HN: An interactive creative coding project in p5.js</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-30 @ 00:19:48</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41104954"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              (space = reset) Fluid mechanics is an extremely interesting topic
              and I have been creative coding for a couple of months now.
              Therefore I started working on flow fields in processing. It had
              so much fun playing around with the different parameters in this
              project, I decided to rewrite in p5.js an added a control panel.
              You can change most of the parameters (within some constraints I
              thought to be reasonable), randomize the values and export and
              import settings. Hopefully some coders here get inspired and also
              join the great creative coding community.
            </div>
          </section>
        </section>
        <section id="41102981">
          <h3>
            <a class="item" href="https://trayce.dev"
              >Show HN: Trayce – Network tab for Docker containers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-29 @ 19:23:57</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41102981"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/evanrolfe/trayce_gui"
                >https://github.com/evanrolfe/trayce_gui</a
              >) is an open source desktop application which monitors HTTP(S)
              traffic to Docker containers on your machine. It uses EBPF to
              achieve zero-configuration sniffing of TLS-encrypted traffic.
              <p>
                As a backend developer I wanted something which was similar to
                Wireshark or the Chrome network tab, but which intercepted
                requests &amp; responses to my containers for debugging in a
                local dev environment. Wireshark is a great tool but it seems
                more geared towards lower level networking tasks. When I'm
                developing APIs or microservices I dont care about packets, I'm
                only concerned with HTTP requests and their responses. I also
                didn't want to have to configure a pre-shared master key to
                intercept TLS, I wanted it to work out-of-the-box.
              </p>
              <p>
                Trayce is in beta phase so feedback is very welcome, bug reports
                too. The frontend GUI is written in Python with the QT
                framework. The TrayceAgent which is what does the intercepting
                of traffic is written in Go and EBPF.
              </p>
            </div>
          </section>
        </section>
        <section id="41096613">
          <h3>
            <a
              class="item"
              href="https://www.stempad.io/editor/85b7f0fc-c865-4011-89a8-216d8b88b249?copy=true"
              >Show HN: Stempad – Fast Online Scientific Writing</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-28 @ 22:54:16</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41096613"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
            <div class="text">
              <a href="https://youtu.be/Hyk8CvCdEWE"
                >https://youtu.be/Hyk8CvCdEWE</a
              >
              <p>
                As an engineering student, I hated that handwriting was the only
                viable way to do fast or impromptu scientific writing. It would
                be the only way to take quick notes in class or in a lab, write
                an assignment, or create a presentation. Here's a few things I
                witnessed in academia:
              </p>
              <p>
                * Unsuitable editors: Students attempt to resort to text editors
                unoptimized for science, such as Notion or Word, to take notes
                and write assignments.
              </p>
              <p>
                * Slow or expensive software: Students, teachers, and
                researchers using high-friction and high-cost tools for writing
              </p>
              <p>
                * Messy class notes: Professors upload pictures of hastily
                handwritten class notes as supplementary material
              </p>
              <p>
                The list could go on. I believe that the ability to quickly
                document scientific ideas with a keyboard would be a huge QOL
                improvement for anyone learning or doing science.
              </p>
              <p>
                I recently launched the ability to export Stempad documents to
                LaTex. I tested it by rewriting part of a paper I found online
                (Metabolic scaling in small life forms by Marc E. Ritchie &amp;
                Christopher P. Kempes) and exporting it. You can try the editor
                and export yourself using the post url. The export button is on
                the top right of the page. In case you want to see the result
                directly, this was it:
                <a href="https://www.overleaf.com/read/zjccqbjdyhtc#6e146c"
                  >https://www.overleaf.com/read/zjccqbjdyhtc#6e146c</a
                >
              </p>
              <p>
                Feedback is really appreciated! If anyone thinks they might find
                Stempad useful, let me know and I'd love to get in touch.
              </p>
            </div>
          </section>
        </section>
        <section id="41083119">
          <h3>
            <a
              class="item"
              href="https://blog.val.town/blog/node-spawn-performance/"
              >Why is spawning a new process in Node so slow?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-26 @ 23:07:24</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41083119"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41076063">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/s44172-024-00235-y"
              >Genetically synthesized supergain broadband wire-bundle
              antenna</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-26 @ 05:42:18</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41076063"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
