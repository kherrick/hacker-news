<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41939967">
          <h3>
            <a
              class="item"
              href="https://www.circle-lang.org/draft-profiles.html"
              >Why Safety Profiles Failed</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 21:26:09</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41939967"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41939911">
          <h3>
            <a
              class="item"
              href="https://riseproject.dev/2024/10/15/working-with-igalia-to-improve-risc-v-llvm-continuous-integration/"
              >Working with Igalia to Improve RISC-V LLVM Continuous
              Integration</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 21:20:45</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41939911"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41939714">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/viva-labs/jobs/RwBJyRn-video-image-ai-research-lead"
              >Viva Labs (YC W22) is hiring a video/image AI research lead</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 21:00:46</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41939189">
          <h3>
            <a class="item" href="https://calnewport.com/quit-social-media/"
              >Quit Social Media (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 20:04:52</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41939189"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41939027">
          <h3>
            <a class="item" href="https://typeschema.org/"
              >Show HN: TypeSchema – A JSON specification to describe data
              models</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 19:46:58</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41939027"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938888">
          <h3>
            <a class="item" href="https://github.com/e2b-dev/desktop"
              >Show HN: Desktop Sandbox for Secure Cloud Computer Use</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 19:31:12</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938888"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938831">
          <h3>
            <a class="item" href="https://github.com/ArthurBrussee/brush"
              >Brush – A new compatible Gaussian splatting engine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 19:24:36</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938831"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938819">
          <h3>
            <a
              class="item"
              href="https://about.gitlab.com/blog/2022/05/26/a-go-micro-language-framework-for-building-dsls/"
              >Lingo: A Go micro language framework for building Domain Specific
              Languages</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 19:23:38</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938819"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938473">
          <h3>
            <a
              class="item"
              href="https://ai.meta.com/blog/meta-llama-quantized-lightweight-models/?_fb_noscript=1"
              >Quantized Llama models with increased speed and a reduced memory
              footprint</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 18:52:44</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938473"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938220">
          <h3>
            <a
              class="item"
              href="https://insideevs.com/news/738606/byd-ev-teardown-impresses-japan/"
              >BYD EV teardown in Japan reveals secrets to its affordability</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 18:31:38</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938220"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938204">
          <h3>
            <a class="item" href="https://seismic-explorer.concord.org"
              >Data viz project that maps all earthquakes by magnitude</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 18:29:23</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938204"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41938051">
          <h3>
            <a class="item" href="https://www.thariq.io/blog/claudecomputer/"
              >Claude Computer Use – Is Vision the Ultimate API?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 18:15:27</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41938051"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937815">
          <h3>
            <a class="item" href="https://github.com/E-xyza/zigler"
              >Zigler: Zig NIFs in Elixir</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:53:26</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937815"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937780">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2410.18004"
              >Dynamic Models of Gentrification</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:49:30</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937780"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937664">
          <h3>
            <a
              class="item"
              href="https://security.apple.com/blog/pcc-security-research/"
              >Security research on Private Cloud Compute</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:36:06</span
              ><span class="points-container"
                >Points: <span class="points">149</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937664"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937572">
          <h3>
            <a class="item" href="https://precog.ubik.studio/"
              >Show HN: PreCog AI – Automatic AI Model Selection for Any Task</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:25:42</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937572"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm one of the co-founders of PreCog AI, a project my friend and
                I started to make the best AI models more accessible. PreCog AI
                is a chatbot that automatically picks and answers with the best
                AI model for whatever task you throw at it.
              </p>
              <p>
                We made PreCog public on Monday and are getting great feedback.
                Originally built as an internal tool to help our small team
                reduce costs (paying for various chatbots) and get better AI
                output, PreCog has helped us so much with our workflow and
                ideation that we just had to share it.
              </p>
              <p>
                Key Features of PreCog - AI Model Matchmaking: With access to 18
                models, PreCog automatically matches your questions with the
                most fitting AI model based on the task.
              </p>
              <p>
                - Versatile Adaptation: Works with any task, from coding to
                creative writing, giving you the right tool for the job.
              </p>
              <p>
                -Ongoing Updates: Stay current with AI advancements using the
                latest LLM leaderboard data (we are constantly adding and
                changing our leaderboard). See the leaderboard here -
                <a href="https://precog.ubik.studio/leaderboard"
                  >https://precog.ubik.studio/leaderboard</a
                >
              </p>
              <p>
                -Preferred Model Selection: If you have a preferred model,
                choose it, and PreCog will use that model exclusively to
                respond.
              </p>
              <p>How PreCog Works:</p>
              <p>
                PreCog analyzes your query, references the model leaderboard,
                and then matches your query with the highest-ranked AI for that
                niche task. Delivering high-quality, task-specific output.
                PreCog's Model Leaderboard ranks AI models through over a
                million human comparisons, evaluated and presented on an
                Elo-scale. The dataset used to build the PreCog Leaderboard is
                from ChatBot Arena by
                <a href="https://lmarena.ai/">https://lmarena.ai/</a>.
                Researchers from UC Berkeley SkyLab and LMSYS developed the
                battle framework to produce the dataset.
              </p>
              <p>
                I love feedback, questions, and critiques it helps me and my
                friend develop with the user in mind.
              </p>
              <p>You can reach me at anytime at: info@ubik.studio</p>
            </div>
          </section>
        </section>
        <section id="41937443">
          <h3>
            <a
              class="item"
              href="https://archaeologymag.com/2024/09/lion-of-st-marks-square-in-venice-is-chinese/"
              >The Lion of St. Mark's Square in Venice Is Chinese</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 17:08:43</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937443"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937319">
          <h3>
            <a
              class="item"
              href="https://www.nps.gov/articles/post-wwii-food.htm"
              >Post World War II Food</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 16:54:53</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937319"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41937218">
          <h3>
            <a
              class="item"
              href="https://cheriot.org/rtos/philosophy/history/2024/10/24/why-new-rtos.html"
              >Why did you write a new RTOS for CHERIoT?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 16:43:27</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41937218"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41936745">
          <h3>
            <a class="item" href="https://github.com/Skyvern-AI/Skyvern"
              >Launch HN: Skyvern (YC S23) – open-source AI agent for browser
              automations</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 15:51:21</span
              ><span class="points-container"
                >Points: <span class="points">216</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936745"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.skyvern.com">https://www.skyvern.com</a>).
              We’re building an open source tool to help companies automate
              browser-based workflows using LLMs.
              <p>
                Our open source repo is at
                <a href="https://github.com/Skyvern-AI/Skyvern"
                  >https://github.com/Skyvern-AI/Skyvern</a
                >, and we're excited to share our cloud version with you (<a
                  href="https://app.skyvern.com"
                  >https://app.skyvern.com</a
                >) :)
              </p>
              <p>
                Skyvern allows you to define a single (or a series of)
                goal-based prompts to instruct an agent to complete complex
                tasks on websites. Here’s a quick demo of Skyvern:
                <a
                  href="https://www.loom.com/share/76b231309df74a528061fcf102e1967f"
                  >https://www.loom.com/share/76b231309df74a528061fcf102e1967f</a
                >
              </p>
              <p>
                We built this to solve a specific problem: building browser
                automations often requires companies to either hire people and
                scale out operations teams to do tedious manual work, or hire
                developers to use products like UI-Path or Selenium to build
                automations.
              </p>
              <p>
                Code-based solutions always run into the same problem: they’re
                brittle (wow this website added a new pop-up dialog and my
                script broke), and fail to achieve the same objective across
                multiple websites (how can I fill out a contact-us form on
                hundreds of different websites?)
              </p>
              <p>
                We did a Show HN a few months ago (<a
                  href="https://news.ycombinator.com/item?id=39706004"
                  >https://news.ycombinator.com/item?id=39706004</a
                >), and since then, we’ve onboarded customers for a wide variety
                of use cases: generating insurance quotes on websites like
                Geico.com; applying to jobs on websites like lever.co;
                automating filing permits in local government portals;
                registering new corporations for employment identification;
                fetching invoices from hundreds of different portals such as
                hydroone.com; automating purchasing on a handful of e-commerce
                websites like zooplus.com; and filling out contact us forms on a
                bunch of random smb websites (such as HVAC websites).
              </p>
              <p>
                To be able to service all of these, we’ve built and open-sourced
                quite a few interesting features:
              </p>
              <p>
                (1) a fully-featured React application allowing you to see every
                action Skyvern is taking in real-time;
              </p>
              <p>
                (2) livestreaming browser instances to allow our users to see
                what Skyvern is doing when running inside of a docker container;
              </p>
              <p>
                (3) authenticated sessions, integrating with Bitwarden and
                allowing users to specify Email + Phone + QR-code based 2FAs;
              </p>
              <p>
                (4) “workflows” allowing users to chain multiple goal-based
                prompts together, which can handle tasks like invoice
                downloading, or automating purchasing pipelines;
              </p>
              <p>
                (5) processing HTML Elements (ex. identifying + summarizing
                SVGs) and performing website interactions (ex. Iterating over
                dynamic autocompletes to fill in address information correctly)
              </p>
              <p>
                (6) “cached workflows”, allowing Skyvern to memorize previous
                interactions (ie text inputs) and re-use them in future runs.
              </p>
              <p>
                We’ve also been blessed with a few model advancements to solve
                some of the cost concerns the community brought up. Skyvern’s
                token costs went down 80% from $15 / 1M tokens (GPT-4V) to $2.50
                / 1M tokens (GPT-4O)
              </p>
              <p>
                Despite the model costs going down 80%, Skyvern is still quite
                expensive to run, so we give every new user $5 of credits to try
                it out and see if it can be useful for you.
              </p>
              <p>
                We would be honored if you could give it a try at
                <a href="https://app.skyvern.com">https://app.skyvern.com</a>
                and share some feedback with us, and we look forward to any and
                all of your comments!
              </p>
            </div>
          </section>
        </section>
        <section id="41936001">
          <h3>
            <a class="item" href="https://www.jetbrains.com/rider/"
              >Rider is now free for non-commercial use</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 14:43:26</span
              ><span class="points-container"
                >Points: <span class="points">617</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41936001"
                  >Comments</a
                ><span class="descendants">: 304</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41934746">
          <h3>
            <a class="item" href="https://play2048.co"
              >Show HN: 2048 turned 10 this year, I built an updated version to
              celebrate</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 12:15:27</span
              ><span class="points-container"
                >Points: <span class="points">390</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41934746"
                  >Comments</a
                ><span class="descendants">: 154</span></span
              >
            </h4>
            <div class="text">
              <p>
                Even after all these years, that experience still feels a bit
                surreal to me. I’m deeply grateful to everyone who connected
                with the game, whether in small or significant ways, and for the
                stories shared along the way. Some people expressed how they
                were going through tough times and found some comfort, however
                small, in playing 2048.
              </p>
              <p>
                At the start of last year, I wanted to breathe new life into the
                game as it was starting to show its age. I quit my job last
                October to work on 2048 full time and spent a year building this
                new version (the original took just 5 days!). I wanted to pay
                tribute to what made 2048 great while modernizing and polishing
                the experience.
              </p>
              <p>
                The idea of adding powerups came when Prime Gaming and I
                connected to see if we could create a special version of 2048
                for their members, with some exclusive extras. Some of those
                powerups made it into the main game, though there’s still a
                Classic[3] mode just like the original for those who prefer a
                more hardcore experience. The old site is also still online[4].
              </p>
              <p>
                2048 is now my full-time focus, and I’m excited about the ways
                it can keep improving. I wanted to share this update with the
                community where it all began, both for a bit of nostalgia and to
                hear your thoughts and feedback!
              </p>
              <p>Thank you all so much!</p>
              <p>— Gabriele</p>
              <p>
                [1]:
                <a href="https://news.ycombinator.com/item?id=7373566"
                  >https://news.ycombinator.com/item?id=7373566</a
                >
              </p>
              <p>
                [2]:
                <a
                  href="https://medium.com/@gabrielecirulli/2048-success-and-me-7dc664f7a9bd"
                  >https://medium.com/@gabrielecirulli/2048-success-and-me-7dc6...</a
                >
              </p>
              <p>
                [3]:
                <a href="https://play2048.co/classic"
                  >https://play2048.co/classic</a
                >
              </p>
              <p>
                [4]:
                <a href="https://classic.play2048.co"
                  >https://classic.play2048.co</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41932995">
          <h3>
            <a class="item" href="https://liblisa.nl/"
              >LibLISA – Instruction Discovery and Analysis on x86-64</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 07:35:56</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41932995"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41930628">
          <h3>
            <a class="item" href="https://github.com/RamboRogers/rfhunter"
              >Show HN: RF Hunter – Find hidden cameras and other devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-24 @ 00:21:36</span
              ><span class="points-container"
                >Points: <span class="points">418</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41930628"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
            <div class="text">
              This project is an RF Signal Scanner built using an ESP32, AD8317
              RF detector, and various other components. It's designed to detect
              and measure RF signals in the environment and display the signal
              strength on an OLED display. It's useful to find hidden cameras,
              wiretapping devices, and other RF-enabled devices.
            </div>
          </section>
        </section>
        <section id="41929412">
          <h3>
            <a
              class="item"
              href="https://eli.thegreenplace.net/2024/calculating-the-norm-of-a-complex-number/"
              >Calculating the norm of a complex number</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 21:30:02</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41929412"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41924917">
          <h3>
            <a
              class="item"
              href="https://lackofimagination.org/2024/10/self-documenting-code/"
              >Self-Documenting Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 13:33:49</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41924917"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41923753">
          <h3>
            <a
              class="item"
              href="https://lilymara.xyz/posts/2024/01/transit-kindle/"
              >Never Missing the Train Again</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 11:00:15</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41923753"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41923018">
          <h3>
            <a class="item" href="http://anvil-editor.net/"
              >The Anvil Text Editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 08:29:41</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41923018"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41922503">
          <h3>
            <a
              class="item"
              href="https://technology.riotgames.com/news/peeking-valorants-netcode"
              >Riot Games: Peeking into Valorant's Netcode (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-23 @ 06:51:40</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41922503"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41904158">
          <h3>
            <a class="item" href="https://iphoneteleprompter.com/"
              >Show HN: The Best Free Online Teleprompter?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-10-21 @ 13:52:06</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41904158"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              I Built what I believe to be the best online teleprompter that is
              100% free and I would love any feedback on any aspects of the
              site!
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
