<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45881404">
          <h3>
            <a class="item" href="https://blog.pimaker.at/texts/rvc1/"
              >Linux in a Pixel Shader – A RISC-V Emulator for VRChat</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 21:50:03</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45881404"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45881279">
          <h3>
            <a class="item" href="https://duarteocarmo.com/blog/tts-still-sucks"
              >TTS Still Sucks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 21:37:39</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45881279"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45881056">
          <h3>
            <a class="item" href="https://physics.aps.org/articles/v18/178"
              >Zeroing in on Zero-Point Motion Inside a Crystal</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 21:17:04</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45881056"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45880939">
          <h3>
            <a
              class="item"
              href="https://drfeifei.substack.com/p/from-words-to-worlds-spatial-intelligence"
              >Fei Fei Li: Spatial Intelligence is AI’s Next Frontier</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 21:07:02</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45880939"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45880716">
          <h3>
            <a class="item" href="https://github.com/davialabs/davia"
              >Show HN: Davia – Open source visual, editable wiki from your
              codebase</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 20:46:11</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45880716"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                We’re Ruben, Afnan, and Theo, and we’re building Davia to solve
                a common problem: documenting and explaining large codebases is
                complex. It takes too long to generate even a first draft of a
                wiki, visuals are essential to understand the structure,
                internal docs should be editable in the IDE, and most solutions
                aren’t open.
              </p>
              <p>
                Davia is an open source tool. You enter the path of your repo,
                and it generates a visual wiki you can explore and edit.
                Diagrams are created automatically, and you can update
                everything either in your IDE or in a Notion-like editor.
              </p>
              <p>
                The project is still early, and we’d love to hear feedback,
                ideas, or experiences from anyone interested in documenting and
                sharing code internally.
              </p>
              <p>
                GitHub:
                <a href="https://github.com/davialabs/davia"
                  >https://github.com/davialabs/davia</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45879793">
          <h3>
            <a
              class="item"
              href="https://partnerhelp.netflixstudios.com/hc/en-us/articles/43393929218323-Using-Generative-AI-in-Content-Production"
              >Using Generative AI in Content Production</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 19:28:07</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45879793"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45879101">
          <h3>
            <a
              class="item"
              href="https://www.seattletimes.com/seattle-news/law-justice/redmond-turns-off-flock-safety-cameras-after-ice-arrests/"
              >Redmond, WA, turns off Flock Safety cameras after ICE arrests</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 18:30:06</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45879101"
                  >Comments</a
                ><span class="descendants">: 189</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45879012">
          <h3>
            <a class="item" href="https://queue.acm.org/detail.cfm?id=3773095"
              >Memory Safety for Skeptics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 18:23:10</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45879012"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45878826">
          <h3>
            <a
              class="item"
              href="https://ai.meta.com/blog/omnilingual-asr-advancing-automatic-speech-recognition/?_fb_noscript=1"
              >Omnilingual ASR: Advancing automatic speech recognition for 1600
              languages</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 18:10:12</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45878826"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://huggingface.co/spaces/facebook/omniasr-transcriptions"
                >https://huggingface.co/spaces/facebook/omniasr-transcription...</a
              >
              <p>
                GitHub:
                <a href="https://github.com/facebookresearch/omnilingual-asr"
                  >https://github.com/facebookresearch/omnilingual-asr</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45878578">
          <h3>
            <a class="item" href="https://www.bwplotka.dev/2025/lazygit/"
              >The lazy Git UI you didn't know you need</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 17:50:21</span
              ><span class="points-container"
                >Points: <span class="points">153</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45878578"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45877892">
          <h3>
            <a
              class="item"
              href="https://ottawacitizen.com/public-service/defence-watch/canadian-military-public-servants"
              >Canadian military will rely on public servants to boost its ranks
              by 300k</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 16:55:08</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877892"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45877698">
          <h3>
            <a
              class="item"
              href="https://research.roundtable.ai/captcha-benchmarking/"
              >Benchmarking leading AI agents against Google reCAPTCHA v2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 16:38:31</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877698"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45877517">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45877517"
              >Launch HN: Hypercubic (YC F25) – AI for COBOL and Mainframes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 16:23:24</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877517"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.hypercubic.ai/">https://www.hypercubic.ai/</a
              >)!
              <p>
                Hypercubic is an AI platform that helps Fortune 500 companies
                understand, preserve, and modernize their mainframe systems.
                These are the systems that run COBOL from the 1960s that still
                quietly power banking, insurance, airlines, and governments
                today.
              </p>
              <p>
                70% of the Fortune 500 still run on mainframes, but the
                engineers who built and maintained them are retiring. Today, the
                average age of a COBOL/mainframe engineer is about 55 and
                rapidly increasing. What’s left behind are opaque, black box
                systems with almost no one who understands how they work.
                Modernization projects often fail, documentation is decades out
                of date, and critical institutional knowledge lives only in the
                minds of a few senior subject matter experts who are now leaving
                the workforce.
              </p>
              <p>
                Current “AI for code” tools focus on codebases and repositories,
                so they miss the unwritten rules, historical context, and
                architectural reasoning that live in human minds. In the
                COBOL/mainframe world, that institutional knowledge is the key
                missing piece.
              </p>
              <p>
                What we heard from modernization leaders is that the hard part
                is not the code analysis. The challenge is the institutional
                knowledge that never made it into code or documentation and has
                walked out the door. Modernization projects fail not because no
                one can parse COBOL, but because no one can answer “why was this
                billing edge case added in 1995 and what breaks if we remove
                it.”
              </p>
              <p>
                Hypercubic is building an AI-native maintenance and
                modernization platform that learns how legacy mainframe systems
                actually work and captures the human reasoning behind operating
                them. We’re doing this with two initial tools, HyperDocs and
                HyperTwin.
              </p>
              <p>
                HyperDocs ingests COBOL, JCL, and PL/I codebases to generate
                documentation, architecture diagrams, and dependency graphs.
                Enterprises currently spend months or years hiring contractors
                to reverse-engineer these systems; HyperDocs compresses that
                work to take much less time.
              </p>
              <p>
                COBOL was designed to resemble English and business prose,
                making it a good fit for LLMs today. Mainframes have decades of
                consistent patterns (COBOL, JCL, CICS, batch jobs) and a finite
                set of recurring tasks (such as payroll, transaction processing,
                billing).
              </p>
              <p>
                For example, here’s a billing fragment that would be run nightly
                in production at large insurance companies for moving money,
                closing accounts, and triggering downstream reports:
              </p>
              <p></p>
              <pre><code>  EVALUATE TRUE
      WHEN PAYMENT-DUE AND NOT PAID
          PERFORM CALCULATE-LATE-FEE
          PERFORM GENERATE-NOTICE
      WHEN PAYMENT-RECEIVED AND BALANCE-DUE = 0
          MOVE "ACCOUNT CLEAR" TO STATUS
          PERFORM ARCHIVE-STATEMENT
      WHEN OTHER
          PERFORM LOG-ANOMALY
  END-EVALUATE.
</code></pre>
              Now imagine thousands of these rules, each running payrolls,
              processing claims, or reconciling accounts, spread across millions
              of lines of code written over 40+ years. HyperDocs ingests that
              code and reconstructs it into readable, living documentation that
              shows how the black box system works.
              <p>
                Our other tool, HyperTwin, tackles the “tribal knowledge”
                problem. It learns directly from subject-matter experts,
                observing workflows, analyzing screen interactions, and
                conducting AI-driven interviews to capture how they debug and
                reason about their systems. The goal is to build digital “twins”
                of the experts on how they debug, architect, and maintain these
                systems in practice.
              </p>
              <p>
                Together, HyperDocs and HyperTwin form a knowledge graph of
                legacy systems linking code, systems, and human reasoning.
              </p>
              <p>
                Here’s a demo video of our HyperTwin product:
                <a href="https://www.youtube.com/watch?v=C-tNtl9Z_jY"
                  >https://www.youtube.com/watch?v=C-tNtl9Z_jY</a
                >
              </p>
              <p>
                You can explore our documentation platform, including examples
                from the AWS Card Demo (a widely used COBOL codebase example)
                and a dummy insurance project here:
                <a href="https://hyperdocs-public.onrender.com/"
                  >https://hyperdocs-public.onrender.com/</a
                >.
              </p>
              <p>
                e.g. Developer perspective docs - High level system architecture
                of credit card management:
                <a
                  href="https://hyperdocs-public.onrender.com/docs/aws-carddemo-with-dev-docs/developer/architecture/system-architecture"
                  >https://hyperdocs-public.onrender.com/docs/aws-carddemo-with...</a
                >
              </p>
              <p>
                We’re curious to hear your thoughts and feedback, especially
                from anyone who’s worked with mainframes or tried to modernize
                legacy systems.
              </p>
            </div>
          </section>
        </section>
        <section id="45877257">
          <h3>
            <a
              class="item"
              href="https://bengoldhaber.substack.com/p/unexpected-things-that-are-people"
              >Unexpected things that are people</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 16:05:46</span
              ><span class="points-container"
                >Points: <span class="points">366</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877257"
                  >Comments</a
                ><span class="descendants">: 186</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45877206">
          <h3>
            <a
              class="item"
              href="https://www.eff.org/deeplinks/2025/06/how-cops-can-get-your-private-online-data"
              >How cops can get your private online data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 16:01:58</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877206"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45877149">
          <h3>
            <a
              class="item"
              href="https://www.asus.com/networking-iot-servers/desktop-ai-supercomputer/ultra-small-ai-supercomputers/asus-ascent-gx10/"
              >Asus Ascent GX10</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 15:56:57</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877149"
                  >Comments</a
                ><span class="descendants">: 166</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45877027">
          <h3>
            <a
              class="item"
              href="https://corporate.ryanair.com/news/ryanair-issues-reminder-to-passengers-ahead-of-move-to-100-digital-boarding-passes-from-wednesday-12-nov/"
              >Reminder to passengers ahead of move to 100% digital boarding
              passes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 15:46:03</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45877027"
                  >Comments</a
                ><span class="descendants">: 257</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45876744">
          <h3>
            <a class="item" href="https://bytesauna.com/post/dunning-kruger"
              >LLMs are steroids for your Dunning-Kruger</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 15:14:05</span
              ><span class="points-container"
                >Points: <span class="points">267</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45876744"
                  >Comments</a
                ><span class="descendants">: 221</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45876598">
          <h3>
            <a
              class="item"
              href="https://heatherburns.tech/2025/11/10/time-to-start-de-appling/"
              >Time to start de-Appling</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 14:57:26</span
              ><span class="points-container"
                >Points: <span class="points">255</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45876598"
                  >Comments</a
                ><span class="descendants">: 191</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45876308">
          <h3>
            <a
              class="item"
              href="https://maxdeviant.com/posts/2025/head-in-the-zed-cloud/"
              >Head in the Zed Cloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 14:23:17</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45876308"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45875918">
          <h3>
            <a
              class="item"
              href="https://danielmangum.com/posts/spi-routing-ice40-fpga/"
              >Interesting SPI Routing with iCE40 FPGAs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 13:40:59</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45875918"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45874987">
          <h3>
            <a class="item" href="https://github.com/jackdoe/pico2-swd-riscv"
              >Vibe Code Warning – A personal casestudy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 11:45:15</span
              ><span class="points-container"
                >Points: <span class="points">191</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45874987"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45871688">
          <h3>
            <a
              class="item"
              href="https://matklad.github.io/2025/11/09/error-ABI.html"
              >Error ABI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-10 @ 02:31:36</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45871688"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45867828">
          <h3>
            <a
              class="item"
              href="https://martin.janiczek.cz/2025/11/09/writing-your-own-beam.html"
              >Writing your own BEAM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-09 @ 18:29:43</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45867828"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45852755">
          <h3>
            <a
              class="item"
              href="https://renerocks.ai/blog/2025-11-02--tigerfans/"
              >Building a high-performance ticketing system with TigerBeetle</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-08 @ 00:01:05</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45852755"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45810116">
          <h3>
            <a
              class="item"
              href="https://blog.tensorflow.org/2020/05/pose-animator-open-source-tool-to-bring-svg-characters-to-life.html"
              >Pose Animator – An open source tool to bring SVG characters to
              life (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-04 @ 12:26:28</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45810116"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45810001">
          <h3>
            <a
              class="item"
              href="https://www.iana.org/assignments/oauth-parameters/oauth-parameters.xhtml#parameters"
              >Registered OAuth Parameters</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-04 @ 12:07:10</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45810001"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45801966">
          <h3>
            <a
              class="item"
              href="https://chadnauseam.com/coding/pltd/are-dependent-types-actually-erased"
              >Dependent Types and How to Get Rid of Them</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-03 @ 17:49:25</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45801966"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45789250">
          <h3>
            <a
              class="item"
              href="https://www.protein.xyz/rewilding-the-internet/"
              >Rewilding the Internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-02 @ 10:24:05</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45789250"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45788083">
          <h3>
            <a
              class="item"
              href="https://matthewjamestaylor.com/synesthesia-four-leaf-clovers"
              >Synesthesia helps me find four-leaf clovers (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-02 @ 05:47:07</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45788083"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
