<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45970663">
          <h3>
            <a
              class="item"
              href="https://techreport.com/news/new-eu-chat-control-proposal-privacy-experts-see-dangerous-backdoor/"
              >New EU Chat Control Proposal Moves Forward</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 19:16:09</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45970663"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45970519">
          <h3>
            <a
              class="item"
              href="https://simonwillison.net/2025/Nov/18/gemini-3/"
              >Trying out Gemini 3 Pro with audio transcription and a new
              pelican benchmark</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 19:05:44</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45970519"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45970338">
          <h3>
            <a class="item" href="https://github.com/rowboatlabs/rowboat"
              >Show HN: RowboatX – open-source Claude Code for everyday
              automations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 18:50:00</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45970338"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <p>
                Because RowboatX runs locally with shell access, the agents can
                install tools, execute code, and automate anything you could do
                in a terminal with your explicit permission. It works with any
                compatible LLM, including open-source ones.
              </p>
              <p>
                Our repo is
                <a href="https://github.com/rowboatlabs/rowboat"
                  >https://github.com/rowboatlabs/rowboat</a
                >, and there’s a demo video here:
                <a href="https://youtu.be/cyPBinQzicY"
                  >https://youtu.be/cyPBinQzicY</a
                >
              </p>
              <p>
                For example, you can connect RowboatX to the ElevenLabs MCP
                server and create a background workflow that produces a
                NotebookLM-style podcast every day from recent AI-agent papers
                on arXiv. Or you can connect it to Google Calendar and Exa
                Search to research meeting attendees and generate briefs before
                each event.
              </p>
              <p>You can try these with: `npx @rowboatlabs/rowboatx`</p>
              <p>We combined three simple ideas:</p>
              <p>
                1. File system as state: Each agent’s instruction, memory, logs,
                and data are just files on disk, grepable, diffable, and local.
                For instance, you can just run: grep -rl
                '"agent":"&lt;agent-name&gt;"' ~/.rowboat/runs to list every run
                for a particular workflow.
              </p>
              <p>
                2. The supervisor agent: A Claude Code style agent that can
                create and run background agents. It predominantly uses Unix
                commands to monitor, update, and schedule agents. LLMs handle
                Unix tools better than backend APIs [1][2], so we leaned into
                that. It can also probe any MCP server and attach the tools to
                the agents.
              </p>
              <p>
                3. Human-in-the-loop: Each background agent can emit a
                human_request message when needed (e.g. drafting a tricky email
                or installing a tool) that pauses execution and waits for input
                before continuing. The supervisor coordinates this.
              </p>
              <p>
                I started my career over a decade ago building spam detection
                models at Twitter, spending a lot of my time in the terminal
                with Unix commands for data analysis [0] and Vowpal Wabbit for
                modeling. When Claude Code came along, it felt familiar and
                amazing to work with. But trying to use it beyond code always
                felt a bit forced. We built RowboatX to bring that same workflow
                to everyday tasks. It is Apache-2.0 licensed and easily
                extendable.
              </p>
              <p>
                While there are many agent builders, running on the user's
                terminal enables unique use cases like computer and browser
                automation that cloud-based tools can't match. This power
                requires careful safety design. We implemented command-level
                allow/deny lists, with containerization coming next. We’ve tried
                to design for safety from day one, but we’d love to hear the
                community’s perspective on what additional safeguards or
                approaches you’d consider important here.
              </p>
              <p>
                We’re excited to share RowboatX with everyone here. We’d love to
                hear your thoughts and welcome contributions!
              </p>
              <p>—</p>
              <p>
                [0]
                <a
                  href="https://web.stanford.edu/class/cs124/kwc-unix-for-poets.pdf"
                  >https://web.stanford.edu/class/cs124/kwc-unix-for-poets.pdf</a
                >
                [1]
                <a href="https://arxiv.org/pdf/2405.06807"
                  >https://arxiv.org/pdf/2405.06807</a
                >
                [2]
                <a href="https://arxiv.org/pdf/2501.10132"
                  >https://arxiv.org/pdf/2501.10132</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45969974">
          <h3>
            <a
              class="item"
              href="https://apnews.com/article/trump-npr-lawsuit-2cc4abfa8cf00fe6f89e387e63eb4a2a"
              >NPR to get $36M in settlement to operate US public radio
              system</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 18:19:10</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45969974"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45969708">
          <h3>
            <a class="item" href="https://github.com/coder/guts"
              >Show HN: Guts – convert Golang types to TypeScript</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 17:55:55</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45969708"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45969250">
          <h3>
            <a
              class="item"
              href="https://ericmigi.com/blog/pebble-rebble-and-a-path-forward/"
              >Pebble, Rebble, and a Path Forward</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 17:24:27</span
              ><span class="points-container"
                >Points: <span class="points">236</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45969250"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45968611">
          <h3>
            <a
              class="item"
              href="https://chipsandcheese.com/p/strix-halos-memory-subsystem-tackling"
              >Strix Halo's Memory Subsystem: Tackling iGPU Challenges</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 16:41:34</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45968611"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45968362">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2511.09030"
              >Solving a Million-Step LLM Task with Zero Errors</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 16:26:28</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45968362"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45968235">
          <h3>
            <a
              class="item"
              href="https://www.igorslab.de/en/a-day-at-hetzner-online-in-the-falkenstein-data-center-insights-into-server-technology-cooling-production-rma-and-sustainability/"
              >A day at Hetzner online in the Falkenstein data center</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 16:18:47</span
              ><span class="points-container"
                >Points: <span class="points">150</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45968235"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.youtube.com/watch?v=gIjdKIMQh4s"
                >https://www.youtube.com/watch?v=gIjdKIMQh4s</a
              >
            </div>
          </section>
        </section>
        <section id="45967814">
          <h3>
            <a class="item" href="https://antigravity.google/"
              >Google Antigravity</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 15:47:38</span
              ><span class="points-container"
                >Points: <span class="points">505</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45967814"
                  >Comments</a
                ><span class="descendants">: 598</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://antigravity.google/blog/introducing-google-antigravity"
                >https://antigravity.google/blog/introducing-google-antigravi...</a
              >
              <p>
                <a href="https://www.youtube.com/watch?v=nTOVIGsqCuY"
                  >https://www.youtube.com/watch?v=nTOVIGsqCuY</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45967211">
          <h3>
            <a class="item" href="https://blog.google/products/gemini/gemini-3/"
              >Gemini 3</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 15:09:38</span
              ><span class="points-container"
                >Points: <span class="points">879</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45967211"
                  >Comments</a
                ><span class="descendants">: 600</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://blog.google/technology/developers/gemini-3-developers/"
                >https://blog.google/technology/developers/gemini-3-developer...</a
              >
              <p>
                <a
                  href="https://aistudio.google.com/prompts/new_chat?model=gemini-3-pro-preview"
                  >https://aistudio.google.com/prompts/new_chat?model=gemini-3-...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="45966435">
          <h3>
            <a
              class="item"
              href="https://countercraft.substack.com/p/short-little-difficult-books"
              >Short Little Difficult Books</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 14:23:18</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45966435"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45966251">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/c1j8ewy1p86o"
              >Nearly all UK drivers say headlights are too bright</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 14:11:17</span
              ><span class="points-container"
                >Points: <span class="points">586</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45966251"
                  >Comments</a
                ><span class="descendants">: 599</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45966018">
          <h3>
            <a
              class="item"
              href="https://evanhahn.com/typescript-immutability-experiment/"
              >Experiment: Making TypeScript Immutable-by-Default</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 13:56:21</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45966018"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45965664">
          <h3>
            <a
              class="item"
              href="https://www.ruby-lang.org/en/news/2025/11/17/ruby-4-0-0-preview2-released/"
              >Ruby 4.0.0 Preview2 Released</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 13:34:44</span
              ><span class="points-container"
                >Points: <span class="points">179</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45965664"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45965060">
          <h3>
            <a
              class="item"
              href="https://huijzer.xyz/posts/123/do-not-put-your-site-behind-cloudflare-if-you-dont"
              >Do not put your site behind Cloudflare if you don't need to</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 12:54:49</span
              ><span class="points-container"
                >Points: <span class="points">423</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45965060"
                  >Comments</a
                ><span class="descendants">: 304</span></span
              >
            </h4>
            <div class="text">
              <i>Cloudflare Global Network experiencing issues</i> -
              <a href="https://news.ycombinator.com/item?id=45963780"
                >https://news.ycombinator.com/item?id=45963780</a
              >
            </div>
          </section>
        </section>
        <section id="45964835">
          <h3>
            <a
              class="item"
              href="https://www.ush.it/2025/11/14/multiple-vulnerabilities-gosign-desktop-remote-code-execution/"
              >GoSign Desktop RCE flaws affecting users in Italy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 12:36:54</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45964835"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
            <div class="text">
              GoSign is a desktop client used across Italian public
              administrations and enterprises for qualified electronic
              signatures, produced by Tinexta InfoCert, one of Europe’s major
              eIDAS-regulated trust service providers. Researchers found that
              versions ≤ 2.4.0 disable TLS certificate verification when a proxy
              is configured and use an unsigned update manifest. Combined, these
              flaws allow man-in-the-middle attacks and delivery of malicious
              updates leading to remote code execution.
            </div>
          </section>
        </section>
        <section id="45964816">
          <h3>
            <a
              class="item"
              href="https://www.math.ias.edu/files/Book-online-Aug0619.pdf"
              >Mathematics and Computation (2019) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 12:35:13</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45964816"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45963836">
          <h3>
            <a class="item" href="https://pixeldrain.com/u/hwgaNKeH"
              >Gemini 3 Pro Model Card</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 11:40:01</span
              ><span class="points-container"
                >Points: <span class="points">427</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45963836"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45963780">
          <h3>
            <a class="item" href="https://www.cloudflarestatus.com/?t=1"
              >Cloudflare Global Network experiencing issues</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 11:35:10</span
              ><span class="points-container"
                >Points: <span class="points">2241</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45963780"
                  >Comments</a
                ><span class="descendants">: 1421</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45963583">
          <h3>
            <a class="item" href="https://scf.green/story-of-worgl-and-others/"
              >The Miracle of Wörgl</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 10:59:54</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45963583"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45962654">
          <h3>
            <a
              class="item"
              href="https://fabiensanglard.net/quake_chunnel/index.html"
              >How Quake.exe got its TCP/IP stack</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 08:18:35</span
              ><span class="points-container"
                >Points: <span class="points">430</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45962654"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45962178">
          <h3>
            <a
              class="item"
              href="https://jobs.ashbyhq.com/langfuse/5ff18d4d-9066-4c67-8ecc-ffc0e295fee6"
              >Langfuse (YC W23) Hiring OSS Support Engineers in Berlin and
              SF</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 07:00:50</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45961481">
          <h3>
            <a
              class="item"
              href="https://nautil.us/the-surprising-benefits-of-giving-up-1248362/"
              >The surprising benefits of giving up</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-18 @ 04:44:21</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45961481"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45929099">
          <h3>
            <a
              class="item"
              href="https://www.remindmagazine.com/article/15694/jaws-arcade-video-game-killer-shark-atari-sega-electromechanical/"
              >I've Wanted to Play That 'Killer Shark' Arcade Game Briefly Seen
              in 'Jaws'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-14 @ 17:22:57</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45929099"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45919926">
          <h3>
            <a
              class="item"
              href="https://mathenchant.wordpress.com/2024/12/19/when-111-equals-1/"
              >When 1+1+1 Equals 1</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-13 @ 20:13:44</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45919926"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45916094">
          <h3>
            <a
              class="item"
              href="https://32bits.substack.com/p/under-the-microscope-ncaa-basketball"
              >How many video games include a marriage proposal? At least one</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-13 @ 15:33:51</span
              ><span class="points-container"
                >Points: <span class="points">324</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45916094"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45914435">
          <h3>
            <a
              class="item"
              href="https://www.tandfonline.com/doi/full/10.1080/00036811.2025.2510472"
              >Beauty in/of mathematics: tessellations and their formulas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-13 @ 13:04:32</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45914435"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45904730">
          <h3>
            <a
              class="item"
              href="https://elicit.com/blog/literature-based-discovery"
              >Looking for Hidden Gems in Scientific Literature</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 19:14:41</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45904730"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45891035">
          <h3>
            <a class="item" href="https://prashanth.world/squeaky-nail/"
              >A squeaky nail, or the wheel that sticks out</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-11 @ 18:34:12</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45891035"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
