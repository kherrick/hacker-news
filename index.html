<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44109664">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44109664"
              >Show HN: Maestro – A Framework to Orchestrate and Ground
              Competing AI Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 18:51:39</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44109664"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                It’s called Maestro heres the whitepaper
                <a href="https://github.com/d3fq0n1/maestro-orchestrator"
                  >https://github.com/d3fq0n1/maestro-orchestrator</a
                >
                (Narrative version here:
                <a
                  href="https://defqon1.substack.com/p/maestro-a-framework-for-coherent"
                  >https://defqon1.substack.com/p/maestro-a-framework-for-coher...</a
                >)
              </p>
              <p>Core ideas:</p>
              <p>
                Prompts are dispatched to multiple LLMs (e.g., GPT-4, Claude,
                open-source models)
              </p>
              <p>The system compares their outputs and synthesizes them</p>
              <p>
                It never resolves into a single voice — it ends with a 66% rule:
                2 votes for a primary output, 1 dissent preserved
              </p>
              <p>
                Human critics and analog verifiers can be triggered for
                physical-world confirmation (when claims demand grounding)
              </p>
              <p>
                The feedback loop learns not only from right/wrong outputs, but
                from what kind of disagreements lead to deeper truth
              </p>
              <p>
                Maestro isn’t a product or API — it’s a proposal for an open,
                civic layer of synthetic intelligence. It’s designed for
                epistemic integrity and resistance to centralized control.
              </p>
              <p>Would love thoughts, critiques, or collaborators.</p>
            </div>
          </section>
        </section>
        <section id="44109257">
          <h3>
            <a
              class="item"
              href="https://nathan.rs/posts/gpu-shader-programming/"
              >Running GPT-2 in WebGL: Rediscovering the Lost Art of GPU Shader
              Programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 18:02:51</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44109257"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44109090">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/roundtable/jobs/ZTZHEbb-member-of-technical-staff"
              >Roundtable (YC S23) Is Hiring a Member of Technical Staff</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 17:42:15</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44108207">
          <h3>
            <a
              class="item"
              href="https://indyweek.com/culture/duke-students-dumpster-diving/"
              >I salvaged $6k of luxury items discarded by Duke students</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 15:59:23</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44108207"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44108206">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44108206"
              >Launch HN: Relace (YC W23) – Models for fast and reliable
              codegen</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 15:59:20</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44108206"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
            <div class="text">
              <a href="https://relace.ai">https://relace.ai</a>). We're trying
              to make building code agents easy and cheap.
              <p>
                Here’s an example of our apply model vs. whole file edits:
                <a href="https://youtu.be/J0-oYyozUZw"
                  >https://youtu.be/J0-oYyozUZw</a
                >
              </p>
              <p>
                Building reliable code agents is hard. Beyond simple prototypes,
                any app with code generation in production quickly runs into two
                problems -- how do you reliably apply diffs, and how do you
                manage codebase context?
              </p>
              <p>
                We're focused on solving these two problems at
                order-of-magnitude lower price and latency.
              </p>
              <p>
                Our first model that we released, in February, is the Fast Apply
                model -- it merges code snippets with files at 4300 tok/s. It is
                more reliable (in terms of merge errors) than Sonnet, Qwen,
                Llama, or any other model at this task. Each file takes ~900ms
                and gives an instantaneous user experience, as well as saving
                ~40% on Claude 4 output tokens.
              </p>
              <p>
                Our second model focuses on retrieval. For both vibe-coded and
                enterprise codebases, retrieving only the files relevant to a
                user request saves both on SoTA input token cost and reduces the
                number of times code agents need to view files. Our reranker
                (evals below) can scan a million-line codebase in ~1-2s, and our
                embedding model outperforms any other embedding model for
                retrieval as evaluated on a corpus of Typescript/React
                repositories.
              </p>
              <p>
                There are many different ways to build coding agents, but being
                able to edit code reliably and retrieve the most relevant parts
                of the codebase is going to be a foundational issue. We're
                excited to be building ways to make it more accessible to
                millions of users who don't want to spend $$$ on Claude.
              </p>
              <p>
                These models are used in production, millions of times per week.
                If you've used Lovable, Create.xyz, Magic Patterns, Codebuff,
                Tempo Labs then you've used us!
              </p>
              <p>
                Here's a link to try it out:
                <a href="https://app.relace.ai">https://app.relace.ai</a>, and
                here are our docs:
                <a href="https://docs.relace.ai">https://docs.relace.ai</a>.
              </p>
              <p>
                We've opened up free access for prototyping on our website to
                everyone, and the limits should be enough for personal coding
                use and building small projects (correct us if it’s not). We
                integrate directly with Open-Source IDE's like Continue.dev.
                Please try us out, we'd love to hear your feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="44107942">
          <h3>
            <a class="item" href="https://aaronson.org/blog/square-theory"
              >Square Theory</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 15:33:55</span
              ><span class="points-container"
                >Points: <span class="points">297</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44107942"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44107758">
          <h3>
            <a class="item" href="http://mammo.neuralrad.com:5300"
              >Show HN: Free mammogram analysis tool combining deep learning and
              vision LLM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 15:13:03</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44107758"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <p>
                Important Disclaimers: - NOT FDA 510(k) cleared - this is purely
                for research investigation - Not for clinical diagnosis -
                results should only be used as a secondary opinion - Completely
                free - no registration, no payment, no data retention
              </p>
              <p>
                What it does: 1. Upload a mammogram image (JPEG/PNG) 2. AI
                identifies potential masses and calcifications 3. Vision LLM
                provides radiologist-style analysis 4. Interactive viewer with
                zoom/pan capabilities
              </p>
              <p>
                You can try it with any mass / calcification mammo images, e.g.
                by searching Google: mammogram images mass
              </p>
              <p>
                Key Features: - Detects and classifies masses (benign/malignant)
                - Identifies calcifications (benign/malignant) - Provides
                confidence scores and size assessments - Generates detailed
                analysis using vision LLM - No data storage - images processed
                and discarded
              </p>
              <p>
                Use Cases: - Medical research and education - Second opinion for
                researchers - Algorithm comparison studies - Teaching tool for
                radiology training - Academic research validation
              </p>
              <p>
                The implementation details include: 1. 1st stage object
                detection using PyTorch retinalnet training DDSM+Internal data
                set 2. 2nd stage fine tuned Qwen2.5 VL with labeled data +
                radiology report sets 3. Server is implemented with Flask,
                Client implemented using SvelteJS
              </p>
              <p>
                The system is designed specifically for research investigation
                purposes and to complement (never replace) professional medical
                judgment. I'm hoping this can be useful for the medical AI
                research community and welcome feedback on the approach.
              </p>
              <p>
                Address:
                <a href="http://mammo.neuralrad.com:5300"
                  >http://mammo.neuralrad.com:5300</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44107655">
          <h3>
            <a
              class="item"
              href="https://blog.edward-li.com/tech/comparing-pyrefly-vs-ty/"
              >Pyrefly vs. Ty: Comparing Python's two new Rust-based type
              checkers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 15:01:55</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44107655"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44107393">
          <h3>
            <a class="item" href="https://malai.sh/hello-tcp/"
              >Show HN: Malai – securely share local TCP services (database/SSH)
              with others</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 14:34:40</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44107393"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
            <div class="text">
              <p>
                In malai 0.2.5, we have added TCP support, which means you can
                expose any TCP service to others using malai, without opening
                the TCP service related port to Internet. With malai installed
                on both ends, any TCP service can be securely tunneled over it.
              </p>
              <p>
                It can be used to secure your SSH service, or securely share
                your database server.
              </p>
              <p>
                GitHub:
                <a href="https://github.com/kulfi-project/kulfi"
                  >https://github.com/kulfi-project/kulfi</a
                >
                (star us!)
              </p>
              <p>Would love feedback, questions, or ideas — thanks!</p>
              <p>
                PS: We have also added `malai folder`, which lets you share
                (readonly) the content of a folder with others.
              </p>
            </div>
          </section>
        </section>
        <section id="44106944">
          <h3>
            <a
              class="item"
              href="https://cline.bot/blog/why-cline-doesnt-index-your-codebase-and-why-thats-a-good-thing"
              >Why Cline doesn't index your codebase</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 13:44:21</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44106944"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44106934">
          <h3>
            <a class="item" href="https://ducklake.select/"
              >DuckLake is an integrated data lake and catalog format</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 13:43:11</span
              ><span class="points-container"
                >Points: <span class="points">167</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44106934"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44106842">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.17989"
              >Outcome-Based Reinforcement Learning to Predict the Future</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 13:33:38</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44106842"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44106764">
          <h3>
            <a
              class="item"
              href="https://www.ethanhein.com/wp/2021/the-art-of-fugue-contrapunctus-i/"
              >The Art of Fugue – Contrapunctus I (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 13:25:45</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44106764"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105965">
          <h3>
            <a
              class="item"
              href="https://www.frontiersin.org/news/2025/05/23/street-smarts-hawk-use-traffic-signals-hunting"
              >How a hawk learned to use traffic signals to hunt more
              successfully</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 11:46:30</span
              ><span class="points-container"
                >Points: <span class="points">276</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105965"
                  >Comments</a
                ><span class="descendants">: 88</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105878">
          <h3>
            <a
              class="item"
              href="https://www.allthingsdistributed.com/2025/05/just-make-it-scale-an-aurora-dsql-story.html"
              >Just make it scale: An Aurora DSQL story</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 11:31:02</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105878"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105796">
          <h3>
            <a
              class="item"
              href="https://blog.benjojo.co.uk/post/bgp-attr-40-junos-arista-session-reset-incident"
              >BGP handling bug causes widespread internet routing
              instability</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 11:15:15</span
              ><span class="points-container"
                >Points: <span class="points">210</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105796"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105619">
          <h3>
            <a
              class="item"
              href="https://lumosql.org/src/lumosql/doc/trunk/README.md"
              >LumoSQL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 10:39:30</span
              ><span class="points-container"
                >Points: <span class="points">191</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105619"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105592">
          <h3>
            <a
              class="item"
              href="https://alonso.network/the-recurring-cycle-of-developer-replacement-hype/"
              >The Myth of Developer Obsolescence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 10:33:56</span
              ><span class="points-container"
                >Points: <span class="points">270</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105592"
                  >Comments</a
                ><span class="descendants">: 300</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105470">
          <h3>
            <a
              class="item"
              href="https://actamachina.com/posts/annotated-benter-paper"
              >Revisiting the Algorithm That Changed Horse Race Betting
              (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 10:03:00</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105470"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44103839">
          <h3>
            <a class="item" href="https://lazytetris.com/"
              >Show HN: Lazy Tetris</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 03:58:07</span
              ><span class="points-container"
                >Points: <span class="points">257</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44103839"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
            <div class="text">
              <p>
                Aims to remove all stress, and focus the game on what I like the
                best - stacking.
              </p>
              <p>
                No timer, no score, no gravity. Move to the next piece when you
                are ready, and clear lines when you are ready.
              </p>
              <p>Separate mobile + desktop controls</p>
            </div>
          </section>
        </section>
        <section id="44100677">
          <h3>
            <a
              class="item"
              href="https://www.solarshades.club/p/dispatch-from-the-trenches-of-the"
              >Trying to teach in the age of the AI homework machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-26 @ 19:20:19</span
              ><span class="points-container"
                >Points: <span class="points">385</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44100677"
                  >Comments</a
                ><span class="descendants">: 547</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44100148">
          <h3>
            <a class="item" href="https://benjaminaster.com/css-minecraft/"
              >CSS Minecraft</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-26 @ 18:28:43</span
              ><span class="points-container"
                >Points: <span class="points">1065</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44100148"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44097390">
          <h3>
            <a
              class="item"
              href="https://invariantlabs.ai/blog/mcp-github-vulnerability"
              >GitHub MCP exploited: Accessing private repositories via MCP</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-26 @ 13:46:25</span
              ><span class="points-container"
                >Points: <span class="points">397</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44097390"
                  >Comments</a
                ><span class="descendants">: 262</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://simonwillison.net/2025/May/26/github-mcp-exploited/"
                >https://simonwillison.net/2025/May/26/github-mcp-exploited/</a
              >
            </div>
          </section>
        </section>
        <section id="44087195">
          <h3>
            <a
              class="item"
              href="https://www.seangoedecke.com/shallow-technical-knowledge/"
              >In defense of shallow technical knowledge</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 11:59:06</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44087195"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44086456">
          <h3>
            <a class="item" href="https://xata.io/blog/built-xata-mcp-server"
              >From OpenAPI spec to MCP: How we built Xata's MCP server</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 08:41:13</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44086456"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44085662">
          <h3>
            <a
              class="item"
              href="https://blog.jak-linux.org/2025/05/24/somewhatmax-sat-solver/"
              >A SomewhatMaxSAT Solver</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 05:05:15</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44085662"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44083474">
          <h3>
            <a
              class="item"
              href="https://news.arizona.edu/news/u-researchers-developing-worlds-first-petahertz-speed-phototransistor-ambient-conditions"
              >Worlds first petahertz transistor at ambient conditions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-24 @ 20:06:19</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44083474"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44081395">
          <h3>
            <a
              class="item"
              href="https://technicshistory.com/2025/05/24/the-hobby-computer-culture/"
              >The Hobby Computer Culture</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-24 @ 14:33:47</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44081395"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44079729">
          <h3>
            <a
              class="item"
              href="https://www.bbc.co.uk/news/articles/cj4229k744lo"
              >Cows get GPS collars to stop them falling in river</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-24 @ 08:41:01</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44079729"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44074626">
          <h3>
            <a class="item" href="https://glasskube.dev/blog/distr-docs/"
              >Comparing Docusaurus and Starlight and why we made the switch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-23 @ 17:15:28</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44074626"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
