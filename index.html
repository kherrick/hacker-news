<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="42823908">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/technology/wall-street-banks-set-sell-billions-dollars-x-loans-wsj-reports-2025-01-24/"
              >Wall Street banks prepare to sell up to $3B in X loans next
              week</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 19:22:15</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823908"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823722">
          <h3>
            <a
              class="item"
              href="https://iamwillwang.com/dollar/every-html-element/"
              >Every HTML Element</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 19:02:26</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823722"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823667">
          <h3>
            <a class="item" href="https://www.openra.net/"
              >OpenRA – Classic strategy games rebuilt for the modern era</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 18:55:07</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823667"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823569">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=42823569"
              >Ask HN: Why are banks charging so many fees for accounts and
              cards?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 18:40:02</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823569"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
            <div class="text">
              <p>
                I started a fintech company focused on banking for luxury deals
                and worked with banking partners, so I've seen a lot of the
                industry from the inside. Still, I can't wrap my head around
                this.
              </p>
              <p>
                Why are these fees still prevalent? Are they just a relic of
                legacy banking systems, or is there more to it? The scary thing
                is banks don't even make alot of money on that. So why still
                charge them.
              </p>
            </div>
          </section>
        </section>
        <section id="42823568">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2501.12948"
              >DeepSeek-R1: Incentivizing Reasoning Capability in LLMs via RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 18:39:49</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823568"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42823543">
          <h3>
            <a
              class="item"
              href="https://www.psypost.org/men-lose-half-their-emotional-support-networks-between-30-and-90-decades-long-study-finds/"
              >Men lose half their emotional support networks between 30 and
              90</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 18:36:56</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42823543"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821911">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2025/01/22/science/meteorite-strike-doorbell-camera/index.html"
              >Doorbell camera catches rare footage of meteorite striking home's
              front walkway</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 14:45:15</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821911"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821654">
          <h3>
            <a
              class="item"
              href="https://www.ieee.org/education/credentialing/index.html"
              >IEEE Credentialing Program</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 13:55:00</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821654"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821643">
          <h3>
            <a
              class="item"
              href="https://github.com/Draneria/Toolkit-by-Draneria_Krita-Brushes"
              >Show HN: Krita RGBA Tech – Exploring Filter Engines in
              Open-Source Art</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 13:52:39</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821643"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p>
                This time, I dived into the "filter brush engine" to create
                convenient ways to add thickness to paintstrokes (e.g. emboss),
                something which can make digital art look more appealing or
                traditional.
              </p>
              <p>
                I also created a special eraser which pays attention to the
                "height" of your brushwork, via an edge-detection filter +
                eraser blending mode.
              </p>
              <p>
                If there are any FOSS artists around, feel free to try them out
                \╭◜◝ ᵕ ◜◝╮/
              </p>
              <p>Previous Show HN Threads:</p>
              <p>
                Metallics by Draneria:
                <a href="https://news.ycombinator.com/item?id=42104224"
                  >https://news.ycombinator.com/item?id=42104224</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="42821611">
          <h3>
            <a
              class="item"
              href="https://www.bleepingcomputer.com/news/security/hacker-infects-18-000-script-kiddies-with-fake-malware-builder/"
              >Hacker infects 18,000 "script kiddies" with fake malware
              builder</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 13:47:52</span
              ><span class="points-container"
                >Points: <span class="points">146</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821611"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821519">
          <h3>
            <a class="item" href="https://fedidb.org/software/pixelfed"
              >Pixelfed Hit 500K Users</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 13:29:05</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821519"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821457">
          <h3>
            <a class="item" href="https://pilane.obviy.us/"
              >Show HN: I built a DIY plane spotting system at home</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 13:14:37</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42821457"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42821138">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/inboxbooster/jobs/ci7Hwk0-jvm-bytecode-engineer-full-remote"
              >Inboxbooster (YC W17) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 12:01:09</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42820419">
          <h3>
            <a
              class="item"
              href="https://byroot.github.io/ruby/performance/2025/01/23/the-mythical-io-bound-rails-app.html"
              >The Mythical IO-Bound Rails App</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 08:47:31</span
              ><span class="points-container"
                >Points: <span class="points">149</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42820419"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42819262">
          <h3>
            <a class="item" href="https://github.com/Jiayi-Pan/TinyZero"
              >TinyZero</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 03:38:52</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42819262"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42818278">
          <h3>
            <a
              class="item"
              href="https://github.com/helix-editor/helix/pull/11285"
              >File Explorer is merged to Helix editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-25 @ 00:28:20</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42818278"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42817439">
          <h3>
            <a class="item" href="https://github.com/lightpanda-io/browser"
              >Show HN: Lightpanda, an open-source headless browser in Zig</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 22:15:32</span
              ><span class="points-container"
                >Points: <span class="points">278</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42817439"
                  >Comments</a
                ><span class="descendants">: 131</span></span
              >
            </h4>
            <div class="text">
              <a href="https://lightpanda.io">https://lightpanda.io</a>), an
              open-source headless browser we’ve been building for the past 2
              years from scratch in Zig (not dependent on Chromium or Firefox).
              It’s a faster and lighter alternative for headless operations
              without any graphical rendering.
              <p>
                Why start over? We’ve worked a lot with Chrome headless at our
                previous company, scraping millions of web pages per day. While
                it’s powerful, it’s also heavy on CPU and memory usage. For
                scraping at scale, building AI agents, or automating websites,
                the overheads are high. So we asked ourselves: what if we built
                a browser that only did what’s absolutely necessary for headless
                automation?
              </p>
              <p>Our browser is made of the following main components:</p>
              <p>- an HTTP loader</p>
              <p>- an HTML parser and DOM tree (based on Netsurf libs)</p>
              <p>- a Javascript runtime (v8)</p>
              <p>- partial web APIs support (currently DOM and XHR/Fetch)</p>
              <p>
                - and a CDP (Chrome Debug Protocol) server to allow plug &amp;
                play connection with existing scripts (Puppeteer, Playwright,
                etc).
              </p>
              <p>
                The main idea is to avoid any graphical rendering and just work
                with data manipulation, which in our experience covers a wide
                range of headless use cases (excluding some, like screenshot
                generation).
              </p>
              <p>
                In our current test case Lightpanda is roughly 10x faster than
                Chrome headless while using 10x less memory.
              </p>
              <p>
                It's a work in progress, there are hundreds of Web APIs, and for
                now we just support some of them. It's a beta version, so expect
                most websites to fail or crash. The plan is to increase coverage
                over time.
              </p>
              <p>
                We chose Zig for its seamless integration with C libs and its
                <i>comptime</i> feature that allow us to generate bi-directional
                Native to JS APIs (see our zig-js-runtime lib
                <a href="https://github.com/lightpanda-io/zig-js-runtime"
                  >https://github.com/lightpanda-io/zig-js-runtime</a
                >). And of course for its performance :)
              </p>
              <p>
                As a company, our business model is based on a Managed Cloud,
                browser as a service. Currently, this is primarily powered by
                Chrome, but as we integrate more web APIs it will gradually
                transition to Lightpanda.
              </p>
              <p>
                We would love to hear your thoughts and feedback. Where should
                we focus our efforts next to support your use cases?
              </p>
            </div>
          </section>
        </section>
        <section id="42815673">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=yJ-ovZGp-D0"
              >Show HN: Using aerospace projects to teach maths [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 18:08:14</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42815673"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>
                1. Understand the Challenge: In this mission, the goal is to
                design a UAV that can fly between mountains to avoid enemy
                radar.
              </p>
              <p>
                2. Create Your Solution: Students create a basic design—either
                on paper or using Blender—while doing calculations. Topics like
                algebra, geometry, etc., come into play. Once ready, they upload
                their design.
              </p>
              <p>
                3. AI Analysis: The AI analyzes the design, runs a simulation,
                and provides results in the form of expected output and points.
              </p>
              <p>
                The aim is simple: give students a project to work on so they
                can practice math while also learning about aerospace and
                science.
              </p>
              <p>
                I’m looking for feedback and beta users to test this approach.
                Any help or suggestions would be much appreciated!
              </p>
              <p>
                About me: I’ve been working on game-based learning for the past
                three years. I’ve built a few games to teach topics like
                trigonometry and algebra, and I’m constantly trying to push the
                boundaries of how students engage with STEM topics.
              </p>
            </div>
          </section>
        </section>
        <section id="42814683">
          <h3>
            <a class="item" href="https://github.com/davidlattimore/wild"
              >Wild – A fast linker for Linux</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 16:25:53</span
              ><span class="points-container"
                >Points: <span class="points">361</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42814683"
                  >Comments</a
                ><span class="descendants">: 181</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42814110">
          <h3>
            <a class="item" href="https://cs16.samke.me"
              >Show HN: Cs16.css – CSS library based on Counter Strike 1.6 UI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 15:37:07</span
              ><span class="points-container"
                >Points: <span class="points">757</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42814110"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42810293">
          <h3>
            <a
              class="item"
              href="https://subwaysheds.com/#11.27/40.7427/-73.9869"
              >How far can you get in 40 minutes from each subway station in
              NYC?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-24 @ 03:46:02</span
              ><span class="points-container"
                >Points: <span class="points">187</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42810293"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42808038">
          <h3>
            <a class="item" href="http://searle.x10host.com/zx80/zx80.html"
              >How to build your own ZX80/ZX81 (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-23 @ 21:02:57</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42808038"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42803774">
          <h3>
            <a
              class="item"
              href="https://www.ruder.io/optimizing-gradient-descent/"
              >An overview of gradient descent optimization algorithms (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-23 @ 13:28:52</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42803774"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42796496">
          <h3>
            <a class="item" href="https://evan.widloski.com/software/sms_llm/"
              >Show HN: Trolling SMS spammers with Ollama</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 19:23:48</span
              ><span class="points-container"
                >Points: <span class="points">276</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42796496"
                  >Comments</a
                ><span class="descendants">: 105</span></span
              >
            </h4>
            <div class="text">
              <p>A brief outline of the system:</p>
              <p>
                - Android app listens for incoming SMS events and forwards them
                over MQTT to a server running Ollama which generates responses -
                Conversations are whitelisted and manually assigned a persona.
                The LLM has access to the last N messages of the conversation
                for additional context.
              </p>
              <p>
                [0]:
                <a href="https://github.com/evidlo/sms_llm"
                  >https://github.com/evidlo/sms_llm</a
                >
              </p>
              <p>
                I'm aware that replying can encourage/allow the sender to send
                more spam. Hopefully reporting the numbers after the
                conversation is a reasonable compromise.
              </p>
            </div>
          </section>
        </section>
        <section id="42795646">
          <h3>
            <a
              class="item"
              href="https://cacm.acm.org/opinion/life-lessons-from-the-first-half-century-of-my-career/"
              >Life lessons from the first half-century of my career</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 18:01:18</span
              ><span class="points-container"
                >Points: <span class="points">311</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42795646"
                  >Comments</a
                ><span class="descendants">: 108</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42794691">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/smart-news/giant-mysterious-spires-ruled-the-earth-long-before-trees-did-what-exactly-are-these-odd-looking-fossils-13709647/"
              >Giant, Mysterious Spires Ruled the Earth Long Before Trees Did</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 16:43:13</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42794691"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42793580">
          <h3>
            <a class="item" href="https://github.com/SpinalHDL/VexRiscv"
              >A FPGA friendly 32 bit RISC-V CPU implementation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 15:06:36</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42793580"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42791378">
          <h3>
            <a class="item" href="https://openheart.fyi/"
              >Open Heart Protocol</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 10:49:56</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42791378"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42789670">
          <h3>
            <a
              class="item"
              href="https://suveenellawela.com/thoughts/codenames-ai"
              >I got OpenAI o1 to play the boardgame Codenames and it's super
              good</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-22 @ 06:21:12</span
              ><span class="points-container"
                >Points: <span class="points">167</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42789670"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42779330">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=42779330"
              >Show HN: Using YOLO to Detect Office Chairs in 40M Hotel
              Photos</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-01-21 @ 12:22:26</span
              ><span class="points-container"
                >Points: <span class="points">199</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42779330"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
            <div class="text">
              <p>
                Map:
                <a href="https://www.tripoffice.com/maps"
                  >https://www.tripoffice.com/maps</a
                >
              </p>
              <p>
                Yolo:
                <a href="https://www.ultralytics.com/yolo"
                  >https://www.ultralytics.com/yolo</a
                >
              </p>
              <p>
                The whole process was done on a home Mac without the use of any
                LLMs. It's based on traditional object detection technology.
              </p>
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
