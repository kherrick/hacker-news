<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43104684">
          <h3>
            <a
              class="item"
              href="https://european-alternatives.eu/alternatives-to"
              >European Alternatives for Popular Services</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 17:23:05</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43104684"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43104400">
          <h3>
            <a
              class="item"
              href="https://x.com/danielhanchen/status/1891194528931209644"
              >Unsloth AI (YC S24) is hiring ML engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 17:00:42</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43104071">
          <h3>
            <a
              class="item"
              href="https://azure.microsoft.com/en-us/blog/quantum/2025/02/19/microsoft-unveils-majorana-1-the-worlds-first-quantum-processor-powered-by-topological-qubits/"
              >Microsoft unveils Majorana 1 quantum processor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 16:35:51</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43104071"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43103604">
          <h3>
            <a
              class="item"
              href="https://peter.horne-khan.com/relaxed-radix-balanced-trees/"
              >Relaxed Radix Balanced Trees</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 16:05:10</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43103604"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43103536">
          <h3>
            <a
              class="item"
              href="https://www.apple.com/newsroom/2025/02/apple-debuts-iphone-16e-a-powerful-new-member-of-the-iphone-16-family/"
              >Apple Debuts iPhone 16e</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 16:00:25</span
              ><span class="points-container"
                >Points: <span class="points">202</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43103536"
                  >Comments</a
                ><span class="descendants">: 260</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43103333">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/02/19/troubled-electric-truck-maker-nikola-files-for-bankruptcy/"
              >Troubled electric truck maker Nikola files for bankruptcy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 15:46:36</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43103333"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43103073">
          <h3>
            <a class="item" href="https://github.com/mastra-ai/mastra"
              >Show HN: Mastra – Open-source JS agent framework, by the creators
              of Gatsby</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 15:25:08</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43103073"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <a href="https://mastra.ai">https://mastra.ai</a>), an open-source
              JavaScript SDK for building agents on top of Vercel’s AI SDK.
              <p>
                You can start a Mastra project with `npm create mastra` and
                create workflow graphs that can suspend/resume, build a RAG
                pipeline and write evals, give agents memory, create multi-agent
                workflows, and view it all in a local playground.
              </p>
              <p>
                Previously, we built Gatsby, the open-source React web
                framework. Later, we worked on an AI-powered CRM but it felt
                like we were having to roll all the AI bits (agentic workflows,
                evals, RAG) ourselves. We also noticed our friends building AI
                applications suffering from long iteration cycles: they were
                getting stuck debugging prompts, figuring out why their agents
                called (or didn’t call) tools, and writing lots of custom memory
                retrieval logic.
              </p>
              <p>
                At some point we just looked at each other and were like, why
                aren't we trying to make this part easier, and decided to work
                on Mastra.
              </p>
              <p>
                Demo video:
                <a href="https://www.youtube.com/watch?v=8o_Ejbcw5s8"
                  >https://www.youtube.com/watch?v=8o_Ejbcw5s8</a
                >
              </p>
              <p>
                One thing we heard from folks is that seeing input/output of
                every step, of every run of every workflow, is very useful. So
                we took XState and built a workflow graph primitive on top with
                OTel tracing. We wrote the APIs to make control flow explicit:
                `.step()` for branching, `.then()` for chaining, and `.after()`
                for merging. We also added .`.suspend()/.resume()` for
                human-in-the-loop.
              </p>
              <p>
                We abstracted the main RAG verbs like `.chunk()`, `embed()`,
                `.upsert(),’ `.query()`, and `rerank()` across document types
                and vector DBs. We shipped an eval runner with evals like
                completeness and relevance, plus the ability to write your own.
              </p>
              <p>
                Then we read the MemGPT paper and implemented agent memory on
                top of AI SDK with a `lastMessages` key, `topK` retrieval, and a
                `messageRange` for surrounding context (think `grep -C`).
              </p>
              <p>
                But we still weren’t sure whether our agents were behaving as
                expected, so we built a local dev playground that lets you curl
                agents/workflows, chat with agents, view evals and traces across
                runs, and iterate on prompts with an assistant. The playground
                uses a local storage layer powered by libsql (thanks Turso
                team!) and runs on localhost with `npm run dev` (no Docker).
              </p>
              <p>
                Mastra agents originally ran inside a Next.js app. But we
                noticed that AI teams’ development was increasingly decoupled
                from the rest of their organization, so we built Mastra so that
                you can also run it as a standalone endpoint or service.
              </p>
              <p>
                Some things people have been building so far: one user automates
                support for an iOS app he owns with tens of thousands of paying
                users. Another bundled Mastra inside an Electron app that
                ingests aerospace PDFs and outputs CAD diagrams. Another is
                building WhatsApp bots that let you chat with objects like your
                house.
              </p>
              <p>
                We did (for now) adopt an Elastic v2 license. The agent space is
                pretty new, and we wanted to let users do whatever they want
                with Mastra but prevent, eg, AWS from grabbing it.
              </p>
              <p>
                If you want to get started: - On npm: npm create mastra@latest -
                Github repo:
                <a href="https://github.com/mastra-ai/mastra"
                  >https://github.com/mastra-ai/mastra</a
                >
                - Demo video:
                <a href="https://www.youtube.com/watch?v=8o_Ejbcw5s8"
                  >https://www.youtube.com/watch?v=8o_Ejbcw5s8</a
                >
                - Our website homepage:
                <a href="https://mastra.ai">https://mastra.ai</a> (includes some
                nice diagrams and code samples on agents, RAG, and links to
                examples) - And our docs:
                <a href="https://mastra.ai/docs">https://mastra.ai/docs</a>
              </p>
              <p>
                Excited to share Mastra with everyone here – let us know what
                you think!
              </p>
            </div>
          </section>
        </section>
        <section id="43103071">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2025/02/19/business/ev-nikola-chapter-11-bankruptcy/index.html"
              >Electric-truck maker Nikola files for Chapter 11 bankruptcy
              protection</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 15:25:00</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43103071"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43102528">
          <h3>
            <a
              class="item"
              href="https://research.google/blog/accelerating-scientific-breakthroughs-with-an-ai-co-scientist/"
              >Accelerating scientific breakthroughs with an AI co-scientist</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 14:32:54</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43102528"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43102491">
          <h3>
            <a
              class="item"
              href="https://www.openculture.com/2025/02/hear-the-jazz-funk-musical-adaptation-of-dune-by-david-matthews-1977.html"
              >1977 Jazz-Funk Musical Adaptation of Dune by David Matthews</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 14:29:11</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43102491"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43102425">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2502.09734"
              >Gravitational Effects of Small Primordial Black Hole Passing
              Through Human Body</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 14:21:03</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43102425"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43102284">
          <h3>
            <a
              class="item"
              href="https://cloud.google.com/blog/topics/threat-intelligence/russia-targeting-signal-messenger"
              >Multiple Russia-aligned threat actors actively targeting Signal
              Messenger</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 14:05:23</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43102284"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43102182">
          <h3>
            <a
              class="item"
              href="https://worldhistory.substack.com/p/the-spartan-mirage"
              >Seeing Through the Spartan Mirage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 13:54:51</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43102182"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43101430">
          <h3>
            <a
              class="item"
              href="https://www.ubicloud.com/blog/debugging-hetzner-uncovering-failures-with-powerstat-sensors-and-dmidecode"
              >Debugging Hetzner: Uncovering failures with powerstat, sensors,
              and dmidecode</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 12:40:58</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43101430"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43098318">
          <h3>
            <a class="item" href="https://jon.bo/posts/daylight-computer-1/"
              >Thoughts on Daylight Computer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 03:41:48</span
              ><span class="points-container"
                >Points: <span class="points">216</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43098318"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43097932">
          <h3>
            <a class="item" href="https://saurabhalone.com/blogs/llama3/web"
              >Implementing LLaMA3 in 100 Lines of Pure Jax</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 02:37:10</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43097932"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43096477">
          <h3>
            <a class="item" href="https://github.com/subtrace/subtrace"
              >Show HN: Subtrace – Wireshark for Docker Containers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 23:29:17</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43096477"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <a href="https://subtrace.dev">https://subtrace.dev</a>) to let
              you see all incoming and outgoing requests in your backend
              server—like Wireshark, but for Docker containers. It comes with a
              Chrome DevTools-like interface. Check out this video:
              <a href="https://www.youtube.com/watch?v=OsGa6ZwVxdA"
                >https://www.youtube.com/watch?v=OsGa6ZwVxdA</a
              >, and see our docs for examples:
              <a href="https://docs.subtrace.dev">https://docs.subtrace.dev</a>.
              <p>
                Subtrace lets you see every request with full payload, headers,
                status code, and latency details. Tools like Sentry and
                OpenTelemetry often leave out these crucial details, making prod
                debugging slow and annoying. Most of the time, all I want to see
                are the headers and JSON payload of real backend requests, but
                it's impossible to do that in today's tools without excessive
                logging, which just makes everything slower and more annoying.
              </p>
              <p>
                Subtrace shows you every backend request flowing through your
                system. You can use simple filters to search for the requests
                you care about and inspect their details.
              </p>
              <p>
                Internally, Subtrace intercepts all network-related Linux
                syscalls using Seccomp BPF so that it can act as a proxy for all
                incoming and outgoing TCP connections. It then parses HTTP
                requests out of the proxied TCP stream and sends them to the
                browser over WebSocket. The Chrome DevTools Network tab is
                already ubiquitous for viewing HTTP requests in the frontend, so
                we repurposed it to work in the browser like any other app (we
                were surprised that it's just a bunch of TypeScript).
              </p>
              <p>
                Setup is just one command for any Linux program written in any
                language.
              </p>
              <p>
                You can use Subtrace by adding a `subtrace run` prefix to your
                backend server startup command. No signup required. Try for
                yourself:
                <a href="https://docs.subtrace.dev"
                  >https://docs.subtrace.dev</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="43096422">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/innovation/how-alice-hamilton-waged-one-woman-campaign-get-lead-out-everything-180985960/"
              >Alice Hamilton waged a one-woman campaign to get the lead out of
              everything</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 23:22:22</span
              ><span class="points-container"
                >Points: <span class="points">335</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43096422"
                  >Comments</a
                ><span class="descendants">: 130</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43095811">
          <h3>
            <a class="item" href="https://humane.com/media/humane-hp"
              >HP Acquires Humane's AI Software</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 22:15:05</span
              ><span class="points-container"
                >Points: <span class="points">203</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43095811"
                  >Comments</a
                ><span class="descendants">: 219</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43094260">
          <h3>
            <a
              class="item"
              href="https://github.com/ValveSoftware/source-sdk-2013/commit/0759e2e8e179d5352d81d0d4aaded72c1704b7a9"
              >Valve releases Team Fortress 2 code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 19:57:17</span
              ><span class="points-container"
                >Points: <span class="points">1700</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43094260"
                  >Comments</a
                ><span class="descendants">: 358</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43093939">
          <h3>
            <a
              class="item"
              href="https://www.cea.fr/english/Pages/News/nuclear-fusion-west-beats-the-world-record-for-plasma-duration.aspx"
              >Nuclear fusion: WEST beats the world record for plasma
              duration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 19:26:33</span
              ><span class="points-container"
                >Points: <span class="points">428</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43093939"
                  >Comments</a
                ><span class="descendants">: 414</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43091466">
          <h3>
            <a class="item" href="https://filepilot.tech/"
              >File Pilot: A file explorer built for speed with a modern, robust
              interface</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 16:24:01</span
              ><span class="points-container"
                >Points: <span class="points">257</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43091466"
                  >Comments</a
                ><span class="descendants">: 159</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43090214">
          <h3>
            <a class="item" href="https://scripton.dev"
              >Show HN: Scripton – Python IDE with built-in realtime
              visualizations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 14:57:09</span
              ><span class="points-container"
                >Points: <span class="points">421</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43090214"
                  >Comments</a
                ><span class="descendants">: 136</span></span
              >
            </h4>
            <div class="text">
              <a href="https://scripton.dev">https://scripton.dev</a>) is a
              Python IDE built for fast, interactive visualizations and
              exploratory programming — without the constraints of notebooks.
              <p>
                Why another Python IDE? Scripton hopes to fill a gap in the
                Python development ecosystem by being an IDE that:
              </p>
              <p>
                1. Focuses on easy, fast, and interactive visualizations (and
                exposes rich JS plotting libraries like Observable Plot and
                Plotly directly to Python) 2. Provides a tightly integrated REPL
                for rapid prototyping and exploration 3. Is script-centric (as
                opposed to, say, notebook-style)
              </p>
              <p>
                A historical detour for why these 3 features: Not so long ago
                (ok, well, maybe over a decade ago...), the go-to environment
                for many researchers in scientific fields would have been
                something like MATLAB. Generating multiple simultaneous
                visualizations (potentially dynamic) directly from your scripts,
                rapidly prototyping in the REPL, all without giving up on
                writing regular scripts. Over time, many switched over to Python
                but there wasn't an equivalent environment offering similar
                capabilities. IPython/Jupyter notebooks eventually became the de
                facto replacement. And while notebooks are great for many things
                (indeed, it wasn't uncommon for folks to switch between MATLAB
                and Mathematica Notebooks), they do make certain trade-offs that
                prevent them from being a full substitute.
              </p>
              <p>Inner workings:</p>
              <p>
                - Implemented in C++ (IDE &lt;-&gt; Python IPC), Python,
                TypeScript (UI), WGSL (WebGPU-based visualizations)
              </p>
              <p>
                - While the editor component is based off Monaco, the IDE is not
                a vscode fork and was written from scratch. Happy to chat about
                the trade-offs if anyone's interested
              </p>
              <p>
                - Uses a custom Python debugger written from scratch (which
                enables features like visualizing intermediate outputs while
                paused in the debugger)
              </p>
              <p>
                Scripton's under active development (currently only available
                for macOS but Linux and Windows support is planned). Would love
                for you to try it out and share your thoughts! Since this is HN,
                I’m also happy to chat about its internals.
              </p>
            </div>
          </section>
        </section>
        <section id="43088124">
          <h3>
            <a
              class="item"
              href="https://experience.prfalken.dev/english/subway-poker/"
              >The Secret Poker Game You Can Play on the Subway</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 10:37:55</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43088124"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43087944">
          <h3>
            <a
              class="item"
              href="https://www.chiark.greenend.org.uk/~sgtatham/quasiblog/xor/"
              >XOR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 10:02:30</span
              ><span class="points-container"
                >Points: <span class="points">492</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43087944"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43080445">
          <h3>
            <a
              class="item"
              href="https://www.atlasobscura.com/articles/louis-armstrong-jazz-highlife-ghana"
              >How Louis Armstrong shaped the sound of Ghana</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-17 @ 16:15:48</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43080445"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43077091">
          <h3>
            <a
              class="item"
              href="https://paperstack.com/an_early_social_unnetwork/"
              >An early social un-network</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-17 @ 09:56:55</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43077091"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43070619">
          <h3>
            <a
              class="item"
              href="https://marcgg.com/blog/2025/02/11/high-growth/"
              >Gaining Years of Experience in a Few Months</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-16 @ 19:02:14</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43070619"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43066927">
          <h3>
            <a
              class="item"
              href="https://www.projectaria.com/research-kit/?_fb_noscript=1"
              >Meta Project Aria - Smart Glasses Research Kit</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-16 @ 10:13:31</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43066927"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43057898">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-01-complex-human-cell-lines-reveals.html"
              >Engineering of human cells reveals genome's resilience to
              structural changes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-15 @ 12:04:31</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43057898"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
