<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45905451">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2511.07585"
              >LLM Output Drift in Financial Workflows: Validation and
              Mitigation (arXiv)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 19:53:25</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45905451"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45905408">
          <h3>
            <a
              class="item"
              href="https://today.ucsd.edu/story/glp-1-drugs-linked-to-dramatically-lower-death-rates-in-colon-cancer-patients"
              >GLP-1 Drugs Linked to Dramatically Lower Death Rates in Colon
              Cancer Patients</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 19:50:32</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45905408"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45904860">
          <h3>
            <a
              class="item"
              href="https://www.npr.org/2025/11/06/nx-s1-5597971/electricity-bills-utilities-ai"
              >Is your electric bill going up? AI is partly to blame</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 19:21:09</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45904860"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45904551">
          <h3>
            <a class="item" href="https://openai.com/index/gpt-5-1/"
              >GPT-5.1: A smarter, more conversational ChatGPT</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 19:05:41</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45904551"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45904161">
          <h3>
            <a
              class="item"
              href="https://chillphysicsenjoyer.substack.com/p/results-from-blasting-yeast-with"
              >Blasting Yeast with UV Light</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 18:46:40</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45904161"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903995">
          <h3>
            <a class="item" href="https://robrobinette.com/How_Amps_Work.htm"
              >How Tube Amplifiers Work</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 18:35:59</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903995"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903888">
          <h3>
            <a class="item" href="https://kozubik.com/items/MaestroTechnology/"
              >Maestro Technology Sells Used SSD Drives as New</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 18:29:18</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903888"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903840">
          <h3>
            <a
              class="item"
              href="https://www.phoronix.com/news/Steam-Machines-Frame-2026"
              >Valve Announces New Steam Machine, Steam Controller and Steam
              Frame</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 18:26:25</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903840"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903586">
          <h3>
            <a
              class="item"
              href="https://tratt.net/laurie/blog/2025/async_and_finaliser_deadlocks.html"
              >Async and Finaliser Deadlocks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 18:12:29</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903586"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903510">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/uk-news/2025/nov/11/uk-suspends-intelligence-sharing-with-us-amid-airstikes-in-the-caribbean"
              >UK pauses intelligence-sharing with US on suspected drug vessels
              in Caribbean</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 18:07:27</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903510"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903404">
          <h3>
            <a
              class="item"
              href="https://store.steampowered.com/sale/steammachine"
              >Steam Machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 17:59:43</span
              ><span class="points-container"
                >Points: <span class="points">716</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903404"
                  >Comments</a
                ><span class="descendants">: 362</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903325">
          <h3>
            <a
              class="item"
              href="https://store.steampowered.com/sale/steamframe"
              >Steam Frame</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 17:54:58</span
              ><span class="points-container"
                >Points: <span class="points">525</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903325"
                  >Comments</a
                ><span class="descendants">: 162</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45903161">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45903161"
              >Launch HN: JSX Tool (YC F25) – A Browser Dev-Panel IDE for
              React</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 17:43:42</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45903161"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
            <div class="text">
              <a href="https://jsxtool.com">https://jsxtool.com</a>) a new
              inspector/dev panel IDE that allows you to navigate to any line of
              your React project’s JSX with just a click and a command click to
              explore your render stack.
              <p>
                Demo video:
                <a href="https://www.youtube.com/watch?v=JIIXvN7vhrs"
                  >https://www.youtube.com/watch?v=JIIXvN7vhrs</a
                >
              </p>
              <p>
                I’ve been writing React code for nearly a decade. Since I first
                saw source maps in the days of Babel and Redux, I’ve always
                wanted to be able to edit my code from the source maps. I’ve
                also always wanted to be able to inspect my JSX like it was
                HTML.
              </p>
              <p>
                Last year, I found my first real use of AI was taking ad-hoc CSS
                changes in the Chrome element inspector, pasting them into
                ChatGPT, and asking for the equivalent in Tailwind. I’d then
                paste those changes into my React TSX files.
              </p>
              <p>
                I wanted to streamline this process but came to the conclusion
                that to do so I needed to build a JSX inspector. I had to write
                a custom AST parser to create a mapping between the JSX and
                HTML. So I hacked on an inspector for a couple of months that
                connected JSX to the DOM in both directions.
              </p>
              <p>
                The next feature was adding a CSS editor, like the one in the
                browser inspectors but for JSX. Unlike styling a piece of HTML I
                decided that any in memory style edits to a React fiber should
                be globally applied, as if you had tweaked that line of code in
                your codebase.
              </p>
              <p>
                Finally, I was able to add the two AI features I really wanted:
                (1) prompt for in-memory styles for when I was pixel tweaking,
                and (2) save those temporary changes back to my codebase in the
                convention of the codebase I was working in.
              </p>
              <p>
                To accomplish talking to the filesystem from the Chrome
                extension I built a little local server that mounts from the
                root of your project and allows the extension to send
                file-system commands back to your project root. We named this
                the “Dev Server”. (Note: You can fully use us as a JSX inspector
                without this server installed.)
              </p>
              <p>
                After all that, I found that to convert myself as a user I
                needed it to be a pretty fully functional IDE. I needed vim
                bindings, I needed a typechecker, I needed auto-complete, I
                needed a linter, I needed code search and I needed a proper file
                explorer. Fortunately we were able to take advantage of the
                dev-server architecture we had stumbled onto in order to add an
                LSP server and Rip Grep. At this point, after months of dog
                fooding, I use JSX Tool for almost all of my website edits.
              </p>
              <p>
                We’re still rough around the edges for mobile but we’re working
                on that.
              </p>
              <p>
                All of the IDE stuff not involving AI is free and works fine
                without AI. We let you get a taste of the prompting stuff for
                free but apply some rate limits.
              </p>
              <p>
                The extension itself is not open source but the dev server with
                the LSP is. It’s a great foundation if you want to build any
                sort of in-browser IDE and it's nearly React agnostic. Building
                the dev server was a big undertaking so I’d love to see someone
                fork it and find value in it.
              </p>
              <p>
                In the future we want to start adding things that we are in a
                position to take advantage of over something like Cursor, such
                as letting AI give you code suggestions for runtime exceptions
                or work with the network logs. We think that the convenience of
                having your IDE in the dev panel gives us a leg up in
                convenience and workflow context.
              </p>
              <p>
                Anyway, regardless of how you feel about AI coding, I wanted to
                make something that was useful with or without AI. We’d love it
                if you gave it a spin and we want to share anything we can about
                the technical side of the product that you might find
                interesting.
              </p>
            </div>
          </section>
        </section>
        <section id="45902898">
          <h3>
            <a class="item" href="https://projecteuler.net">Project Euler</a>
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 17:24:54</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45902898"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45902590">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45902590"
              >Show HN: Cancer diagnosis makes for an interesting RL environment
              for LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 17:01:42</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45902590"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              <p>
                I wanted to share a simple RL environment I built that gave
                frontier LLMs a set of tools that lets it zoom and pan across a
                digitized pathology slide to find the relevant regions to make a
                diagnosis. Here are some videos of the LLM performing diagnosis
                on a few slides:
              </p>
              <p>
                (<a href="https://www.youtube.com/watch?v=k7ixTWswT5c"
                  >https://www.youtube.com/watch?v=k7ixTWswT5c</a
                >): traces of an LLM choosing different regions to view before
                making a diagnosis on a case of small-cell carcinoma of the lung
              </p>
              <p>
                (<a href="https://youtube.com/watch?v=0cMbqLnKkGU"
                  >https://youtube.com/watch?v=0cMbqLnKkGU</a
                >): traces of an LLM choosing different regions to view before
                making a diagnosis on a case of benign fibroadenoma of the
                breast
              </p>
              <p>Why I built this:</p>
              <p>
                Pathology slides are the backbone of modern cancer diagnosis.
                Tissue from a biopsy is sliced, stained, and mounted on glass
                for a pathologist to examine abnormalities.
              </p>
              <p>
                Today, many of these slides are digitized into whole-slide
                images (WSIs)in TIF or SVS format and are several gigabytes in
                size.
              </p>
              <p>
                While there exists several pathology-focused AI models, I was
                curious to test whether frontier LLMs can perform well on
                pathology-based tasks. The main challenge is that WSIs are too
                large to fit into an LLM’s context window. The standard
                workaround, splitting them into thousands of smaller tiles, is
                inefficient for large frontier LLMs.
              </p>
              <p>
                Inspired by how pathologists zoom and pan under a microscope, I
                built a set of tools that let LLMs control magnification and
                coordinates, viewing small regions at a time and deciding where
                to look next.
              </p>
              <p>
                This ended up resulting in some interesting behaviors, and
                actually seemed to yield pretty good results with prompt
                engineering:
              </p>
              <p>
                - GPT 5: explored up to ~30 regions before deciding (concurred
                with an expert pathologist on 4 out of 6 cancer subtyping tasks
                and 3 out of 5 IHC scoring tasks)
              </p>
              <p>
                - Claude 4.5: Typically used 10–15 views but similar accuracy as
                GPT-5 (concurred with the pathologist on 3 out of 6 cancer
                subtyping tasks and 4 out of 5 IHC scoring tasks)
              </p>
              <p>
                - Smaller models (GPT 4o, Claude 3.5 Haiku): examined ~8 frames
                and were less accurate overall (1 out of 6 cancer subtytping
                tasks and 1 out of 5 IHC scoring tasks)
              </p>
              <p>
                Obviously, this was a small sample set, so we are working on
                creating a larger benchmark suite with more cases and types of
                tasks, but I thought this was cool that it even worked so I
                wanted to share with HN!
              </p>
            </div>
          </section>
        </section>
        <section id="45901904">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2025/11/12/business/last-penny-minted"
              >The last-ever penny will be minted today in Philadelphia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 16:10:13</span
              ><span class="points-container"
                >Points: <span class="points">333</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45901904"
                  >Comments</a
                ><span class="descendants">: 471</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45901855">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/11/12/waymo-robotaxis-are-now-giving-rides-on-freeways-in-these-3-cities/"
              >Waymo robotaxis are now giving rides on freeways in LA, SF and
              Phoenix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 16:06:29</span
              ><span class="points-container"
                >Points: <span class="points">236</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45901855"
                  >Comments</a
                ><span class="descendants">: 275</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45900978">
          <h3>
            <a
              class="item"
              href="https://lpn.swi-prolog.org/lpnpage.php?pageid=top"
              >Learn Prolog Now</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 14:54:27</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45900978"
                  >Comments</a
                ><span class="descendants">: 117</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45900370">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/fighting-nyt-user-privacy-invasion"
              >Fighting the New York Times' invasion of user privacy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 14:08:28</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45900370"
                  >Comments</a
                ><span class="descendants">: 202</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45900159">
          <h3>
            <a
              class="item"
              href="https://www.shlom.dev/articles/geometry-behind-normal-maps/"
              >The Geometry Behind Normal Maps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 13:50:47</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45900159"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45900108">
          <h3>
            <a
              class="item"
              href="https://heydingus.net/blog/2025/11/micro-blog-offers-an-indie-alternative-to-youtube-with-its-studio-video-hosting-plan"
              >Micro.blog launches new 'Studio' tier with video hosting</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 13:46:28</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45900108"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45899189">
          <h3>
            <a
              class="item"
              href="https://yorickpeterse.com/articles/a-brief-look-at-freebsd/"
              >A brief look at FreeBSD</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 12:10:11</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45899189"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45898407">
          <h3>
            <a class="item" href="https://github.com/yt-dlp/yt-dlp/issues/15012"
              >Yt-dlp: External JavaScript runtime now required for full YouTube
              support</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 10:12:53</span
              ><span class="points-container"
                >Points: <span class="points">734</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45898407"
                  >Comments</a
                ><span class="descendants">: 454</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45897935">
          <h3>
            <a
              class="item"
              href="https://dfarq.homeip.net/what-happened-to-transmeta-the-last-big-dotcom-ipo/"
              >What happened to Transmeta, the last big dotcom IPO</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 09:01:41</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45897935"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45897271">
          <h3>
            <a
              class="item"
              href="https://www.nasdaq.com/articles/metas-chief-ai-scientist-yann-lecun-depart-and-launch-ai-start-focused-world-models"
              >Yann LeCun to depart Meta and launch AI startup focused on 'world
              models'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-12 @ 07:25:30</span
              ><span class="points-container"
                >Points: <span class="points">761</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45897271"
                  >Comments</a
                ><span class="descendants">: 575</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45888620">
          <h3>
            <a
              class="item"
              href="https://devblogs.microsoft.com/dotnet/announcing-dotnet-10/"
              >.NET 10</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-11 @ 15:44:35</span
              ><span class="points-container"
                >Points: <span class="points">432</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45888620"
                  >Comments</a
                ><span class="descendants">: 368</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45865646">
          <h3>
            <a
              class="item"
              href="https://pwnforfunandprofit.substack.com/p/the-single-byte-that-kills-your-exploit"
              >The Single Byte That Kills Your Exploit: Understanding
              Endianness</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-09 @ 13:56:53</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45865646"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45826596">
          <h3>
            <a
              class="item"
              href="https://email-is-good.com/2025/11/05/archive-or-delete/"
              >Archive or Delete?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-05 @ 19:07:20</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45826596"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45811026">
          <h3>
            <a class="item" href="http://nethack4.org/philosophy.html"
              >NetHack4 Philosophy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-04 @ 13:52:43</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45811026"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45783411">
          <h3>
            <a
              class="item"
              href="https://news.mit.edu/2025/professor-ioannis-yannas-dies-1027"
              >Ioannis Yannas invented artificial skin for treatment of
              burns–dies at 90</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-01 @ 17:18:23</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45783411"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
