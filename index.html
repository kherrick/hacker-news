<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46230072">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/global-development/2025/dec/11/meta-shuts-down-global-accounts-linked-to-abortion-advice-and-queer-content"
              >Meta shuts down global accounts linked to abortion advice and
              queer content</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 11:26:45</span
              ><span class="points-container"
                >Points: <span class="points">200</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46230072"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46229467">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1047238/25c270b077849dc0/"
              >A “frozen” dictionary for Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 09:51:47</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46229467"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46228597">
          <h3>
            <a
              class="item"
              href="https://thephd.dev/the-cost-of-a-closure-in-c-c2y"
              >The Cost of a Closure in C</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 07:21:33</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46228597"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46227619">
          <h3>
            <a class="item" href="https://wiki.csswg.org/ideas/mistakes"
              >Incomplete list of mistakes in the design of CSS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 04:20:52</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46227619"
                  >Comments</a
                ><span class="descendants">: 95</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46226483">
          <h3>
            <a class="item" href="https://www.patterns.dev/">Patterns.dev</a>
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 01:18:55</span
              ><span class="points-container"
                >Points: <span class="points">365</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46226483"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46223311">
          <h3>
            <a
              class="item"
              href="https://ankursethi.com/blog/gemini-api-key-frustration/"
              >Getting a Gemini API key is an exercise in frustration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 20:29:12</span
              ><span class="points-container"
                >Points: <span class="points">621</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46223311"
                  >Comments</a
                ><span class="descendants">: 250</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46221925">
          <h3>
            <a class="item" href="https://github.com/malucard/sm64-psx"
              >Super Mario 64 for the PS1</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 18:58:55</span
              ><span class="points-container"
                >Points: <span class="points">251</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46221925"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46221594">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2512.08309"
              >Terrain Diffusion: A Diffusion-Based Successor to Perlin Noise</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 18:37:27</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46221594"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46220794">
          <h3>
            <a class="item" href="https://alpranalysis.com"
              >Show HN: Automated license plate reader coverage in the USA</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 17:42:30</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46220794"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
            <div class="text">
              <p>
                These have gotten more controversial in recent months, due to
                their indiscriminate large scale data collection, with 404 Media
                publishing many original pieces (<a
                  href="https://www.404media.co/tag/flock/"
                  >https://www.404media.co/tag/flock/</a
                >) about their adoption and (ab)use across the country. I wanted
                to use open source datasets to track the rapid expansion,
                especially per-county, as this data can be crucial for 'deflock'
                movements to petition counties and city governments to ban and
                remove them.
              </p>
              <p>
                In some counties, the tracking becomes so widespread that most
                people can't go anywhere without being photographed. This
                includes possibly sensitive areas, like places of worship and
                medical facilities.
              </p>
              <p>
                The argument for their legality rests upon the notion that these
                cameras are equivalent to 'mere observation', but the enormous
                scope and data sharing agreements in place to share and access
                <i>millions</i> of records without warrants blurs the lines of
                the fourth amendment.
              </p>
            </div>
          </section>
        </section>
        <section id="46220540">
          <h3>
            <a class="item" href="https://karpathy.bearblog.dev/auto-grade-hn/"
              >Auto-grading decade-old Hacker News discussions with hindsight</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 17:23:53</span
              ><span class="points-container"
                >Points: <span class="points">477</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46220540"
                  >Comments</a
                ><span class="descendants">: 213</span></span
              >
            </h4>
            <div class="text">
              <i
                >Show HN: Gemini Pro 3 imagines the HN front page 10 years from
                now</i
              >
              -
              <a href="https://news.ycombinator.com/item?id=46205632"
                >https://news.ycombinator.com/item?id=46205632</a
              >
            </div>
          </section>
        </section>
        <section id="46220488">
          <h3>
            <a
              class="item"
              href="https://www.heise.de/en/news/Valve-HDMI-Forum-Continues-to-Block-HDMI-2-1-for-Linux-11107440.html"
              >Valve: HDMI Forum Continues to Block HDMI 2.1 for Linux</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 17:20:06</span
              ><span class="points-container"
                >Points: <span class="points">789</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46220488"
                  >Comments</a
                ><span class="descendants">: 440</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46219538">
          <h3>
            <a
              class="item"
              href="https://qwen.ai/blog?id=qwen3-omni-flash-20251201"
              >Qwen3-Omni-Flash-2025-12-01：a next-generation native multimodal
              large model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 16:13:38</span
              ><span class="points-container"
                >Points: <span class="points">280</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46219538"
                  >Comments</a
                ><span class="descendants">: 95</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46219346">
          <h3>
            <a class="item" href="https://neal.fun/size-of-life/"
              >Size of Life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 16:02:57</span
              ><span class="points-container"
                >Points: <span class="points">2188</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46219346"
                  >Comments</a
                ><span class="descendants">: 242</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46218101">
          <h3>
            <a class="item" href="https://github.com/fcavallarin/wirebrowser"
              >Show HN: Wirebrowser – A JavaScript debugger with
              breakpoint-driven heap search</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 14:30:43</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46218101"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm building a JavaScript debugger called Wirebrowser. It
                combines network inspection, request rewriting, heap snapshots,
                and live object search.
              </p>
              <p>
                The main experimental feature is BDHS (Breakpoint-Driven Heap
                Search): it hooks into the JavaScript debugger and automatically
                captures a heap snapshot at every pause and performs a targeted
                search for the value or structure of interest. This reveals the
                moment a value appears in memory and the user-land function
                responsible for creating it.
              </p>
              <p>
                Another interesting feature is the Live Object Search: it
                inspects runtime objects (not just snapshots), supports regex
                and object similarity, and lets you patch objects directly at
                runtime.
              </p>
              <p>
                Whitepaper:
                <a
                  href="https://fcavallarin.github.io/wirebrowser/BDHS-Origin-Trace"
                  >https://fcavallarin.github.io/wirebrowser/BDHS-Origin-Trace</a
                >
              </p>
              <p>
                Feedback very welcome, especially on whether BDHS would help
                your debugging workflow.
              </p>
            </div>
          </section>
        </section>
        <section id="46216446">
          <h3>
            <a
              class="item"
              href="https://cdegroot.com/programming/commonlisp/2025/11/26/cl-ql-asdf.html"
              >Common Lisp, ASDF, and Quicklisp: packaging explained</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 11:10:58</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46216446"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46212438">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/world/us/rubio-stages-font-coup-times-new-roman-ousts-calibri-2025-12-09/"
              >Rubio stages font coup: Times New Roman ousts Calibri</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 00:08:34</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46212438"
                  >Comments</a
                ><span class="descendants">: 530</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.md/x0Sxc">https://archive.md/x0Sxc</a>
            </div>
          </section>
        </section>
        <section id="46208348">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/legal/litigation/australia-social-media-ban-takes-effect-world-first-2025-12-09/"
              >Australia begins enforcing world-first teen social media ban</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-09 @ 18:12:29</span
              ><span class="points-container"
                >Points: <span class="points">837</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46208348"
                  >Comments</a
                ><span class="descendants">: 1269</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.md/i0VxX">https://archive.md/i0VxX</a>
              <p>
                <a href="https://www.bbc.com/news/live/cwy54q80gy9t"
                  >https://www.bbc.com/news/live/cwy54q80gy9t</a
                >
              </p>
              <p>
                <a
                  href="https://www.nytimes.com/2025/12/09/world/asia/australia-social-media-ban-under-16.html"
                  >https://www.nytimes.com/2025/12/09/world/asia/australia-soci...</a
                >
                (<a href="https://archive.ph/Ba2JR">https://archive.ph/Ba2JR</a
                >)
              </p>
            </div>
          </section>
        </section>
        <section id="46206591">
          <h3>
            <a
              class="item"
              href="https://github.com/privacyshield-ai/privacy-firewall"
              >Show HN: Local Privacy Firewall-blocks PII and secrets before
              ChatGPT sees them</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-09 @ 16:10:37</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46206591"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built this because I recently caught myself almost pasting a
                block of logs containing AWS keys into Claude.
              </p>
              <p>
                The Problem: I need the reasoning capabilities of cloud models
                (GPT/Claude/Gemini), but I can't trust myself not to
                accidentally leak PII or secrets.
              </p>
              <p>
                The Solution: A Chrome extension that acts as a local
                middleware. It intercepts the prompt and runs a local BERT model
                (via a Python FastAPI backend) to scrub names, emails, and keys
                before the request leaves the browser.
              </p>
              <p>A few notes up front (to set expectations clearly):</p>
              <p>
                Everything runs 100% locally. Regex detection happens in the
                extension itself. Advanced detection (NER) uses a small
                transformer model running on localhost via FastAPI.
              </p>
              <p>
                No data is ever sent to a server. You can verify this in the
                code + DevTools network panel.
              </p>
              <p>
                This is an early prototype. There will be rough edges. I’m
                looking for feedback on UX, detection quality, and whether the
                local-agent approach makes sense.
              </p>
              <p>
                Tech Stack: Manifest V3 Chrome Extension Python FastAPI
                (Localhost) HuggingFace dslim/bert-base-NER Roadmap / Request
                for Feedback: Right now, the Python backend adds some friction.
                I received feedback on Reddit yesterday suggesting I port the
                inference to transformer.js to run entirely in-browser via WASM.
              </p>
              <p>
                I decided to ship v1 with the Python backend for stability, but
                I'm actively looking into the ONNX/WASM route for v2 to remove
                the local server dependency. If anyone has experience running
                NER models via transformer.js in a Service Worker, I’d love to
                hear about the performance vs native Python.
              </p>
              <p>Repo is MIT licensed.</p>
              <p>Very open to ideas suggestions or alternative approaches.</p>
            </div>
          </section>
        </section>
        <section id="46203343">
          <h3>
            <a
              class="item"
              href="https://laurenleek.substack.com/p/how-google-maps-quietly-allocates"
              >How Google Maps allocates survival across London's restaurants</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-09 @ 10:20:02</span
              ><span class="points-container"
                >Points: <span class="points">310</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46203343"
                  >Comments</a
                ><span class="descendants">: 154</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46192748">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/python-workers-advancements/"
              >Python Workers redux: fast cold starts, packages, and a uv-first
              workflow</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 14:42:01</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46192748"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46191597">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/the-polyglot-neuroscientist-resolving-how-the-brain-parses-language-20251205/"
              >How the Brain Parses Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 12:46:50</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46191597"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46189632">
          <h3>
            <a
              class="item"
              href="https://www.techfounderstack.com/p/why-startups-die"
              >Why Startups Die</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-08 @ 08:04:51</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46189632"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46174534">
          <h3>
            <a class="item" href="https://vcmi.eu/"
              >VCMI: An open-source engine for Heroes III</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-06 @ 16:27:35</span
              ><span class="points-container"
                >Points: <span class="points">131</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46174534"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46170784">
          <h3>
            <a
              class="item"
              href="https://drscotthawley.github.io/blog/posts/FlowWhereYouWant.html"
              >Flow Where You Want – Guidance for Flow Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-06 @ 04:46:14</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46170784"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46159676">
          <h3>
            <a
              class="item"
              href="https://bonniesimon.in/blog/go-escape-analysis"
              >Go's escape analysis and why my function return worked</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-05 @ 11:03:37</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46159676"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46150797">
          <h3>
            <a
              class="item"
              href="https://www.isi.edu/news/81186/scientists-create-ultra-fast-memory-using-light/"
              >Scientists create ultra fast memory using light</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-04 @ 18:11:21</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46150797"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46147987">
          <h3>
            <a
              class="item"
              href="https://serversfor.dev/linux-inside-out/the-linux-kernel-is-just-a-program/"
              >Booting Linux in QEMU and Writing PID 1 in Go to Illustrate
              Kernel as Program</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-04 @ 14:25:38</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46147987"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46131518">
          <h3>
            <a
              class="item"
              href="https://store.steampowered.com/news/app/553850/view/491583942944621371"
              >Helldivers 2 on-disk size 85% reduction</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-03 @ 08:08:31</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46131518"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46119762">
          <h3>
            <a
              class="item"
              href="https://www.cam.ac.uk/stories/twelve-million-years-of-giant-anacondas"
              >Fossils reveal anacondas have been giants for over 12 million
              years</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-02 @ 10:30:46</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46119762"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.tandfonline.com/doi/full/10.1080/02724634.2025.2572967"
                >https://www.tandfonline.com/doi/full/10.1080/02724634.2025.2...</a
              >
            </div>
          </section>
        </section>
        <section id="46087339">
          <h3>
            <a class="item" href="https://github.com/hako/oeis-tui"
              >Show HN: oeis-tui – A TUI to search OEIS integer sequences in the
              terminal</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-29 @ 13:20:01</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46087339"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                so I decided to make a TUI and CLI for it so that I can browse
                sequences in the terminal.
              </p>
              <p>
                it supports almost all the features on the site (including the
                OEIS Webcam) and supports graphs, a preview pane, exporting and
                bookmarks.
              </p>
              <p>
                more features here:
                <a
                  href="https://github.com/hako/oeis-tui?tab=readme-ov-file#features"
                  >https://github.com/hako/oeis-tui?tab=readme-ov-file#features</a
                >
              </p>
              <p>
                repo:
                <a href="https://github.com/hako/oeis-tui"
                  >https://github.com/hako/oeis-tui</a
                >
              </p>
              <p>
                gitHub releases:
                <a href="https://github.com/hako/oeis-tui/releases"
                  >https://github.com/hako/oeis-tui/releases</a
                >
              </p>
              <p>cargo: cargo install oeis-tui</p>
            </div>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
