<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="37044625">
          <h3>
            <a
              class="item"
              href="https://support.mozilla.org/en-US/kb/run-firefox-chromeos"
              >Run Firefox on ChromeOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 04:49:15</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37044625"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37044168">
          <h3>
            <a
              class="item"
              href="https://www.aboutchromebooks.com/news/lacros-on-chromebooks-transition-plan-wont-be-quick/"
              >Lacros on Chromebooks transition plan won’t be quick</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 03:27:02</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37044168"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37043973">
          <h3>
            <a
              class="item"
              href="https://journals.aps.org/prl/abstract/10.1103/PhysRevLett.131.027001"
              >Ubiquitous Superconducting Diode Effect in Superconductor Thin
              Films</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 02:59:24</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37043973"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37043934">
          <h3>
            <a class="item" href="https://noclip.website"
              >Noclip.website: A digital museum of video game levels</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 02:55:22</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37043934"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37043447">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2308.03110"
              >Ferromagnetic half levitation of LK-99-like synthetic samples</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 01:46:55</span
              ><span class="points-container"
                >Points: <span class="points">226</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37043447"
                  >Comments</a
                ><span class="descendants">: 157</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37043122">
          <h3>
            <a class="item" href="https://etleap.com/careers/software-engineer/"
              >Etleap (YC W13) Is Hiring a Software Engineer (London – OR – San
              Francisco)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 01:01:14</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37042790">
          <h3>
            <a
              class="item"
              href="https://www.cancer.columbia.edu/news/cancers-cloaking-device-revealed"
              >Malignant melanoma deploys elegant molecular mechanism to evade
              immune responses</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-08 @ 00:17:01</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37042790"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37042561">
          <h3>
            <a
              class="item"
              href="https://janefriedman.com/i-would-rather-see-my-books-pirated/"
              >I would rather see my books get pirated than this</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 23:52:57</span
              ><span class="points-container"
                >Points: <span class="points">441</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37042561"
                  >Comments</a
                ><span class="descendants">: 290</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37040747">
          <h3>
            <a
              class="item"
              href="https://www.cisa.gov/news-events/alerts/2023/08/04/cisa-releases-its-cybersecurity-strategic-plan"
              >CISA Releases Its Cybersecurity Strategic Plan</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 20:48:35</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37040747"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37040681">
          <h3>
            <a
              class="item"
              href="https://buttondown.email/hillelwayne/archive/raku-a-language-for-gremlins/"
              >Raku: A language for gremlins</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 20:42:48</span
              ><span class="points-container"
                >Points: <span class="points">289</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37040681"
                  >Comments</a
                ><span class="descendants">: 137</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37040359">
          <h3>
            <a class="item" href="https://www.npmjs.com/package/doculite"
              >Show HN: Doculite – Use SQLite as a Document Database</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 20:14:34</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37040359"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
            <div class="text">
              <p>
                As I was working on a side project, I noticed I wanted to use
                SQLite like a Document Database on the server. So I built
                Doculite. DocuLite lets you use SQLite like Firebase Firestore.
                It's written in Typescript and an adapter on top of sqlite3 and
                sqlite.
              </p>
              <p>Reasons:</p>
              <p>
                1) Using an SQL Database meant having less flexibility and
                iterating slower.
              </p>
              <p>
                2) Alternative, proven Document Databases only offered
                client/server support.
              </p>
              <p>
                3) No network. Having SQLite server-side next to the application
                is extremely fast.
              </p>
              <p>4) Replicating Firestore's API makes it easy to use.</p>
              <p>5) Listeners and real-time updates enhance UX greatly.</p>
              <p>
                6) SQLite is a proven, stable, and well-liked standard. And,
                apparently one of the most deployed software modules right now.
                (src:
                <a href="https://www.sqlite.org/mostdeployed.html"
                  >https://www.sqlite.org/mostdeployed.html</a
                >)
              </p>
              <p>
                What do you think? Feel free to comment with questions, remarks,
                and thoughts.
              </p>
              <p>Happy to hear them.</p>
              <p>Thanks</p>
            </div>
          </section>
        </section>
        <section id="37040205">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2023-08-true-lithium-revealed.html"
              >Lithium morphology discovery could lead to safer lithium-metal
              batteries</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 20:03:37</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37040205"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37038908">
          <h3>
            <a class="item" href="https://github.com/diogocapela/flatdraw"
              >Open-source canvas drawing web app, built using React</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 18:50:19</span
              ><span class="points-container"
                >Points: <span class="points">196</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37038908"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37038457">
          <h3>
            <a
              class="item"
              href="https://developers.redhat.com/articles/2023/08/02/beginners-guide-git-version-control"
              >A beginner's guide to Git version control</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 18:21:33</span
              ><span class="points-container"
                >Points: <span class="points">219</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37038457"
                  >Comments</a
                ><span class="descendants">: 184</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37038425">
          <h3>
            <a
              class="item"
              href="https://steven-giesel.com/blogPost/2f70d926-ec92-4dfe-b278-18f78078253d"
              >The combined power of F# and C#</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 18:19:10</span
              ><span class="points-container"
                >Points: <span class="points">182</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37038425"
                  >Comments</a
                ><span class="descendants">: 164</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37038278">
          <h3>
            <a
              class="item"
              href="https://aeroxplorer.com/articles/aeroflot-deactivates-brakes-on-nine-aircraft-relies-solely-on-reverse-thrust.php"
              >Aeroflot deactivates brakes on nine aircraft, relies solely on
              reverse thrust</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 18:09:50</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37038278"
                  >Comments</a
                ><span class="descendants">: 259</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37038053">
          <h3>
            <a class="item" href="https://chainforge.ai/docs/"
              >Show HN: ChainForge, a visual tool for prompt engineering and LLM
              evaluation</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 17:54:32</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37038053"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
            <div class="text">
              Hi HN! We’re been working hard on this low-code tool for rapid
              prompt discovery, robustness testing and LLM evaluation. We’ve
              just released documentation to help new users learn how to use it
              and what it can already do. Let us know what you think! :)
            </div>
          </section>
        </section>
        <section id="37037520">
          <h3>
            <a
              class="item"
              href="https://xnacly.me/posts/2022/linux-for-powerusers/"
              >Linux guide for power users (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 17:19:30</span
              ><span class="points-container"
                >Points: <span class="points">175</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37037520"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37037196">
          <h3>
            <a class="item" href="https://blog.zoom.us/zooms-term-service-ai/"
              >How Zoom’s terms of service and practices apply to AI features</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 16:59:00</span
              ><span class="points-container"
                >Points: <span class="points">283</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37037196"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37036851">
          <h3>
            <a
              class="item"
              href="https://mhatta.medium.com/gnu-hurd-strikes-back-4021433d506d"
              >Gnu/Hurd strikes back: How to use the legendary OS in a
              (somewhat) practical way</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 16:38:17</span
              ><span class="points-container"
                >Points: <span class="points">255</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37036851"
                  >Comments</a
                ><span class="descendants">: 193</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37036339">
          <h3>
            <a
              class="item"
              href="https://www.science.org/doi/full/10.1126/science.abm3427"
              >Traffic safety “nudges” can cause number of crashes to increase
              (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 16:09:12</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37036339"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37036291">
          <h3>
            <a
              class="item"
              href="https://www.warpstream.com/blog/kafka-is-dead-long-live-kafka"
              >Kafka is dead, long live Kafka</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 16:06:15</span
              ><span class="points-container"
                >Points: <span class="points">333</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37036291"
                  >Comments</a
                ><span class="descendants">: 231</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37033753">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=37033753"
              >Launch HN: GitStart (YC S19) – Remote junior devs working on
              production PRs</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 12:54:18</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37033753"
                  >Comments</a
                ><span class="descendants">: 163</span></span
              >
            </h4>
            <div class="text">
              <a href="https://gitstart.com/">https://gitstart.com/</a>). We’re
              building a service for engineering teams to assign tickets and get
              back PRs. Here’s a video of how it works:
              <a
                href="https://www.loom.com/share/61d46a5b07e04b45a51af2a5008ee173"
                >https://www.loom.com/share/61d46a5b07e04b45a51af2a5008ee173</a
              >
              <p>
                We recruit devs who want to grow from remote countries, to work
                full-time on these tickets and review each other’s PRs. For tech
                teams it’s pay as you go, and they only pay if they merge the
                PRs (we pay our devs a base regardless). GitStart is very
                personal to me because I struggled myself to start my career as
                a junior dev. Being born in Pakistan made it super hard to find
                my first remote job. Things changed with Google Summer of Code,
                which was the first time I got paid to contribute to a large
                production codebase.
              </p>
              <p>
                When I became a staff engineer, I started mentoring junior devs
                on their solo projects. I then realized what they really needed
                was production code experience, so I started sending them
                tickets from my backlog to grow them through code reviews. I
                also paid them for it. They learned a lot and I got a lot done,
                which started GitStart.
              </p>
              <p>
                That’s why, in the description above, we say “devs who want to
                grow”. This is key to what we do—we are not just a body shop or
                middleman, and we don’t charge by the hour. We provide useful
                mentorship to junior devs. We want to be a meaningful part of
                their career path.
              </p>
              <p>
                Our thesis (to use that slightly pretentious word) is that the
                economics work better this way as well. There is a lot of junior
                dev talent in these countries whose potential will bever be
                realized by hourly piecework. What’s needed are longer term
                relationships and work engagements, over the course of which a
                junior dev can learn and grow on a large production codebase.
                Much of this has to do with learning the culture of effective
                tech teams.
              </p>
              <p>
                On the other side, effective tech teams don’t want hourly
                piecework either. Clients tell us they love having developers
                dedicated to their project, becoming more familiar with the code
                over time. This is the way for value to be maximized on both
                sides.
              </p>
              <p>
                A number of commercial open source repos already use us, so you
                can check out some of the PRs created by GitStart here:
              </p>
              <p>
                Cal.com:
                <a
                  href="https://github.com/calcom/cal.com/pulls?q=is%3Apr+author%3Agitstart-calcom+is%3Aclosed"
                  >https://github.com/calcom/cal.com/pulls?q=is%3Apr+author%3Ag...</a
                >
              </p>
              <p>
                SourceGraph:
                <a
                  href="https://github.com/sourcegraph/sourcegraph/pulls?q=is%3Apr+author%3Agitstart-sourcegraph+is%3Aclosed"
                  >https://github.com/sourcegraph/sourcegraph/pulls?q=is%3Apr+a...</a
                >
              </p>
              <p>
                StoryBooks:
                <a
                  href="https://github.com/storybookjs/storybook/pulls?q=is%3Apr+author%3Agitstart+is%3Aclosed"
                  >https://github.com/storybookjs/storybook/pulls?q=is%3Apr+aut...</a
                >
              </p>
              <p>
                Strapi:
                <a
                  href="https://github.com/strapi/strapi/pulls?q=is%3Aclosed+is%3Apr+author%3Agitstart"
                  >https://github.com/strapi/strapi/pulls?q=is%3Aclosed+is%3Apr...</a
                >
              </p>
              <p>
                Supabase:
                <a
                  href="https://github.com/supabase/supabase/pulls?q=is%3Apr+author%3Agitstart+is%3Aclosed"
                  >https://github.com/supabase/supabase/pulls?q=is%3Apr+author%...</a
                >
              </p>
              <p>
                Twenty:
                <a
                  href="https://github.com/twentyhq/twenty/pulls?q=is%3Apr+author%3Agitstart-twenty+is%3Aclosed"
                  >https://github.com/twentyhq/twenty/pulls?q=is%3Apr+author%3A...</a
                >
              </p>
              <p>
                Our main technical challenge has been securing code sharing. One
                solution was building GitSlice, which enables creating sub-repos
                that sync with the upstream repo. When GitStart devs create PRs
                on the platform, GitSlice syncs them upstream while pulling back
                CI/CD checks and review comments. This enables our devs to
                contribute with limited codebase access.
              </p>
              <p>
                To prevent slices from breaking, we verify they run within a
                docker container, which also enables us to build review
                environments. Fun fact: we managed to support native iOS and
                Android codebases by building and running them on appetize.io
                instead of docker.
              </p>
              <p>
                There have been countless attempts at this space so we would
                love to hear your feedback on how we approached this problem or
                your past experiences working with junior devs in this way. We
                look forward to a good conversation!
              </p>
            </div>
          </section>
        </section>
        <section id="37032286">
          <h3>
            <a
              class="item"
              href="https://www.alexanderpiano.nz/page/the-alexander-piano"
              >The Alexander Piano</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 09:41:46</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37032286"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37030743">
          <h3>
            <a
              class="item"
              href="https://medium.com/expedia-group-tech/the-importance-of-being-a-code-reviewer-fdbd910fbce7"
              >The Importance of Being a Code Reviewer</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 06:07:32</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37030743"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37030338">
          <h3>
            <a
              class="item"
              href="https://www.pbs.org/treasuresoftheworld/a_nav/mona_nav/main_monafrm.html"
              >Theft of the Mona Lisa (2000)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-07 @ 04:59:29</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37030338"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37026757">
          <h3>
            <a
              class="item"
              href="https://hirrolot.github.io/posts/compiler-development-rust-or-ocaml.html"
              >Compiler Development: Rust or OCaml?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-06 @ 21:05:12</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37026757"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37019862">
          <h3>
            <a
              class="item"
              href="https://media.ccc.de/v/froscon2023-2950-the_year_of_linux_on_desktop_wmobile"
              >The year of Linux On Desktop^WMobile [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-06 @ 07:57:48</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37019862"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37019396">
          <h3>
            <a class="item" href="https://www.sheldonbrown.com/"
              >Sheldon Brown's Bicycle Technical Info</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-06 @ 06:05:14</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37019396"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="37011282">
          <h3>
            <a
              class="item"
              href="https://www.edn.com/the-story-of-jim-keller-and-his-pioneering-work-on-chip-design-and-architecture/"
              >Jim Keller and his pioneering work on chip design and
              architecture</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-08-05 @ 12:18:16</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=37011282"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
