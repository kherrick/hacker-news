<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44359148">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2025-06-23/tesla-robotaxi-videos-show-speeding-driving-into-wrong-lane"
              >Tesla Robotaxi Videos Show Speeding, Driving into Wrong Lane</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 19:24:58</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44359148"
                  >Comments</a
                ><span class="descendants">: 85</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44358944">
          <h3>
            <a class="item" href="https://github.com/FoxMoss/libt9"
              >Resurrecting flip phone typing as a Linux driver</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 19:02:17</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44358944"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44358829">
          <h3>
            <a
              class="item"
              href="https://www.lesswrong.com/posts/PAYfmG2aRbdb74mEp/a-deep-critique-of-ai-2027-s-bad-timeline-models"
              >A deep critique of AI 2027's bad timeline models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 18:51:51</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44358829"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44358697">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/06/23/business/ford-battery-factory-electric-vehicles.html"
              >Ford Will Keep Battery Factory Even If Republicans Ax Tax
              Break</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 18:37:47</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44358697"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44358524">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2025/06/judge-rejects-claim-that-forcing-openai-to-keep-chatgpt-logs-is-mass-surveillance/"
              >Judge denies creating "mass surveillance program" harming all
              ChatGPT users</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 18:18:11</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44358524"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44357411">
          <h3>
            <a class="item" href="https://github.com/astral-sh/uv"
              >uv: An extremely fast Python package and project manager, written
              in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 16:27:25</span
              ><span class="points-container"
                >Points: <span class="points">306</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44357411"
                  >Comments</a
                ><span class="descendants">: 139</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44357378">
          <h3>
            <a
              class="item"
              href="https://www.iflscience.com/nasas-voyager-spacecraft-found-a-30000-50000-kelvin-wall-at-the-edge-of-our-solar-system-79454"
              >NASA's Voyager Found a 30k-50k Kelvin "Wall" at the Edge of Solar
              System</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 16:24:05</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44357378"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356890">
          <h3>
            <a
              class="item"
              href="https://rubinobservatory.org/news/rubin-first-look/cosmic-treasure-chest"
              >Vera C. Rubin Observatory first images</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 15:41:00</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356890"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356888">
          <h3>
            <a
              class="item"
              href="https://docs.google.com/document/d/1gfFoe2xVoS9GzmmcbGUjTVVtss1Jwh4Yi-73C6Trn-I/edit?usp=sharing"
              >"The Last of Us Part II" Seattle Locations Tour</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 15:40:51</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356888"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356799">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44356799"
              >Launch HN: Reducto Studio (YC W24) – Build accurate document
              pipelines, fast</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 15:30:33</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356799"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <a href="https://reducto.ai">https://reducto.ai</a>). Reducto
              turns unstructured documents (e.g., PDFs, scans, spreadsheets)
              into structured data. This data can then be used for retrieval,
              passed into LLMs, or used elsewhere downstream.
              <p>
                We started Reducto when we realized that so many of today’s AI
                applications require good quality data. Everyone knows that good
                inputs lead to better outputs, but 80% of the world’s data is
                still trapped inside of things like messy PDFs and spreadsheets.
                Raunak and I launched a really early MVP of parsing and
                extracting from unstructured documents, and were lucky to have a
                lot of interest from technical teams when they realized that the
                accuracy was something they hadn’t seen before.
              </p>
              <p>
                We started by just releasing an API for engineers to build with,
                but over time we realized that an accurate API was only part of
                the puzzle. Our customers wanted to be able to easily set up
                multi step pipelines, evaluate and iterate on performance within
                their use case, and work with non-engineering teammates that
                were also involved in the real world document processing flow.
              </p>
              <p>
                That’s why we’re launching Reducto Studio, a web platform that
                sits on top of our APIs for users to build and iterate on
                end-to-end document pipelines.
              </p>
              <p>With Studio, you can:</p>
              <p>
                - Drop an entire file set and get per-field and per-document
                accuracy scores against your eval data.
              </p>
              <p>
                - Auto-generate and continuously optimize extraction schemas to
                hit production-grade quality fast.
              </p>
              <p>
                - Save every run, iterate on parse/extract configs, and compare
                results side-by-side.
              </p>
              <p>
                You can see some examples here (<a
                  href="https://studio.reducto.ai"
                  >https://studio.reducto.ai</a
                >) or you can watch this walkthrough:
                <a
                  href="https://www.loom.com/share/b243551741c642c6a594c00353fcecb3"
                  >https://www.loom.com/share/b243551741c642c6a594c00353fcecb3</a
                >.
              </p>
              <p>
                If you’d like to upload your own document you can log in and do
                so as well - we don’t make you book a demo or put a payment down
                to try it.
              </p>
              <p>
                Thanks for reading and checking it out! This is only the first
                step for Studio, so we’d love feedback on anything: UX rough
                edges (we know they’re there!), features that would make
                evaluations better for you, hard documents you’ve had trouble
                with, or anything else about wrangling with unstructured data.
              </p>
            </div>
          </section>
        </section>
        <section id="44356676">
          <h3>
            <a
              class="item"
              href="https://www.axios.com/2025/06/23/whatsapp-house-congress-staffers-messaging-app"
              >WhatsApp banned on House staffers' devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 15:16:56</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356676"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356646">
          <h3>
            <a class="item" href="https://jyn.dev/how-i-use-my-terminal/"
              >I Use My Terminal</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 15:14:29</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356646"
                  >Comments</a
                ><span class="descendants">: 81</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356597">
          <h3>
            <a
              class="item"
              href="https://steve.dignam.xyz/2025/06/20/interesting-bits-of-postgres-grammar/"
              >Interesting Bits of Postgres Grammar</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 15:09:21</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356597"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356346">
          <h3>
            <a
              class="item"
              href="https://coredumped.dev/2025/06/18/making-tramp-go-brrrr./"
              >Making TRAMP go Brrrr</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 14:46:03</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356346"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44356248">
          <h3>
            <a
              class="item"
              href="https://thedeletedscenes.substack.com/p/backyard-coffee-and-jazz-in-kyoto"
              >Backyard Coffee and Jazz in Kyoto</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 14:37:05</span
              ><span class="points-container"
                >Points: <span class="points">304</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44356248"
                  >Comments</a
                ><span class="descendants">: 130</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44353098">
          <h3>
            <a
              class="item"
              href="https://www.category.xyz/blogs/raptorcast-designing-a-messaging-layer"
              >RaptorCast: Designing a Messaging Layer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 06:46:33</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44353098"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44352615">
          <h3>
            <a class="item" href="https://github.com/GeeeekExplorer/nano-vllm"
              >Nano-Vllm: lightweight vLLM implementation built from scratch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 05:10:44</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44352615"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44351028">
          <h3>
            <a class="item" href="https://isle.pizza"
              >Show HN: Lego Island Playable in the Browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 23:03:00</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44351028"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44350002">
          <h3>
            <a
              class="item"
              href="https://www.romanklasen.com/blog/beating-brainrot-by-button/"
              >Using Home Assistant, adguard home and an $8 smart outlet to
              avoid brain rot</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 20:26:08</span
              ><span class="points-container"
                >Points: <span class="points">347</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44350002"
                  >Comments</a
                ><span class="descendants">: 182</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44349525">
          <h3>
            <a
              class="item"
              href="https://www.kleinbottle.com/Amazon_Brand_Hijacking.html"
              >Klein Bottle Amazon Brand Hijacking (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 19:18:41</span
              ><span class="points-container"
                >Points: <span class="points">418</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44349525"
                  >Comments</a
                ><span class="descendants">: 219</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44341515">
          <h3>
            <a
              class="item"
              href="https://take.surf/2025/06/19/transparent-ambition"
              >Transparent Ambition: on translucent user interfaces</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 23:32:47</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44341515"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44338309">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2025/06/17/science/spiders-deep-sea-methane-new-species"
              >First methane-powered sea spiders found crawling on the ocean
              floor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 15:29:35</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44338309"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44334419">
          <h3>
            <a class="item" href="https://ootrandomizer.com/"
              >Ocarina of Time Randomizer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 04:08:34</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44334419"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44331316">
          <h3>
            <a class="item" href="https://koaning.io/posts/giving-mojo-a-spin/"
              >Python can run Mojo now</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 19:46:33</span
              ><span class="points-container"
                >Points: <span class="points">291</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44331316"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44329102">
          <h3>
            <a class="item" href="https://github.com/hatchet-dev/pickaxe"
              >Show HN: Pickaxe – a TypeScript library for building AI agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:07:51</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329102"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <p>
                Here's a demo:
                <a
                  href="https://github.com/user-attachments/assets/b28fc406-f501-4427-9574-e4c756b29dd4"
                  >https://github.com/user-attachments/assets/b28fc406-f501-442...</a
                >
              </p>
              <p>
                Pickaxe provides a simple set of primitives for building agents
                which can automatically checkpoint their state and suspend or
                resume processing (also known as durable execution) while
                waiting for external events (like a human in the loop). The
                library is based on common patterns we've seen when helping
                Hatchet users run millions of agent executions per day.
              </p>
              <p>
                Unlike other tools, Pickaxe is not a framework. It does not have
                any opinions or abstractions for implementing agent memory,
                prompting, context, or calling LLMs directly. Its only focus is
                making AI agents more observable and reliable.
              </p>
              <p>
                As agents start to scale, there are generally three big problems
                that emerge: 1. Agents are long-running compared to other parts
                of your application. Extremely long-running processes are tricky
                because deploying new infra or hitting request timeouts on
                serverless runtimes will interrupt their execution. 2. They are
                stateful: they generally store internal state which governs the
                next step in the execution path 3. They require access to lots
                of fresh data, which can either be queried during agent
                execution or needs to be continuously refreshed from a data
                source.
              </p>
              <p>
                (These problems are more specific to agents which execute
                remotely -- locally running agents generally don't have these
                problems)
              </p>
              <p>
                Pickaxe is designed to solve these issues by providing a simple
                API which wraps durable execution infrastructure for agents.
                Durable execution is a way of automatically checkpointing the
                state of a process, so that if the process fails, it can
                automatically be replayed from the checkpoint, rather than
                starting over from the beginning. This model is also
                particularly useful when your agent needs to wait for an
                external event or human review in order to continue execution.
                To support this pattern, Pickaxe uses a Hatchet feature called
                `waitFor` which durably registers a listener for an event, which
                means that even if the agent isn't actively listening for the
                event, it is guaranteed to be processed by Hatchet and stored in
                the execution history and resume processing. This infrastructure
                is powered by what is essentially a linear event log, which
                stores the entire execution history of an agent in a Postgres
                database managed by Hatchet.
              </p>
              <p>
                Full docs are here:
                <a href="https://pickaxe.hatchet.run/"
                  >https://pickaxe.hatchet.run/</a
                >
              </p>
              <p>
                We'd greatly appreciate any feedback you have and hope you get
                the chance to try out Pickaxe.
              </p>
            </div>
          </section>
        </section>
        <section id="44328191">
          <h3>
            <a class="item" href="https://rocknix.org/"
              >Rocknix is an immutable Linux distribution for handheld gaming
              devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:44:18</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328191"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44327756">
          <h3>
            <a class="item" href="https://research.swtch.com/boolean"
              >Minimal Boolean Formulas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 13:53:25</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327756"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44326175">
          <h3>
            <a
              class="item"
              href="https://bartoszmilewski.com/2025/06/20/weak-homotopy-equivalences/"
              >Homotopy Equivalences</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 09:56:06</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44326175"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44325861">
          <h3>
            <a
              class="item"
              href="https://www.bleepingcomputer.com/news/linux/new-linux-udisks-flaw-lets-attackers-get-root-on-major-linux-distros/"
              >New Linux udisks flaw lets attackers get root on major Linux
              distros</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 09:05:20</span
              ><span class="points-container"
                >Points: <span class="points">314</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44325861"
                  >Comments</a
                ><span class="descendants">: 205</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44320832">
          <h3>
            <a
              class="item"
              href="https://samsorensen.blot.im/cataphracts-design-diary-1"
              >Cataphract: Medieval-fantasy roleplaying wargame, in the
              Black-Sea C. 1300</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-19 @ 17:40:05</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44320832"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
