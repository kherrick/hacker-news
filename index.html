<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="41075174">
          <h3>
            <a
              class="item"
              href="https://www.reading.ac.uk/news/2024/Research-News/New-El-Nino-discovered-south-of-equator"
              >'New El Nino' discovered south of equator</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-26 @ 01:40:43</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41075174"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41075066">
          <h3>
            <a
              class="item"
              href="https://clipperhouse.com/c-sharp-implicit-interfaces/"
              >C# almost has implicit interfaces</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-26 @ 01:12:02</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41075066"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41074022">
          <h3>
            <a
              class="item"
              href="https://www.businessinsider.com/cameo-app-company-fine-settlement-ftc-violation-2024-7"
              >Cameo was once valued at $1B</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 22:22:42</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41074022"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41073930">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/charge-robotics/jobs/ml4f9l4-senior-mechanical-engineer"
              >Charge Robotics (YC S21) is hiring MechEs to build robots that
              build solar farms</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 22:12:57</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41073264">
          <h3>
            <a class="item" href="https://github.com/mriale/PyDPainter"
              >A Clone of Deluxe Paint II Written in Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 20:53:50</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41073264"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41072616">
          <h3>
            <a class="item" href="https://aml4td.org/"
              >Applied Machine Learning for Tabular Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 19:48:35</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41072616"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41072026">
          <h3>
            <a
              class="item"
              href="https://culture.pl/en/article/jacek-karpinski-the-computer-genius-the-communists-couldnt-stand"
              >Jacek Karpińśki, the computer genius the communists couldn't
              stand (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 18:50:04</span
              ><span class="points-container"
                >Points: <span class="points">202</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41072026"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41070870">
          <h3>
            <a
              class="item"
              href="https://blog.thinkst.com/2024/07/unfashionably-secure-why-we-use-isolated-vms.html"
              >Unfashionably secure: why we use isolated VMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 17:00:03</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41070870"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41070703">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41070703"
              >Ask HN: Best way to learn robotics with a 10 year old?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 16:44:50</span
              ><span class="points-container"
                >Points: <span class="points">106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41070703"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
            <div class="text">
              <p>
                I prefer to learn how everything works and build something
                custom instead of just buying a premade kit and following
                instructions. I was wondering if there are any resources or
                books that we could go through together that would teach us the
                basics of electrical engineering and/or robotics.
              </p>
              <p>Thanks!</p>
              <p>
                [1]
                <a href="https://www.youtube.com/watch?v=1GzzckUcnfE"
                  >https://www.youtube.com/watch?v=1GzzckUcnfE</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41070428">
          <h3>
            <a class="item" href="https://github.com/igrek51/wat"
              >Show HN: Wat – Deep inspection of Python objects</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 16:18:34</span
              ><span class="points-container"
                >Points: <span class="points">166</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41070428"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41069909">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=41069909"
              >Launch HN: Undermind (YC S24) – AI agent for discovering
              scientific papers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 15:36:57</span
              ><span class="points-container"
                >Points: <span class="points">153</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41069909"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.undermind.ai/">https://www.undermind.ai/</a
              >). We’re building a search engine for complex scientific
              research. There's a demo video at
              <a
                href="https://www.loom.com/share/10067c49e4424b949a4b8c9fd8f3b12c?sid=5ee3cd96-2b05-4768-8856-cb1b83e40a70"
                >https://www.loom.com/share/10067c49e4424b949a4b8c9fd8f3b12c?...</a
              >, as well as example search results on our homepage.
              <p>
                We’re both physicists, and one of our biggest frustrations
                during grad school was finding research — There were a lot of
                times when we had to sit down to scope out new ideas for a
                project and quickly become a deep expert, or we had to find
                solutions to really complex technical problems, but the only way
                to do that was manually dig through papers on Google Scholar for
                hours. It was very tedious, to the point where we would often
                just skip the careful research and hope for the best. Sometimes
                you’d get burned a few months later because someone already
                solved the problem you thought was novel and important, or you’d
                waste your time inventing/building a solution for something when
                one already existed.
              </p>
              <p>
                The problem was there’s just no easy way to figure out what
                others have done in research, and load it into your brain. It’s
                one of the biggest bottlenecks for doing truly good, important
                research.
              </p>
              <p>
                We wanted to fix that. LLMs clearly help, but are mostly limited
                to general knowledge. Instead, we needed something that would
                pull in research papers, and give you exactly what you need to
                know, even for very complex ideas and topics. We realized the
                way to do this is to mimic the research strategies we already
                know work, because we do them ourselves, and so we built an
                agent-like LLM pipeline to carefully search in a way that mimics
                human research strategies.
              </p>
              <p>
                Our search system works a bit differently from casual search
                engines. First, we have you chat back and forth with an LLM to
                make sure we actually understand your really complex research
                goals up front, like you’re talking to a colleague. Then the
                system carefully searches for you for ~3 minutes. At a high
                level, it does something similar to tree search, following
                citation rabbit holes and adapting based on what it discovers to
                look for more content over multiple iterations (the same way you
                would if you decided to spend a few hours). The 3 minute delay
                is annoying, but we’re optimizing for quality of results rather
                than latency right now. At the end there’s a report.
              </p>
              <p>
                We’re trying to achieve two things with this careful, systematic
                agent-like discovery process:
              </p>
              <p>
                1. We want to be very accurate, and only recommend very specific
                results if you ask for a specific topic. To do this, we
                carefully read and evaluate content from papers with the highest
                quality LLMs (we’re just reading abstracts and citations for
                now, because they’re more widely accessible - but also working
                on adding full texts).
              </p>
              <p>
                2. We want to find everything relevant to your search, because
                in research it’s crucial to know if something exists or not. The
                key to being exhaustive is the adaptive algorithms we’ve
                developed (following citations, changing strategy based on what
                we find, etc). However, one cool feature of the automated
                pipeline is we can track the discovery process as the search
                proceeds. Early on, we find many good results, and later on they
                get more sparse, until all the good leads are exhausted and we
                stop finding anything helpful. We can statistically model that
                process, and figure out when we’ve found everything (it actually
                has an interesting exponential saturation behavior, which you
                can read a bit more about in our whitepaper (<a
                  href="https://www.undermind.ai/static/Undermind_whitepaper.pdf"
                  >https://www.undermind.ai/static/Undermind_whitepaper.pdf</a
                >), which we wrote for a previous prototype.)
              </p>
              <p>
                You can try searching yourself here:
                <a href="https://www.undermind.ai/query_app/promotion/"
                  >https://www.undermind.ai/query_app/promotion/</a
                >. This is a special HN link where, for today, we’ve dropped the
                signup gate for your first few searches. Usually we require
                login so you can save searches.
              </p>
              <p>
                We’re excited to share this with you! We’d love to hear about
                your experiences searching, what’s clear or not, and any
                feedback. We’ll be here to answer any questions or comments.
              </p>
            </div>
          </section>
        </section>
        <section id="41069829">
          <h3>
            <a
              class="item"
              href="https://deepmind.google/discover/blog/ai-solves-imo-problems-at-silver-medal-level/"
              >AI solves International Math Olympiad problems at silver medal
              level</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 15:29:41</span
              ><span class="points-container"
                >Points: <span class="points">835</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41069829"
                  >Comments</a
                ><span class="descendants">: 386</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41069681">
          <h3>
            <a class="item" href="https://github.com/mannylopez/TinyMoon"
              >Show HN: Tiny Moon – Swift library to calculate the moon phase</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 15:17:01</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41069681"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
            <div class="text">
              <p>
                All of this started when I realized that we only have 12,
                sometimes 13, full moon's in a year. That doesn’t seem like that
                many.
              </p>
              <p>
                I set out to build a MacOS app to remind me when a full moon
                occurs, so that I could take a moment and step outside to
                appreciate it.
              </p>
              <p>
                The MacOS app I ended up creating can be found at
                <a href="https://apps.apple.com/us/app/tiny-moon/id6502374344"
                  >https://apps.apple.com/us/app/tiny-moon/id6502374344</a
                >
                along with the source code [0], all powered by the Tiny Moon
                library.
              </p>
              <p>
                I knew that I wanted the app to work offline, so working with a
                network request was out of the picture. Taking inspiration from
                SunCalc [1] and Moontool for Windows [2], I decided to create my
                own library and wrote Tiny Moon as a Swift Package to power my
                app.
              </p>
              <p>
                The app tries to be as minimal as possible, does what it does
                very fast, and works completely offline.
              </p>
              <p>
                [0]
                <a href="https://github.com/mannylopez/TinyMoonApp"
                  >https://github.com/mannylopez/TinyMoonApp</a
                >
              </p>
              <p>
                [1]
                <a href="https://github.com/mourner/suncalc"
                  >https://github.com/mourner/suncalc</a
                >
              </p>
              <p>
                [2]
                <a href="https://www.fourmilab.ch/moontoolw/"
                  >https://www.fourmilab.ch/moontoolw/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="41069527">
          <h3>
            <a class="item" href="https://blog.wilsonl.in/hackerverse-2/#"
              >Mapping Hacker News to find who knows what in the HN community</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 15:04:24</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41069527"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41069256">
          <h3>
            <a class="item" href="https://0xinfection.github.io/reversing/"
              >Reverse Engineering for Everyone</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 14:41:26</span
              ><span class="points-container"
                >Points: <span class="points">419</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41069256"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41068995">
          <h3>
            <a
              class="item"
              href="https://serd.es/2024/07/24/Memory-mapping-an-FPGA-from-a-STM32.html"
              >Memory Mapping an FPGA from an STM32</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 14:21:36</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41068995"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41068719">
          <h3>
            <a class="item" href="https://haystackeditor.com/"
              >Show HN: Haystack – an IDE for exploring and editing code on an
              infinite canvas</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 13:54:14</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41068719"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
            <div class="text">
              <a href="https://haystackeditor.com/"
                >https://haystackeditor.com/</a
              >), a canvas-based IDE that automates the boring stuff (plumbing,
              refactoring, and finding code) so that you can focus on the
              exciting parts of software development! You can see a quick
              overview of Haystack at
              <a href="https://www.youtube.com/watch?v=c2uZnR5D_cc"
                >https://www.youtube.com/watch?v=c2uZnR5D_cc</a
              >!
              <p>
                (It's currently only on Mac OS but we're working on Linux and
                Windows. Edit: just added a Linux download!)
              </p>
              <p>
                Haystack was born out of our frustrations with working in large
                and mature codebases, specifically with navigating and editing
                functional flows (e.g. the code flow for adding an item to the
                Amazon shopping cart).
              </p>
              <p>
                Oftentimes dealing with such flows would involve navigating a
                maze of files and functions, and making any edits would involve
                a lengthy process of doing corresponding downstream/upstream
                plumbing.
              </p>
              <p>Haystack attempts to address this in the following ways:</p>
              <p></p>
              <pre><code>    1. It allows you to explore your codebase as a directed graph of functions, classes, etc on the canvas. We feel like this better fits how your mind understands your codebase and helps you find and alter functional flows more intuitively. We especially want to utilize this for pull request reviews!

    2. It has a navigational copilot that makes edits across files or functions much easier. After you make some changes, Haystack will try to predict your next action and create functions/methods or refactor upstream/downstream code for you. Haystack will surface these speculative edits on the canvas in a way that you can easily dismiss or incorporate them, allowing you to make large changes with a few clicks or keystrokes.

    3. Haystack will utilize natural language search so you don’t have to play “Where’s Waldo” to find a functional flow in your codebase. This is coming soon!

</code></pre>
              We’re still pretty early in development and we really want to
              perfect the experience of navigating and editing code on a canvas.
              Any feedback would be much appreciated!
              <p>
                PSA: Since Haystack is a VS Code fork, you should be able to
                move your extensions and keyboard shortcuts. Please let us know
                if you have any issues with this!
              </p>
            </div>
          </section>
        </section>
        <section id="41068294">
          <h3>
            <a
              class="item"
              href="https://brevzin.github.io/c++/2024/07/24/constexpr-alloc/"
              >What's so hard about constexpr allocation?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 13:13:14</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41068294"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41067616">
          <h3>
            <a
              class="item"
              href="https://theconversation.com/retaining-flavor-while-removing-caffeine-a-chemist-explains-the-chemistry-behind-decaf-coffee-233196"
              >A chemist explains the chemistry behind decaf coffee</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 12:04:09</span
              ><span class="points-container"
                >Points: <span class="points">175</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41067616"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41066544">
          <h3>
            <a
              class="item"
              href="https://mihaiolteanu.me/defense-of-lisp-macros"
              >Defense of Lisp macros: The automotive field as a case in
              point</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 09:18:13</span
              ><span class="points-container"
                >Points: <span class="points">134</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41066544"
                  >Comments</a
                ><span class="descendants">: 139</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41066536">
          <h3>
            <a
              class="item"
              href="https://rcoh.me/posts/linear-time-median-finding/"
              >My Favorite Algorithm: Linear Time Median Finding (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 09:16:53</span
              ><span class="points-container"
                >Points: <span class="points">236</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41066536"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41064645">
          <h3>
            <a
              class="item"
              href="https://jordaneldredge.com/notes/corrupted-skins/"
              >Investigating corrupt Winamp skins</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 04:14:57</span
              ><span class="points-container"
                >Points: <span class="points">497</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41064645"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41064351">
          <h3>
            <a class="item" href="https://github.com/nodejs/node/pull/53725"
              >Node.js adds experimental support for TypeScript</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-25 @ 02:57:37</span
              ><span class="points-container"
                >Points: <span class="points">1023</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41064351"
                  >Comments</a
                ><span class="descendants">: 462</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41063258">
          <h3>
            <a
              class="item"
              href="https://www.jasoncollins.blog/posts/humans-1-chimps-0-correcting-the-record"
              >Humans 1, Chimps 0: Correcting the Record</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-24 @ 23:22:57</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41063258"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41062072">
          <h3>
            <a
              class="item"
              href="https://tn1ck.com/blog/how-to-generate-sudokus"
              >Generating sudokus for fun and no profit</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-24 @ 21:02:09</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41062072"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41039647">
          <h3>
            <a
              class="item"
              href="https://www.tonysm.com/when-objects-are-not-enough/"
              >When objects are not enough (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-22 @ 20:48:07</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41039647"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41035084">
          <h3>
            <a
              class="item"
              href="https://gpuopen.com/download/publications/Real-Time_Procedural_Generation_with_GPU_Work_Graphs-GPUOpen_preprint.pdf"
              >Real-Time Procedural Generation with GPU Work Graphs [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-22 @ 14:49:36</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41035084"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41033652">
          <h3>
            <a
              class="item"
              href="https://www.tiwizard.com/games-for-ti-83-plus-and-ti-84-plus-calculators/"
              >Games for TI-83 Plus and TI-84 Plus</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-22 @ 12:32:42</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41033652"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41032097">
          <h3>
            <a
              class="item"
              href="https://www.bell-labs.com/usr/dmr/www/hopl.html"
              >Five Little Languages and How They Grew: Talk at HOPL (1993)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-22 @ 08:42:03</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41032097"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="41026480">
          <h3>
            <a class="item" href="https://codisec.com/veles/"
              >Veles: Open-source tool for binary data analysis</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-07-21 @ 17:12:59</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=41026480"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
