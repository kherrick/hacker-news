<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39769263">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/fathom/jobs/TArBVR8-senior-site-reliability-engineer-remote"
              >Fathom AI Notetaker (YC W21) Is Hiring a Senior SRE (Remote)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 17:01:18</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39769166">
          <h3>
            <a
              class="item"
              href="https://www.teamblind.com/post/Glassdoor-is-now-adding-real-names-and-personal-info-to-user-profiles-without-consent-Delete-your-account-ASAP-TGx0k5mo"
              >Glassdoor is now adding real names to user profiles without
              consent</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 16:54:06</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39769166"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768860">
          <h3>
            <a class="item" href="https://danluu.com/discontinuities/"
              >Suspicious Discontinuities</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 16:31:14</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768860"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768434">
          <h3>
            <a
              class="item"
              href="https://www.flightradar24.com/blog/gps-jamming-map/"
              >Flightradar24's new GPS jamming map</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 16:03:21</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768434"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768402">
          <h3>
            <a
              class="item"
              href="https://www.forbes.com/sites/iainmartin/2024/03/20/key-stable-diffusion-researchers-leave-stability-ai-as-company-flounders"
              >Key Stable Diffusion Researchers Leave Stability AI as Company
              Flounders</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 16:00:56</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768402"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768361">
          <h3>
            <a
              class="item"
              href="https://twitter.com/kenrickcai/status/1770474370278035775"
              >Multiple Stability AI researchers are departing, CEO says</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 15:58:22</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768361"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768336">
          <h3>
            <a
              class="item"
              href="https://github.com/ethereum/ethereum-foundation-website/commit/769b30603504b4b5e8f601f8014691a8d1821390"
              >Ethereum Foundation removes their canary</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 15:55:46</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768336"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768069">
          <h3>
            <a
              class="item"
              href="https://www.commerce.gov/news/press-releases/2024/03/biden-harris-administration-announces-preliminary-terms-intel-support"
              >US Gov announces $8.5B preliminary CHIPS investment agreement
              with Intel</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 15:35:13</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768069"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39768048">
          <h3>
            <a
              class="item"
              href="https://www.cnbc.com/2024/03/18/united-arab-emirates-is-using-cloud-seeding-tech-to-make-it-rain.html"
              >United Arab Emirates is using cloud seeding tech to make it
              rain</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 15:33:20</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39768048"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39767533">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-03-powerful-cyclone-remarkable-recovery-pacific.html"
              >In wake of powerful cyclone, remarkable recovery of Pacific
              island's forests</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 14:56:40</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39767533"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39767083">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2024/03/20/europe/must-farm-bronze-age-britain-pompeii-scn/index.html"
              >'Britain's Pompeii' reveals Bronze Age village frozen in time</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 14:28:06</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39767083"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39766893">
          <h3>
            <a
              class="item"
              href="https://rive.app/blog/rive-renderer-now-open-source-and-available-on-all-platforms"
              >Rive Renderer for real-time vector graphics is now open source</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 14:16:52</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39766893"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39766236">
          <h3>
            <a
              class="item"
              href="https://myme.no/posts/2024-03-19-focus-by-automation.html"
              >Focus by Automation</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 13:33:57</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39766236"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39766222">
          <h3>
            <a
              class="item"
              href="https://antithesis.com/blog/deterministic_hypervisor/"
              >So you think you want to write a deterministic hypervisor?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 13:32:41</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39766222"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39766170">
          <h3>
            <a
              class="item"
              href="https://www.wired.com/story/eight-google-employees-invented-modern-ai-transformers-paper/"
              >The Google employees who created transformers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 13:29:02</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39766170"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39765692">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2024/03/17/realestate/paris-france-housing-costs.html"
              >Paris preserves its mixed society by pouring billions into public
              housing</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 12:48:31</span
              ><span class="points-container"
                >Points: <span class="points">190</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39765692"
                  >Comments</a
                ><span class="descendants">: 324</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39765630">
          <h3>
            <a class="item" href="https://anchor.dev/blog/introducing-lcl-host"
              >Lcl.host: fast, easy HTTPS in your local dev environment</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 12:42:16</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39765630"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39764954">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/michel-talagrand-wins-abel-prize-for-work-wrangling-randomness-20240320/"
              >Michel Talagrand Wins Abel Prize for Work Wrangling Randomness</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 11:12:39</span
              ><span class="points-container"
                >Points: <span class="points">148</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39764954"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39764919">
          <h3>
            <a class="item" href="https://turquoisehexagon.co.uk/remindersync/"
              >Show HN: macOS Reminder Sync for Obsidian Tasks</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 11:07:36</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39764919"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
            <div class="text">
              <p>
                I started using Obsidian and the brilliant Obsidian Tasks plugin
                to manage Tasks in my notes however it didn't quite work for me
                as I would lose track of Tasks when away from my laptop, and
                there are no reminders for Tasks so it's not easy to stay on top
                of things.
              </p>
              <p>
                I wrote my first macOS App to solve the problem; Reminder Sync
                for Obsidian. It periodically scans your Obsidian Vault for
                Tasks and creates Reminders for them in Reminders.app! Once your
                Tasks are created as Reminders they are synced through iCloud so
                they are also visible on iOS; this solves the main problem I had
                with Obsidian Tasks, allowing me to keep on top of Tasks with
                system Reminders and Widgets on macOS and iOS.
              </p>
              <p>
                Other features apart from the core functionality described above
                are:
              </p>
              <p>
                - Creating a Reminder adds a Task to an Inbox note in your
                Obsidian Vault, allowing you to create Obsidian Tasks from iOS.
              </p>
              <p>
                - Deleting/Completing a Task in Reminders app completes/deletes
                the Task in your Vault
              </p>
              <p>
                The core functionality is free, and I believe the free version
                should be sufficient for most users. Paid features include
                increased automatic sync frequency, ability to delete tasks from
                Reminders.app and ability to generate a description for the
                Reminder.
              </p>
              <p>
                The app is available on the App Store:
                <a href="https://apple.co/3TH1e5s">https://apple.co/3TH1e5s</a>
              </p>
              <p>
                You can view a demo video at the homepage:
                <a href="https://turquoisehexagon.co.uk/remindersync/"
                  >https://turquoisehexagon.co.uk/remindersync/</a
                >
              </p>
              <p>
                I would appreciate any feedback as it's my first solo App
                release!
              </p>
            </div>
          </section>
        </section>
        <section id="39764887">
          <h3>
            <a class="item" href="https://github.com/rstudio/rstudio"
              >RStudio: Integrated development environment (IDE) for R</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 11:02:44</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39764887"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39764839">
          <h3>
            <a class="item" href="https://github.com/dennis-tra/nebula"
              >Show HN: Nebula – A network agnostic DHT crawler</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 10:54:08</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39764839"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39764818">
          <h3>
            <a
              class="item"
              href="https://gist.github.com/lurebat/df773fecbc6829625d996fc8a65d5e25"
              >Show HN JetMove – Extra Nav and Multiple Caret Enhancements for
              Jetbrians IDEs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 10:50:51</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39764818"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39764287">
          <h3>
            <a class="item" href="https://mtlynch.io/zig-extraneous-build/"
              >Why does an extraneous build step make my Zig app 10x faster?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 09:18:06</span
              ><span class="points-container"
                >Points: <span class="points">161</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39764287"
                  >Comments</a
                ><span class="descendants">: 70</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39763750">
          <h3>
            <a
              class="item"
              href="https://sethmlarson.dev/regex-$-matches-end-of-string-or-newline"
              >Regex character "$" doesn't mean "end-of-string"</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 07:50:09</span
              ><span class="points-container"
                >Points: <span class="points">322</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39763750"
                  >Comments</a
                ><span class="descendants">: 253</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39763458">
          <h3>
            <a
              class="item"
              href="https://twitter.com/kenshirriff/status/1770188240777044079"
              >Space Shuttle teleprinter reverse engineering</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 06:45:26</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39763458"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39763074">
          <h3>
            <a
              class="item"
              href="https://simon.peytonjones.org/build-systems-a-la-carte-theory-and-practice/"
              >Build systems a la carte: theory and practice (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 05:22:00</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39763074"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39762495">
          <h3>
            <a
              class="item"
              href="https://www.jonashietala.se/blog/2024/03/19/lets_create_a_tree-sitter_grammar/"
              >Let's create a Tree-sitter grammar</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 02:55:25</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39762495"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39762315">
          <h3>
            <a class="item" href="https://thevahidal.github.io/soul/"
              >Soul: A SQLite REST and Realtime Server</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-20 @ 02:14:53</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39762315"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39755668">
          <h3>
            <a class="item" href="https://lantto.github.io/hypersplit/"
              >Show HN: Hypersplit – Like Infinite Craft but in reverse</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-19 @ 13:45:12</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39755668"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
            <div class="text">
              <p>
                It's using GPT-4 to split the words, but a big difference from
                Infinite Craft is that I can precalculate the possible paths
                since they are limited (sooner or later you hit a quark or a
                loop). This means that I can ship it with the whole dictionary
                locally instead of hitting an LLM every split.
              </p>
              <p>
                While it started with just the splitting, I quickly got the urge
                to split things faster... which turned the app into the
                incremental clicker it is now. It's pretty short and starts
                lagging a lot once things get crazy with a lot of chain
                reactions (turning off Effects helps a bit), but I plan to focus
                on optimizations next.
              </p>
              <p>
                I also wanted to try and build something without any graphical
                assets. The whole game is all just emojis and CSS. A big gotcha
                is that you can't rely on emojis looking the same on different
                platforms (for example, on Windows, the explosions are
                misaligned).
              </p>
            </div>
          </section>
        </section>
        <section id="39744178">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-03-quantum-energy-electron-tuned-atoms.html"
              >Researchers observe how energy of single electron is tuned by
              surrounding atoms</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-18 @ 13:28:23</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39744178"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
