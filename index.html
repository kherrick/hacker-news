<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44373319">
          <h3>
            <a
              class="item"
              href="https://github.com/newaetech/chipshouter-picoemp"
              >PicoEMP: low-cost Electromagnetic Fault Injection (EMFI) tool</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-25 @ 03:05:56</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44373319"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44373222">
          <h3>
            <a
              class="item"
              href="https://www.pewresearch.org/short-reads/2025/06/24/few-americans-pay-for-news-when-they-encounter-paywalls/"
              >Few Americans pay for news when they encounter paywalls</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-25 @ 02:46:38</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44373222"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44372881">
          <h3>
            <a class="item" href="https://xtool.sh/tutorials/xtool/first-app/"
              >Build your first iOS app on Linux / Windows</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-25 @ 01:31:02</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44372881"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44372528">
          <h3>
            <a
              class="item"
              href="https://multiverseemployeehandbook.com/blog/temporal-resources-managing-time-when-time-doesnt-exist/"
              >Managing time when time doesn't exist</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-25 @ 00:28:12</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44372528"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44372424">
          <h3>
            <a
              class="item"
              href="https://thick-coins.net/?_bhlid=8a5736885893b7837e681aa73f890b9805a4673e"
              >Thick Nickels</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-25 @ 00:13:27</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44372424"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44372380">
          <h3>
            <a class="item" href="https://github.com/microsoft/edit"
              >Microsoft Releases Classic MS-DOS Editor for Linux Written in
              Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-25 @ 00:07:04</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44372380"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44372162">
          <h3>
            <a
              class="item"
              href="https://www.governance.fyi/p/booms-not-busts-drives-innovation"
              >Mid-sized cities outperform major metros at turning economic
              growth into patents</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 23:26:19</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44372162"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44371740">
          <h3>
            <a class="item" href="https://vscan.dev/"
              >Show HN: VSCan - Detect Malicious VSCode Extensions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 22:32:54</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44371740"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
            <div class="text">
              <p>
                I am a security researcher and student developer who ran into
                this problem myself. To help tackle this, I built a 100% free
                tool (no login required) that scans VSCode (and Cursor/Windsurf)
                extensions for:
              </p>
              <p>- Hidden malware and obfuscated code</p>
              <p>- Dangerous permissions and API misuse</p>
              <p>
                - Vulnerable dependencies and suspicious network connections
              </p>
              <p>
                Users have already found hundreds of vulnerabilities in
                extensions. VSCan generates a clean, developer-friendly security
                report to help you understand what you're installing.
              </p>
              <p>
                Try it out:
                <a href="https://www.vscan.dev">https://www.vscan.dev</a>
              </p>
              <p>
                I have also developed custom sandboxing security architecture to
                restrict extensions from malicious activity during runtime.
                There is no existing technology that does this, so if you would
                be interested in trying it out or learning more, please reach
                out!
              </p>
              <p>
                I would greatly appreciate any feedback and thanks for your
                help!
              </p>
              <p>
                _______________________________________________________________________________
              </p>
              <p>
                Here are some numbers as to what I have detected from a sample
                of 1077 extensions that are available on the Marketplace:
              </p>
              <p>
                - 3 extensions are marked as malicious by VirusTotal - 7
                extensions use malicious network connections (verified by
                VirusTotal) - 33 extensions have dependencies with critical
                vulnerabilities - 39 extensions have sensitive information (I
                have seen api keys, usernames, passwords, etc.) - 204 extension
                have poor development practices as marked by OSSF - 71
                extensions have very high permissions (while not bad can be
                indicator of potential malicious activity)
              </p>
              <p>
                As an example here is the link to an extension analysis with
                malicious network endpoints:
                <a
                  href="https://vscan.dev/?analysisId=9e6c1849-3973-402b-a4ff-3b4023508fb8"
                  >https://vscan.dev/?analysisId=9e6c1849-3973-402b-a4ff-3b4023...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44371169">
          <h3>
            <a class="item" href="https://www.archives.gov/college-park"
              >National Archives at College Park, MD, will become a restricted
              federal facility</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 21:18:45</span
              ><span class="points-container"
                >Points: <span class="points">272</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44371169"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44370426">
          <h3>
            <a
              class="item"
              href="https://shanrauf.com/archive/how-to-think-about-time-in-programming"
              >How to Think About Time in Programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 20:01:42</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44370426"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369646">
          <h3>
            <a
              class="item"
              href="https://flak.tedunangst.com/post/forbidden-secrets-of-ancient-X11-scaling-technology-revealed"
              >Ancient X11 scaling technology</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:58:32</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369646"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369642">
          <h3>
            <a
              class="item"
              href="https://docs.rs/subsecond/0.7.0-alpha.1/subsecond/index.html"
              >Subsecond: A runtime hotpatching engine for Rust hot-reloading</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:58:11</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369642"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44369388">
          <h3>
            <a
              class="item"
              href="https://www.cottongeeks.com/articles/2025-06-24-fun-with-uv-and-pep-723"
              >Fun with uv and PEP 723</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 18:41:26</span
              ><span class="points-container"
                >Points: <span class="points">373</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44369388"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44368315">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44368315"
              >Expand.ai (YC S24) is hiring a founding engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 17:00:25</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>At expand.ai we're making that a reality.</p>
              <p>
                A combination of distributed systems, custom models, browser
                infrastructure, and a lot of passion from a tiny team, in-person
                here in Dogpatch, SF, is all you need.
              </p>
              <p>
                Apply if you're interested in working on bleeding-edge web
                agents applied at a large scale.
              </p>
              <p>
                We have a very talented team, great architects, and some have
                even worked on custom hardware before.
              </p>
              <p>
                I'm Tim, a 2nd-time founder, and I have sold my last company,
                Stellate, to Shopify.
              </p>
              <p>
                Write me at founder@expand.ai if you're interested. Let's go!
              </p>
              <p>
                <a href="https://expand.ai/careers/founding-engineer"
                  >https://expand.ai/careers/founding-engineer</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44367638">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2025-06-24/chatgpt-vs-copilot-inside-the-openai-and-microsoft-rivalry"
              >ChatGPT's enterprise success against Copilot fuels
              OpenAI/Microsoft rivalry</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 16:02:02</span
              ><span class="points-container"
                >Points: <span class="points">188</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367638"
                  >Comments</a
                ><span class="descendants">: 165</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44367548">
          <h3>
            <a class="item" href="https://xbow.com/blog/top-1-how-xbow-did-it/"
              >XBOW, an autonomous penetration tester, has reached the top spot
              on HackerOne</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 15:53:12</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367548"
                  >Comments</a
                ><span class="descendants">: 88</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44367084">
          <h3>
            <a
              class="item"
              href="https://blog.jsbarretto.com/post/software-is-joy"
              >Writing toy software is a joy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 15:09:12</span
              ><span class="points-container"
                >Points: <span class="points">571</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44367084"
                  >Comments</a
                ><span class="descendants">: 233</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366548">
          <h3>
            <a class="item" href="https://www.plasticlist.org/"
              >PlasticList – Plastic Levels in Foods</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:18:11</span
              ><span class="points-container"
                >Points: <span class="points">330</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366548"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366494">
          <h3>
            <a
              class="item"
              href="https://lucalp.dev/bitter-lesson-tokenization-and-blt/"
              >The bitter lesson is coming for tokenization</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:14:03</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366494"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44366409">
          <h3>
            <a
              class="item"
              href="https://deepmind.google/discover/blog/gemini-robotics-on-device-brings-ai-to-local-robotic-devices/"
              >Gemini Robotics On-Device brings AI to local robotic devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 14:05:10</span
              ><span class="points-container"
                >Points: <span class="points">171</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44366409"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44365806">
          <h3>
            <a
              class="item"
              href="https://www.downtowndougbrown.com/2025/06/finding-a-27-year-old-easter-egg-in-the-power-mac-g3-rom/"
              >Finding a 27-year-old easter egg in the Power Mac G3 ROM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 13:06:45</span
              ><span class="points-container"
                >Points: <span class="points">323</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44365806"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44365620">
          <h3>
            <a class="item" href="https://github.com/useautumn/autumn"
              >Show HN: Autumn – Open-source infra over Stripe</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 12:48:48</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44365620"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
            <div class="text">
              <a href="https://useautumn.com/">https://useautumn.com/</a>).
              Autumn is an open source layer over Stripe that decouples pricing
              and billing logic from your application. We let you efficiently
              manage pricing plans, feature permissions, and payments,
              regardless of the pricing model being used. It’s a bit like if
              Supabase and Stripe had a baby.
              <p>
                Typically, you have to write code to handle checkouts,
                upgrades/downgrades, failed payments, then receive webhooks to
                provision features, reset usage limits etc. We abstract this
                into one function call for all payments flows (checkouts,
                upgrades, downgrades etc), one function to record usage (so we
                can track usage limits), and a customer state React hook you can
                access from your frontend (to handle paywalls, display usage
                data etc).
              </p>
              <p>
                Here’s a demo:
                <a href="https://www.youtube.com/watch?v=SFARthC7JXc"
                  >https://www.youtube.com/watch?v=SFARthC7JXc</a
                >
              </p>
              <p>
                Stripe’s great! But there are 2 main reasons people use Autumn
                over a direct Stripe setup:
              </p>
              <p>
                (1) Billing infra can get complex. After payments, there’s still
                handling webhooks, permission management, metering, usage
                resets, and connecting them all to upgrade, downgrade,
                cancellation and failed payments states.
              </p>
              <p>
                (2) Growing companies iterate on pricing often: raising prices,
                experimenting with credits or charging for new features, etc. We
                save you from having to handle usage-based limits (super common
                in pricing today), rebuilding in-app flows, DB migrations,
                internal dashboards for custom pricing, and grandfathering users
                on different pricing.
              </p>
              <p>
                Ripping out billing flows etc, really sucks. With Autumn, you
                just make pricing changes in our UI and it all auto-updates. We
                have a shadcn/ui component library that helps with this.
              </p>
              <p>
                Because we support a lot of different pricing models
                (subscriptions, usage, credits, seat based etc), we have to
                handle a lot of different scenarios and cases under the hood. We
                try to keep setup simple while maintaining flexibility of a
                native integration. Here’s a little snippet of the architecture
                of our main endpoint:
                <a href="https://useautumn.com/blog/attach"
                  >https://useautumn.com/blog/attach</a
                >
              </p>
              <p>
                Currently, the users who get the most value out of us are
                founders that need to move fast and keep things flexible, but
                also new/non-technical devs that are more AI native.
              </p>
              <p>
                You can clone the project and explore the repo, or try it out at
                <a href="https://useautumn.com/">https://useautumn.com/</a>,
                where it’s free for builders. Our repo is
                <a href="https://github.com/useautumn/autumn"
                  >https://github.com/useautumn/autumn</a
                >, docs are at
                <a href="https://docs.useautumn.com/"
                  >https://docs.useautumn.com/</a
                >
                and demo at
                <a href="https://www.youtube.com/watch?v=SFARthC7JXc"
                  >https://www.youtube.com/watch?v=SFARthC7JXc</a
                >
              </p>
              <p>
                We’d love to hear your feedback and how we could make it better!
              </p>
            </div>
          </section>
        </section>
        <section id="44365320">
          <h3>
            <a
              class="item"
              href="https://damek.github.io/random/basic-facts-about-gpus/"
              >Basic Facts about GPUs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 12:15:12</span
              ><span class="points-container"
                >Points: <span class="points">255</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44365320"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44364874">
          <h3>
            <a class="item" href="https://starship.rs/"
              >Starship: The minimal, fast, and customizable prompt for any
              shell</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-24 @ 11:11:52</span
              ><span class="points-container"
                >Points: <span class="points">392</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44364874"
                  >Comments</a
                ><span class="descendants">: 182</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44353055">
          <h3>
            <a class="item" href="https://www.timdle.com/"
              >Timdle – Place historical events in chronological order</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-23 @ 06:39:20</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44353055"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44349379">
          <h3>
            <a class="item" href="https://github.com/kordless/gnosis-mystic"
              >Advanced Python Function Debugging with MCP Integration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 18:56:53</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44349379"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44348862">
          <h3>
            <a
              class="item"
              href="https://www.amusingplanet.com/2025/06/the-jumping-frenchmen-of-maine.html"
              >The Jumping Frenchmen of Maine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 17:56:14</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44348862"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44347464">
          <h3>
            <a
              class="item"
              href="https://mssv.net/2025/06/15/playing-first-contact-in-eclipse-a-spectacular-3-day-sci-fi-larp/"
              >Playing First Contact in Eclipse, a 3-Day Sci-Fi Larp</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 15:02:23</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44347464"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44347294">
          <h3>
            <a class="item" href="https://jacobfilipp.com/boat/"
              >Canal Boat Simulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-22 @ 14:39:55</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44347294"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44338933">
          <h3>
            <a
              class="item"
              href="https://danieltan.weblog.lol/2025/06/map-llms-excel-saved-my-passion-for-game-dev"
              >Mapping LLMs over excel saved my passion for game dev</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-21 @ 16:48:02</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44338933"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
