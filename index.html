<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44585543">
          <h3>
            <a
              class="item"
              href="https://www.sciencealert.com/signs-of-autism-could-be-encoded-in-the-way-you-walk"
              >Signs of Autism Could Be Encoded in the Way You Walk</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 18:43:35</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44585543"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44585495">
          <h3>
            <a
              class="item"
              href="https://blog.pypi.org/posts/2025-06-15-prohibiting-inbox-ru-emails/"
              >PyPI Prohibits inbox.ru email domain registrations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 18:38:45</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44585495"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44585002">
          <h3>
            <a class="item" href="https://www.instantdb.com/essays/agents"
              >How and where will agents ship software?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 17:47:08</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44585002"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44584603">
          <h3>
            <a
              class="item"
              href="https://www.defconq.tech/blog/From%20Elite%20to%20Everyone%20-%20KX%20Community%20Edition%20Breaks%20Loose"
              >KDB-X: KX releases FREE Commercial KDB license</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 17:09:36</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44584603"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44584497">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/weave-3/jobs/SqFnIFE-founding-ai-engineer"
              >Weave (YC W25) is hiring a founding AI engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 17:00:47</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44583982">
          <h3>
            <a class="item" href="https://mkosi.systemd.io/"
              >Mkosi – Build Bespoke OS Images</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 16:14:20</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44583982"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44583565">
          <h3>
            <a class="item" href="https://mill-build.org/mill/index.html"
              >Mill: A better build tool for Java, Scala, and Kotlin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 15:45:14</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44583565"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44583224">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/culture/infinite-scroll/gentle-parenting-my-smartphone-addiction"
              >'Gentle Parenting' My Smartphone Addiction</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 15:17:12</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44583224"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44583171">
          <h3>
            <a
              class="item"
              href="https://www.newscientist.com/article/2487013-weve-discovered-a-new-kind-of-magnetism-what-can-we-do-with-it/"
              >Altermagnets: The first new type of magnet in nearly a century</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 15:11:54</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44583171"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://phys.org/news/2024-02-altermagnetism-magnetism-broad-implications-technology.html"
                >https://phys.org/news/2024-02-altermagnetism-magnetism-broad...</a
              >,
              <a
                href="https://www.ictp.it/news/2025/1/altermagnets-new-magnetic-phase"
                >https://www.ictp.it/news/2025/1/altermagnets-new-magnetic-ph...</a
              >
            </div>
          </section>
        </section>
        <section id="44583014">
          <h3>
            <a
              class="item"
              href="https://github.com/jlumbroso/passage-of-time-mcp"
              >Show HN: An MCP server that gives LLMs temporal awareness and
              time calculation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 14:55:31</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44583014"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
            <div class="text">
              <p>
                Most MCP demos wire LLMs to external data stores. That’s useful,
                but MCP is also a chance to give models <i>perception</i> —
                extra senses beyond the prompt text.
              </p>
              <p>
                Six functions (`current_datetime`, `time_difference`,
                `timestamp_context`, etc.) give Claude/GPT real temporal
                awareness: It can spot pauses, reason about rhythms, and even
                label a chat’s “three‑act structure”. Runs locally in &lt;60 s
                (Python) or via a hosted demo.
              </p>
              <p>
                If time works, what else could we surface? - Location / movement
                (GPS, speed, “I’m on a train”) - Weather (rainy evening vs clear
                morning) - Device state (battery low, poor bandwidth) - Ambient
                modality (user is dictating on mobile vs typing at desk) -
                Calendar context (meeting starts in 5 min) - Biometric cues
                (heart‑rate spikes while coding)
              </p>
              <p>
                Curious what other signals people think would unlock better
                collaboration.
              </p>
              <p>
                Full back story:
                <a
                  href="https://medium.com/@jeremie.lumbroso/teaching-ai-the-significance-of-the-passage-of-time-yes-that-one-106ad7d20957"
                  >https://medium.com/@jeremie.lumbroso/teaching-ai-the-signifi...</a
                >
              </p>
              <p>
                Happy to discuss MCP patterns, tool discovery, or future
                “senses”. Feedback and PRs welcome!
              </p>
            </div>
          </section>
        </section>
        <section id="44582855">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2507.11473"
              >Chain of thought monitorability: A new and fragile opportunity
              for AI safety</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 14:39:55</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44582855"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://venturebeat.com/ai/openai-google-deepmind-and-anthropic-sound-alarm-we-may-be-losing-the-ability-to-understand-ai/"
                >https://venturebeat.com/ai/openai-google-deepmind-and-anthro...</a
              >
            </div>
          </section>
        </section>
        <section id="44582662">
          <h3>
            <a
              class="item"
              href="https://www.zeroentropy.dev/blog/improving-rag-with-elo-scores"
              >Show HN: Improving search ranking with chess Elo scores</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 14:17:54</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44582662"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm Ghita, co-founder of ZeroEntropy (YC W25). We build high
                accuracy search infrastructure for RAG and AI Agents.
              </p>
              <p>
                We just released two new state-of-the-art rerankers zerank-1,
                and zerank-1-small. One of them is fully open-source under
                Apache 2.0.
              </p>
              <p>
                We trained those models using a novel Elo score inspired
                pipeline which we describe in detail in the blog attached. In a
                nutshell, here is an outline of the training steps: * Collect
                soft preferences between pairs of documents using an ensemble of
                LLMs. * Fit an ELO-style rating system (Bradley-Terry) to turn
                pairwise comparisons into absolute per-document scores. *
                Normalize relevance scores across queries using a bias
                correction step, modeled using cross-query comparisons and
                solved with MLE.
              </p>
              <p>
                You can try the models either through our API (<a
                  href="https://docs.zeroentropy.dev/models"
                  >https://docs.zeroentropy.dev/models</a
                >), or via HuggingFace (<a
                  href="https://huggingface.co/zeroentropy/zerank-1-small"
                  >https://huggingface.co/zeroentropy/zerank-1-small</a
                >).
              </p>
              <p>
                We would love this community's feedback on the models, and the
                training approach. A full technical report is also going to be
                released soon.
              </p>
              <p>Thank you!</p>
            </div>
          </section>
        </section>
        <section id="44580257">
          <h3>
            <a class="item" href="https://github.com/aws/pgactive"
              >Pgactive: Postgres active-active replication extension</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 09:15:28</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44580257"
                  >Comments</a
                ><span class="descendants">: 63</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44579902">
          <h3>
            <a
              class="item"
              href="https://prm.ua/en/ukrainian-hackers-destroyed-the-it-infrastructure-of-a-russian-drone-manufacturer-what-is-known/"
              >Ukrainian hackers destroyed the IT infrastructure of Russian
              drone manufacturer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 08:18:34</span
              ><span class="points-container"
                >Points: <span class="points">534</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44579902"
                  >Comments</a
                ><span class="descendants">: 354</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44579717">
          <h3>
            <a
              class="item"
              href="https://www.cesarsotovalero.net/blog/i-am-switching-to-python-and-actually-liking-it.html"
              >I'm switching to Python and actually liking it</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 07:44:32</span
              ><span class="points-container"
                >Points: <span class="points">233</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44579717"
                  >Comments</a
                ><span class="descendants">: 365</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44579317">
          <h3>
            <a
              class="item"
              href="https://mozillagfx.wordpress.com/2025/07/15/shipping-webgpu-on-windows-in-firefox-141/"
              >Shipping WebGPU on Windows in Firefox 141</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 06:32:47</span
              ><span class="points-container"
                >Points: <span class="points">299</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44579317"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44578510">
          <h3>
            <a class="item" href="https://github.com/vvaltchev/tilck"
              >Tilck: A Tiny Linux-Compatible Kernel</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 03:50:00</span
              ><span class="points-container"
                >Points: <span class="points">248</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44578510"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44578490">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/cloudflare-1-1-1-1-incident-on-july-14-2025/"
              >Cloudflare 1.1.1.1 Incident on July 14, 2025</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 03:44:39</span
              ><span class="points-container"
                >Points: <span class="points">486</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44578490"
                  >Comments</a
                ><span class="descendants">: 315</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44578070">
          <h3>
            <a class="item" href="https://gwern.net/ai-daydreaming"
              >LLM Daydreaming</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 02:22:02</span
              ><span class="points-container"
                >Points: <span class="points">161</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44578070"
                  >Comments</a
                ><span class="descendants">: 122</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44577268">
          <h3>
            <a class="item" href="https://gpuhammer.com/"
              >GPUHammer: Rowhammer attacks on GPU memories are practical</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-16 @ 00:05:45</span
              ><span class="points-container"
                >Points: <span class="points">248</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44577268"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573750">
          <h3>
            <a
              class="item"
              href="https://psychotechnology.substack.com/p/how-i-lost-my-backpack-with-passports"
              >How I lost my backpack with passports and laptop</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 17:35:35</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573750"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44573195">
          <h3>
            <a class="item" href="https://calv.info/openai-reflections"
              >Reflections on OpenAI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 16:49:06</span
              ><span class="points-container"
                >Points: <span class="points">690</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44573195"
                  >Comments</a
                ><span class="descendants">: 372</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44572377">
          <h3>
            <a
              class="item"
              href="https://www.matthieulc.com/posts/shoggoth-mini"
              >Show HN: Shoggoth Mini – A soft tentacle robot powered by GPT-4o
              and RL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 15:46:41</span
              ><span class="points-container"
                >Points: <span class="points">564</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44572377"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44568529">
          <h3>
            <a class="item" href="https://github.com/jkool702/timep"
              >Show HN: Timep – a next-gen profiler and flamegraph-generator for
              bash code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 06:44:57</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44568529"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                Unlike other profilers, timep also recovers and hierarchally
                records metadata on subshell and function nesting, allowing it
                to recreate the full call-stack tree for the bash code being
                profiled. If you call timep with the `--flame` flag, it will
                automatically generate a flamegraph .svg image where each block
                represents the wall-clock time spent on a particular command
                (top level) or its parent subshells/functions (all the other
                levels).
              </p>
              <p>
                Using timep is simple - just source the timep.bash file then add
                timep before whatever you want to profile. You do not need to
                change in the code being profiled - timep handles everything for
                you. Example usage:
              </p>
              <p></p>
              <pre><code>  . ./timep.bash
  timep someFunc
  timep -flame someScript &lt;inputFile
</code></pre>
              timep will generate 2 profiles for you: one showing each
              individual command (with full subshell/function nesting chains),
              and one that combines repeated loops commands into a count + total
              runtime line with minimal "extra" metadata.
              <p>
                See the github README for more info on the available flags and
                output profile specifics.
              </p>
              <p>
                timep works by cramming all the timing instrumentation logic
                into a DEBUG trap that roughly does the following:
              </p>
              <p>
                1. record end timestamp for previous command 2. compare current
                state to state saved in variables last DEBUG trap to determine
                what sort of command is happening. e.g., if BASH_SUBSHELL
                increased then we know we just entered a subshell or background
                fork. 3. once we know what type of command is happening,
                generate a log line for the previous command (now that we have
                its end time 4. save current state in various variables (for use
                next debug trap) 5. record start time for the next command
              </p>
              <p>
                then after the profiled code is done running, timep
                post-processes the logs to produce the final profile
              </p>
            </div>
          </section>
        </section>
        <section id="44551359">
          <h3>
            <a class="item" href="https://github.com/danthegoodman1/bloomsearch"
              >Show HN: BloomSearch – Keyword search with hierarchical bloom
              filters</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 16:02:19</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44551359"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                They're an _amazing_ data structure that, at a fixed size,
                tracks potential set membership. That means unlike normal b-tree
                indexes, they don't grow with the number of unique items in the
                dataset.
              </p>
              <p>
                This makes them great for "needle in a haystack" search (logs,
                document) as implementations like VictoriaMetrics and Bing's
                BitFunnel show. I've used them in the past, but they've never
                been center-stage in my projects.
              </p>
              <p>
                I wanted high cardinality keyword search for ANOTHER project...
                and, well, down the yak-shaving rabbit hole we go!
              </p>
              <p>BloomSearch brings this into an extensible Go package:</p>
              <p>
                - Very memory efficient via bloom filters and streaming row
                scans
              </p>
              <p>
                - DataStore and MetaStore interfaces for any backend (can be
                same or separate)
              </p>
              <p>
                - Hierarchical pruning via partitions, minmax indexes, and of
                course bloom filters
              </p>
              <p>
                - Search by field, token, or field:token with complex
                combinators
              </p>
              <p>
                - Disaggregated storage and compute for unbound ingest and query
                throughput
              </p>
              <p>
                And of course, you know I had to make a custom file format ^-^
                (FILE_FORMAT.MD)
              </p>
              <p>
                BloomSearch is optimized for massive concurrency, arbitrary
                cardinality and dataset size, and super low memory usage.
                There's still a lot on the table too in terms of size and
                performance optimizations, but I'm already super pleased with
                it. With distributed query processing I'm targeting &gt;100B
                rows/s over large datasets.
              </p>
              <p>
                I'm also excited to replace our big logging bill ~$0.003/GB for
                log storage with infinite retention and guilt-free querying :P
              </p>
            </div>
          </section>
        </section>
        <section id="44549880">
          <h3>
            <a
              class="item"
              href="https://app.ilograph.com/demo.ilograph.AWS%2520Video-On-Demand/Workflow"
              >In-depth system walkthrough: cloud-based VOD</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 12:22:33</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44549880"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44549413">
          <h3>
            <a class="item" href="https://github.com/Deathbyteacup/fluentbird"
              >Thunderbird: Fluent Windows 11 Design</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 11:07:53</span
              ><span class="points-container"
                >Points: <span class="points">194</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44549413"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44549089">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/culture/open-questions/whats-happening-to-reading"
              >What's happening to reading?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 10:16:48</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44549089"
                  >Comments</a
                ><span class="descendants">: 184</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44548449">
          <h3>
            <a class="item" href="https://atopile.io/atopile/introduction"
              >Atopile – Design circuit boards with code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-13 @ 08:05:37</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44548449"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44541662">
          <h3>
            <a class="item" href="https://chaos.if.uj.edu.pl/~wojtek/MARS.COM/"
              >MARS.EXE → COM (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-12 @ 12:43:12</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44541662"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
