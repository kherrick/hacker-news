<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39638780">
          <h3>
            <a
              class="item"
              href="https://9to5mac.com/2024/03/07/apple-planning-default-navigation-app-setting-in-ios-18-for-eu-users/"
              >Apple planning default navigation app setting in iOS 18 for EU
              users</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 07:41:59</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39638780"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39638676">
          <h3>
            <a class="item" href="https://cylinder.doforce.xyz"
              >Show HN: Cylinder HN – View Trending Hacker News and Search
              Everything</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 07:24:01</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39638676"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              It's a website with nice UI where you can view and search all
              Hacker News stories.
            </div>
          </section>
        </section>
        <section id="39638569">
          <h3>
            <a
              class="item"
              href="https://digitopoly.org/2024/03/07/the-ai-gold-rush/"
              >The AI Gold Rush</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 07:05:36</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39638569"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39638150">
          <h3>
            <a class="item" href="https://github.com/apernet/OpenGFW"
              >OpenGFW: an open source implementation of China's Great
              Firewall</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 05:45:03</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39638150"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39638021">
          <h3>
            <a
              class="item"
              href="https://unix.stackexchange.com/questions/335648/why-does-the-reset-command-include-a-delay"
              >Why does the `reset` command include a delay? (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 05:16:41</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39638021"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39637530">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/space/2024/03/after-astra-loses-99-percent-of-its-value-founders-take-rocket-firm-private/"
              >After Astra loses 99 percent of its value, founders take rocket
              firm private</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 03:38:06</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39637530"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39637487">
          <h3>
            <a
              class="item"
              href="https://lisyarus.github.io/blog/programming/2023/02/21/exponential-smoothing.html"
              >My favourite animation trick: exponential smoothing</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 03:27:06</span
              ><span class="points-container"
                >Points: <span class="points">331</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39637487"
                  >Comments</a
                ><span class="descendants">: 155</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39637471">
          <h3>
            <a
              class="item"
              href="https://noisypixel.net/dragon-ball-creator-akira-toriyama-has-passed-away/"
              >Akira Toriyama has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 03:24:50</span
              ><span class="points-container"
                >Points: <span class="points">578</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39637471"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39636991">
          <h3>
            <a
              class="item"
              href="https://www.esa.int/Space_Safety/Space_Debris/Reentry_of_International_Space_Station_ISS_batteries_into_Earth_s_atmosphere"
              >Reentry of International Space Station Batteries into Earth's
              Atmosphere</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 02:01:10</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39636991"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39636569">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39636569"
              >Imbue (Formerly Generally Intelligent) (YC S17) Is Hiring a
              Systems Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 01:03:14</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                Machine Learning Engineer (SF or Remote, Contract or Full-time):
                <a
                  href="https://jobs.lever.co/imbue/9411e2ec-502a-403f-a39a-0d44c676b6af?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/9411e2ec-502a-403f-a39a-0d44c676...</a
                >
              </p>
              <p>
                Research Scientist (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/6c25a25c-35ec-4d7b-8d7e-40e9c4c85fba?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/6c25a25c-35ec-4d7b-8d7e-40e9c4c8...</a
                >
              </p>
              <p>
                Machine Learning Research Engineer (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/c2f4a435-1eef-489a-9972-fba95e4a0296?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/c2f4a435-1eef-489a-9972-fba95e4a...</a
                >
              </p>
              <p>
                Systems Engineer (Remote or SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/7afede07-8f22-4c49-b247-19e1a0ca6953?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/7afede07-8f22-4c49-b247-19e1a0ca...</a
                >
              </p>
              <p>
                Technical Lead Manager (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/9ce44b67-04ca-4da1-b845-6995c62aaf8b?lever-origin=applied&amp;lever-source%5B%5D=YCombinator"
                  >https://jobs.lever.co/imbue/9ce44b67-04ca-4da1-b845-6995c62a...</a
                >
              </p>
              <p>
                Infrastructure Engineer (Remote or SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/e66a55a3-a117-406c-9b07-8ba055047cea?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/e66a55a3-a117-406c-9b07-8ba05504...</a
                >
              </p>
              <p>
                Senior Software Engineer (Remote or SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/38a93a78-fb8d-4614-bb12-b6277a7f874e?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/38a93a78-fb8d-4614-bb12-b6277a7f...</a
                >
              </p>
              <p>
                Engineering Manager (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/75fac008-22e5-49ab-9f4e-a4c459b52b41?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/75fac008-22e5-49ab-9f4e-a4c459b5...</a
                >
              </p>
              <p>
                Founding Product Engineer (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/0764f1c0-89e5-452f-ab41-ff1d1ba8fd6a?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/0764f1c0-89e5-452f-ab41-ff1d1ba8...</a
                >
              </p>
              <p>
                Head of Data Engineering (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/05c940e7-ec08-4eb1-87c1-3dbb05a91e76?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/05c940e7-ec08-4eb1-87c1-3dbb05a9...</a
                >
              </p>
              <p>
                Software Engineer, Data (SF, Full-time):
                <a
                  href="https://jobs.lever.co/imbue/b7e42bb4-e3e4-4022-a563-556f890bbe68?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/b7e42bb4-e3e4-4022-a563-556f890b...</a
                >
              </p>
              <p>
                Technical Interviewer (Remote or SF, Full-time/Contract):
                <a
                  href="https://jobs.lever.co/imbue/8443234d-a8c7-439f-bb8a-8142e713edc4?lever-origin=applied&amp;lever-source%5B%5D=Y%20Combinator"
                  >https://jobs.lever.co/imbue/8443234d-a8c7-439f-bb8a-8142e713...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="39636470">
          <h3>
            <a
              class="item"
              href="https://github.com/aaronraimist/DontFuckWithPaste"
              >Don't fuck with paste</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 00:49:27</span
              ><span class="points-container"
                >Points: <span class="points">431</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39636470"
                  >Comments</a
                ><span class="descendants">: 198</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39636469">
          <h3>
            <a class="item" href="https://fischermoseley.github.io/manta/"
              >Show HN: Manta – A tool for FPGA Debugging and Rapid
              Prototyping</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 00:49:16</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39636469"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>
                This was originally my Master's Thesis at MIT, where I developed
                it for our course on FPGA design. We needed an alternative to
                vendor debugging tools, which only supported x86 machines
                running Windows or Linux. We were able to patch in macOS support
                with VMs, but as more students came bringing ARM-based devices,
                we needed a new tool.
              </p>
              <p>
                So I developed this. It's called Manta, and I've just released
                v1.0.0. It's written in Python using Amaranth HDL, which allows
                it to run on nearly any machine, and export vendor-agnostic
                Verilog-2001. It lets you read and write to arbitrary registers
                and memory on the FPGA, and provides an integrated logic
                analyzer. It's modular, so you can use any number of these
                functionalities in any combination, as long as you've got a UART
                or Ethernet connection to the FPGA.
              </p>
              <p>
                Next up on the docket is adding support for more advanced
                interfaces like Wishbone, AXI, AHB, and Avalon. And maybe even
                adding a Web UI for debugging with a logic analyzer in the
                browser. Or peeking and poking at individual registers. Or
                issuing arbitrary AHB3 transactions.
              </p>
              <p>
                I'd be super curious to hear your thoughts on the tool! And if
                you want to kick the tires, be my guest :)
              </p>
            </div>
          </section>
        </section>
        <section id="39636259">
          <h3>
            <a class="item" href="http://stations.albertguillaumes.cat/"
              >Stations and transfers (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-08 @ 00:20:19</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39636259"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39635743">
          <h3>
            <a
              class="item"
              href="https://annas-blog.org/blog-how-to-become-a-pirate-archivist.html"
              >How to become a pirate archivist (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 23:06:40</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39635743"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39635483">
          <h3>
            <a
              class="item"
              href="https://www.answer.ai/posts/2024-03-06-fsdp-qlora.html"
              >Fine tune a 70B language model at home</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 22:38:49</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39635483"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
            <div class="text">
              <p>
                It's the #1 most requested thing I've been hearing from open
                source model builders: the ability to use multiple GPUs with
                QLoRA training. So that's why we decided to make it our first
                project.
              </p>
              <p>
                Huge thanks to Tim Dettmers for helping us get started to this
                -- and of course for creating QLoRA in the first place!
              </p>
              <p>Let me know if you have any questions or thoughts.</p>
            </div>
          </section>
        </section>
        <section id="39634195">
          <h3>
            <a
              class="item"
              href="https://ironicsans.beehiiv.com/p/life-death-bulbdial-clock"
              >The Life and Death of the Bulbdial Clock</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 20:26:51</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39634195"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39633580">
          <h3>
            <a
              class="item"
              href="https://blog.research.google/2024/03/social-learning-collaborative-learning.html?m=1"
              >Social learning: Collaborative learning with large language
              models</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 19:30:54</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39633580"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39633172">
          <h3>
            <a
              class="item"
              href="https://androidcalculator.com/how-do-calculators-compute-sine/"
              >How do computers calculate sine?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 18:59:15</span
              ><span class="points-container"
                >Points: <span class="points">172</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39633172"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39632872">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39632872"
              >Launch HN: SiLogy (YC W24) – Chip design and verification in the
              cloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 18:38:22</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39632872"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
            <div class="text">
              <a href="https://silogy.io/">https://silogy.io/</a>). We’re
              building chip design and verification tools to speed up the
              semiconductor development cycle. Here's a demo:
              <a href="https://www.youtube.com/watch?v=u0wAegt79EA"
                >https://www.youtube.com/watch?v=u0wAegt79EA</a
              >
              <p>
                Interest in designing new chips is growing, thanks to demand
                from AI and the predicted decline of Moore’s Law. All these
                chips need to be tested in simulation. Since the number of
                possible states grows exponentially with chip complexity, the
                need for verification is exploding. Chip developers already
                spend 70% of their time on testing. (See this video on the
                “verification gap”:
                <a href="https://www.youtube.com/watch?v=rtaaOdGuMCc"
                  >https://www.youtube.com/watch?v=rtaaOdGuMCc</a
                >).
              </p>
              <p>
                Tooling hasn’t kept up. The state of the art in collaborative
                debugging is to walk to a coworker’s desk and point to an error
                in a log file or waveform file. Each chip company rolls out its
                own tooling and infra to deal with this—this was Kay’s (one of
                our cofounders) entire job at his last gig. But they want to
                work on chips, not devtools! The solutions they come up with are
                often inadequate and frustrating. That’s why we started SiLogy.
              </p>
              <p>
                SiLogy is a web app to manage the entire digital verification
                workflow. (“Digital verification” means testing the logic of the
                design and includes everything before the physical design of the
                chip. It’s the most time-consuming stage in verification.)
              </p>
              <p>We combine three capabilities:</p>
              <p>
                <i>Test orchestration and running</i>: The heart of our product
                is a CI tool that runs Verilator, a popular open-source
                simulator, in a Docker container. When you push to your repo or
                manually trigger a job in the UI, we install your dependencies
                and compile your binaries into a Docker image, and run your
                tests. You can also rerun a single test with custom arguments
                using the UI.
              </p>
              <p>
                <i>Test results and statistics</i>: We display logs from each
                test in the web app. We’re working on displaying waveform files
                in the app, too. We also keep track of passing and failing tests
                within each test suite, and we’re working on slick
                visualizations of test trends, to keep managers happy. :)
              </p>
              <p>
                <i>Collaboration</i>: soon you’ll be able to send a link to and
                leave a comment on a specific location within a log or waveform
                file, just like in Google Docs.
              </p>
              <p>
                Unlike generic CI tools, we focus on tight integration with
                verification workflows. When an assertion fails, we show you the
                source code where it happened. We’re hard at work on waveform
                viewing – soon you’ll be able to generate waves from a failing
                test, with the click of a button.
              </p>
              <p>
                Our roadmap includes support for the major commercial
                simulators: VCS, Xcelium, and Questa. We’re also working on a
                test gen framework based on Buck2 to statically declare tests
                for your post-commit runs, or programmatically generate
                thousands of tests for nightly regressions.
              </p>
              <p>
                We plan to sell seats, with discounts for individuals, startups,
                and research labs (we’re working on pricing). For now, we’re
                opening up guest registration so HN can play with what we hope
                is the future of design verification. We owe so much of what we
                know to this community and we’d be so grateful for any feedback.
                &lt;3 You can sign up here, just press "Use guest email address"
                if you don't want to give up your email:
                <a href="https://dash.silogy.io/signup/"
                  >https://dash.silogy.io/signup/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="39630985">
          <h3>
            <a
              class="item"
              href="https://vin01.github.io/piptagole/security-tools/soar/urlscan/hybrid-analysis/data-leaks/urlscan.io/cloudflare-radar%22/2024/03/07/url-database-leaks-private-urls.html"
              >You cannot simply publicly access private secure links, can
              you?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 16:29:47</span
              ><span class="points-container"
                >Points: <span class="points">345</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39630985"
                  >Comments</a
                ><span class="descendants">: 178</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39630759">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/new-breakthrough-brings-matrix-multiplication-closer-to-ideal-20240307/"
              >New breakthrough brings matrix multiplication closer to ideal</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 16:11:01</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39630759"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39629044">
          <h3>
            <a class="item" href="https://eloquentjavascript.net/"
              >Eloquent JavaScript 4th edition (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 13:52:16</span
              ><span class="points-container"
                >Points: <span class="points">917</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39629044"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39625379">
          <h3>
            <a
              class="item"
              href="https://www.bbc.co.uk/news/entertainment-arts-68488756.amp"
              >Gabriel García Márquez: Sons publish novel that late author
              wanted destroyed</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 05:36:51</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39625379"
                  >Comments</a
                ><span class="descendants">: 222</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39623619">
          <h3>
            <a
              class="item"
              href="https://techxplore.com/news/2024-03-atlas-internet-surveillance-ownership-network.html"
              >Atlas of internet surveillance maps ownership of network
              infrastructures worldw</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-07 @ 00:28:40</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39623619"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39618440">
          <h3>
            <a
              class="item"
              href="https://theathletic.com/5318294/2024/03/05/iditarod-musher-kills-moose-race/"
              >Iditarod musher Dallas Seavey kills moose to protect his dogs
              during race</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-06 @ 17:34:29</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39618440"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39615465">
          <h3>
            <a
              class="item"
              href="https://responsibleautomation.wordpress.com/2018/02/01/heresy-ii-comments-are-code/"
              >Comments Are Code (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-06 @ 12:59:10</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39615465"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39614816">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/Thousand_Character_Classic"
              >Thousand Character Classic</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-06 @ 11:33:49</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39614816"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39614752">
          <h3>
            <a
              class="item"
              href="https://two-wrongs.com/statistical-process-control-a-practitioners-guide.html"
              >Statistical Process Control: A Practitioner's Guide (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-06 @ 11:21:18</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39614752"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39613448">
          <h3>
            <a
              class="item"
              href="https://www.askell.blog/when-robustly-tolerable-beats-precariously-optimal/"
              >When robustly tolerable beats precariously optimal (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-06 @ 07:58:06</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39613448"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39612957">
          <h3>
            <a
              class="item"
              href="https://utcc.utoronto.ca/~cks/space/blog/unix/XWindowsAllTheWayDown"
              >A peculiarity of the X Window System: Windows all the way down</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-06 @ 06:33:57</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39612957"
                  >Comments</a
                ><span class="descendants">: 80</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
