<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46610557">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46610557"
              >The $LANG Programming Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 00:17:19</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46610557"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <a href="https://news.ycombinator.com/item?id=46608577"
                >https://news.ycombinator.com/item?id=46608577</a
              >. It occurred to me that HN has a tradition of posts called "The
              {name} programming language" (part of the long tradition of papers
              and books with such titles) and it might be fun to track them
              down. I tried to keep only the interesting ones:
              <p>
                <a href="https://news.ycombinator.com/thelang"
                  >https://news.ycombinator.com/thelang</a
                >
              </p>
              <p>
                Similarly, Show HNs of programming languages are at
                <a href="https://news.ycombinator.com/showlang"
                  >https://news.ycombinator.com/showlang</a
                >.
              </p>
              <p>
                These are curated lists so they're frozen in time. Maybe we can
                figure out how to update them.
              </p>
              <p>A few famous cases:</p>
              <p>
                <i>The Go Programming Language</i> -
                <a href="https://news.ycombinator.com/item?id=934142"
                  >https://news.ycombinator.com/item?id=934142</a
                >
                - Nov 2009 (219 comments)
              </p>
              <p>
                <i>The Rust programming language</i> -
                <a href="https://news.ycombinator.com/item?id=1498528"
                  >https://news.ycombinator.com/item?id=1498528</a
                >
                - July 2010 (44 comments)
              </p>
              <p>
                <i>The Julia Programming Language</i> -
                <a href="https://news.ycombinator.com/item?id=3606380"
                  >https://news.ycombinator.com/item?id=3606380</a
                >
                - Feb 2012 (203 comments)
              </p>
              <p>
                <i>The Swift Programming Language</i> -
                <a href="https://news.ycombinator.com/item?id=7835099"
                  >https://news.ycombinator.com/item?id=7835099</a
                >
                - June 2014 (926 comments)
              </p>
              <p>But the obscure and esoteric ones are the most fun.</p>
              <p>
                (* where 'new' might mean old, a la
                <a href="https://news.ycombinator.com/item?id=23459210"
                  >https://news.ycombinator.com/item?id=23459210</a
                >)
              </p>
            </div>
          </section>
        </section>
        <section id="46609630">
          <h3>
            <a
              class="item"
              href="https://questdb.com/blog/jvm-current-thread-user-time/"
              >A 40-line fix eliminated a 400x performance gap</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 23:00:36</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46609630"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46609591">
          <h3>
            <a class="item" href="https://lewiscampbell.tech/blog/260114.html"
              >The insecure evangelism of LLM maximalists</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 22:57:23</span
              ><span class="points-container"
                >Points: <span class="points">195</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46609591"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46609492">
          <h3>
            <a class="item" href="https://www.marcia.no/words/eol"
              >EOL hardware should mean open-source software</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 22:49:51</span
              ><span class="points-container"
                >Points: <span class="points">187</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46609492"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46609389">
          <h3>
            <a
              class="item"
              href="https://files.littlebird.com.au/ascii-sketch.html"
              >Show HN: AsciiSketch a free browser-based ASCII art and diagram
              editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 22:39:34</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46609389"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46609279">
          <h3>
            <a
              class="item"
              href="https://yarnspinner.dev/blog/why-we-dont-use-ai/"
              >Why we don’t use AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 22:30:53</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46609279"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46608971">
          <h3>
            <a class="item" href="https://terra.fyralabs.com/"
              >Terra - A rolling-release Fedora repository</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 22:07:27</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46608971"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46608840">
          <h3>
            <a
              class="item"
              href="https://blog.metabrainz.org/2025/12/11/we-cant-have-nice-things-because-of-ai-scrapers/"
              >We can't have nice things because of AI scrapers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 21:57:32</span
              ><span class="points-container"
                >Points: <span class="points">288</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46608840"
                  >Comments</a
                ><span class="descendants">: 160</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46608811">
          <h3>
            <a
              class="item"
              href="https://novalis.org/blog/2025-11-06-is-it-a-joke.html"
              >Is it a joke?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 21:55:54</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46608811"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46608731">
          <h3>
            <a class="item" href="https://harmonic.fun/news#blog-post-lean"
              >Running Lean at Scale</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 21:50:22</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46608731"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46606902">
          <h3>
            <a
              class="item"
              href="https://www.databricks.com/blog/open-sourcing-dicer-databricks-auto-sharder"
              >Open sourcing Dicer: Databricks's auto-sharder</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 19:56:37</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46606902"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46605716">
          <h3>
            <a
              class="item"
              href="https://anniecherkaev.com/choosing-learning-over-autopilot"
              >Choosing learning over autopilot</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 18:46:06</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46605716"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46605675">
          <h3>
            <a
              class="item"
              href="https://marketplace.visualstudio.com/items?itemName=Nogic.nogic"
              >Show HN: Nogic – VS Code extension that visualizes your codebase
              as a graph</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 18:43:28</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46605675"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
            <div class="text">
              <p>
                It’s early and rough, but usable. Would love feedback on whether
                this is useful and what relationships are most valuable to
                visualize.
              </p>
            </div>
          </section>
        </section>
        <section id="46605490">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/BandCamp/comments/1qbw8ba/ai_generated_music_on_bandcamp/"
              >AI Generated Music Barred from Bandcamp</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 18:31:50</span
              ><span class="points-container"
                >Points: <span class="points">612</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46605490"
                  >Comments</a
                ><span class="descendants">: 448</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46604862">
          <h3>
            <a class="item" href="https://github.com/A1darbek/ayder"
              >Show HN: Ayder – HTTP-native durable event log written in C (curl
              as client)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 17:55:37</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46604862"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built Ayder — a single-binary, HTTP-native durable event log
                written in C. The wedge is simple: curl is the client (no JVM,
                no ZooKeeper, no thick client libs).
              </p>
              <p>
                There’s a 2-minute demo that starts with an unclean SIGKILL,
                then restarts and verifies offsets + data are still there.
              </p>
              <p>
                Numbers (3-node Raft, real network, sync-majority writes, 64B
                payload): ~50K msg/s sustained (wrk2 @ 50K req/s), client P99
                ~3.46ms. Crash recovery after SIGKILL is ~40–50s with ~8M
                offsets.
              </p>
              <p>
                Repo link has the video, benchmarks, and quick start. I’m
                looking for a few early design partners (any event
                ingestion/streaming workload).
              </p>
            </div>
          </section>
        </section>
        <section id="46604250">
          <h3>
            <a
              class="item"
              href="https://lmnt.me/blog/how-to-make-a-damn-website.html"
              >How to make a damn website (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 17:23:46</span
              ><span class="points-container"
                >Points: <span class="points">149</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46604250"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46603995">
          <h3>
            <a class="item" href="https://github.com/shorepine/tulipcc"
              >The Tulip Creative Computer</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 17:10:42</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46603995"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46603829">
          <h3>
            <a
              class="item"
              href="https://jobs.ashbyhq.com/legionhealth/ffdd2b52-eb21-489e-b124-3c0804231424"
              >Legion Health (YC S21) Hiring Cracked Founding Eng for AI-Native
              Ops</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 17:01:55</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46603535">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/us-news/2026/jan/11/onlyfans-influencers-us-o-1-visa"
              >Influencers and OnlyFans models are dominating U.S. O-1 visa
              requests</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 16:47:39</span
              ><span class="points-container"
                >Points: <span class="points">356</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46603535"
                  >Comments</a
                ><span class="descendants">: 255</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46603111">
          <h3>
            <a
              class="item"
              href="https://eieio.games/blog/two-heads-arent-better-than-one/"
              >Are two heads better than one?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 16:22:59</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46603111"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46602591">
          <h3>
            <a class="item" href="https://www.greptile.com/blog/github-ids"
              >Every GitHub object has two IDs</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 15:52:33</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46602591"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46602102">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=Rs_JrOIo3SE"
              >Scott Adams has died</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 15:18:43</span
              ><span class="points-container"
                >Points: <span class="points">777</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46602102"
                  >Comments</a
                ><span class="descendants">: 1268</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46599807">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46599807"
              >Ask HN: Quantum Computation, Computers and Programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 11:47:56</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46599807"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
            <div class="text">
              <p>
                1) Quantum Computation: What exactly are the abstract models of
                computation here? Are the Classical Computation models i.e.
                <a href="https://en.wikipedia.org/wiki/Model_of_computation"
                  >https://en.wikipedia.org/wiki/Model_of_computation</a
                >
                applicable? What other new models have been invented?
              </p>
              <p>
                2) Quantum Computers: What is the Physics, Organization and
                Architecture of these? In classical computers you have
                semiconductor physics, electronic elements and voltage
                thresholds mapping to logical 1's and 0's. This is then used to
                build layers of abstractions. What are their equivalents in a
                quantum computer?
                <a href="https://en.wikipedia.org/wiki/Quantum_computing"
                  >https://en.wikipedia.org/wiki/Quantum_computing</a
                >
                has a lot of info. but not quite structured for understanding.
              </p>
              <p>
                3) Quantum Programming: A lot is mentioned at
                <a href="https://en.wikipedia.org/wiki/Quantum_programming"
                  >https://en.wikipedia.org/wiki/Quantum_programming</a
                >
                and Amazon lists a bunch of books on this topic but am not quite
                clear on how everything fits. Also as i understand, quantum
                computing/programming can be simulated on classical hardware but
                am not clear on the how.
              </p>
              <p>
                PS: Some detailed examples as to how quantum
                computers/programming actually help you solve problems which
                cannot be solved on classical computers would be helpful to
                bring everything together. Shor's algorithm (<a
                  href="https://en.wikipedia.org/wiki/Shor%27s_algorithm"
                  >https://en.wikipedia.org/wiki/Shor%27s_algorithm</a
                >) is often mentioned but perhaps starting with a far simpler
                example would be more accessible.
              </p>
              <p>
                PPS: In particular; I would love to hear from folks who actually
                study/research/work in this domain regarding what they actually
                do, its real-world applicabilities and how to go about learning
                the subject.
              </p>
            </div>
          </section>
        </section>
        <section id="46596823">
          <h3>
            <a class="item" href="https://blog.tangled.org/docs"
              >We rolled our own documentation site</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-13 @ 02:49:59</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46596823"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46592424">
          <h3>
            <a
              class="item"
              href="https://www.promptarmor.com/resources/superhuman-ai-exfiltrates-emails"
              >Superhuman AI Exfiltrates Emails</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 18:38:39</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46592424"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://simonwillison.net/2026/Jan/12/superhuman-ai-exfiltrates-emails/"
                >https://simonwillison.net/2026/Jan/12/superhuman-ai-exfiltra...</a
              >
            </div>
          </section>
        </section>
        <section id="46563251">
          <h3>
            <a class="item" href="https://ischool.syracuse.edu/types-of-data/"
              >Understanding the Types of Data in Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-10 @ 06:12:25</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46563251"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46559266">
          <h3>
            <a
              class="item"
              href="https://everything2.com/node/e2node/Why%20Real%20Life%20is%20better%20than%20IRC"
              >Why Real Life is better than IRC (2000)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 21:01:13</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46559266"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46557312">
          <h3>
            <a
              class="item"
              href="https://bricknerd.com/home/going-for-gold-the-story-of-the-golden-lego-rcx-and-nxt-9-9-21"
              >Going for Gold: The Story of the Golden Lego RCX and NXT</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 18:35:13</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46557312"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46555297">
          <h3>
            <a
              class="item"
              href="https://xania.org/202512/17-inlining-the-ultimate-optimisation"
              >Inlining – The Ultimate Optimisation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-09 @ 16:05:26</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46555297"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46534632">
          <h3>
            <a
              class="item"
              href="https://www.construction-physics.com/p/japans-skyscraper-factories"
              >Japan's Skyscraper Factories (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-07 @ 23:16:18</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46534632"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
