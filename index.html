<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="38972362">
          <h3>
            <a
              class="item"
              href="https://tildes.net/~games/1dcj/there_has_never_been_a_better_time_to_game_on_linux"
              >There has never been a better time to game on Linux</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 19:01:09</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38972362"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38971966">
          <h3>
            <a class="item" href="https://github.com/marimo-team/marimo"
              >Show HN: Marimo – an open-source reactive notebook for Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 18:33:17</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38971966"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                GitHub repo:
                <a href="https://github.com/marimo-team/marimo"
                  >https://github.com/marimo-team/marimo</a
                >
              </p>
              <p>
                In marimo, a notebook’s code, outputs, and program state are
                always consistent. Run a cell and marimo reacts by automatically
                running the cells that reference its declared variables. Delete
                a cell and marimo scrubs its variables from program memory,
                eliminating hidden state. Our reactive runtime is based on
                static analysis, so it’s performant. If you’re worried about
                accidentally triggering expensive computations, you can disable
                specific cells from auto-running.
              </p>
              <p>
                marimo comes with UI elements like sliders, a dataframe
                transformer, and interactive plots that are automatically
                synchronized with Python [3]. Interact with an element and the
                cells that use it are automatically re-run with its latest
                value. Reactivity makes these UI elements more useful and
                ergonomic than Jupyter’s ipywidgets.
              </p>
              <p>
                Every marimo notebook can be run as a script from the command
                line, with cells executed in a topologically sorted order, or
                served as an interactive web app, using the marimo CLI.
              </p>
              <p>
                We’re a team of just two developers. We chose to develop marimo
                because we believe that the Python community deserves a better
                programming environment to do research and communicate it;
                experiment with code and share it; and learn computational
                science and teach it. We’ve seen lots of research start in
                Jupyter notebooks (much of my own has), only to fail to
                reproduce; lots of promising prototypes built that were never
                made real; and lots of tutorials written that failed to engage
                students.
              </p>
              <p>
                marimo has been developed with the close input of scientists and
                engineers, and with inspiration from many tools, including
                Pluto.jl and streamlit. We open-sourced it recently because we
                feel it’s ready for broader use. Please try it out (pip install
                marimo &amp;&amp; marimo tutorial intro). We’d appreciate your
                feedback!
              </p>
              <p>
                [1]
                <a href="https://github.com/marimo-team/marimo"
                  >https://github.com/marimo-team/marimo</a
                >
              </p>
              <p>
                [2]
                <a href="https://docs.marimo.io/faq.html#faq-problems"
                  >https://docs.marimo.io/faq.html#faq-problems</a
                >
              </p>
              <p>
                [3]
                <a href="https://docs.marimo.io/api/inputs/index.html"
                  >https://docs.marimo.io/api/inputs/index.html</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="38971811">
          <h3>
            <a
              class="item"
              href="https://edition.cnn.com/2024/01/12/tech/china-apple-airdrop-user-encryption-vulnerability-hnk-intl/index.html"
              >Apple knew AirDrop users could be identified and tracked as early
              as 2019</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 18:21:24</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38971811"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38971221">
          <h3>
            <a
              class="item"
              href="https://tge-data-web.nyc3.digitaloceanspaces.com/docs/Vector%20Databases%20-%20A%20Technical%20Primer.pdf"
              >Vector Databases: A Technical Primer [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 17:38:56</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38971221"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38971178">
          <h3>
            <a
              class="item"
              href="https://signoz.io/blog/opentelemetry-roundup-2023/"
              >The current state of OpenTelemetry</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 17:36:07</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38971178"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38971012">
          <h3>
            <a
              class="item"
              href="https://www.amazon.com/fulfill-request-respectful-information-users-Brown/dp/B0CM82FJL2"
              >I'm sorry but I cannot fulfill this request it goes against
              OpenAI use policy</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 17:27:10</span
              ><span class="points-container"
                >Points: <span class="points">605</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38971012"
                  >Comments</a
                ><span class="descendants">: 232</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38969985">
          <h3>
            <a
              class="item"
              href="https://www.phoronix.com/news/Open-ISOBUS-File-Server"
              >Linux Gains an Open File Server for Tractors and Agriculture
              Machinery</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 16:24:23</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38969985"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38969893">
          <h3>
            <a class="item" href="https://lfranke.github.io/trips/"
              >Trilinear Point Splatting for Real-Time Radiance Field
              Rendering</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 16:18:23</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38969893"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38969759">
          <h3>
            <a
              class="item"
              href="https://www.bluetooth.com/bluetooth-resources/features-benefits-bluetooth-mesh/"
              >Features and Benefits of Bluetooth Mesh 1.1 for Wireless Mesh
              Networking</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 16:09:25</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38969759"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38969466">
          <h3>
            <a class="item" href="https://on.ft.com/4aV0CQ7"
              >US regulator considers stripping Boeing's right to self-inspect
              planes</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 15:49:08</span
              ><span class="points-container"
                >Points: <span class="points">246</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38969466"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38969348">
          <h3>
            <a
              class="item"
              href="https://www.theengineer.co.uk/content/news/autophage-rocket-engine-consumes-plastic-fuselage-for-fuel"
              >Autophage rocket engine consumes plastic fuselage for fuel</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 15:41:25</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38969348"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38969072">
          <h3>
            <a
              class="item"
              href="https://www.espressif.com/en/news/ESP32-C61_SoC"
              >ESP32-C61: Delivering Affordable Wi-Fi 6 Connectivity</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 15:21:49</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38969072"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38968619">
          <h3>
            <a
              class="item"
              href="https://slatestarcodex.com/2019/06/03/repost-epistemic-learned-helplessness/"
              >Epistemic Learned Helplessness (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 14:49:36</span
              ><span class="points-container"
                >Points: <span class="points">170</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38968619"
                  >Comments</a
                ><span class="descendants">: 158</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38968550">
          <h3>
            <a
              class="item"
              href="https://filiph.net/text/we-need-technology-that-is-less-immersive,-not-more.html"
              >We need technology that is less immersive, not more</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 14:43:52</span
              ><span class="points-container"
                >Points: <span class="points">209</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38968550"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38967744">
          <h3>
            <a
              class="item"
              href="https://blog.google/products/assistant/google-assistant-update-january-2024/"
              >Changes we're making to Google Assistant</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 13:36:53</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38967744"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38967684">
          <h3>
            <a
              class="item"
              href="https://apps.apple.com/us/app/amazing-ai/id1660147028?platform=iphone"
              >Show HN: Run Stable Diffusion Directly on iPhone</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 13:30:34</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38967684"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38967279">
          <h3>
            <a
              class="item"
              href="https://seankerrigan.com/john-c-lilly-and-the-solid-state-entity/"
              >John C. Lilly and the Solid State Entity (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 12:32:44</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38967279"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38966875">
          <h3>
            <a class="item" href="https://www.bbc.co.uk/news/uk-67884743"
              >Post Office lied and threatened BBC over Fujitsu dev
              whistleblower</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 11:34:13</span
              ><span class="points-container"
                >Points: <span class="points">394</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38966875"
                  >Comments</a
                ><span class="descendants">: 229</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38966601">
          <h3>
            <a
              class="item"
              href="https://www.tweag.io/blog/2023-10-05-cli-ux-in-topiary/"
              >CLI user experience case study</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 11:01:47</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38966601"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38966145">
          <h3>
            <a
              class="item"
              href="https://cpufun.substack.com/p/is-fortran-a-dead-language"
              >Is Fortran “A Dead Language”? (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 09:59:40</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38966145"
                  >Comments</a
                ><span class="descendants">: 187</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38966129">
          <h3>
            <a
              class="item"
              href="https://asteriskmag.com/issues/04/mysticism-empiricism"
              >Mysticism and Empiricism</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 09:57:48</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38966129"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38965762">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/LocalLLaMA/comments/194mmki/selfextend_works_for_phi2_now_looks_good"
              >Phi-2: Self-Extend Boosts Performance, Extends Context to 8k
              Without Training</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 09:05:33</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38965762"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38965429">
          <h3>
            <a class="item" href="https://game-of-life-f262d.web.app/"
              >Show HN: Conway's Game of Life, but with a gallery of other
              peoples patterns</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 08:12:00</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38965429"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                This project has served as a sandbox for me to practice various
                aspects of developing a comprehensive web application from
                scratch. This was my first time developing a full scale web app
                with [almost] all the features you would expect. I know it is
                nowhere near perfect in its current state, but I feel it has
                reached a point of diminishing returns, and therefore my time is
                better spent focussing on other projects with more potential. I
                may continue to develop this project further in the future just
                for fun.
              </p>
            </div>
          </section>
        </section>
        <section id="38965310">
          <h3>
            <a
              class="item"
              href="https://plato.stanford.edu/entries/inner-speech/"
              >Inner Speech</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 07:55:33</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38965310"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38965306">
          <h3>
            <a
              class="item"
              href="https://www.economist.com/science-and-technology/2024/01/10/wind-turbines-are-friendlier-to-birds-than-oil-and-gas-drilling"
              >Wind turbines are friendlier to birds than oil-and-gas
              drilling</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 07:55:06</span
              ><span class="points-container"
                >Points: <span class="points">307</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38965306"
                  >Comments</a
                ><span class="descendants">: 256</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38965003">
          <h3>
            <a class="item" href="https://github.com/cantino/mcfly"
              >Fly through your shell history</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 07:09:28</span
              ><span class="points-container"
                >Points: <span class="points">199</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38965003"
                  >Comments</a
                ><span class="descendants">: 88</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38964972">
          <h3>
            <a
              class="item"
              href="https://mfkl.github.io/2024/01/10/unity-double-oss-standards.html"
              >Unity's Open-Source Double Standard: The Ban of VLC</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 07:05:30</span
              ><span class="points-container"
                >Points: <span class="points">845</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38964972"
                  >Comments</a
                ><span class="descendants">: 288</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38964933">
          <h3>
            <a
              class="item"
              href="https://discourse.haskell.org/t/circuithub-is-hiring-haskell-engineers-remote/8519"
              >CircuitHub (YC W12) Is Hiring – Haskell / Robotics / Remote</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-12 @ 07:00:52</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38949966">
          <h3>
            <a
              class="item"
              href="https://susam.net/maze/elisp-in-replacement-string.html"
              >Elisp in Replacement String</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-11 @ 09:45:57</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38949966"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="38948652">
          <h3>
            <a
              class="item"
              href="https://mstdn.social/@RickyRomero/111666711075000961"
              >Diamond Subpixel Arrangement Simulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-01-11 @ 06:45:06</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=38948652"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
