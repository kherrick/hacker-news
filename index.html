<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40100161">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/world/us-withdraw-military-personnel-niger-source-says-2024-04-19/"
              >US to withdraw military personnel from Niger, source says</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 19:18:29</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40100161"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40100151">
          <h3>
            <a class="item" href="https://altstore.io/#Downloads"
              >AltStore. The first Apple approved alternative App Store</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 19:17:49</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40100151"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099974">
          <h3>
            <a
              class="item"
              href="https://twitter.com/AlexStLouis10/status/1767643816750641481"
              >Unreal Engine 5 gains WebGPU support</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 19:00:49</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099974"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099739">
          <h3>
            <a
              class="item"
              href="https://www.bleepingcomputer.com/news/security/hellokitty-ransomware-rebrands-releases-cd-projekt-and-cisco-data/"
              >HelloKitty ransomware rebrands, releases CD Projekt and Cisco
              data</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 18:39:55</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099739"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099626">
          <h3>
            <a
              class="item"
              href="https://farrs.substack.com/p/my-journey-into-personal-computer"
              >My Journey into Personal Computer Software Development in 1983</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 18:29:44</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099626"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099585">
          <h3>
            <a
              class="item"
              href="https://twitter.com/dvassallo/status/1781751108211511680"
              >Why you Should Not Apply To YC</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 18:26:32</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099585"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099438">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2024/04/20/business/media/streaming-subscription-jumping.html"
              >Americans' New TV Habit: Subscribe. Watch. Cancel. Repeat</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 18:12:02</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099438"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099344">
          <h3>
            <a
              class="item"
              href="https://thegradient.pub/financial-market-applications-of-llms/"
              >Financial Market Applications of LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 18:03:15</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099344"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099259">
          <h3>
            <a
              class="item"
              href="https://www.thedrive.com/news/self-driving-cars-banned-in-british-columbia"
              >British Columbia has banned self-driving vehicles that exceed
              Level 2</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 17:54:58</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099259"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40099252">
          <h3>
            <a
              class="item"
              href="https://reasoning-tokens.ghost.io/reasoning-tokens/"
              >Self-Reasoning Tokens, teaching models to think ahead</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 17:54:27</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40099252"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40098960">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/Hierarchical_clustering"
              >Hierarchical Clustering</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 17:24:56</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40098960"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40098867">
          <h3>
            <a
              class="item"
              href="https://mjtsai.com/blog/2024/04/19/vlc-vs-the-app-stores/"
              >VLC vs. the App Stores</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 17:15:02</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40098867"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40098737">
          <h3>
            <a
              class="item"
              href="https://jobs.ashbyhq.com/Mintlify/12598e83-45ad-4179-9c57-8b9162d1387e"
              >Mintlify (YC W22) Is Hiring Full Stack Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 17:00:05</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40098606">
          <h3>
            <a
              class="item"
              href="https://blog.kellybrazil.com/2021/12/03/tips-on-adding-json-output-to-your-cli-app/"
              >Tips on adding JSON output to your command line utility.
              (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 16:42:04</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40098606"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40098178">
          <h3>
            <a class="item" href="https://doomscroller.xyz/"
              >Doomscroller.xyz</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 15:40:40</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40098178"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40097375">
          <h3>
            <a
              class="item"
              href="https://record.umich.edu/articles/study-alphabetical-order-of-surnames-may-affect-grading/"
              >U-M finds students with alphabetically lower-ranked names receive
              lower grades</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 13:53:07</span
              ><span class="points-container"
                >Points: <span class="points">280</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40097375"
                  >Comments</a
                ><span class="descendants">: 210</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40097111">
          <h3>
            <a
              class="item"
              href="https://bessstillman.substack.com/p/debugging-the-doctor-brain"
              >Debugging the Doctor Brain: Who's teaching doctors how to
              think?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 13:10:30</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40097111"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40096575">
          <h3>
            <a
              class="item"
              href="https://apnews.com/article/fisa-donald-trump-surveillance-congress-johnson-81e991c9f82e77b2fe13f8a3e0e25349"
              >Senate passes reauthorization of key US surveillance program
              after midnight</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 11:40:04</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40096575"
                  >Comments</a
                ><span class="descendants">: 90</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40096113">
          <h3>
            <a
              class="item"
              href="https://mupdf.com/wasm/demo/index.html?file=../../docs/mupdf_explored.pdf"
              >MuPDF WASM Viewer Demo</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 09:52:39</span
              ><span class="points-container"
                >Points: <span class="points">212</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40096113"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40095657">
          <h3>
            <a class="item" href="https://www.nathanmediaservices.co.uk/ceefax/"
              >Ceefax Simulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 08:03:10</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40095657"
                  >Comments</a
                ><span class="descendants">: 87</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40095325">
          <h3>
            <a class="item" href="https://github.com/dehydrated-io/dehydrated"
              >Dehydrated: Letsencrypt/acme client implemented as a
              shell-script</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-20 @ 06:36:25</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40095325"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40091622">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40091622"
              >Tell HN: Ever think of applying to YC? Do it this weekend for
              S24</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 20:33:36</span
              ><span class="points-container"
                >Points: <span class="points">321</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40091622"
                  >Comments</a
                ><span class="descendants">: 380</span></span
              >
            </h4>
            <div class="text">
              <p>
                If you've ever thought about applying to YC, here's a tip: just
                do it. It doesn't take long and could change your life, like it
                did for me and many others.
              </p>
              <p>
                In particular, if you have either of these two bogus thoughts,
                ignore them pronto and just go to
                <a href="https://apply.ycombinator.com"
                  >https://apply.ycombinator.com</a
                >
                and apply:
              </p>
              <p>
                (1) "probably not good enough / won't get in" - you'd be
                surprised at how many people feel that way, whether because of
                impostor syndrome, lack of credentials, whatever—and often they
                turn out to be among the best founders. So this a terrible
                reason not to apply!
              </p>
              <p>
                The nice thing is, it's YC's job to evaluate that, not yours.
                They're looking for aptitude which doesn't look like what most
                people (probably including you) assume. You needn't look
                impressive, and you don't have to be a competent founder—you
                learn that from doing YC. Just be yourself as you are, fill out
                the application and don't worry about it.
              </p>
              <p>
                (2) "too early" - there's no such thing. YC looks for good
                potential founders—meaning anyone who can learn what they
                teach—and nothing else. You're already yourself, which is all
                you need.
              </p>
              <p>
                Some of YC's big successes start off as last-minute applications
                on a whim; and many start with totally different ideas than what
                ends up succeeding. It's YC's job to teach you how to play the
                startup game, and that can start at any time.
              </p>
              <p>
                ("Too far along already" is another bogus notion but I'll stick
                with the top 2 for today.)
              </p>
              <p>
                If you know the game Snakes and Ladders [2], YC is a massive
                ladder in an area where there are no snakes. Sure it's a dice
                roll, but what reason do you have not to? If you're uninterested
                in the game, no problem—but if you have any impulse to
                participate, do it! If you're the "out of nowhere" type of
                founder YC loves to fund, your chances are likely a lot better
                than you imagine.
              </p>
              <p>
                Apply by 8pm PT on Monday 4/22 to get a decision by May 29:
                <a href="https://apply.ycombinator.com"
                  >https://apply.ycombinator.com</a
                >.
              </p>
              <p>---</p>
              <p>
                [1] like last October -
                <a
                  href="https://web.archive.org/web/20231011022307/https://news.ycombinator.com/"
                  >https://web.archive.org/web/20231011022307/https://news.ycom...</a
                >
              </p>
              <p>
                [2]
                <a href="https://en.wikipedia.org/wiki/Snakes_and_ladders"
                  >https://en.wikipedia.org/wiki/Snakes_and_ladders</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="40085437">
          <h3>
            <a class="item" href="https://www.nubero.ch/blog/011/"
              >The Basics of Legibility: A Short Guide for Non-Typographers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 11:25:31</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40085437"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40085189">
          <h3>
            <a
              class="item"
              href="https://www.nextplatform.com/2024/04/17/what-happens-when-hyperscalers-and-clouds-buy-most-servers-and-storage/"
              >What Happens When Hyperscalers and Clouds Buy Most Servers and
              Storage?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 10:47:37</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40085189"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40084927">
          <h3>
            <a
              class="item"
              href="https://imagico.de/blog/en/the-current-state-of-map-design-in-openstreetmap/"
              >The current state of map design in OpenStreetMap</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 10:01:26</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40084927"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40084631">
          <h3>
            <a class="item" href="https://github.com/jart/morton"
              >Morton: Bit Interleaving in C/C++</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 08:57:09</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40084631"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40084193">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40084193"
              >Show HN: Shepherd 3.0 – Like wandering the aisles of your
              favorite bookstore</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 07:18:46</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40084193"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
            <div class="text">
              <a href="https://shepherd.com/">https://shepherd.com/</a>) 3 years
              ago on Hacker News and have added a ton since then! Here is the
              original Show HN (<a
                href="https://news.ycombinator.com/item?id=26871660"
                >https://news.ycombinator.com/item?id=26871660</a
              >).
              <p>
                I’ve interviewed 10,000+ authors &amp; experts to get their 5
                favorite reads around different topics, themes, and moods. And
                I’ve connected those so that you follow your curiosity around
                topics, authors, books, and more.
              </p>
              <p>
                Try Art Kleiner’s favorite reads on understanding AI and its
                effect on people:
                <a
                  href="https://shepherd.com/best-books/understanding-ai-and-its-effect-on-people"
                  >https://shepherd.com/best-books/understanding-ai-and-its-eff...</a
                >
              </p>
              <p>
                Under each book, you can click “What is this book about?” to
                explore different topics and genres that interest you. I am
                working on adding themes and other fun connections.
              </p>
              <p>Or you can explore things like...</p>
              <p>
                Places to explore if you like the book Sapiens:
                <a href="https://shepherd.com/search/book/1504"
                  >https://shepherd.com/search/book/1504</a
                >
              </p>
              <p>
                S. B. Divya on her favorite realistic near-future science
                fiction:
                <a
                  href="https://shepherd.com/best-books/realistic-near-future-science-fiction"
                  >https://shepherd.com/best-books/realistic-near-future-scienc...</a
                >
              </p>
              <p>
                Places to explore if you like hard sci-fi:
                <a href="https://shepherd.com/search/shelf/12622"
                  >https://shepherd.com/search/shelf/12622</a
                >
              </p>
              <p>
                Places to explore if you like Stephen King:
                <a href="https://shepherd.com/search/author/4826"
                  >https://shepherd.com/search/author/4826</a
                >
              </p>
              <p>
                Azby Brown’s favorite books on Japanese carpentry and
                construction:
                <a
                  href="https://shepherd.com/best-books/japanese-carpentry-and-construction"
                  >https://shepherd.com/best-books/japanese-carpentry-and-const...</a
                >
              </p>
              <p>
                Malayna Evan’s favorite reads on badass women who left a mark on
                the ancient world:
                <a
                  href="https://shepherd.com/best-books/badass-women-who-left-a-mark-on-the-ancient-world"
                  >https://shepherd.com/best-books/badass-women-who-left-a-mark...</a
                >
              </p>
              <p>
                Shepherd is bootstrapped, and I’ve got many reader features
                coming soon! I have a newsletter about building the project and
                early access to new features here:
                <a href="https://forauthors.shepherd.com/newsletter-for-readers"
                  >https://forauthors.shepherd.com/newsletter-for-readers</a
                >
              </p>
              <p>
                What do we use to build this? Python, Django, Heroku, Postgre,
                Cloudflare, NLP/ML for Wikipedia topic IDs via Wikifier (<a
                  href="https://wikifier.org"
                  >https://wikifier.org</a
                >), Nielsen’s book API database (publisher data + Library of
                Congress data), and Cloudinary.
              </p>
              <p>
                My email is ben@shepherd.com if you want to share ideas or
                suggestions :)
              </p>
              <p>Thanks, Ben</p>
            </div>
          </section>
        </section>
        <section id="40084130">
          <h3>
            <a
              class="item"
              href="https://www.izm.fraunhofer.de/en/news_events/tech_news/inverters-with-constant-full-load-capability.html"
              >Inverters with constant full load capability for electric
              drives</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 07:05:08</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40084130"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40083869">
          <h3>
            <a class="item" href="https://github.com/plasma-umass/coz"
              >Coz: Causal Profiling</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-19 @ 06:09:59</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40083869"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40081348">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/apollo-era-antenna-voyager-2"
              >50 Years Later, This Apollo-Era Antenna Still Talks to Voyager
              2</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-18 @ 22:18:31</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40081348"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
