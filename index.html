<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44837875">
          <h3>
            <a
              class="item"
              href="https://passo.uno/from-tech-writers-to-ai-context-curators/"
              >AI must RTFM: Why tech writers are becoming context curators</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 15:04:40</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44837875"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44837783">
          <h3>
            <a
              class="item"
              href="https://rakhim.exotext.com/ai-is-impressive-because-we-ve-failed-at-semantic-web-and-personal-computing"
              >AI is impressive because we've failed at personal computing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 14:57:06</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44837783"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44837434">
          <h3>
            <a
              class="item"
              href="https://www.rmg.co.uk/whats-on/astronomy-photographer-year/galleries/2025-shortlist"
              >Astronomy Photographer of the Year 2025 shortlist</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 14:29:54</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44837434"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44836972">
          <h3>
            <a class="item" href="https://www.nber.org/papers/w34072"
              >What Does Consulting Do?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 13:52:49</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44836972"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44836879">
          <h3>
            <a
              class="item"
              href="https://www.dzombak.com/blog/2025/08/getting-good-results-from-claude-code/"
              >Getting Good Results from Claude Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 13:45:57</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44836879"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44836675">
          <h3>
            <a
              class="item"
              href="https://productpickle.online/2025/07/20/ritual-features-the-quiet-strategy-behind-daily-puzzle-games-on-linkedin-and-beyond/"
              >The Rise of Ritual Features: Why Platforms Are Adding Daily
              Puzzle Games</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 13:26:01</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44836675"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44836463">
          <h3>
            <a
              class="item"
              href="https://radar.com/blog/high-performance-geocoding-in-rust"
              >HorizonDB, a geocoding engine in Rust that replaces
              Elasticsearch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 12:57:50</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44836463"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44836433">
          <h3>
            <a class="item" href="https://synchrotron.thatother.dev/"
              >Show HN: Synchrotron, a real-time DSP engine in pure Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 12:54:23</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44836433"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>
                I can already hear the screams from the rafters telling me how
                terrible of a choice Python is - but in my case, I valued
                modularity, extensibility, <i>hackability</i> over raw
                performance. (It was also a challenge to myself to see how far I
                can get without referencing existing implementations)
              </p>
              <p>
                Synchrotron processes nodes: simple Python classes with typed
                I/O and a render() method for processing. It can be as concise
                as 5 lines:
              </p>
              <p></p>
              <pre><code>    class IncrementNode(Node):
        input: StreamInput
        output: StreamOutput

        def render(self, ctx):
            self.out.write(self.a.read(ctx) + 1)
</code></pre>
              Nodes can then be spawned and linked programmatically or in the
              graphical editor. Synchrotron handles the rest at runtime. Besides
              the web UI, you can also interact with the engine via Python,
              REST, DSL, or standalone TUI.
              <p>
                Currently you can build synths, FX chains, MIDI instruments,
                arpeggiators, controllers, or just mess about with sound :&gt;
              </p>
              <p>
                Editor:
                <a href="https://synchrotron.thatother.dev/"
                  >https://synchrotron.thatother.dev/</a
                >
                Source:
                <a href="https://github.com/ThatOtherAndrew/Synchrotron"
                  >https://github.com/ThatOtherAndrew/Synchrotron</a
                >
              </p>
              <p>
                It's still experimental (and my first ever shipped project), but
                I'd love feedback from people who tinker with audio/DSP/live
                coding. Docs are terrible currently, but that's my next big
                goal!
              </p>
            </div>
          </section>
        </section>
        <section id="44836219">
          <h3>
            <a
              class="item"
              href="https://apnorc.org/projects/food-housing-and-health-care-costs-are-a-source-of-major-stress-for-many-people/"
              >Food, housing, &amp;amp; health care costs are a source of major
              stress for many people</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 12:27:56</span
              ><span class="points-container"
                >Points: <span class="points">196</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44836219"
                  >Comments</a
                ><span class="descendants">: 272</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44835879">
          <h3>
            <a
              class="item"
              href="https://github.com/Nicholas-L-Johnson/flip-card"
              >Ultrathin business card runs a fluid simulation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 11:41:04</span
              ><span class="points-container"
                >Points: <span class="points">433</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44835879"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44834918">
          <h3>
            <a class="item" href="https://hanlab.mit.edu/blog/streamingllm"
              >How Attention Sinks Keep Language Models Stable</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 08:53:10</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44834918"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44833932">
          <h3>
            <a class="item" href="https://catzkorn.dev/blog/love-letter/"
              >A love letter to my future employer (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 06:01:30</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44833932"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44833834">
          <h3>
            <a
              class="item"
              href="https://bytemash.net/posts/i-went-down-the-linear-rabbit-hole/"
              >Linear sent me down a local-first rabbit hole</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 05:45:42</span
              ><span class="points-container"
                >Points: <span class="points">314</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44833834"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44833655">
          <h3>
            <a class="item" href="https://www.parse.bot"
              >Turn any website into an API</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-08 @ 05:10:46</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44833655"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44830408">
          <h3>
            <a
              class="item"
              href="https://www.rtl-sdr.com/flipperzero-darkweb-firmware-bypasses-rolling-code-security/"
              >Flipper Zero dark web firmware bypasses rolling code security</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 21:10:42</span
              ><span class="points-container"
                >Points: <span class="points">418</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44830408"
                  >Comments</a
                ><span class="descendants">: 248</span></span
              >
            </h4>
            <div class="text">
              <p>
                [1]
                <a href="https://arxiv.org/abs/2210.11923"
                  >https://arxiv.org/abs/2210.11923</a
                >
              </p>
              <p>
                [2]
                <a href="https://news.ycombinator.com/item?id=10018934"
                  >https://news.ycombinator.com/item?id=10018934</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44830221">
          <h3><a class="item" href="https://cursor.com/cli">Cursor CLI</a></h3>
          <section>
            <h4>
              <span>2025-08-07 @ 20:53:54</span
              ><span class="points-container"
                >Points: <span class="points">347</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44830221"
                  >Comments</a
                ><span class="descendants">: 242</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44829185">
          <h3>
            <a class="item" href="https://www.historicaltechtree.com/"
              >Historical Tech Tree</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 19:24:49</span
              ><span class="points-container"
                >Points: <span class="points">467</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44829185"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44828884">
          <h3>
            <a
              class="item"
              href="https://www.seangoedecke.com/gpt-oss-is-phi-5/"
              >OpenAI's new open-source model is basically Phi-5</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 18:59:46</span
              ><span class="points-container"
                >Points: <span class="points">360</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44828884"
                  >Comments</a
                ><span class="descendants">: 193</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44828158">
          <h3>
            <a
              class="item"
              href="https://eidel.io/exit-tax-leave-germany-before-your-business-gets-big/"
              >Exit Tax: Leave Germany before your business gets big</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 18:06:50</span
              ><span class="points-container"
                >Points: <span class="points">331</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44828158"
                  >Comments</a
                ><span class="descendants">: 413</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44827794">
          <h3>
            <a class="item" href="https://simonwillison.net/2025/Aug/7/gpt-5/"
              >GPT-5: Key characteristics, pricing and system card</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 17:46:18</span
              ><span class="points-container"
                >Points: <span class="points">594</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44827794"
                  >Comments</a
                ><span class="descendants">: 262</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://cdn.openai.com/pdf/8124a3ce-ab78-4f06-96eb-49ea29ffb52f/gpt5-system-card-aug7.pdf"
                >https://cdn.openai.com/pdf/8124a3ce-ab78-4f06-96eb-49ea29ffb...</a
              >
            </div>
          </section>
        </section>
        <section id="44827101">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/introducing-gpt-5-for-developers"
              >GPT-5 for Developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 17:06:39</span
              ><span class="points-container"
                >Points: <span class="points">442</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44827101"
                  >Comments</a
                ><span class="descendants">: 250</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44826997">
          <h3><a class="item" href="https://openai.com/gpt-5/">GPT-5</a></h3>
          <section>
            <h4>
              <span>2025-08-07 @ 17:00:21</span
              ><span class="points-container"
                >Points: <span class="points">1949</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44826997"
                  >Comments</a
                ><span class="descendants">: 2319</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.youtube.com/watch?v=0Uu_VJeVVfo"
                >https://www.youtube.com/watch?v=0Uu_VJeVVfo</a
              >
            </div>
          </section>
        </section>
        <section id="44825221">
          <h3>
            <a class="item" href="https://trayce.dev?resubmit=hn"
              >Show HN: Trayce – “Burp Suite for developers”</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-07 @ 14:49:32</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44825221"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>Think "Burp Suite for developers".</p>
              <p>
                Trayce stores requests as local files using the .bru file
                format. The UI is based on Flutter which means it offers a
                super-fast and modern desktop GUI with a total download size of
                13MB (on Linux). I am still adding features to it so would love
                feedback. Currently the new features in the pipeline are:
                OAuth2, GRPC, and scripting. It is open source and free to use
                but a perpetual license must be purchased for continued use. The
                license model is similar to that of Sublime Text.
              </p>
              <p>Thank you!</p>
            </div>
          </section>
        </section>
        <section id="44791923">
          <h3>
            <a
              class="item"
              href="https://www.dbreunig.com/2025/08/04/the-rise-of-opinionated-models.html"
              >FLUX.1-Krea and the Rise of Opinionated Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 22:14:02</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44791923"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44790282">
          <h3>
            <a class="item" href="https://www.ahadomainsearch.com/"
              >Show HN: Aha Domain Search</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 19:21:25</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44790282"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                Years ago, one of my favorite domain search tools, Lean Domain
                Search [1], was acquired by Automattic. Unfortunately, that's
                when the "enshitification" began, particularly when they started
                forcing the `.blog` TLD in search results.
              </p>
              <p>
                After discovering the simplicity of RDAP lookups, which can be
                done by fetching a JSON response directly from the client (e.g.,
                `<a
                  href="https://rdap.verisign.com/com/v1/domain/ycombinator.com"
                  >https://rdap.verisign.com/com/v1/domain/ycombinator.com</a
                >`), I decided it was finally time to build my own solution.
              </p>
              <p>Here's how it works:</p>
              <p>
                The first tab appends prefixes and suffixes to your chosen word
                and queries the Verisign API directly from your browser. No data
                is sent to my server.
              </p>
              <p>
                The AI tab attempts more intelligent prefixing with the optional
                context.
              </p>
              <p>
                The "Quirky" tab generates variations of the affix search
                through trivial merging (for instance, for the word "brain,"
                "brain" + "node" becomes "brainode," and "hub" + "brain" becomes
                "hubrain").
              </p>
              <p>
                The "Portmanteau" tab was inspired by this HN submission [2] and
                my personal desire [3] to see it function as a domain name
                generator. I'm using AI, though, as it was easier and faster to
                implement and get this up and running ASAP.
              </p>
              <p>I'm all ears for suggestions and feedback!</p>
              <p>
                [1]:
                <a href="https://leandomainsearch.com/"
                  >https://leandomainsearch.com/</a
                >
                [2]:
                <a href="https://news.ycombinator.com/item?id=19241236"
                  >https://news.ycombinator.com/item?id=19241236</a
                >
                [3]:
                <a href="https://news.ycombinator.com/item?id=19245396"
                  >https://news.ycombinator.com/item?id=19245396</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44789202">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/Telefon_H%C3%ADrmond%C3%B3"
              >Telefon Hírmondó: Listen to news and music electronically, in
              1893</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 17:50:36</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44789202"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44786553">
          <h3>
            <a
              class="item"
              href="https://caolan.uk/notes/2025-07-31_complex_iterators_are_slow.cm"
              >Complex Iterators Are Slow</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 14:46:28</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44786553"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44785144">
          <h3>
            <a class="item" href="https://una.im/popover-hint/"
              >What Is Popover=Hint?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 12:55:52</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44785144"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44784685">
          <h3>
            <a
              class="item"
              href="https://blog.broulik.de/2025/08/on-window-activation/"
              >Window Activation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 12:03:24</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44784685"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44784570">
          <h3>
            <a
              class="item"
              href="https://underjord.io/500-virtual-linux-devices-on-arm64.html"
              >Virtual Linux Devices on ARM64</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-04 @ 11:51:00</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44784570"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
