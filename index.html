<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="42420721">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=42420721"
              >I Track My Health Data in Markdown: Lessons in Digital
              Longevity</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-15 @ 01:12:24</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42420721"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                That’s why I’ve adopted a “file over app” philosophy for health
                tracking. Instead of relying on apps, I save everything in open,
                accessible formats like Markdown or CSV. These files are local,
                portable, and universally readable—ensuring my data outlives any
                app or platform.
              </p>
              <p>
                Here’s how I do it: • Workouts, meals, and sleep logs go into
                plain text notes. • Trends and averages (e.g., weekly sleep
                hours) are calculated in Google Sheets. • Files sync to the
                cloud (Google Drive) and back up locally.
              </p>
              <p>For example, my sleep log might look like this:</p>
              <p>
                ### Sleep Log (December 2024) - 12/01: 7.5 hrs (11:00 PM - 6:30
                AM) - 12/02: 6 hrs (12:30 AM - 6:30 AM) - Felt tired, adjusted
                bedtime. - 12/03: 8 hrs (10:30 PM - 6:30 AM)
              </p>
              <p>
                Why this matters: • Plain text lasts. It’s universally
                accessible and won’t be rendered useless if an app shuts down. •
                You stay in control. Apps come and go, but your files remain
                intact and usable for the long haul.
              </p>
              <p>
                If you’re curious about the latest insights on health and
                longevity, I share them weekly in my newsletter "longer."
              </p>
              <p>https://www.longer.media/subscribe</p>
            </div>
          </section>
        </section>
        <section id="42420352">
          <h3>
            <a
              class="item"
              href="https://www.york.ac.uk/news-and-events/news/2024/research/school-smartphone-ban-better-sleep/"
              >School smartphone ban results in better sleep and improved mood:
              study</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 23:51:44</span
              ><span class="points-container"
                >Points: <span class="points">223</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42420352"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42420138">
          <h3>
            <a class="item" href="https://blog.jonas.foo/whats_vim.html"
              >What Is Vim?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 23:06:07</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42420138"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42420091">
          <h3>
            <a
              class="item"
              href="https://lambdaland.org/posts/2024-11-21_powerful_or_safe_languages/"
              >Should Programming Languages Be Safe or Powerful?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 22:58:03</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42420091"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42419505">
          <h3>
            <a
              class="item"
              href="https://github.com/ggerganov/llama.cpp/pull/10361"
              >Llama.cpp Now Supports Qwen2-VL (Vision Language Model)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 21:15:12</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42419505"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42419469">
          <h3>
            <a class="item" href="https://theyseeyourphotos.com/"
              >They see your photos</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 21:09:51</span
              ><span class="points-container"
                >Points: <span class="points">200</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42419469"
                  >Comments</a
                ><span class="descendants">: 119</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42419036">
          <h3>
            <a
              class="item"
              href="https://crookedtimber.org/2024/11/11/occasional-paper-four-hidden-species-of-portuguese-man-o-war/"
              >Occasional Paper: Four Hidden Species of Portuguese Man-O'-War</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 19:53:12</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42419036"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42418982">
          <h3>
            <a class="item" href="https://irata.online/"
              >IRATA.ONLINE: A Community for Retro-Computing Enthusiasts</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 19:42:50</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42418982"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42418866">
          <h3>
            <a
              class="item"
              href="https://www.jeffgeerling.com/blog/2024/pi-modder-successfully-adds-m2-slot-pi-500"
              >Pi modder successfully adds M.2 slot to Pi 500</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 19:16:12</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42418866"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42418445">
          <h3>
            <a
              class="item"
              href="https://longreads.com/2017/08/24/fantasy-maps-game-of-thrones/"
              >Here at the End of All Things (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 17:54:00</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42418445"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42418309">
          <h3>
            <a
              class="item"
              href="https://hapax.github.io/physics/teaching/hacks/napkin-hacks/"
              >Hacking physics from the back of a napkin</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 17:31:02</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42418309"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42418264">
          <h3>
            <a
              class="item"
              href="https://www.sciencedirect.com/science/article/pii/S2666202724004518"
              >Antimatter Production, Storage, Control, Annihilation
              Applications in Propulsion</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 17:21:58</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42418264"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42418157">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=42418157"
              >Wasp (YC W21) is hiring a framework engineer to build Rails for
              JavaScript</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 17:00:38</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <a href="https://wasp-lang.dev/">https://wasp-lang.dev/</a>) and
              twin brothers. We’re building a Rails/Laravel-like full-stack
              framework that is designed to be stack and architecture-agnostic.
              Currently, we’re focusing on React, Node.js and Prisma. Our secret
              sauce is a custom-built compiler at the heart of the framework,
              which “understands” how your app works across the whole stack -
              we’re relying a lot on code generation, and that gives us a lot of
              flexibility to do some pretty cool things [1] and cut down the
              boilerplate.
              <p>
                Since we launched Beta last year, we’ve seen quite strong
                community adoption [2] - Wasp has grown to ~14,000 stars on
                GitHub and is being used by indie hackers, startups, and Fortune
                500 companies.
              </p>
              <p>
                We’re currently a team of six - senior engineers
                (ex-Google/Palantir) + growth and a devrel. We raised our first
                round after graduating from YC in 2021 [3] and just recently
                closed another round (details will be public soon).
              </p>
              <p>
                We are looking for a well-rounded engineer with substantial web
                dev experience who wants to be a part of a strong
                engineering/open-source culture and work on all aspects of the
                product with us - our custom compiler (in Haskell; but don’t
                worry about it [4]), frontend, backend, database/infra,
                deployment, CLI, ….
              </p>
              <p>
                This is a remote position - for more details, take a look here:
                <a
                  href="https://wasp-lang.notion.site/Framework-Engineer-at-Wasp-12a"
                  >https://wasp-lang.notion.site/Framework-Engineer-at-Wasp-12a</a
                >...
              </p>
              <p>
                If this sounds interesting, please reach out at founders [at]
                wasp-lang [dot] dev
              </p>
              <p>
                [1]
                <a
                  href="https://wasp-lang.dev/blog/2024/04/25/first-framework-that-lets-you-visualize-react-node-app-code"
                  >https://wasp-lang.dev/blog/2024/04/25/first-framework-that-l...</a
                >
              </p>
              <p>
                [2]
                <a href="https://x.com/MatijaSosic/status/1839279924819145010"
                  >https://x.com/MatijaSosic/status/1839279924819145010</a
                >
              </p>
              <p>
                [3]
                <a
                  href="https://techcrunch.com/2021/10/04/yc-grads-wasp-land-1-5m-seed-to-help-developers-build-web-apps-faster/"
                  >https://techcrunch.com/2021/10/04/yc-grads-wasp-land-1-5m-se...</a
                >
              </p>
              <p>
                [4]
                <a
                  href="https://wasp-lang.notion.site/Framework-Engineer-at-Wasp-12a18a74854c80de9481c33ebe9cccff#441924f85de94450973fa3ad835f9e23"
                  >https://wasp-lang.notion.site/Framework-Engineer-at-Wasp-12a...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="42417330">
          <h3>
            <a class="item" href="https://github.com/gsidhu/buzee-tauri"
              >Show HN: Open-sourcing my failed startup Buzee – A file search
              application</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 14:24:59</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42417330"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
            <div class="text">
              <p>
                As a modern-day knowledge worker, I have several thousand
                documents, presentations and other files on my computer. I built
                Buzee in my free time to help me weave my way through this maze.
                I have been using it pretty much everyday since the day I built
                it - and I love it!
              </p>
              <p>
                I thought I could turn Buzee into a startup. I reached out to
                offices and helped set it up for them. But it didn't pan out.
              </p>
              <p>
                I am now letting go of this project because I have other
                priorities in life.
              </p>
              <p>
                Please feel free to do with this project as you wish. I am happy
                to help you get started with the codebase.
              </p>
              <p>Do share what you build. I would love to see it!</p>
              <p>Cheers</p>
            </div>
          </section>
        </section>
        <section id="42416681">
          <h3>
            <a
              class="item"
              href="http://www.appliedscience.studio/articles/array-programming-for-clojurists.html"
              >Array Languages for Clojurians (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 12:33:32</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42416681"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42416258">
          <h3>
            <a class="item" href="https://chords.yottanami.com/"
              >Show HN: A simple web game to help learn chords and basic
              progressions</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 11:05:14</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42416258"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've created Chord Nebula, a simple web-based game designed to
                help users learn and practice piano chords, basic progressions,
                and harmony fundamentals. The game integrates with MIDI
                keyboards, allowing you to play chords in real-time and receive
                immediate feedback based on the key you choose.
              </p>
              <p>
                GitHub Repository:
                <a href="https://github.com/yottanami/chord_nebula"
                  >https://github.com/yottanami/chord_nebula</a
                >
                Live Demo:
                <a href="https://chords.yottanami.com"
                  >https://chords.yottanami.com</a
                >
              </p>
              <p>
                Requirements: To use Chord Nebula, you'll need a MIDI keyboard
                connected to your computer.
              </p>
              <p>
                Current Status: Chord Nebula is still a simple project. I'm
                committed to improving it based on user feedback and would
                greatly appreciate any support or contributions from the
                community.
              </p>
              <p>
                Looking for Feedback and Collaborators: I'm eager to hear your
                thoughts on Chord Nebula! Whether it's suggestions for new
                features, improvements, or bug reports, your feedback is
                invaluable. Additionally, if you're interested in collaborating
                to enhance the game, feel free to reach out or contribute
                directly via GitHub.
              </p>
              <p>Thanks for taking the time to check out Chord Nebula!</p>
            </div>
          </section>
        </section>
        <section id="42416230">
          <h3>
            <a class="item" href="https://github.com/sockmaster27/svader"
              >Show HN: Svader – Create GPU-rendered Svelte components</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 11:00:49</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42416230"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <p>
                It's streamlined for the specific use case of rendering 2D
                graphics using fragment shaders as an alternative to SVG or the
                JS canvas API, so it's not meant for doing 3D objects like
                three.js, for example.
              </p>
              <p>
                This started as something I needed for my own project, but I
                eventually decided to split it into a separate library. I've
                since found that this use case fits really well into the Svelte
                compiler-based approach and its fine-grained reactivity system.
              </p>
              <p>
                In general, I think using shaders like these has some really
                positive upsides compared to traditional ways of doing graphics
                on the web — not just for games and stuff, but also for
                something like data visualizations and aesthetic details. My
                dream is that one day, you'll see web developers using small,
                isolated shader components ubiquitously across web applications,
                just as naturally as something like SVGs are used today.
              </p>
            </div>
          </section>
        </section>
        <section id="42415637">
          <h3>
            <a class="item" href="https://veryfront.com/figma-kit"
              >I made a free Figma library packed with components for fast
              prototyping</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 08:54:03</span
              ><span class="points-container"
                >Points: <span class="points">200</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42415637"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42415386">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/what-is-entropy-a-measure-of-just-how-little-we-really-know-20241213/"
              >What Is Entropy? A Measure of Just How Little We Know</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 07:49:10</span
              ><span class="points-container"
                >Points: <span class="points">245</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42415386"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42415122">
          <h3>
            <a
              class="item"
              href="https://ai.meta.com/research/publications/byte-latent-transformer-patches-scale-better-than-tokens/?_fb_noscript=1"
              >Byte Latent Transformer: Patches Scale Better Than Tokens</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 06:36:35</span
              ><span class="points-container"
                >Points: <span class="points">293</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42415122"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42413677">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=1yvBqasHLZs"
              >Ilya Sutskever NeurIPS talk [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-14 @ 00:49:17</span
              ><span class="points-container"
                >Points: <span class="points">271</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42413677"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42409496">
          <h3>
            <a
              class="item"
              href="https://worksinprogress.co/issue/how-big-data-created-the-modern-dairy-cow/"
              >How big data created the modern dairy cow</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-13 @ 15:41:47</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42409496"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42405559">
          <h3>
            <a
              class="item"
              href="https://www.pcmag.com/articles/nyc-wants-you-to-stop-taking-traffic-cam-selfies-but-heres-how-to-do-it"
              >NYC wants you to stop taking traffic cam selfies, but here's how
              to do it anyway</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-13 @ 02:49:01</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42405559"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42402710">
          <h3>
            <a
              class="item"
              href="https://www.uaf.edu/news/study-reveals-mammoth-as-key-food-source-for-ancient-americans.php"
              >Study reveals mammoth as key food source for ancient Americans</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-12 @ 19:52:55</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42402710"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42398809">
          <h3>
            <a
              class="item"
              href="https://www.thetimes.com/article/why-conversations-are-better-with-four-people-zhxbsg06s"
              >Conversations are better with four people</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-12 @ 13:05:08</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42398809"
                  >Comments</a
                ><span class="descendants">: 100</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42396142">
          <h3>
            <a
              class="item"
              href="https://worldbuildingpasta.blogspot.com/2024/12/beyond-koppen-geiger-climate.html"
              >Beyond Köppen-Geiger Climate Classification System: Extensions
              and Alternatives</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-12 @ 04:11:56</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42396142"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42393867">
          <h3>
            <a
              class="item"
              href="https://www.washingtonpost.com/lifestyle/2024/12/02/strava-art-run-toronto-mccabe/"
              >Man ran 700 miles to make 'insanely impressive' art on GPS
              fitness app</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-11 @ 22:42:41</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42393867"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42391224">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2411.13164"
              >Cyborg Insect Factory</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-11 @ 18:43:24</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42391224"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42391000">
          <h3>
            <a
              class="item"
              href="https://lil.law.harvard.edu/century-scale-storage/"
              >Century Scale Storage</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-11 @ 18:27:19</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42391000"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="42388724">
          <h3>
            <a class="item" href="https://libc.llvm.org/gpu/using.html"
              >Using Libc for GPUs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-12-11 @ 15:29:21</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=42388724"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
