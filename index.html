<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44607252">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/07/18/starbase-injury-rates-outpace-rivals-as-spacex-chases-its-mars-moonshot/"
              >Starbase injury rates outpace rivals as SpaceX chases its Mars
              moonshot</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 17:12:05</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44607252"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44606803">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/07/18/duckduckgo-now-lets-you-hide-ai-generated-images-in-search-results/"
              >DuckDuckGo now lets you hide AI-generated images in search
              results</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 16:41:52</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44606803"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44606646">
          <h3>
            <a
              class="item"
              href="https://www.neowin.net/news/libreoffice-calls-out-microsoft-for-using-complex-file-formats-to-lock-in-office-users/"
              >LibreOffice slams Microsoft for locking in Office users w/
              complex file formats</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 16:30:58</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44606646"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44606374">
          <h3>
            <a
              class="item"
              href="https://twitter.com/USTechWorkers/status/1945999773825196492"
              >H-1B program grew 81 percent from 2011 to 2022</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 16:09:25</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44606374"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44605946">
          <h3>
            <a class="item" href="https://imgur.com/a/2H7HVcU"
              >Dear valued user, You have reached the error page for the error
              page</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 15:39:51</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44605946"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44605732">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44605732"
              >Ask HN: GCP Outage?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 15:23:53</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44605732"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
            <div class="text">
              Status page is, as expected, all green, but anyone noticing
              anything unusual? Services on cloud run timing out for me.
            </div>
          </section>
        </section>
        <section id="44605618">
          <h3>
            <a
              class="item"
              href="https://www.wired.com/story/ice-access-medicaid-data/"
              >ICE Is Getting Unprecedented Access to Medicaid Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 15:15:58</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44605618"
                  >Comments</a
                ><span class="descendants">: 117</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44605213">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44605213"
              >I'm Peter Roberts, immigration attorney who does work for YC and
              startups. AMA</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 14:44:57</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44605213"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
            <div class="text">
              <p>
                Previous threads we've done:
                <a href="https://news.ycombinator.com/submitted?id=proberts"
                  >https://news.ycombinator.com/submitted?id=proberts</a
                >.
              </p>
            </div>
          </section>
        </section>
        <section id="44604453">
          <h3>
            <a
              class="item"
              href="https://www.knostic.ai/blog/mapping-mcp-servers-study"
              >Exposing the Unseen: Mapping MCP Servers Across the Internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 13:29:50</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44604453"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44604328">
          <h3>
            <a
              class="item"
              href="https://www.thecity.nyc/2025/07/18/nypd-fdny-clearview-ai-ban-columbia-palestinian-protest/"
              >NYPD bypassed facial recognition ban to ID pro-Palestinian
              student protester</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 13:15:50</span
              ><span class="points-container"
                >Points: <span class="points">244</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44604328"
                  >Comments</a
                ><span class="descendants">: 142</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44604257">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44604257"
              >Ask HN: Any active COBOL devs here? What are you working on?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 13:05:55</span
              ><span class="points-container"
                >Points: <span class="points">181</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44604257"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
            <div class="text">
              COBOL legacy systems in finance and government are somewhat of a
              meme. However, I've never actually met a single person who's day
              job is to maintain one. I'd be curious to learn what systems are
              you working on?
            </div>
          </section>
        </section>
        <section id="44604050">
          <h3>
            <a class="item" href="https://tangled.sh/@rockorager.dev/lsr"
              >lsr: ls with io_uring</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 12:40:41</span
              ><span class="points-container"
                >Points: <span class="points">190</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44604050"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
            <div class="text">
              <a href="https://tangled.sh/@rockorager.dev/lsr"
                >https://tangled.sh/@rockorager.dev/lsr</a
              >
            </div>
          </section>
        </section>
        <section id="44603739">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44603739"
              >Resolve (YC W15) Is Hiring an Operations and Billing Lead for
              Construction VR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 12:00:47</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>Type: Full-time</p>
              <p>About Us</p>
              <p>
                Resolve is an 11-person SaaS startup helping construction
                companies and builders review faster. Our clients include
                general contractors, specialty subcontractors, owner operators
                and engineering companies—companies that build the world around
                us. We’re growing fast and looking for a detail-oriented,
                proactive Billing and Operations Lead to take charge of key
                administrative processes that keep our business humming.
              </p>
              <p>What You’ll Do</p>
              <p>
                You’ll own and improve the day-to-day administrative workflows
                around our billing, collections and procurement process that
                support our sales team and customers. You will be interfacing
                with our sales team to track and understand deals and
                interfacing directly with customers’ procurement teams to manage
                billing and vendor onboarding. This role has the opportunity to
                grow into a broader internal operations role that could oversee
                broad areas such as Revops, HR, Accounting, Investor Relations,
                and Banking. This is a high-impact role that will touch:
              </p>
              <p>Invoicing &amp; Collections</p>
              <p>- Collect, track and process POs from our customers</p>
              <p>
                - Send recurring and one-off invoices to customers (primarily
                construction companies)
              </p>
              <p>
                - Track outstanding accounts receivable and follow up
                persistently with customers to ensure timely payments
              </p>
              <p>
                - Reconcile payments received with invoice records (via Stripe,
                ACH, check, etc.) on a frequent basis
              </p>
              <p>
                - Maintain clean records in our billing and CRM systems (bonus
                for prior experience in Hubspot or Salesforce)
              </p>
              <p>
                - Become comfortable with multiple procurement systems like
                Oracle, SAP, etc.
              </p>
              <p>Vendor &amp; Back-Office Coordination</p>
              <p>
                - Manage the vendor onboarding process for our sales team:
                onboarding forms, W-9s, NDAs, and verify payment info with our
                customer’s procurement team.
              </p>
              <p>
                - Track and process Resolve vendor invoices, coordinate approval
                workflows
              </p>
              <p>
                - Assist with internal reporting as it relates to accounts
                receivable and customer tracking Identify and propose process
                improvements as we scale
              </p>
              <p>Internal Growth Paths Available</p>
              <p>
                - HR: Support HR operations like employee onboarding, payroll,
                benefits management
              </p>
              <p>
                - Finance: Help with banking, credit card administration,
                monthly accounting, taxes and financial reporting
              </p>
              <p>
                - Security and Compliance: Become familiar with answering
                security questionnaires, our trust center and security systems
                (Vanta).
              </p>
              <p>
                - Investor Relations: Dive into investor relations and learn
                about cap table management, 409a valuations, employee option
                grants, and more.
              </p>
              <p>
                - Revops: Create processes and automated workflows to speed up
                our sales’ team velocity. Learn to use AI to write scripts in
                Hubspot and our other tools.
              </p>
              <p>What We’re Looking For</p>
              <p>
                - 1–3 years of experience in finance / billing operations,
                accounting support, procurement or admin roles (bonus if at a
                startup or in construction/real estate/contractor-facing
                business)
              </p>
              <p>
                - Meticulous attention to detail and strong organizational
                skills
              </p>
              <p>
                - Comfortable nudging customers to pay on time—you’re polite but
                persistent
              </p>
              <p>
                - Familiarity with tools like Hubspot, SAP, Oracle, QuickBooks,
                Stripe, Gusto, or similar a plus
              </p>
              <p>
                - Eager to learn and grow into broader operations or finance
                responsibilities
              </p>
              <p>Why Join Us</p>
              <p>
                - Get in early at a growing SaaS startup in an industry ripe for
                disruption
              </p>
              <p>- Work directly with the founders and leadership team</p>
              <p>- Help build the internal engine that powers our company</p>
              <p>
                - Health/dental/vision benefits, competitive salary, basic life
                insurance, and equity options
              </p>
              <p>- Home office budget</p>
              <p>- Salary Range: $65 - $95k</p>
            </div>
          </section>
        </section>
        <section id="44603267">
          <h3>
            <a
              class="item"
              href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5367557/"
              >Psilocybin decreases depression and anxiety in cancer patients
              (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 10:57:08</span
              ><span class="points-container"
                >Points: <span class="points">206</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44603267"
                  >Comments</a
                ><span class="descendants">: 183</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44603066">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/cpm-creator-gary-kildalls-memoirs-released-as-free-download"
              >CP/M creator Gary Kildall's memoirs released as free download</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 10:22:15</span
              ><span class="points-container"
                >Points: <span class="points">168</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44603066"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44602532">
          <h3>
            <a
              class="item"
              href="https://rsadowski.de/posts/2025/openbsd-immutable-system-logs/"
              >When Root Meets Immutable: OpenBSD Chflags vs. Log Tampering</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 08:36:47</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44602532"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44601023">
          <h3>
            <a class="item" href="https://bozmen.io/fhe"
              >Fully homomorphic encryption and the dawn of a private
              internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-18 @ 03:49:50</span
              ><span class="points-container"
                >Points: <span class="points">371</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44601023"
                  >Comments</a
                ><span class="descendants">: 170</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44596472">
          <h3>
            <a
              class="item"
              href="https://sankalp.bearblog.dev/my-claude-code-experience-after-2-weeks-of-usage/"
              >My experience with Claude Code after two weeks of adventures</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-17 @ 18:27:24</span
              ><span class="points-container"
                >Points: <span class="points">361</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44596472"
                  >Comments</a
                ><span class="descendants">: 322</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44595811">
          <h3>
            <a
              class="item"
              href="https://blog.jxmo.io/p/there-is-only-one-model"
              >All AI models might be the same</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-17 @ 17:28:49</span
              ><span class="points-container"
                >Points: <span class="points">281</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44595811"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44588319">
          <h3>
            <a class="item" href="https://gwern.net/blog/2025/perfume"
              >Perfume reviews</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-17 @ 00:16:17</span
              ><span class="points-container"
                >Points: <span class="points">297</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44588319"
                  >Comments</a
                ><span class="descendants">: 157</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44571908">
          <h3>
            <a
              class="item"
              href="https://www.leadedsolder.com/2025/07/15/tandy-trs80-coco-composite-mod-aquarius.html"
              >CoCo1 Composite Video</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 15:05:59</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44571908"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44571549">
          <h3>
            <a class="item" href="https://www.hathitrust.org/"
              >HathiTrust Digital Library – books online</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 14:32:21</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44571549"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44569278">
          <h3>
            <a
              class="item"
              href="https://blog.mptcp.dev/2025/07/14/TCP-in-UDP.html"
              >TCP-in-UDP Solution (eBPF)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 08:59:08</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44569278"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44569032">
          <h3>
            <a class="item" href="https://tazj.in/blog/trying-guix"
              >Trying Guix: A Nixer's Impressions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 08:11:19</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44569032"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44569019">
          <h3>
            <a class="item" href="https://ansi.tools"
              >Inspect ANSI control codes and escape sequences</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 08:07:52</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44569019"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44568761">
          <h3>
            <a class="item" href="https://www.jefit.com/our-story"
              >15 Years of Building Jefit</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 07:18:32</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44568761"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44568594">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=Efmzr_K4ApQ"
              >DIY Telescope Mods That Transformed My Astrophotography</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-15 @ 06:53:45</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44568594"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44566510">
          <h3>
            <a class="item" href="https://www.garros.gallery/"
              >The Art of Roland-Garros</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-14 @ 23:40:17</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44566510"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44563867">
          <h3>
            <a
              class="item"
              href="https://www.stranger.systems/posts/by-slug/row-polymorphic-programming.html"
              >Row Polymorphic Programming</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-14 @ 18:50:31</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44563867"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44561516">
          <h3>
            <a class="item" href="https://100r.co/site/home.html"
              >Hundred Rabbits – Low-tech living while sailing the world</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-07-14 @ 15:45:28</span
              ><span class="points-container"
                >Points: <span class="points">155</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44561516"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
