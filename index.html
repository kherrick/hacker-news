<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46047229">
          <h3>
            <a
              class="item"
              href="https://www.platformer.news/roblox-ceo-interview-backlash-analysis/"
              >Roblox is a problem – but it's a symptom of something worse</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 16:12:22</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46047229"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46046916">
          <h3>
            <a class="item" href="https://bfl.ai/blog/flux-2"
              >FLUX.2: Frontier Visual Intelligence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 15:47:14</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46046916"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46045987">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46045987"
              >Launch HN: Onyx (YC W24) – The open-source chat UI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 14:20:30</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46045987"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/onyx-dot-app/onyx"
                >https://github.com/onyx-dot-app/onyx</a
              >). We’re building an open-source chat that works with any LLM
              (proprietary + open weight) <i>and</i> gives these LLMs the tools
              they need to be useful (RAG, web search, MCP, deep research,
              memory, etc.).
              <p>
                Demo:
                <a href="https://youtu.be/2g4BxTZ9ztg"
                  >https://youtu.be/2g4BxTZ9ztg</a
                >
              </p>
              <p>
                Two years ago, Yuhong and I had the same recurring problem. We
                were on growing teams and it was ridiculously difficult to find
                the right information across our docs, Slack, meeting notes,
                etc. Existing solutions required sending out our company's data,
                lacked customization, and frankly didn't work well. So, we
                started Danswer, an open-source enterprise search project built
                to be self-hosted and easily customized.
              </p>
              <p>
                As the project grew, we started seeing an interesting trend—even
                though we were explicitly a search app, people wanted to use
                Danswer just to chat with LLMs. We’d hear, “the connectors,
                indexing, and search are great, but I’m going to start by
                connecting GPT-4o, Claude Sonnet 4, and Qwen to provide my team
                with a secure way to use them”.
              </p>
              <p>
                Many users would add RAG, agents, and custom tools later, but
                much of the usage stayed ‘basic chat’. We thought: “why would
                people co-opt an enterprise search when other AI chat solutions
                exist?”
              </p>
              <p>
                As we continued talking to users, we realized two key points:
              </p>
              <p>
                (1) just giving a company secure access to an LLM with a great
                UI and simple tools is a huge part of the value add of AI
              </p>
              <p>
                (2) providing this <i>well</i> is much harder than you might
                think and the bar is incredibly high
              </p>
              <p>
                Consumer products like ChatGPT and Claude already provide a
                great experience—and chat with AI for work is something
                (ideally) everyone at the company uses 10+ times per day. People
                expect the same snappy, simple, and intuitive UX with a full
                feature set. Getting hundreds of small details right to take the
                experience from “this works” to “this feels magical” is not
                easy, and nothing else in the space has managed to do it.
              </p>
              <p>
                So ~3 months ago we pivoted to Onyx, the open-source chat UI
                with:
              </p>
              <p>
                - (truly) world class chat UX. Usable both by a fresh college
                grad who grew up with AI and an industry veteran who’s using AI
                tools for the first time.
              </p>
              <p>
                - Support for all the common add-ons: RAG, connectors, web
                search, custom tools, MCP, assistants, deep research.
              </p>
              <p>
                - RBAC, SSO, permission syncing, easy on-prem hosting to make it
                work for larger enterprises.
              </p>
              <p>
                Through building features like deep research and code
                interpreter that work across model providers, we've learned a
                ton of non-obvious things about engineering LLMs that have been
                key to making Onyx work. I'd like to share two that were
                particularly interesting (happy to discuss more in the
                comments).
              </p>
              <p>
                First, context management is one of the most difficult and
                important things to get right. We’ve found that LLMs really
                struggle to remember both system prompts and previous user
                messages in long conversations. Even simple instructions like
                “ignore sources of type X” in the system prompt are very often
                ignored. This is exacerbated by multiple tool calls, which can
                often feed in huge amounts of context. We solved this problem
                with a “Reminder” prompt—a short 1-3 sentence blurb injected at
                the end of the user message that describes the non-negotiables
                that the LLM must abide by. Empirically, LLMs attend most to the
                very end of the context window, so this placement gives the
                highest likelihood of adherence.
              </p>
              <p>
                Second, we’ve needed to build an understanding of the “natural
                tendencies” of certain models when using tools, and build around
                them. For example, the GPT family of models are fine-tuned to
                use a python code interpreter that operates in a Jupyter
                notebook. Even if told explicitly, it refuses to add `print()`
                around the last line, since, in Jupyter, this last line is
                automatically written to stdout. Other models don’t have this
                strong preference, so we’ve had to design our model-agnostic
                code interpreter to also automatically `print()` the last bare
                line.
              </p>
              <p>
                So far, we’ve had a Fortune 100 team fork Onyx and provide 10k+
                employees access to every model within a single interface, and
                create thousands of use-case specific Assistants for every
                department, each using the best model for the job. We’ve seen
                teams operating in sensitive industries completely airgap Onyx
                w/ locally hosted LLMs to provide a copilot that wouldn’t have
                been possible otherwise.
              </p>
              <p>
                If you’d like to try Onyx out, follow
                <a
                  href="https://docs.onyx.app/deployment/getting_started/quickstart"
                  >https://docs.onyx.app/deployment/getting_started/quickstart</a
                >
                to get set up locally w/ Docker in &lt;15 minutes. For our
                Cloud:
                <a href="https://www.onyx.app/">https://www.onyx.app/</a>. If
                there’s anything you'd like to see to make it a no-brainer to
                replace your ChatGPT Enterprise/Claude Enterprise subscription,
                we’d love to hear it!
              </p>
            </div>
          </section>
        </section>
        <section id="46045972">
          <h3>
            <a
              class="item"
              href="https://lwn.net/SubscriberLink/1046841/5bbf1fc049a18947/"
              >Apt Rust requirement raises questions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 14:18:01</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46045972"
                  >Comments</a
                ><span class="descendants">: 235</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46045661">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/science/2025/nov/25/brain-human-cognitive-development-life-stages-cambridge-study"
              >Brain has five 'eras' with adult mode not starting until early
              30s</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 13:38:12</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46045661"
                  >Comments</a
                ><span class="descendants">: 123</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46045085">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/it-management-software-failures"
              >Trillions Spent and Big Software Projects Are Still Failing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 12:14:11</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46045085"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46045039">
          <h3>
            <a
              class="item"
              href="https://all-things-andy-gavin.com/video-games/making-crash/"
              >Making Crash Bandicoot (2011)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 12:05:39</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46045039"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46042946">
          <h3>
            <a
              class="item"
              href="https://austinsnerdythings.com/2025/11/24/worlds-most-stable-raspberry-pi-81-better-ntp-with-thermal-management/"
              >Most Stable Raspberry Pi? Better NTP with Thermal Management</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 06:35:59</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46042946"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46042928">
          <h3>
            <a
              class="item"
              href="https://news.ucsc.edu/2025/11/sharf-preconfigured-brain/"
              >Human brains are preconfigured with instructions for
              understanding the world</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 06:31:31</span
              ><span class="points-container"
                >Points: <span class="points">294</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46042928"
                  >Comments</a
                ><span class="descendants">: 202</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46042655">
          <h3>
            <a
              class="item"
              href="https://creolened.com/windows-gui-good-bad-and-pretty-ugly-ranked/"
              >Windows GUI – Good, Bad and Pretty Ugly (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-25 @ 05:33:44</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46042655"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46038099">
          <h3>
            <a
              class="item"
              href="https://www.xda-developers.com/your-unpowered-ssd-is-slowly-losing-your-data/"
              >Unpowered SSDs slowly lose data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 19:25:25</span
              ><span class="points-container"
                >Points: <span class="points">635</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46038099"
                  >Comments</a
                ><span class="descendants">: 256</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46038047">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/engineering/advanced-tool-use"
              >Claude Advanced Tool Use</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 19:21:35</span
              ><span class="points-container"
                >Points: <span class="points">583</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46038047"
                  >Comments</a
                ><span class="descendants">: 242</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46037626">
          <h3>
            <a
              class="item"
              href="https://ericmigi.com/blog/pebble-watch-software-is-now-100percent-open-source"
              >Pebble Watch software is now open source</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 18:52:12</span
              ><span class="points-container"
                >Points: <span class="points">1167</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46037626"
                  >Comments</a
                ><span class="descendants">: 211</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46036908">
          <h3>
            <a class="item" href="https://news.ysimulator.run/news"
              >Show HN: I built an interactive HN Simulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 17:52:43</span
              ><span class="points-container"
                >Points: <span class="points">435</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46036908"
                  >Comments</a
                ><span class="descendants">: 197</span></span
              >
            </h4>
            <div class="text">
              <p>
                You can submit text posts and links, just like the real HN. But
                on HN Simulator, all of the comments are generated by LLMs +
                generate instantly.
              </p>
              <p>
                The best way to use it (IMHO) is to submit a text post or a
                curl-able URL here:
                <a href="https://news.ysimulator.run/submit"
                  >https://news.ysimulator.run/submit</a
                >. You don't need an account to post.
              </p>
              <p>
                When you do that, various prompts will be built from a library
                of commenter archetypes, moods, and shapes. The AI commenters
                will actually respond to your text post and/or submitted link.
              </p>
              <p>
                I really wanted it to feel real, and I think the project mostly
                delivers on that. When I was developing it, I kept getting
                confused between which tab was the "real" HN and which was the
                simulator, and accidentally submitted some junk to HN. (Sorry
                dang and team – I did clean up after myself).
              </p>
              <p>
                The app itself is built with Node + Express + Postgres, and all
                of the inference runs on Replicate.
              </p>
              <p>
                Speaking of Replicate, they generously loaded me up with some
                free credits for the inference – so shoutout to the team there.
              </p>
              <p>
                The most technically interesting part of the app is how the
                comments work. You can read more about it here, as well as
                explore all of the available archetypes, moods, and shapes that
                get combined into prompts:
                <a href="https://news.ysimulator.run/comments.html"
                  >https://news.ysimulator.run/comments.html</a
                >
              </p>
              <p>
                I hope you all have as much fun playing with it as I did making
                it!
              </p>
            </div>
          </section>
        </section>
        <section id="46036895">
          <h3>
            <a
              class="item"
              href="https://github.com/Swordfish90/cool-retro-term"
              >Cool-retro-term: terminal emulator which mimics look and feel of
              CRTs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 17:52:01</span
              ><span class="points-container"
                >Points: <span class="points">274</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46036895"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46036878">
          <h3>
            <a
              class="item"
              href="https://twitter.com/karpathy/status/1993010584175141038"
              >Implications of AI to schools</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 17:51:02</span
              ><span class="points-container"
                >Points: <span class="points">303</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46036878"
                  >Comments</a
                ><span class="descendants">: 339</span></span
              >
            </h4>
            <div class="text">
              <a href="https://xcancel.com/karpathy/status/1993010584175141038"
                >https://xcancel.com/karpathy/status/1993010584175141038</a
              >
            </div>
          </section>
        </section>
        <section id="46031220">
          <h3>
            <a
              class="item"
              href="https://kmicinski.com/functional-programming/2025/11/23/build-a-language/"
              >Build a Compiler in Five Projects</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 07:14:55</span
              ><span class="points-container"
                >Points: <span class="points">168</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46031220"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46030799">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/11/23/technology/openai-chatgpt-users-risks.html"
              >What OpenAI did when ChatGPT users lost touch with reality</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-24 @ 05:58:08</span
              ><span class="points-container"
                >Points: <span class="points">249</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46030799"
                  >Comments</a
                ><span class="descendants">: 412</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46019898">
          <h3>
            <a
              class="item"
              href="https://www.oneusefulthing.org/p/three-years-from-gpt-3-to-gemini"
              >Three Years from GPT-3 to Gemini 3</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-23 @ 01:25:17</span
              ><span class="points-container"
                >Points: <span class="points">328</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46019898"
                  >Comments</a
                ><span class="descendants">: 252</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46015095">
          <h3>
            <a
              class="item"
              href="https://gaultier.github.io/blog/a_million_ways_to_data_race_in_go.html"
              >A million ways to die from a data race in Go</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-22 @ 14:33:57</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46015095"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46013478">
          <h3>
            <a
              class="item"
              href="https://altermag.com/articles/the-secret-history-of-indian-science-fiction"
              >The history of Indian science fiction</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-22 @ 09:41:46</span
              ><span class="points-container"
                >Points: <span class="points">190</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46013478"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46010552">
          <h3>
            <a class="item" href="https://news.techmeme.com/250912/20-years"
              >Explaining, at some length, Techmeme's 20 years of consistency</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-21 @ 23:54:49</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46010552"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46009935">
          <h3>
            <a
              class="item"
              href="https://www.amusingplanet.com/2016/09/how-atomic-tests-looked-like-from-los.html"
              >How the Atomic Tests Looked Like from Los Angeles</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-21 @ 22:45:53</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46009935"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46009851">
          <h3>
            <a
              class="item"
              href="https://dl.acm.org/doi/10.1145/3746059.3747759"
              >Using an Array of Needles to Create Solid Knitted Shapes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-21 @ 22:36:24</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46009851"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46006104">
          <h3>
            <a class="item" href="https://www.ocrarena.ai/battle"
              >Show HN: OCR Arena – A playground for OCR models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-21 @ 16:44:45</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46006104"
                  >Comments</a
                ><span class="descendants">: 57</span></span
              >
            </h4>
            <div class="text">
              <p>
                Upload any doc, measure accuracy, and (optionally) vote for the
                models on a public leaderboard.
              </p>
              <p>
                It currently has Gemini 3, dots.ocr, DeepSeek, GPT5, olmOCR 2,
                Qwen, and a few others. If there's any others you'd like
                included, let me know!
              </p>
            </div>
          </section>
        </section>
        <section id="46003606">
          <h3>
            <a
              class="item"
              href="https://www.svendewaerhert.com/blog/nearby-peer-discovery/"
              >Nearby peer discovery without GPS using environmental
              fingerprints</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-21 @ 11:47:38</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46003606"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45985081">
          <h3>
            <a
              class="item"
              href="https://blogs.embarcadero.com/rethinking-c-architecture-concepts-and-responsibility/"
              >Rethinking C++: Architecture, Concepts, and Responsibility</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 20:58:50</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45985081"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45982875">
          <h3>
            <a
              class="item"
              href="https://mbleigh.dev/posts/broccoli-man-remastered/"
              >Broccoli Man, Remastered</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 18:16:53</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45982875"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45981514">
          <h3>
            <a
              class="item"
              href="https://ai.meta.com/blog/segment-anything-model-3/?_fb_noscript=1"
              >Meta Segment Anything Model 3</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 16:27:31</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45981514"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45981163">
          <h3>
            <a
              class="item"
              href="https://kottke.org/25/11/mary-beard-hollywood-lied-to-you-about-ancient-rome-heres-the-truth"
              >Mary Beard: Hollywood Lied to You About Ancient Rome. Here's the
              Truth</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-11-19 @ 15:59:33</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45981163"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
