<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46302892">
          <h3>
            <a
              class="item"
              href="https://themosthandsomemanintheworld.com/how-and-why-i-invented-onlyfans-in-2004/"
              >How, and why, I invented OnlyFans. In 2004</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 17:48:21</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46302361">
          <h3>
            <a
              class="item"
              href="https://www.microsoft.com/en-us/windows-server/blog/2025/12/03/beyond-rc4-for-windows-authentication"
              >Beyond RC4 for Windows Authentication</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 17:14:21</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46302361"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46302337">
          <h3>
            <a
              class="item"
              href="https://www.docker.com/blog/docker-hardened-images-for-every-developer/"
              >A Safer Container Ecosystem with Docker: Free Docker Hardened
              Images</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 17:13:03</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46302337"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46302267">
          <h3>
            <a
              class="item"
              href="https://www.finalroundai.com/blog/aws-ceo-ai-cannot-replace-junior-developers"
              >AWS CEO says replacing junior devs with AI is 'one of the dumbest
              ideas'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 17:08:35</span
              ><span class="points-container"
                >Points: <span class="points">228</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46302267"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46302122">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/flick/jobs/Tdu6FH6-founding-frontend-engineer"
              >Flick (YC F25) Is Hiring Founding Engineer to Build Figma for AI
              Filmmaking</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 17:00:39</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46302114">
          <h3>
            <a
              class="item"
              href="https://www.pcgamer.com/hardware/firefox-is-becoming-an-ai-browser-and-the-internet-is-not-at-all-happy-about-it/"
              >Firefox is becoming an AI browser and the internet is not at all
              happy about it</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 17:00:12</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46302114"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46301921">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46301921"
              >Tell HN: HN Was Down</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 16:48:18</span
              ><span class="points-container"
                >Points: <span class="points">227</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301921"
                  >Comments</a
                ><span class="descendants">: 151</span></span
              >
            </h4>
            <div class="text">
              <p>
                - This status page actually identified the outage:
                <a href="https://hackernews.onlineornot.com/"
                  >https://hackernews.onlineornot.com/</a
                >
                - Pages by Hund and Statuspal did not show the outage.
              </p>
              <p>
                - The last post before the outage was
                <a href="https://news.ycombinator.com/item?id=46301823"
                  >https://news.ycombinator.com/item?id=46301823</a
                >
                (1:39:59 PM GMT). The last comment was
                <a href="https://news.ycombinator.com/item?id=46301848"
                  >https://news.ycombinator.com/item?id=46301848</a
                >
                (1:41:54 PM GMT).
              </p>
              <p>
                - There was an average of ~4 seconds per comment just prior to
                the outage. Based on this, HN likely went down at 1:41:58 PM
                GMT.
              </p>
            </div>
          </section>
        </section>
        <section id="46301903">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46301903"
              >Ask HN: Was HN just down for anyone else?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 16:46:39</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301903"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://hackernews.onlineornot.com/incidents/yaz-eOJeARBL"
                >https://hackernews.onlineornot.com/incidents/yaz-eOJeARBL</a
              >) or if others saw it too.
            </div>
          </section>
        </section>
        <section id="46301865">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46301865"
              >Launch HN: Kenobi (YC W22) – Personalize your website for every
              visitor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 16:44:13</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301865"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <a href="https://kenobi.ai">https://kenobi.ai</a>). Kenobi lets
              you add AI-based content personalization to any website. As a site
              owner, you install our personalization widget with a script tag,
              just like you would for e.g. a chatbot integration. As a visitor,
              you interact with the widget (right now by providing a company
              name) and Kenobi changes the site content to suit you.
              <p>
                We’ve built a demo that anyone can try here:
                <a href="https://kenobi.ai/start">https://kenobi.ai/start</a>
              </p>
              <p>
                We believe that large parts of the web are about to go from
                being static to dynamic because of how adept LLMs are at
                transforming rendered HTML. And right now we’re focussing on B2B
                landing page content (as opposed to application UIs) because
                there is a lot of commercial opportunity for increasing
                top-of-funnel inbound conversions.
              </p>
              <p>
                Our journey to Kenobi today is a long and snaking one. You may
                notice from the post title that we did YC’s Winter 2022 batch (I
                know that 4 years is practically ancient in YC-dog-years).
                Kenobi is a hard pivot from our original idea that we got
                accepted into YC with — a company called Verdn which did
                trackable environmental donations via an API. Since the summer,
                we’ve been hacking on different ideas… We started with
                personalized UI screenshots for outbound campaigns, but then
                people told us they wanted transformations to their actual
                site[0] — so we built an agentic workflow to research a
                visitor-company and “pre-render” changes to a landing site for
                them. Ultimately, there was too much friction in getting people
                to incorporate personalized URLs into their cold outbound
                campaigns[1]. Besides, people kept asking for us to do this for
                their inbound traffic, and so our current iteration was born.
              </p>
              <p>
                Right now with Kenobi you pick a page that you’d like to make
                customizable, and choose [text] elements that you’d like to make
                dynamic. You can define custom prompting instructions for these
                elements, and when someone visits your page, our agentic
                workflow researches their company, and presents the updated
                content as quickly as possible, usually within a few seconds.[2]
                You also get a ping in Slack every time this happens so you know
                who is using your site.
              </p>
              <p>
                We’ve been experimenting with features such as generating custom
                imagery that actually looks good and native to the page design,
                and pulling in company data sources so that e.g. the right case
                study can be presented based on a visitor’s industry and ICP
                profile. Our most requested feature is deanonymizing traffic so
                that Kenobi’s personalization can happen automatically as
                visitors land on your page — this is coming very soon, as right
                now you have to specify where you’re coming from.
              </p>
              <p>
                It’s surprised us just how much business value we’ve gotten from
                knowing who (most probably) is on the page and asking for a
                personalized experience. We’ve seen response rates 3x of what we
                would normally from following people up from companies we know
                visited our site.
              </p>
              <p>
                There are many players in this space already, and everyone seems
                to have their own angle. We are keen to hear thoughts on what
                people think the future of the personalized internet looks like!
              </p>
              <p>Cheers from London!</p>
              <p>
                P.S. - there's also a video that Chris recorded showing the
                end-to-end Kenobi experience right now
                <a
                  href="https://www.loom.com/share/bc0a82a2f2fd40f695315bae80e8f5d8"
                  >https://www.loom.com/share/bc0a82a2f2fd40f695315bae80e8f5d8</a
                >
              </p>
              <p>
                [0] - Many of them had tried AI “microsite” generators but found
                the maintenance of managing a separate website(s) just for
                closing deals to be burdensome and inefficient.
              </p>
              <p>
                [1] - Despite having a CSV export and Clay integration option
                for our pre-generated website changes, getting people to weave
                the URLs into their email sequences (everyone uses different
                tools) seemed almost insurmountable without building what would
                ostensibly be our own sequencing software.
              </p>
              <p>
                [2] - We use light foundation models with grounded search for
                the research step, and translate these into markup changes via
                another light LLM pass and our own DSL which is optimized for
                speed.
              </p>
            </div>
          </section>
        </section>
        <section id="46301851">
          <h3>
            <a
              class="item"
              href="https://blog.google/products/gemini/gemini-3-flash/"
              >Gemini 3 Flash: frontier intelligence built for speed</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 16:42:13</span
              ><span class="points-container"
                >Points: <span class="points">316</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301851"
                  >Comments</a
                ><span class="descendants">: 123</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46301696">
          <h3>
            <a class="item" href="https://uncenter.dev/posts/learning-fortran/"
              >Learning the oldest programming language (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 13:25:06</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301696"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46301585">
          <h3>
            <a
              class="item"
              href="https://fy.blackhats.net.au/blog/2025-12-17-yep-passkeys-still-have-problems/"
              >Yep, Passkeys Still Have Problems</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 13:12:49</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301585"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46301346">
          <h3>
            <a
              class="item"
              href="https://investor.coursera.com/news/news-details/2025/Coursera-to-Combine-with-Udemy-to-Empower-the-Global-Workforce-with-Skills-for-the-AI-Era/default.aspx"
              >Coursera to combine with Udemy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 12:45:40</span
              ><span class="points-container"
                >Points: <span class="points">221</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46301346"
                  >Comments</a
                ><span class="descendants">: 139</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46299934">
          <h3>
            <a
              class="item"
              href="https://infosec.press/brunomiguel/is-mozilla-trying-hard-to-kill-itself"
              >Is Mozilla trying hard to kill itself?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 09:37:24</span
              ><span class="points-container"
                >Points: <span class="points">642</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46299934"
                  >Comments</a
                ><span class="descendants">: 571</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46299552">
          <h3>
            <a
              class="item"
              href="https://msanroman.io/blog/ai-consumption-paradigm"
              >AI's real superpower: consuming, not creating</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 08:34:00</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46299552"
                  >Comments</a
                ><span class="descendants">: 97</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46299389">
          <h3>
            <a
              class="item"
              href="http://muratbuffalo.blogspot.com/2025/12/tla-modeling-tips.html"
              >TLA+ Modeling Tips</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 08:05:30</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46299389"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46295771">
          <h3>
            <a
              class="item"
              href="https://simonwillison.net/2025/Dec/15/porting-justhtml/"
              >I ported JustHTML from Python to JavaScript with Codex CLI and
              GPT-5.2 in hours</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 22:48:56</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46295771"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46295268">
          <h3>
            <a
              class="item"
              href="https://www.waterfox.com/blog/no-ai-here-response-to-mozilla/"
              >No AI* Here – A Response to Mozilla's Next Chapter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 22:07:49</span
              ><span class="points-container"
                >Points: <span class="points">447</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46295268"
                  >Comments</a
                ><span class="descendants">: 257</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46294574">
          <h3>
            <a
              class="item"
              href="https://martin.kleppmann.com/2025/12/08/ai-formal-verification.html"
              >AI will make formal verification go mainstream</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 21:14:49</span
              ><span class="points-container"
                >Points: <span class="points">746</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46294574"
                  >Comments</a
                ><span class="descendants">: 378</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46294289">
          <h3>
            <a class="item" href="https://astral.sh/blog/ty"
              >Announcing the Beta release of ty</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 20:52:45</span
              ><span class="points-container"
                >Points: <span class="points">736</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46294289"
                  >Comments</a
                ><span class="descendants">: 141</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46293062">
          <h3>
            <a
              class="item"
              href="https://www.sebastianaaltonen.com/blog/no-graphics-api"
              >No Graphics API</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 19:20:17</span
              ><span class="points-container"
                >Points: <span class="points">751</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46293062"
                  >Comments</a
                ><span class="descendants">: 139</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46291941">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/new-chatgpt-images-is-here/"
              >GPT Image 1.5</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 18:07:07</span
              ><span class="points-container"
                >Points: <span class="points">486</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46291941"
                  >Comments</a
                ><span class="descendants">: 236</span></span
              >
            </h4>
            <div class="text">
              <a href="https://platform.openai.com/docs/models/gpt-image-1.5"
                >https://platform.openai.com/docs/models/gpt-image-1.5</a
              >
            </div>
          </section>
        </section>
        <section id="46291156">
          <h3>
            <a
              class="item"
              href="https://resources.github.com/actions/2026-pricing-changes-for-github-actions/"
              >Pricing Changes for GitHub Actions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 17:12:02</span
              ><span class="points-container"
                >Points: <span class="points">745</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46291156"
                  >Comments</a
                ><span class="descendants">: 781</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46290916">
          <h3><a class="item" href="https://alpr.watch/">alpr.watch</a></h3>
          <section>
            <h4>
              <span>2025-12-16 @ 16:54:19</span
              ><span class="points-container"
                >Points: <span class="points">848</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46290916"
                  >Comments</a
                ><span class="descendants">: 398</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46288491">
          <h3>
            <a
              class="item"
              href="https://blog.mozilla.org/en/mozilla/leadership/mozillas-next-chapter-anthony-enzor-demeo-new-ceo/"
              >Mozilla appoints new CEO Anthony Enzor-Demeo</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 13:53:14</span
              ><span class="points-container"
                >Points: <span class="points">564</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46288491"
                  >Comments</a
                ><span class="descendants">: 849</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46288415">
          <h3>
            <a
              class="item"
              href="https://www.tum.de/en/news-and-events/all-news/press-releases/details/40-percent-of-mri-signals-do-not-correspond-to-actual-brain-activity"
              >40 percent of fMRI signals do not correspond to actual brain
              activity</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 13:46:57</span
              ><span class="points-container"
                >Points: <span class="points">475</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46288415"
                  >Comments</a
                ><span class="descendants">: 185</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46283276">
          <h3>
            <a
              class="item"
              href="https://www.joanwestenberg.com/thin-desires-are-eating-your-life/"
              >Thin desires are eating life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 00:50:41</span
              ><span class="points-container"
                >Points: <span class="points">627</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46283276"
                  >Comments</a
                ><span class="descendants">: 211</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46260485">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=nooPmXxO6K0"
              >Modern SID chip substitutes [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-14 @ 03:17:11</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46260485"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46257147">
          <h3>
            <a
              class="item"
              href="https://press.knowledge.dev/p/new-150-pages-rust-guide-create-a"
              >I created a publishing system for step-by-step coding guides in
              Typst</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-13 @ 19:25:03</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46257147"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46233794">
          <h3>
            <a class="item" href="https://amit.prasad.me/blog/sorted-data"
              >Notes on Sorted Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 16:52:31</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46233794"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
