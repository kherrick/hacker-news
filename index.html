<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40145213">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2024/04/23/fisker-more-layoffs-bankruptcy-ocean-suv/"
              >Fisker Plans More Layoffs and Bankruptcy Looms</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 15:03:48</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40145213"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40144554">
          <h3>
            <a class="item" href="https://videogigagan.github.io/"
              >VideoGigaGAN: Towards Detail-Rich Video Super-Resolution</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 14:04:36</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40144554"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40144235">
          <h3>
            <a class="item" href="https://blogs.nvidia.com/blog/runai/"
              >Nvidia to Acquire Run:AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 13:36:57</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40144235"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143814">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/lifeandstyle/2024/apr/24/in-the-us-they-think-were-communists-the-70000-workers-showing-the-world-another-way-to-earn-a-living"
              >70k workers show another way to earn living in globe's largest
              industrial co-op</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 12:58:06</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143814"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143704">
          <h3>
            <a class="item" href="https://github.com/Open-Shell/Open-Shell-Menu"
              >Open-Shell: A collection of utilities bringing back classic
              features to Windows</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 12:45:23</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143704"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143669">
          <h3>
            <a class="item" href="https://github.com/sarah-ek/faer-rs"
              >Faer-rs: Linear algebra foundation for the Rust programming
              language</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 12:41:09</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143669"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143498">
          <h3>
            <a class="item" href="https://langcss.com/"
              >Show HN: LangCSS. The AI Assistant for Tailwind</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 12:20:32</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143498"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                This is my personal project that is an IDE and AI assistant for
                creating tailwind components and pages. You can chat to create
                designs, then make small edits yourself, and continue chatting
                to refine them. I am always working to improve the UX.
              </p>
              <p>
                I have a time limited demo page here:
                <a href="https://langcss.com/demo">https://langcss.com/demo</a>
              </p>
              <p>Please let me know what you think! Feedback is welcome.</p>
              <p>
                Tech wise, this just uses NextJS (Hosted on Docker) and Azure
                Open AI.
              </p>
            </div>
          </section>
        </section>
        <section id="40143325">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/brainbase/jobs/qNs5JRo-founding-fullstack-engineer"
              >Brainbase (YC W24) Is Hiring for Founding Full-Stack Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 12:00:13</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143242">
          <h3>
            <a
              class="item"
              href="https://digiday.com/marketing/google-delays-third-party-cookie-demise-yet-again/"
              >Google delays third-party cookie demise yet again</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 11:51:36</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143242"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40142603">
          <h3>
            <a
              class="item"
              href="https://www.pypy.org/posts/2024/04/pypy-v7316-release.html"
              >PyPy v7.3.16 Release</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 10:18:51</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40142603"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40141980">
          <h3>
            <a
              class="item"
              href="https://podlite.org/2024/4/23/1/podlite-specification-v1-0-released"
              >Show HN: Podlite - a lightweight markup language for organizing
              knowledge</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 08:35:30</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40141980"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                In addition, the support for Markdown markup as a standard block
                adds convenience and allows for the use of familiar syntax for
                text formatting
              </p>
              <p>
                It's perfect for documentation, educational materials, blogging,
                and much more for organizing knowledge.
              </p>
              <p>
                One of the key features of Podlite is its extensibility. This
                allows for defining unique and domain-specific blocks and
                expanding the language's functionality according to the
                requirements of your project.
              </p>
              <p>
                The Podlite specification is published under the Artistic
                license 2.0.
              </p>
              <p>
                Site:
                <a href="https://podlite.org">https://podlite.org</a> Thank You!
              </p>
            </div>
          </section>
        </section>
        <section id="40141967">
          <h3>
            <a
              class="item"
              href="https://blog.benjojo.co.uk/post/sn2010-linux-hacking-switchdev"
              >Sysadmin friendly high speed Ethernet switching</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 08:32:36</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40141967"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40141777">
          <h3>
            <a
              class="item"
              href="https://www.dangermouse.net/esoteric/piet.html"
              >Piet: Programming language in which programs look like abstract
              paintings (2002)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 07:52:58</span
              ><span class="points-container"
                >Points: <span class="points">280</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40141777"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40141463">
          <h3>
            <a
              class="item"
              href="https://seths.blog/2024/04/other-peoples-problems/"
              >Other People's Problems</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 06:57:24</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40141463"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40141175">
          <h3>
            <a
              class="item"
              href="https://www.dolthub.com/blog/2024-04-19-golang-pgo-builds-using-github-actions/"
              >Golang PGO builds using GitHub Actions</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 06:08:25</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40141175"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40140002">
          <h3>
            <a class="item" href="https://github.com/google/maxtext"
              >Maxtext: A simple, performant and scalable Jax LLM</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 03:00:46</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40140002"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40139880">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/ai-starts-to-sift-through-string-theorys-near-endless-possibilities-20240423/"
              >AI Starts to Sift Through String Theory's Near-Endless
              Possibilities</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 02:41:40</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40139880"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40139510">
          <h3>
            <a class="item" href="https://beebase.sourceforge.io"
              >BeeBase, a programmable relational database with graphical user
              interface</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 01:44:47</span
              ><span class="points-container"
                >Points: <span class="points">171</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40139510"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40139434">
          <h3>
            <a class="item" href="https://emildziewanowski.com/flowfields/"
              >Simulating Jupiter</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 01:32:39</span
              ><span class="points-container"
                >Points: <span class="points">250</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40139434"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40139398">
          <h3>
            <a class="item" href="https://github.com/apple/corenet"
              >CoreNet: A library for training deep neural networks</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 01:26:48</span
              ><span class="points-container"
                >Points: <span class="points">405</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40139398"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40138579">
          <h3>
            <a
              class="item"
              href="https://xlinux.nist.gov/dads/HTML/americanFlagSort.html"
              >American flag sort</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 23:26:58</span
              ><span class="points-container"
                >Points: <span class="points">211</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40138579"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40138228">
          <h3>
            <a class="item" href="https://esphome.io/index.html">ESPHome</a>
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 22:46:44</span
              ><span class="points-container"
                >Points: <span class="points">340</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40138228"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40129935">
          <h3>
            <a
              class="item"
              href="https://www.EmbeddedRelated.com/showarticle/1656.php"
              >How to Use I2C Devices in (Apache) NuttX: Scanning for Devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 08:59:09</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40129935"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40129887">
          <h3>
            <a
              class="item"
              href="https://chipsandcheese.com/2024/04/22/intel-meteor-lakes-npu/"
              >Intel Meteor Lake's NPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 08:51:59</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40129887"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40129505">
          <h3>
            <a
              class="item"
              href="https://ashleyjanssen.com/how-to-juggle-priorities-decide-which-balls-are-glass-and-which-are-plastic/"
              >How to Juggle Priorities (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 07:37:44</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40129505"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40129444">
          <h3>
            <a
              class="item"
              href="https://www.thomas-huehn.com/2014/12/the-deadline/"
              >The Deadline (2014)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 07:25:49</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40129444"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40117075">
          <h3>
            <a
              class="item"
              href="https://web.archive.org/web/20210407151341/https://discuss.atom.io/t/the-deuce-editor-architecture/2218"
              >The Deuce Editor Architecture (2014)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-22 @ 18:14:10</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40117075"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>
                Some more details beyond the above link can be found in this
                comment [2] from comp.lang.dylan by Scott McKay, the original
                author of Deuce
              </p>
              <p>
                [2]
                <a
                  href="https://web.archive.org/web/20221002093520/https://groups.google.com/g/comp.lang.dylan/c/3uuUb3Z9pAc/m/6NbE9gYpeAIJ"
                  >https://web.archive.org/web/20221002093520/https://groups.go...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="40114127">
          <h3>
            <a
              class="item"
              href="https://vgnotepad.blogspot.com/2024/04/bottle-plotter.html"
              >Bottle Plotter</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-22 @ 13:26:02</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40114127"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40113552">
          <h3>
            <a
              class="item"
              href="https://computerhistory.org/blog/fifty-years-of-the-personal-computer-operating-system/"
              >Fifty Years of the Personal Computer Operating System</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-22 @ 12:08:11</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40113552"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40113168">
          <h3>
            <a
              class="item"
              href="https://restofworld.org/2024/zoho-google-workspace-alternative-africa/"
              >Zoho has positioned itself as a cheaper alternative to Google and
              Microsoft</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-22 @ 11:06:28</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40113168"
                  >Comments</a
                ><span class="descendants">: 124</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
