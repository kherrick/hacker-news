<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43132482">
          <h3>
            <a class="item" href="https://github.com/abeisgoat/slime_os"
              >Slime OS – An open-source app launcher for RP2040 based
              devices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 20:22:57</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43132482"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43132336">
          <h3>
            <a class="item" href="https://www.renpy.org/"
              >The Ren'Py Visual Novel Engine</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 20:09:32</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43132336"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43132260">
          <h3>
            <a class="item" href="https://www.1x.tech/neo"
              >Neo Gamma (Home Humanoid)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 20:02:34</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43132260"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131902">
          <h3>
            <a
              class="item"
              href="https://vpetersson.com/2025/02/21/yocto-rockpi-and-sboms.html"
              >Yocto, RockPi and SBOMs: Building Modern Embedded Linux Images</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 19:34:37</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131902"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131520">
          <h3>
            <a
              class="item"
              href="https://www.swift.org/blog/how-swifts-server-support-powers-things-cloud/"
              >Swift's server support powers Things Cloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 19:03:57</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131520"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131502">
          <h3>
            <a class="item" href="https://gr.inc/"
              >General Reasoning: Free, open resource for building large
              reasoning models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 19:01:59</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131502"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131059">
          <h3>
            <a class="item" href="https://suckless.org/"
              >Suckless.org: software that sucks less</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 18:27:00</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131059"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131045">
          <h3>
            <a
              class="item"
              href="https://www.space.com/space-exploration/james-webb-space-telescope/nasa-james-webb-space-telescope-faces-20-percent-budget-cuts"
              >NASA's James Webb Space Telescope faces potential 20% budget
              cut</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 18:25:16</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131045"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43131017">
          <h3>
            <a
              class="item"
              href="https://digital.archives.caltech.edu/collections/Images/1.10-29/"
              >Richard Feynman's Blackboard at the Time of His Death (1988)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 18:22:59</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43131017"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130923">
          <h3>
            <a
              class="item"
              href="https://techxplore.com/news/2025-01-lithium-sulfur-battery-retains-capacity.html"
              >Lithium-sulfur battery retains 80% charge capacity after 25,000
              cycles</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 18:15:38</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130923"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130732">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2410.06992"
              >SWE-Bench tainted by answer leakage; real pass rates
              significantly lower</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:59:48</span
              ><span class="points-container"
                >Points: <span class="points">269</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130732"
                  >Comments</a
                ><span class="descendants">: 88</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130546">
          <h3>
            <a
              class="item"
              href="https://www.contraption.co/rails-versus-nextjs/"
              >Why Ruby on Rails still matters</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:46:15</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130546"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130480">
          <h3>
            <a
              class="item"
              href="https://linear.app/blog/the-profitable-startup"
              >The Profitable Startup</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:41:04</span
              ><span class="points-container"
                >Points: <span class="points">89</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130480"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43130155">
          <h3>
            <a
              class="item"
              href="https://www.filfre.net/2025/02/the-crpg-renaissance-part-3-tsr-is-dead/"
              >The CRPG Renaissance, Part 3: TSR Is Dead</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:16:16</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43130155"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129944">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/posh/jobs/XeXjwIu-energy-analysis-modeling-engineer"
              >Posh (YC W22) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 17:00:17</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129887">
          <h3>
            <a
              class="item"
              href="https://github.com/therealoliver/Deepdive-llama3-from-scratch"
              >DeepDive in everything of Llama3: revealing detailed insights and
              implementation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:57:13</span
              ><span class="points-container"
                >Points: <span class="points">74</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129887"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129633">
          <h3>
            <a class="item" href="https://github.com/rdabra/txeo"
              >Show HN: Txeo – A Modern C++ Wrapper for TensorFlow</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:40:44</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129633"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              Txeo is a lightweight and intuitive C++ wrapper for TensorFlow,
              designed to simplify TensorFlow C++ development while preserving
              high performance and flexibility. Built entirely with Modern C++,
              Txeo allows developers to use TensorFlow with the ease of a
              high-level API, eliminating the complexity of its low-level C++
              interface.
            </div>
          </section>
        </section>
        <section id="43129439">
          <h3>
            <a
              class="item"
              href="https://trufflesecurity.com/blog/removing-jeff-bezos-from-my-bed"
              >Removing Jeff Bezos from my bed</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:27:54</span
              ><span class="points-container"
                >Points: <span class="points">390</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129439"
                  >Comments</a
                ><span class="descendants">: 182</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43129301">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43129301"
              >Launch HN: Massdriver (YC W22) – Self-serve cloud infra without
              the red tape</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 16:19:12</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43129301"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.massdriver.cloud/"
                >https://www.massdriver.cloud/</a
              >), an infrastructure automation platform. Massdriver enforces
              organizational standards and delivers consistent, compliant
              deployments—no more endless approvals, red tape, or broken
              Terraform plans.
              <p>
                Here’s a demo video:
                <a href="https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s"
                  >https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s</a
                >
              </p>
              <p>
                Infrastructure as Code (IaC) workflows were designed to help
                developers and work fine for small teams, but as organizations
                scale, they create bottlenecks, complexity, and endless
                firefighting.
              </p>
              <p>
                After decades in ops and platform engineering, we kept running
                into the same problems: brittle pipelines (Terraform variables
                and input checks don’t catch errors until it’s too late), poor
                compliance integration (issues are caught during CI/CD, but by
                then, delays and rework are already inevitable), and a patchwork
                of tools that developers are forced to learn (Terraform,
                Kubernetes manifests, cloud APIs), adding more work and turning
                them into junior devops engineers when they should be shipping
                value.
              </p>
              <p>
                We were working on a side project and ended up doing the
                Spider-Man pointing-meme: two experienced ops guys, neither
                wanting to touch the infrastructure. We started asking why. The
                “boring parts” weren’t just boring—they were time-consuming and
                error-prone, especially at scale. What if we didn’t just
                automate provisioning but handled all the messy stuff
                (permissions, compliance, networking, security groups) upfront?
                That’s when we realized we could encode ops knowledge directly
                into modules and let developers work off those.
              </p>
              <p>
                The hard part isn’t just technical, it’s socio-technical.
                Conway’s Law is inescapable, and nowhere is its impact more
                painful than at the intersection of development, operations, and
                cloud APIs. Everyone talks about cloud complexity, but the real
                challenge is navigating the messy intersection of tools, teams,
                and processes. Ops teams want control, devs want speed, and
                compliance creates friction between them.
              </p>
              <p>
                The traditional answer has been patchwork solutions like GitOps
                or retroactive guardrails, but these tend to shift complexity
                around instead of eliminating it. This often results in an
                ever-expanding CI/CD toolchain, where teams must maintain
                complex workflows just to enforce policies and validate
                infrastructure, adding friction rather than reducing it. We
                think the real challenge is designing abstractions that are
                simple enough for developers but powerful enough for ops.
              </p>
              <p>
                Massdriver lets ops teams define reusable infrastructure modules
                that handle everything: provisioning, permissions, compliance,
                and cost constraints. Developers don’t write IaC or navigate
                cloud APIs—they draw a diagram to describe their architecture,
                and Massdriver provisions resources using those modules.
                Compliance and security rules are enforced proactively, and
                ephemeral CI/CD pipelines are spun up automatically. The result:
                no more brittle pipelines or last-minute guardrails.
              </p>
              <p>How it works:</p>
              <p>
                (1) We turn IaC into functional modules: use tools like
                Terraform/OpenTofu, Helm, or CloudFormation to create reusable
                modules with built-in validation, policies, and metadata for
                visualization and self-service.
              </p>
              <p>
                (2) Stop pushing IaC code through pipelines: Instead of managing
                configuration changes in Git repos, create modules as
                releases—packaged and ready to deploy. Each release bundles both
                the IaC and policy tooling (e.g., Checkov, OPA), so developers
                don’t have to copy and maintain separate workflows. These checks
                are enforced automatically as part of Massdriver’s ephemeral
                CI/CD process, making it impossible to bypass them.
              </p>
              <p>
                (3) Self-service with APIs and visual tools: provision
                infrastructure by interacting with pre-approved modules, without
                dealing directly with low-level IaC code or brittle YAML
                pipelines.
              </p>
              <p>
                Massdriver is live, and we’d love to hear your thoughts on our
                approach to the IaC problem. If you’re interested in learning
                more about how we simplify configuration management, check out
                our demo video—here's the link again:
                <a href="https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s"
                  >https://www.youtube.com/watch?v=m6T5p0qXcFE&amp;t=4s</a
                >
              </p>
              <p>Thanks for reading. We’re excited to hear what you think!</p>
            </div>
          </section>
        </section>
        <section id="43128253">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/cgj54eq4vejo"
              >Apple pulls data protection tool after UK government security
              row</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 15:05:24</span
              ><span class="points-container"
                >Points: <span class="points">702</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43128253"
                  >Comments</a
                ><span class="descendants">: 570</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43128093">
          <h3>
            <a class="item" href="https://johnnydecimal.com"
              >Johnny.Decimal – A system to organise your life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 14:52:14</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43128093"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43125840">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2025/02/meta-defends-its-vast-book-torrenting-were-just-a-leech-no-proof-of-seeding/"
              >Meta claims torrenting pirated books isn't illegal without proof
              of seeding</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 10:01:36</span
              ><span class="points-container"
                >Points: <span class="points">570</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43125840"
                  >Comments</a
                ><span class="descendants">: 382</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43125829">
          <h3>
            <a
              class="item"
              href="https://flatgithub.com/cisagov/dotgov-data/blob/main/?filename=current-full.csv&amp;sha=7dc7d24fba91f571692112d92b6a8fbe7aecbba2"
              >Every .gov Domain</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 09:59:23</span
              ><span class="points-container"
                >Points: <span class="points">264</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43125829"
                  >Comments</a
                ><span class="descendants">: 213</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43125487">
          <h3>
            <a class="item" href="https://github.com/Edu4rdSHL/fly-to-podman"
              >Fly To Podman: a script that will help you to migrate from
              Docker</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 08:52:13</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43125487"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43125430">
          <h3>
            <a class="item" href="https://sky.cs.berkeley.edu/project/sky-t1/"
              >Train Your Own O1 Preview Model Within $450</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 08:42:38</span
              ><span class="points-container"
                >Points: <span class="points">358</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43125430"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43125089">
          <h3>
            <a class="item" href="https://docs.docker.com/docker-hub/usage/"
              >Docker limits unauthenticated pulls to 10/HR/IP from Docker Hub,
              from March 1</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-21 @ 07:42:45</span
              ><span class="points-container"
                >Points: <span class="points">303</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43125089"
                  >Comments</a
                ><span class="descendants">: 348</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43117861">
          <h3>
            <a
              class="item"
              href="https://www.science.org/content/article/ancient-switch-soft-food-gave-us-overbite-and-ability-pronounce-f-s-and-v-s"
              >Ancient switch to soft food gave us overbite–the ability to
              pronounce 'f's,'v'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-20 @ 17:49:41</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43117861"
                  >Comments</a
                ><span class="descendants">: 85</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43089646">
          <h3>
            <a class="item" href="https://cot.rs/"
              >Cot: The Rust web framework for lazy developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 14:09:52</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43089646"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43087779">
          <h3>
            <a
              class="item"
              href="http://johnsalvatier.org/blog/2017/reality-has-a-surprising-amount-of-detail"
              >Reality has a surprising amount of detail (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 09:36:30</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43087779"
                  >Comments</a
                ><span class="descendants">: 95</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43084938">
          <h3>
            <a
              class="item"
              href="https://www.thenation.com/article/culture/henri-bergson-biography/"
              >All Is Unfinished: Henri Bergson's philosophy for our times</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 01:05:37</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43084938"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
