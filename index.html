<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46511981">
          <h3>
            <a class="item" href="https://cedardb.com/blog/german_strings/"
              >Why German Strings Are Everywhere?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 13:30:07</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46511981"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46511578">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46511578"
              >Show HN: DDL to Data – Generate realistic test data from SQL
              schemas</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 12:47:23</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46511578"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                Paste your CREATE TABLE statements, get realistic test data
                back. It parses your schema, preserves foreign key
                relationships, and generates data that looks real, emails look
                like emails, timestamps are reasonable, uniqueness constraints
                are honored.
              </p>
              <p>No setup, no config. Works with PostgreSQL and MySQL.</p>
              <p><a href="https://ddltodata.com">https://ddltodata.com</a></p>
              <p>
                Would love feedback from anyone who deals with test data or
                staging environments. What's missing?
              </p>
            </div>
          </section>
        </section>
        <section id="46511470">
          <h3>
            <a class="item" href="https://sqlite.org/whyc.html">C Is Best</a>
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 12:33:54</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46511470"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46511469">
          <h3>
            <a class="item" href="https://blgardner.github.io/prism.tools/"
              >Show HN: Prism.Tools – Free and privacy-focused developer
              utilities</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 12:33:49</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46511469"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
            <div class="text">
              <a href="https://blgardner.github.io/prism.tools/"
                >https://blgardner.github.io/prism.tools/</a
              >) – a collection of client-side developer utilities that respect
              your privacy.
              <p>
                Many of these tools were used way back in the days when I ran a
                BBS and started my communities first ISP, serving three local
                communities with Dial-Up Internet, Web Hosting etc. The tools
                have been refined to reflect the changes in tech since then and
                designed for the Novice and Pro alike. As I locate more tools
                others may find useful I will refine and add them to the
                collection. Use them, Share them, or not. They will be here if
                you need them...
              </p>
              <p>
                40+ dev tools (JSON formatters, regex tester, base64 encoder,
                Git command helper, etc.) that run entirely in your browser.
                Zero tracking, zero analytics, zero data collection – everything
                processes locally. Self-contained HTML files with no build
                process or frameworks.
              </p>
              <p>
                I realized I had a lot of tools/utilities I've built over the
                years for my own use. I lothe having to 'sign-up' just to
                access/use simple utilities that I can create myself. I've
                refined them and put them in one safe place so I could easily
                access them if/when needed. I decided to make them available via
                Github Pages for anyone that may find them useful. Prism.Tools
                is the result.
              </p>
              <p>
                Each tool is a standalone HTML file with embedded CSS and
                JavaScript. No frameworks, no npm packages, no build steps –
                just open the file and it works.
              </p>
              <p>The entire toolset:</p>
              <p>
                - 100% client-side processing – your data never leaves your
                browser.
              </p>
              <p>
                - No external dependencies except for specific libraries from
                cdnjs.cloudflare.com (marked.js for markdown, exifr for image
                metadata, etc.)
              </p>
              <p>
                - Consistent dark UI – every tool follows the same design
                language for familiarity.
              </p>
              <p>
                - Vanilla JS where possible – only reaching for Public CDN
                Resources when necessary.
              </p>
              <p>
                The constraint of "single HTML file" was intentional. It forces
                simplicity and ensures tools remain maintainable. It also means
                users can inspect, modify, or self-host any tool trivially.
              </p>
              <p>
                These tools have helped me with debugging production issues,
                Quick formatting tasks, learning Git commands (the Git command
                helper has been particularly helpful)
              </p>
              <p>
                Just visit
                <a href="https://blgardner.github.io/prism.tools/"
                  >https://blgardner.github.io/prism.tools/</a
                >
                and try any tool. No signup, no install.
              </p>
              <p>
                What tools are missing that you find yourself needing? Any
                performance issues with specific tools? UI/UX friction points?
              </p>
              <p>
                All tools follow the same privacy-first philosophy... Your data
                stays in your browser. No accounts, no tracking, no servers
                processing your information. The project is also a demonstration
                that you don't always need React, Vue, or complex build
                pipelines – sometimes vanilla JavaScript in a single HTML file
                is exactly the right tool for the job.
              </p>
              <p>
                Vanilla JavaScript (ES6+) CSS3 with CSS Grid Minimal external
                libraries: marked.js, exifr, highlight.js, sql-formatter (all
                from CDN) No frameworks, no bundlers, no npm Hosted on Github
                Pages
              </p>
              <p>
                Happy to answer questions about the technical implementation,
                design decisions, or specific tools!
              </p>
              <p>
                All tools are inspectable – just view source on any page to see
                exactly how they work!
              </p>
            </div>
          </section>
        </section>
        <section id="46511298">
          <h3>
            <a class="item" href="https://system.surf/"
              >System: Control your Mac from anywhere using natural language</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 12:04:57</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46511298"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46511153">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2026/01/05/aws_price_increase/"
              >AWS raises GPU prices 15% on a Saturday, hopes you weren't paying
              attention</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 11:42:35</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46511153"
                  >Comments</a
                ><span class="descendants">: 196</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46510625">
          <h3>
            <a class="item" href="https://scenelist.org/"
              >SCiZE's Classic Warez Collection</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 10:13:43</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46510625"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46509967">
          <h3>
            <a
              class="item"
              href="https://www.ianvisits.co.uk/articles/tube-trains-could-navigate-the-underground-using-the-weird-rules-of-quantum-physics-86370/"
              >Tube trains could navigate the Underground using the rules of
              Quantum Physics</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 08:26:23</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46509967"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46509211">
          <h3>
            <a class="item" href="https://enclose.horse/">enclose.horse</a>
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 06:01:57</span
              ><span class="points-container"
                >Points: <span class="points">670</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46509211"
                  >Comments</a
                ><span class="descendants">: 117</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46509019">
          <h3>
            <a class="item" href="https://pluralistic.net/2026/01/01/39c3/"
              >The Post-American Internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 05:20:40</span
              ><span class="points-container"
                >Points: <span class="points">431</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46509019"
                  >Comments</a
                ><span class="descendants">: 287</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46508441">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/gogograndparent/jobs/2vbzAw8-gogograndparent-yc-s16-is-hiring-backend-and-full-stack-engineers"
              >GoGoGrandparent (YC S16) is hiring back end engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 03:32:41</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46508435">
          <h3>
            <a
              class="item"
              href="https://newsroom.intel.com/client-computing/ces-2026-intel-core-ultra-series-3-debut-first-built-on-intel-18a"
              >Intel Core Ultra Series 3 Debut as First Built on Intel 18A</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 03:31:39</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46508435"
                  >Comments</a
                ><span class="descendants">: 79</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46507963">
          <h3>
            <a class="item" href="https://zakhary.dev/blog/gbc-web-button"
              >GBC Boot Animation 88×31 Web Button</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 02:20:00</span
              ><span class="points-container"
                >Points: <span class="points">154</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46507963"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46506994">
          <h3>
            <a
              class="item"
              href="https://stoppels.ch/2022/11/27/io-is-no-longer-the-bottleneck.html"
              >I/O is no longer the bottleneck? (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-06 @ 00:02:18</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46506994"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46506596">
          <h3>
            <a class="item" href="https://strange.website/">Strange.website</a>
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 23:19:52</span
              ><span class="points-container"
                >Points: <span class="points">167</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46506596"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46505735">
          <h3>
            <a
              class="item"
              href="https://calnewport.com/why-didnt-ai-join-the-workforce-in-2025/"
              >Why didn't AI “join the workforce” in 2025?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 22:10:15</span
              ><span class="points-container"
                >Points: <span class="points">182</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46505735"
                  >Comments</a
                ><span class="descendants">: 278</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46504963">
          <h3>
            <a class="item" href="https://loworbitsecurity.com/radar/radar16/"
              >There were BGP anomalies during the Venezuela blackout</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 21:05:50</span
              ><span class="points-container"
                >Points: <span class="points">828</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46504963"
                  >Comments</a
                ><span class="descendants">: 355</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46501894">
          <h3>
            <a
              class="item"
              href="https://brave.com/privacy-updates/36-adblock-memory-reduction/"
              >Brave overhauled its Rust adblock engine with FlatBuffers,
              cutting memory 75%</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 17:34:33</span
              ><span class="points-container"
                >Points: <span class="points">402</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46501894"
                  >Comments</a
                ><span class="descendants">: 219</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46501677">
          <h3>
            <a
              class="item"
              href="https://elbowgreasegames.substack.com/p/when-good-actors-can-trust-each-other"
              >How Y Combinator made it smart to trust founders</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 17:20:01</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46501677"
                  >Comments</a
                ><span class="descendants">: 112</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46498735">
          <h3>
            <a
              class="item"
              href="https://tenthousandmeters.com/blog/i-switched-from-vscode-to-zed/"
              >I switched from VSCode to Zed</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 13:52:17</span
              ><span class="points-container"
                >Points: <span class="points">412</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46498735"
                  >Comments</a
                ><span class="descendants">: 376</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46496103">
          <h3>
            <a
              class="item"
              href="https://www.cs.cmu.edu/~pavlo/blog/2026/01/2025-databases-retrospective.html"
              >Databases in 2025: A Year in Review</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-05 @ 07:14:30</span
              ><span class="points-container"
                >Points: <span class="points">620</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46496103"
                  >Comments</a
                ><span class="descendants">: 172</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46491129">
          <h3>
            <a class="item" href="https://www.koreaherald.com/article/10648326"
              >Six-decade math puzzle solved by Korean mathematician</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-04 @ 19:10:31</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46491129"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46477306">
          <h3>
            <a
              class="item"
              href="https://waspdev.com/articles/2026-01-01/javascript-for-of-loops-are-actually-fast"
              >JavaScript's For-Of Loops Are Fast</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-03 @ 14:51:07</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46477306"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46470513">
          <h3>
            <a class="item" href="https://arxiv.org/abs/1803.03635"
              >The Lottery Ticket Hypothesis: Finding Sparse, Trainable Neural
              Networks (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 22:53:53</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46470513"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46469473">
          <h3>
            <a
              class="item"
              href="https://breakintochat.com/blog/2025/12/31/ansi-art-and-webcomics-part-3-eerie-and-inspector-dangerfuck/"
              >"Inspector Dangerfuck", ANSI art comic from 1994</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 21:18:10</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46469473"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46466027">
          <h3>
            <a
              class="item"
              href="https://andrew.grahamyooll.com/blog/Try-to-Take-My-Position/"
              >Try to take my position: The best promotion advice I ever got</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 15:56:14</span
              ><span class="points-container"
                >Points: <span class="points">482</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46466027"
                  >Comments</a
                ><span class="descendants">: 235</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46464462">
          <h3>
            <a
              class="item"
              href="https://eugene.kaspersky.com/2022/04/26/how-to-repair-the-underside-of-a-ships-hull-still-in-the-river-in-50%CB%9Ac-yakutsk/"
              >Repair a ship’s hull still in the river in -50˚C (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 13:21:42</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46464462"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46460930">
          <h3>
            <a class="item" href="https://github.com/bquenin/interpreter"
              >Interpreter – Offline screen translator for Japanese retro
              games</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-02 @ 03:01:50</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46460930"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46455643">
          <h3>
            <a
              class="item"
              href="https://kinder.rice.edu/urbanedge/fema-buyouts-vs-risky-real-estate-new-maps-reveal-post-flood-migration-patterns-across-us"
              >New maps reveal post-flood migration patterns across the US</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-01 @ 16:58:19</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46455643"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46441873">
          <h3>
            <a
              class="item"
              href="https://steipete.me/posts/2025/shipping-at-inference-speed"
              >Shipping at Inference-Speed</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-31 @ 06:15:05</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46441873"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
