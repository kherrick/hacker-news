<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="47097904">
          <h3>
            <a
              class="item"
              href="https://www.biometricupdate.com/202602/colorado-moves-age-checks-from-websites-to-operating-systems"
              >Colorado moves age checks from websites to operating systems</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 06:01:29</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47097904"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47097554">
          <h3>
            <a class="item" href="https://script-snap.com/"
              >Show HN: Script Snap – Extract code from videos</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 04:39:20</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47097554"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                The Backstory: I built this out of pure frustration. A while
                ago, I was trying to figure out a specific configuration for a
                project, and the only good resource I could find was a 25-minute
                YouTube video. I had to scrub through endless "smash the like
                button" intros and sponsor reads just to find a single 5-line
                JSON payload.
              </p>
              <p>
                I realized I didn't want an "AI summary" of the video; I just
                wanted the raw code hidden inside it.
              </p>
              <p>
                What's different: There are dozens of "YouTube to Text"
                summarizers out there. Script Snap is different because it is
                explicitly designed as a technical extraction engine.
              </p>
              <p>
                It doesn't give you bullet points about how the YouTuber feels.
                It scans the transcript and on-screen visuals to extract
                specifically:
              </p>
              <p>Code snippets</p>
              <p>Terminal commands</p>
              <p>API payloads (JSON/YAML)</p>
              <p>Security warnings (like flagging sketchy npm installs)</p>
              <p>
                It strips out the "vibe" and outputs raw, formatted Markdown
                that you can copy straight into your IDE.
              </p>
              <p>
                Full disclosure on the launch: Our payment processor (Stripe)
                flagged us on day one (banks seem to hate AI tools), so I've
                pivoted to a manual "Concierge Alpha" for onboarding. The
                extraction engine is fully operational, just doing things the
                hard way for now.
              </p>
              <p>
                I'd love to hear your thoughts or harsh feedback on the
                extraction quality!
              </p>
            </div>
          </section>
        </section>
        <section id="47097502">
          <h3>
            <a
              class="item"
              href="https://mojodojo.io/blog/meta-is-systematically-killing-our-agency/"
              >Meta Deployed AI and It Is Killing Our Agency</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 04:29:40</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47097502"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47096520">
          <h3>
            <a
              class="item"
              href="https://leaflet.pub/p/did:plc:3vdrgzr2zybocs45yfhcr6ur/3mfd2oxx5v22b"
              >What Is OAuth?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 01:33:40</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47096520"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47096466">
          <h3>
            <a class="item" href="https://www.june.kim/cord"
              >Cord: Coordinating Trees of AI Agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 01:27:35</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47096466"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47095429">
          <h3>
            <a class="item" href="https://worldwideweb.cern.ch"
              >CERN rebuilt the original browser from 1989 (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 23:19:12</span
              ><span class="points-container"
                >Points: <span class="points">144</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47095429"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47095134">
          <h3>
            <a
              class="item"
              href="https://www.bloodinthemachine.com/p/across-the-us-people-are-dismantling"
              >Across the US, people are dismantling and destroying Flock
              surveillance cameras</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 22:50:35</span
              ><span class="points-container"
                >Points: <span class="points">282</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47095134"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47094877">
          <h3>
            <a
              class="item"
              href="https://adamj.eu/tech/2023/09/18/git-dont-create-gitkeep/"
              >Don't create .gitkeep files, use .gitignore instead (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 22:27:56</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47094877"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47094192">
          <h3>
            <a class="item" href="https://words.filippo.io/dependabot/"
              >Turn Dependabot Off</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 21:25:41</span
              ><span class="points-container"
                >Points: <span class="points">384</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47094192"
                  >Comments</a
                ><span class="descendants">: 101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47094149">
          <h3>
            <a class="item" href="https://mines.fyi/"
              >Show HN: Mines.fyi – all the mines in the US in a leaflet
              visualization</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 21:22:27</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47094149"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
            <div class="text">
              I downloaded the MSHA's (Mine Safety and Health Administration)
              public datasets and create a visualization of all the mines in the
              US complete with the operators and details on each site.
            </div>
          </section>
        </section>
        <section id="47093724">
          <h3>
            <a class="item" href="https://openscan.eu/pages/scan-gallery"
              >OpenScan</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 20:47:48</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47093724"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47092578">
          <h3>
            <a
              class="item"
              href="https://dixken.de/blog/i-found-a-vulnerability-they-found-a-lawyer"
              >I found a Vulnerability. They found a Lawyer</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 19:19:58</span
              ><span class="points-container"
                >Points: <span class="points">487</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47092578"
                  >Comments</a
                ><span class="descendants">: 204</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47092203">
          <h3>
            <a
              class="item"
              href="https://juno-labs.com/blogs/every-company-building-your-ai-assistant-is-an-ad-company"
              >Every company building your AI assistant is now an ad company</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 18:55:15</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47092203"
                  >Comments</a
                ><span class="descendants">: 82</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47092006">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2026/02/wikipedia-bans-archive-today-after-site-executed-ddos-and-altered-web-captures/"
              >Wikipedia deprecates Archive.today, starts removing archive
              links</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 18:42:21</span
              ><span class="points-container"
                >Points: <span class="points">386</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47092006"
                  >Comments</a
                ><span class="descendants">: 227</span></span
              >
            </h4>
            <div class="text">
              <p>
                <i>Archive.today is directing a DDoS attack against my blog</i>
                -
                <a href="https://news.ycombinator.com/item?id=46843805"
                  >https://news.ycombinator.com/item?id=46843805</a
                >
                - Feb 2026 (168 comments)
              </p>
              <p>
                <i>Ask HN: Weird archive.today behavior?</i> -
                <a href="https://news.ycombinator.com/item?id=46624740"
                  >https://news.ycombinator.com/item?id=46624740</a
                >
                - Jan 2026 (69 comments)
              </p>
            </div>
          </section>
        </section>
        <section id="47091748">
          <h3>
            <a
              class="item"
              href="https://pilk.website/3/facebook-is-absolutely-cooked"
              >Facebook is cooked</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 18:25:07</span
              ><span class="points-container"
                >Points: <span class="points">955</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47091748"
                  >Comments</a
                ><span class="descendants">: 539</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47091606">
          <h3>
            <a
              class="item"
              href="https://www.neuroai.science/p/blue-light-filters-dont-work"
              >Blue light filters don't work – controlling total luminance is a
              better bet</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 18:14:13</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47091606"
                  >Comments</a
                ><span class="descendants">: 173</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47091469">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/news/claude-code-security"
              >Making frontier cybersecurity capabilities available to
              defenders</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 18:03:19</span
              ><span class="points-container"
                >Points: <span class="points">112</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47091469"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47091419">
          <h3>
            <a class="item" href="https://f-droid.org/2026/02/20/twif.html"
              >Keep Android Open</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 17:58:51</span
              ><span class="points-container"
                >Points: <span class="points">1322</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47091419"
                  >Comments</a
                ><span class="descendants">: 502</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47091071">
          <h3>
            <a class="item" href="https://taylor.town/scrapscript-000"
              >Lil' Fun Langs</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 17:34:12</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47091071"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47089213">
          <h3>
            <a class="item" href="https://www.bbc.com/news/live/c0l9r67drg7t"
              >Trump's global tariffs struck down by US Supreme Court</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 15:27:38</span
              ><span class="points-container"
                >Points: <span class="points">1351</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47089213"
                  >Comments</a
                ><span class="descendants">: 1095</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47088166">
          <h3>
            <a class="item" href="https://github.com/IronsideXXVI/Hacker-News"
              >Show HN: A native macOS client for Hacker News, built with
              SwiftUI</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 14:02:05</span
              ><span class="points-container"
                >Points: <span class="points">201</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47088166"
                  >Comments</a
                ><span class="descendants">: 141</span></span
              >
            </h4>
            <div class="text">
              <p>
                GitHub:
                <a href="https://github.com/IronsideXXVI/Hacker-News"
                  >https://github.com/IronsideXXVI/Hacker-News</a
                >
              </p>
              <p>
                Download (signed &amp; notarized DMG, macOS 14.0+):
                <a href="https://github.com/IronsideXXVI/Hacker-News/releases"
                  >https://github.com/IronsideXXVI/Hacker-News/releases</a
                >
              </p>
              <p>
                Screenshots:
                <a
                  href="https://github.com/IronsideXXVI/Hacker-News#screenshots"
                  >https://github.com/IronsideXXVI/Hacker-News#screenshots</a
                >
              </p>
              <p>
                I spend a lot of time reading HN — I wanted something that felt
                like a proper Mac app: a sidebar for browsing stories, an
                integrated reader for articles, and comment threading — all in
                one window. Essentially, I wanted HN to feel like a first-class
                citizen on macOS, not a website I visit.
              </p>
              <p>What it does:</p>
              <p>
                - Split-view layout — stories in a sidebar on the left, articles
                and comments on the right, using the standard macOS
                NavigationSplitView pattern.
              </p>
              <p>
                - Built-in ad blocking — a precompiled WKContentRuleList blocks
                14 major ad networks (DoubleClick, Google Syndication, Criteo,
                Taboola, Outbrain, Amazon ads, etc.) right in the WebKit layer.
                No extensions needed. Toggleable in settings.
              </p>
              <p>
                - Pop-up blocking — kills window.open() calls. Also toggleable.
              </p>
              <p>
                - HN account login — full authentication flow (login, account
                creation, password reset). Session is stored in the macOS
                Keychain, and cookies are injected into the WebView so you can
                upvote, comment, and submit stories while staying logged in.
              </p>
              <p>
                - Bookmarks — save stories locally for offline access. Persisted
                with Codable serialization, searchable and filterable
                independently.
              </p>
              <p>
                - Search and filtering — powered by the Algolia HN API. Filter
                by content type (All, Ask, Show, Jobs, Comments), date range
                (Today, Past Week, Past Month, All Time), and sort by hot or
                recent.
              </p>
              <p>
                - Scroll progress indicator — a small orange bar at the top
                tracks your reading progress via JavaScript-to-native messaging.
              </p>
              <p>
                - Auto-updates via Sparkle with EdDSA-signed updates served from
                GitHub Pages.
              </p>
              <p>
                - Dark mode — respects system appearance with CSS and meta tag
                injection.
              </p>
              <p>Tech details for the curious:</p>
              <p>
                The whole app is ~2,050 lines of Swift across 16 files. It uses
                the modern @Observable macro (not the old
                ObservableObject/Published pattern), structured concurrency with
                async/await and withThrowingTaskGroup for concurrent batch
                fetching, and SwiftUI throughout — no UIKit/AppKit bridges
                except for the WKWebView wrapper via NSViewRepresentable.
              </p>
              <p>
                Two APIs power the data: the official HN Firebase API for
                individual item/user fetches, and the Algolia Search API for
                feeds, filtering, and search. The Algolia API is surprisingly
                powerful for this — it lets you do date-range filtering,
                pagination, and full-text search that the Firebase API doesn't
                support.
              </p>
              <p>CI/CD:</p>
              <p>
                The release pipeline is a single GitHub Actions workflow (467
                lines) that handles the full macOS distribution story: build and
                archive, code sign with Developer ID, notarize with Apple (with
                a 5-retry staple loop for ticket propagation delays), create a
                custom DMG with AppleScript-driven icon positioning, sign and
                notarize the DMG, generate an EdDSA Sparkle signature, create a
                GitHub Release, and deploy an updated appcast.xml to GitHub
                Pages.
              </p>
              <p>
                Getting macOS code signing and notarization working in CI was
                honestly the hardest part of this project. If anyone is
                distributing a macOS app outside the App Store via GitHub
                Actions, I'm happy to answer questions — the workflow is fully
                open source.
              </p>
              <p>
                The entire project is MIT licensed. PRs and issues welcome:
                <a href="https://github.com/IronsideXXVI/Hacker-News"
                  >https://github.com/IronsideXXVI/Hacker-News</a
                >
              </p>
              <p>
                I'd love feedback — especially on features you'd want to see.
                Some ideas I'm considering: keyboard-driven navigation (j/k to
                move between stories), a reader mode that strips articles down
                to text, and notification support for replies to your comments.
              </p>
            </div>
          </section>
        </section>
        <section id="47088037">
          <h3>
            <a
              class="item"
              href="https://github.com/ggml-org/llama.cpp/discussions/19759"
              >Ggml.ai joins Hugging Face to ensure the long-term progress of
              Local AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 13:51:04</span
              ><span class="points-container"
                >Points: <span class="points">715</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47088037"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47086181">
          <h3>
            <a class="item" href="https://taalas.com/the-path-to-ubiquitous-ai/"
              >The path to ubiquitous AI (17k tokens/sec)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 10:32:52</span
              ><span class="points-container"
                >Points: <span class="points">710</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47086181"
                  >Comments</a
                ><span class="descendants">: 403</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47085425">
          <h3>
            <a
              class="item"
              href="https://jimmyhmiller.com/learn-codebase-visualizer"
              >Untapped Way to Learn a Codebase: Build a Visualizer</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 08:52:17</span
              ><span class="points-container"
                >Points: <span class="points">214</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47085425"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47065729">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-026-00502-2"
              >Microsoft team creates 'revolutionary' data storage system that
              lasts millennia</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-18 @ 20:12:13</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47065729"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47064048">
          <h3>
            <a
              class="item"
              href="https://blog.conan.io/cpp/conan/configuration/reproducibility/lockfile/2026/02/17/Reproducible-Configuration-Conan.html"
              >Reproducible and traceable configuration for Conan C and C++
              package manager</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-18 @ 18:04:18</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47064048"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47058584">
          <h3>
            <a
              class="item"
              href="https://tigerbeetle.com/blog/2026-02-16-index-count-offset-size/"
              >Index, Count, Offset, Size</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-18 @ 08:20:17</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47058584"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47055261">
          <h3>
            <a
              class="item"
              href="https://macleans.ca/society/elton-mcdonald-and-the-incredible-true-story-behind-the-toronto-mystery-tunnel/"
              >The true story behind the Toronto mystery tunnel</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-18 @ 00:01:40</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47055261"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47045194">
          <h3>
            <a class="item" href="https://www.forth.com/swiftforth/"
              >SwiftForth IDE for Windows, Linux, macOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-17 @ 08:55:13</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47045194"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47037568">
          <h3>
            <a
              class="item"
              href="https://golfcoursewiki.substack.com/p/i-spent-the-last-month-and-a-half"
              >Building a model that visualizes strategic golf</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 17:15:27</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47037568"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
