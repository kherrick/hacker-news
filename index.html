<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46297767">
          <h3>
            <a
              class="item"
              href="https://www.economist.com/asia/2025/12/11/why-many-asian-megacities-are-miserable-places"
              >Why many Asian megacities are miserable places</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 03:03:32</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46297767"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46297702">
          <h3>
            <a
              class="item"
              href="https://electrek.co/2025/12/15/tesla-reports-another-robotaxi-crash-even-with-supervisor/"
              >Tesla Robotaxis in Austin Crash 12.5x More Frequently Than
              Humans</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 02:52:22</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46297702"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46297336">
          <h3>
            <a
              class="item"
              href="https://appleinsider.com/articles/25/12/13/locked-out-how-a-gift-card-purchase-destroyed-an-apple-account"
              >Locked out: How a gift card purchase destroyed an Apple
              account</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 02:01:38</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46297336"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46297127">
          <h3>
            <a class="item" href="https://bernsteinbear.com/isdt/"
              >CS 4973: Introduction to Software Development Tooling –
              Northeastern Univ (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 01:26:14</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46297127"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46296926">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/sei/jobs/TYbKqi0-llm-engineer-mid-senior"
              >Sei AI (YC W22) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 01:00:21</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46296863">
          <h3>
            <a class="item" href="https://lingoku.ai/learn-japanese"
              >Show HN: Learn Japanese contextually while browsing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-17 @ 00:50:40</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46296863"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <p>
                Just wanted to share a tool i've been working on to help with my
                own study routine. It’s a browser extension called Lingoku.
              </p>
              <p>
                The idea is simple: we spend hours browsing the web in English
                every day. This tool replaces some of the english words with
                Japanese vocabulary based on your japanese level (Similar to
                Toucan, but with a better user experience).
              </p>
              <p>
                It’s basically an attempt to make the "i+1" method actually
                passive, you understand the sentence because it's mostly
                english, but you pick up Japanese words naturally from the
                context. It uses an LLM in the backend to make sure the
                translations fit the context (so it distinguishes between
                different meanings of the same word).
              </p>
              <p>
                since it uses paid AI APIs for the words replacement, I couldn't
                make it 100% free (server costs are real, unfortunately).
                However, there is a "forever free" plan with daily credits that
                doesn't require a credit card. it should be enough for casual
                daily browsing.
              </p>
              <p>
                I built this because I struggle with Anki burnout and wanted a
                way to review words without feeling like i am "studying"
              </p>
              <p>
                It supports Chrome, Edge, and Firefox now. would love any
                feedback or feature requests!
              </p>
              <p>
                <a href="https://lingoku.ai/learn-japanese"
                  >https://lingoku.ai/learn-japanese</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46296172">
          <h3>
            <a
              class="item"
              href="https://www.lansingstatejournal.com/story/news/local/2025/12/16/lansing-state-capitol-data-centers-rally-michigan/87792001007/"
              >More than 100 rally against data centers at Michigan Capitol</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 23:27:10</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46296172"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46295792">
          <h3>
            <a class="item" href="https://dafny.org/"
              >Dafny: Verification-Aware Programming Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 22:50:59</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46295792"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46295771">
          <h3>
            <a
              class="item"
              href="https://simonwillison.net/2025/Dec/15/porting-justhtml/"
              >I ported JustHTML from Python to JavaScript with Codex CLI and
              GPT-5.2 in hours</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 22:48:56</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46295771"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46295268">
          <h3>
            <a
              class="item"
              href="https://www.waterfox.com/blog/no-ai-here-response-to-mozilla/"
              >No AI* Here – A Response to Mozilla's Next Chapter</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 22:07:49</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46295268"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46294592">
          <h3>
            <a
              class="item"
              href="https://tailscale.com/blog/chat-tails-terminal-chat"
              >Chat-tails: Throwback terminal chat, built on Tailscale</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 21:16:35</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46294592"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46294574">
          <h3>
            <a
              class="item"
              href="https://martin.kleppmann.com/2025/12/08/ai-formal-verification.html"
              >AI will make formal verification go mainstream</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 21:14:49</span
              ><span class="points-container"
                >Points: <span class="points">398</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46294574"
                  >Comments</a
                ><span class="descendants">: 200</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46294289">
          <h3>
            <a class="item" href="https://astral.sh/blog/ty"
              >Announcing the Beta release of ty</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 20:52:45</span
              ><span class="points-container"
                >Points: <span class="points">384</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46294289"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46293062">
          <h3>
            <a
              class="item"
              href="https://www.sebastianaaltonen.com/blog/no-graphics-api"
              >No Graphics API</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 19:20:17</span
              ><span class="points-container"
                >Points: <span class="points">465</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46293062"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46291941">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/new-chatgpt-images-is-here/"
              >GPT Image 1.5</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 18:07:07</span
              ><span class="points-container"
                >Points: <span class="points">349</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46291941"
                  >Comments</a
                ><span class="descendants">: 179</span></span
              >
            </h4>
            <div class="text">
              <a href="https://platform.openai.com/docs/models/gpt-image-1.5"
                >https://platform.openai.com/docs/models/gpt-image-1.5</a
              >
            </div>
          </section>
        </section>
        <section id="46291156">
          <h3>
            <a
              class="item"
              href="https://resources.github.com/actions/2026-pricing-changes-for-github-actions/"
              >Pricing Changes for GitHub Actions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 17:12:02</span
              ><span class="points-container"
                >Points: <span class="points">524</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46291156"
                  >Comments</a
                ><span class="descendants">: 602</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46290916">
          <h3><a class="item" href="https://alpr.watch/">alpr.watch</a></h3>
          <section>
            <h4>
              <span>2025-12-16 @ 16:54:19</span
              ><span class="points-container"
                >Points: <span class="points">667</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46290916"
                  >Comments</a
                ><span class="descendants">: 333</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46289918">
          <h3>
            <a class="item" href="https://kemble.net/blog/provoke/"
              >Writing a blatant Telegram clone using Qt, QML and Rust. And
              C++</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 15:41:47</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46289918"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46288491">
          <h3>
            <a
              class="item"
              href="https://blog.mozilla.org/en/mozilla/leadership/mozillas-next-chapter-anthony-enzor-demeo-new-ceo/"
              >Mozilla appoints new CEO Anthony Enzor-Demeo</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 13:53:14</span
              ><span class="points-container"
                >Points: <span class="points">442</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46288491"
                  >Comments</a
                ><span class="descendants">: 693</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46288453">
          <h3>
            <a class="item" href="https://github.com/TheAuditorTool/Auditor"
              >Show HN: TheAuditor v2.0 – A ”Flight Computer“ for AI Coding
              Agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 13:50:15</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46288453"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                The "A-ha" moment for me didn't come from a success; it came
                from a massive failure. I was trying to use AI to refactor a
                complex schema change (a foundation change from "Products" to
                "ProductsVariants"), and due to the scope of it, it failed
                spectacularly. I realized two things:
              </p>
              <p>
                * Context Collapse: The AI couldn't keep enough files in its
                context window to understand the full scope of the refactor, so
                it started hallucinating, "fixing" superficial issues. If I kept
                pressing it, it would literally panic and make up problems "so
                it could fix them," which only resulted in the situation going
                into a death spiral. That’s the villain origin story of this
                tool. :D * Stale Knowledge: It kept trying to implement Node 16
                patterns in a Node 22 project, or defaulting to obsolete
                libraries (like glob v7 instead of v11) because its training
                data was stale.
              </p>
              <p>
                I realized that AI agents are phenomenal at outputting working
                code, but they have zero understanding of it. They optimize for
                "making it run at any cost"—often by introducing security holes
                or technical debt just to bypass an error. This is a funny
                paradox because when "cornered/forced" to use cutting-edge
                versions, syntax, and best practices, it has zero issue
                executing or coding it. However, it’s so hilariously unaware of
                its surroundings that it will do anything else unless explicitly
                babysat.
              </p>
              <p>
                I built v2 to be the "Sanity Check" that solves a lot of these
                issues, and it aims to continue solving more of the same and
                similar issues I face. Instead of letting the AI guess,
                TheAuditor indexes the entire codebase into a local SQLite Graph
                Database. This gives the AI a queryable map of reality, allowing
                it to verify dependencies and imports without needing to load
                "all" files into context.
              </p>
              <p>
                A/B Demo:
                <a href="https://www.youtube.com/watch?v=512uqMaZlTg"
                  >https://www.youtube.com/watch?v=512uqMaZlTg</a
                >
                As seen in the demo video, instead of trying to read 10+ full
                files and/or grepping to make up for the hallucinations, it can
                now run "aud explain" and get 500 lines of deterministic "facts
                only" information. It gets just what it needs to see versus
                reading 10+ files, trying to keep them in context, finding what
                it was looking for, and trying to remember why it was looking to
                begin with.
              </p>
              <p>
                I also learned that regex/string/heuristics don't scale at all
                and are painfully slow (hours vs minutes). I tried the
                regex-based rules/parsers approach, but they kept failing
                silently on complex files and suffered constant limitations (the
                worst offender was having to read all files per set of rules). I
                scrapped that approach and built a "Triple-Entry Fidelity"
                system. Now, the tool acts like a ledger: the parser emits a
                manifest, the DB emits a receipt. If they don't match, the
                system crashes intentionally.
              </p>
              <p>
                It’s no longer just a scanner; it’s a guardrail. In my daily
                workflow, I don't let the AI write a line of code until the AI
                (my choice just happens to be CC/Codex) has run a
                pre-investigation for whatever problem statement I'm facing at
                the moment. This ensures it's anchored in facts and not
                inference assumptions or, worse, hallucinations.
              </p>
              <p>
                With that said, my tool isn't perfect. To support it all, I had
                to build a pseudo-compiler for Python/JS/TS, and that means
                preparing extractors for every framework, every
                syntax—everything, really. Sometimes I don't get it right, and
                sometimes I just won't have had enough time to build it out to
                support everything.
              </p>
              <p>
                So, my recommendation is to integrate the tool WITH your AI
                agent of choice rather than seeing it as a tool for you, the
                human. I like to use the tool as a "confirm or deny," where the
                AI runs the tool, verifies in source code, and presents a
                pre-implementation audit. Based on that audit, I will create an
                "aud planning."
              </p>
              <p>Some of the major milestones in v2.0</p>
              <p>
                * Hybrid Taint: I extended the Oracle Labs IFDS research to
                track data flow across microservice boundaries (e.g., React
                fetch → Express middleware → Controller).
              </p>
              <p>
                * Triple-Entry Fidelity: This works across every layer (Indexer
                -&gt; Extractor -&gt; Parser -&gt; Storage). Every step has
                fidelity checks working in unison. If there is silent data loss
                anywhere in the pipeline, the tool crashes intentionally.
              </p>
              <p>
                * Graph DB: Moved from file-based parsing to a SQLite Graph
                Database to handle complex relationships that regex missed.
              </p>
              <p>
                * Scope: Added support for Rust, Go, Bash, AWS CDK, and
                Terraform (v1 was Python/JS only).
              </p>
              <p>
                * Agent Capabilities: Added Planning and Refactor engines,
                allowing AI agents to not just scan code but safely plan and
                execute architectural changes
              </p>
            </div>
          </section>
        </section>
        <section id="46288415">
          <h3>
            <a
              class="item"
              href="https://www.tum.de/en/news-and-events/all-news/press-releases/details/40-percent-of-mri-signals-do-not-correspond-to-actual-brain-activity"
              >40 percent of fMRI signals do not correspond to actual brain
              activity</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 13:46:57</span
              ><span class="points-container"
                >Points: <span class="points">408</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46288415"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46288024">
          <h3>
            <a class="item" href="https://gamehistory.org/segachannel/"
              >Sega Channel: VGHF Recovers over 100 Sega Channel ROMs (and
              More)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 13:07:14</span
              ><span class="points-container"
                >Points: <span class="points">228</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46288024"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46286292">
          <h3>
            <a
              class="item"
              href="https://www.japantimes.co.jp/news/2025/08/21/japan/panel-hepburn-style-romanization/"
              >Japan to revise romanization rules for first time in 70 years</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 08:54:58</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46286292"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46283276">
          <h3>
            <a
              class="item"
              href="https://www.joanwestenberg.com/thin-desires-are-eating-your-life/"
              >Thin desires are eating life</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 00:50:41</span
              ><span class="points-container"
                >Points: <span class="points">358</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46283276"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46282874">
          <h3>
            <a
              class="item"
              href="https://yaschamounk.substack.com/p/the-world-happiness-report-is-a-sham"
              >The World Happiness Report is beset with methodological
              problems</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-16 @ 00:06:49</span
              ><span class="points-container"
                >Points: <span class="points">93</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46282874"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46275111">
          <h3>
            <a
              class="item"
              href="https://research.nvidia.com/labs/nemotron/Nemotron-3/"
              >Nvidia Nemotron 3 Family of Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-15 @ 14:39:49</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46275111"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46248627">
          <h3>
            <a
              class="item"
              href="https://chillphysicsenjoyer.substack.com/p/testing-a-cheaper-laminar-flow-hood"
              >Testing a cheaper laminar flow hood</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-12 @ 20:40:31</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46248627"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46231370">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/cars/2025/11/an-electric-car-thats-faster-than-f1-around-monaco-thats-the-idea/"
              >Twin suction turbines and 3-Gs in slow corners? Meet the
              DRG-Lola</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 13:53:58</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46231370"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46226068">
          <h3>
            <a
              class="item"
              href="https://www.aadillpickle.com/blog/midjourney-is-alemwjsl"
              >Midjourney is alemwjsl</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-11 @ 00:25:57</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46226068"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46219987">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/12/10/technology/meta-ai-tbd-lab-friction.html"
              >Meta's new A.I. superstars are chafing against the rest of the
              company</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-10 @ 16:44:59</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46219987"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
