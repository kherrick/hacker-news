<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43908368">
          <h3>
            <a class="item" href="https://github.com/reubeno/brush"
              >Brush (Bo(u)rn(e) RUsty SHell) a POSIX and Bash-Compatible Shell
              in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 18:47:49</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43908368"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43907941">
          <h3>
            <a class="item" href="https://github.com/macieklamberski/feedsmith"
              >Show HN: Feedsmith — Fast parser &amp;amp; generator for RSS,
              Atom, OPML feed namespaces</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 18:03:43</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43907941"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p>
                Feedsmith supports all feed formats and many popular namespaces,
                including: Podcast, Media, iTunes, Dublin Core, and more. It can
                also parse and generate OPML files.
              </p>
              <p>
                I am currently adding support for more namespaces and feed
                generation for RSS, Atom and RDF. The library grew into
                something bigger than I initially anticipated, so I also started
                creating a dedicated documentation website to describe all the
                features.
              </p>
            </div>
          </section>
        </section>
        <section id="43907850">
          <h3>
            <a
              class="item"
              href="https://foundation.tlapl.us/challenge/index.html"
              >GenAI-Accelerated TLA+ Challenge</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 17:54:52</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43907850"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43907820">
          <h3>
            <a
              class="item"
              href="https://www.collabora.com/news-and-blog/blog/2025/05/06/matt-godbolt-sold-me-on-rust-by-showing-me-c-plus-plus/"
              >Matt Godbolt sold me on Rust (by showing me C++)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 17:51:03</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43907820"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43907586">
          <h3>
            <a
              class="item"
              href="https://www.centauri-dreams.org/2025/05/06/is-planet-nine-alone-in-the-outer-system/"
              >Is Planet Nine Alone in the Outer System?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 17:29:31</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43907586"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43907376">
          <h3>
            <a
              class="item"
              href="https://www.linkedin.com/posts/danielstenberg_hackerone-curl-activity-7324820893862363136-glb1"
              >Curl: We still have not seen a single valid security report done
              with AI help</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 17:07:58</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43907376"
                  >Comments</a
                ><span class="descendants">: 100</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43906841">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43906841"
              >Launch HN: Exa (YC S21) – The web as a database</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 16:18:42</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43906841"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
            <div class="text">
              <a href="https://exa.ai">https://exa.ai</a>). We recently launched
              Exa Websets, an embeddings-powered search engine designed to
              return exactly what you’re asking for. You can get precise results
              for complex queries like “all startups working on open-source
              developer tools based in SF, founded 2021-2025”. Demo here -
              <a href="https://youtu.be/Unt8hJmCxd4"
                >https://youtu.be/Unt8hJmCxd4</a
              >
              <p>
                We started working on Exa because we were frustrated that while
                LLM state-of-the-art is advancing every week, Google has gotten
                worse over time. The Internet used to feel like a magical
                information portal, but it doesn’t feel that way anymore when
                you’re constantly being pushed towards SEO-optimized clickbait.
              </p>
              <p>
                Websets is a step in the opposite direction. For every search,
                we perform dozens of embedding searches over Exa’s vector
                database of the web to find good search candidates, then we run
                agentic workflows on each result to verify they match exactly
                what you asked for.
              </p>
              <p>
                Websets results are good for two reasons. First, we train custom
                embedding models for our main search algorithm, instead of
                typical keyword matching search algorithms. Our embeddings
                models are trained specifically to return exactly the type of
                entity you ask for. In practice, that means if you search
                “startups working in nanotech”, keyword-based search engines
                return listicles about nanotech startups, because these
                listicles match the keywords in the query. In contrast, our
                embedding models return actual startup homepages, because these
                startup homepages match the meaning of the query.
              </p>
              <p>
                The second is that LLMs provide the last-mile intelligence
                needed to verify every result. Each result and piece of data is
                backed with supporting references that we used to validate that
                the result is actually a match for your search criteria. That’s
                why Websets can take minutes or even hours to run, depending on
                your query and how many results you ask for. For valuable search
                queries, we think this is worth it.
              </p>
              <p>
                Also notably, Websets are tables, not lists. You can add
                “enrichment” columns to find more information about each result,
                like “# of employees” or “does author have blog?”, and the cells
                asynchronously load in. This table format hopefully makes the
                web feel more like a database.
              </p>
              <p>A few examples of searches that work with Websets:</p>
              <p>
                - “Math blogs created by teachers from outside the US”:
                <a href="https://websets.exa.ai/cma1oz9xf007sis0ipzxgbamn"
                  >https://websets.exa.ai/cma1oz9xf007sis0ipzxgbamn</a
                >
              </p>
              <p>
                - "research paper about ways to avoid the O(n^2) attention
                problem in transformers, where one of the first author's first
                name starts with "A","B", "S", or "T", and it was written
                between 2018 and 2022”:
                <a href="https://websets.exa.ai/cm7dpml8c001ylnymum4sp11h"
                  >https://websets.exa.ai/cm7dpml8c001ylnymum4sp11h</a
                >
              </p>
              <p>
                - “US based healthcare companies, with over 100 employees and a
                technical founder":
                <a href="https://websets.exa.ai/cm6lc0dlk004ilecmzej76qx2"
                  >https://websets.exa.ai/cm6lc0dlk004ilecmzej76qx2</a
                >
              </p>
              <p>
                - “all software engineers in the Bay Area, with experience in
                startups, who know Rust and have published technical content
                before”:
                <a href="https://youtu.be/knjrlm1aibQ"
                  >https://youtu.be/knjrlm1aibQ</a
                >
              </p>
              <p>
                You can try it at
                <a href="https://websets.exa.ai/">https://websets.exa.ai/</a>
                and API docs are at
                <a href="https://docs.exa.ai/websets"
                  >https://docs.exa.ai/websets</a
                >. We’d love to hear your feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="43906442">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43906442"
              >Show HN: Sheet Music in Smart Glasses</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 15:47:21</span
              ><span class="points-container"
                >Points: <span class="points">97</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43906442"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <a href="https://news.ycombinator.com/item?id=43876243"
                >https://news.ycombinator.com/item?id=43876243</a
              >, but dang said we should do a Show HN as well, so here goes!
              <p>
                I’ve wanted to put sheet music into smart glasses for a long
                time, but the perfect opportunity to execute came in
                mid-February, when Mentra (YC W25) tweeted about a smart glasses
                hackathon they were hosting - winners would get to take home a
                pair. I went, had a blast making a bunch of music-related apps
                with my teammate, and we won, so I got to take them home, refine
                the project, and make a pretty cool video about it (<a
                  href="https://www.youtube.com/watch?v=j36u2i7PKKE"
                  >https://www.youtube.com/watch?v=j36u2i7PKKE</a
                >).
              </p>
              <p>
                The glasses are Even Realities G1s. They look normal, but they
                have two microphones, a screen in each lens, and can be even
                made with a prescription. Every person I’ve met who tried them
                on was surprised at how good the display is, and the video
                recordings of them unfortunately don’t do them justice.
              </p>
              <p>
                The software runs on AugmentOS, which is Mentra’s smart glasses
                operating system that works on various 3rd-party smart glasses,
                including the G1s. All I had to do to make an app was write and
                run a typescript file using the AugmentOS SDK. This gives you
                the voice transcription and raw audio as input, and text or
                bitmaps available as output to the screens, everything else is
                completely abstracted away. Your glasses communicate with an
                AugmentOS app, and then the app communicates with your
                typescript service.
              </p>
              <p>
                The only hard part was creating a Python script to turn sheet
                music (MusicXML format) into small, optimized bitmaps to display
                on the screens. To start, the existing landscape of
                music-related Python libraries is pretty poorly documented and I
                ran into multiple never-before-seen error messages. Downscaling
                to the small size of the glasses screens also meant that stems
                and staff lines were disappearing, so I thought to use
                morphological dilation to emphasize those without making the
                notes unintelligible. The final pipeline was MusicXML -&gt;
                music21 library to render chunks of bars to png -&gt; dilate
                with opencv- &gt; downscale -&gt; convert to bitmap with Pillow
                -&gt; optimize bitmaps with imagemagick. This is far from the
                best code I’ve ever written, but the LLMs attempt at this whole
                task was abysmal and my years of Python experience really got to
                shine here. The code is on GitHub:
                <a href="https://github.com/kevinlinxc/AugmentedChords"
                  >https://github.com/kevinlinxc/AugmentedChords</a
                >.
              </p>
              <p>
                Putting it together, my typescript service serves these bitmaps
                locally when requested. I put together a UI where I can navigate
                menus and sheet music with voice commands (e.g. show catalog,
                next, select, start, exit, pause) and then I connected foot
                pedals to my laptop. Because of bitmap sending latency (~3s
                right now, but future glasses will do better), using foot pedals
                to turn the bars while playing wasn’t viable, so I instead had
                one of my pedals toggle autoscrolling, and the other two pedals
                sped up/temporarily paused the scrolling.
              </p>
              <p>
                After lots of adjustments, I was able to play a full song using
                just the glasses! It took many takes and there was definitely
                lots of room for improvement. For example: - Bitmap sending is
                pretty slow, which is why using the foot pedals to turn bars
                wasn’t viable. - The resolution is pretty small, I would love to
                put more bars in at once so I can flip less frequently. - Since
                foot pedals aren’t portable, it would be cool to have a mode
                where the audio dictates when the sheet music changes. I tried
                implementing that with FFT but it was often wrong and more
                effort is needed. Head tilt controls would be cool too, because
                full manual control is a hard requirement for practicing.
              </p>
              <p>
                All of these pain points are being targeted by Mentra and other
                companies competing in the space, and so I’m super excited to
                see the next generation! Also, feel free to ask me anything!
              </p>
            </div>
          </section>
        </section>
        <section id="43906346">
          <h3>
            <a class="item" href="https://github.com/plexe-ai/plexe"
              >Show HN: Plexe – ML Models from a Prompt</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 15:38:04</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43906346"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/plexe-ai/plexe"
                >https://github.com/plexe-ai/plexe</a
              >), an open-source agent that turns natural language task
              descriptions into trained ML models. Here’s a video walkthrough:
              <a href="https://www.youtube.com/watch?v=bUwCSglhcXY"
                >https://www.youtube.com/watch?v=bUwCSglhcXY</a
              >.
              <p>
                There are all kinds of uses for ML models that never get
                realized because the process of making them is messy and
                convoluted. You can spend months trying to find the data, clean
                it, experiment with models and deploy to production, only to
                find out that your project has been binned for taking so long.
                There are many tools for “automating” ML, but it still takes
                teams of ML experts to actually productionize something of
                value. And we can’t keep throwing LLMs at every ML problem. Why
                use a generic 10B parameter language model, if a logistic
                regression trained on your data could do the job better?
              </p>
              <p>
                Our light-bulb moment was that we could use LLMs to generate
                task-specific ML models that would be trained on one’s own data.
                Thanks to the emergent reasoning ability of LLMs, it is now
                possible to create an agentic system that might automate most of
                the ML lifecycle.
              </p>
              <p>
                A couple of months ago, we started developing a Python library
                that would let you define ML models on structured data using a
                description of the expected behaviour. Our initial
                implementation arranged potential solutions into a graph, using
                LLMs to write plans, implement them as code, and run the
                resulting training script. Using simple search algorithms, the
                system traversed the solution space to identify and package the
                best model.
              </p>
              <p>
                However, we ran into several limitations, as the algorithm
                proved brittle under edge cases, and we kept having to put
                patches for every minor issue in the training process. We
                decided to rethink the approach, throw everything out, and
                rebuild the tool using an agentic approach prioritising
                generality and flexibility. What started as a single ML
                engineering agent turned into an agentic ML "team", with all
                experiments tracked and logged using MLFlow.
              </p>
              <p>
                Our current implementation uses the smolagents library to define
                an agent hierarchy. We mapped the functionality of our previous
                implementation to a set of specialized agents, such as an “ML
                scientist” that proposes solution plans, and so on. Each agent
                has specialized tools, instructions, and prompt templates. To
                facilitate cross-agent communication, we implemented a shared
                memory that enables objects (datasets, code snippets, etc) to be
                passed across agents indirectly by referencing keys in a
                registry. You can find a detailed write-up on how it works here:
                <a
                  href="https://github.com/plexe-ai/plexe/blob/main/docs/architecture/multi-agent-system.md"
                  >https://github.com/plexe-ai/plexe/blob/main/docs/architectur...</a
                >
              </p>
              <p>
                Plexe’s early release is focused on predictive problems over
                structured data, and can be used to build models such as
                forecasting player injury risk in high-intensity sports, product
                recommendations for an e-commerce marketplace, or predicting
                technical indicators for algorithmic trading. Here are some
                examples to get you started:
                <a href="https://github.com/plexe-ai/plexe/tree/main/examples"
                  >https://github.com/plexe-ai/plexe/tree/main/examples</a
                >
              </p>
              <p>
                To get it working on your data, you can dump any CSV, parquet,
                etc and Plexe uses what it needs from your dataset to figure out
                what features it should use. In the open-source tool, it only
                supports adding files right now but in our platform version,
                we'll have support for integrating with Postgres where it pulls
                all available data based on an SQL query and dumps it into a
                parquet file for the agent to build models.
              </p>
              <p>
                Next up, we’ll be tackling more of the ML project lifecycle:
                we’re currently working on adding a “feature engineering agent”
                that focuses on the complex data transformations that are often
                required for data to be ready for model training. If you're
                interested, check Plexe out and let us know your thoughts!
              </p>
            </div>
          </section>
        </section>
        <section id="43906018">
          <h3>
            <a
              class="item"
              href="https://developers.googleblog.com/en/gemini-2-5-pro-io-improved-coding-performance/"
              >Gemini 2.5 Pro Preview</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 15:10:00</span
              ><span class="points-container"
                >Points: <span class="points">343</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43906018"
                  >Comments</a
                ><span class="descendants">: 315</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43905942">
          <h3>
            <a class="item" href="https://felixrieseberg.github.io/clippy/"
              >Show HN: Clippy – 90s UI for local LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 15:02:22</span
              ><span class="points-container"
                >Points: <span class="points">394</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43905942"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43905299">
          <h3>
            <a class="item" href="https://accent-strength.boldvoice.com/"
              >Accents in latent spaces: How AI hears accent strength in
              English</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 14:07:57</span
              ><span class="points-container"
                >Points: <span class="points">132</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43905299"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43905185">
          <h3>
            <a class="item" href="https://github.com/al13n321/nnd"
              >Nnd – a TUI debugger alternative to GDB, LLDB</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 13:58:03</span
              ><span class="points-container"
                >Points: <span class="points">167</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43905185"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43904865">
          <h3>
            <a
              class="item"
              href="https://github.com/mohsenph69/Godot-MTerrain-plugin"
              >MTerrain: Optimized terrain system and editor for Godot</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 13:26:21</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43904865"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43903945">
          <h3>
            <a
              class="item"
              href="https://homepages.inf.ed.ac.uk/wadler/papers/propositions-as-types/propositions-as-types.pdf"
              >Propositions as Types (2014) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 11:36:09</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43903945"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43903853">
          <h3>
            <a
              class="item"
              href="https://trifectatech.org/blog/memory-safe-sudo-to-become-the-default-in-ubuntu/"
              >Memory-safe sudo to become the default in Ubuntu</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 11:22:55</span
              ><span class="points-container"
                >Points: <span class="points">157</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43903853"
                  >Comments</a
                ><span class="descendants">: 157</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43903728">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/smart-news/scientists-taught-pet-parrots-to-video-call-each-other-and-the-birds-loved-it-180982041/"
              >Design and evaluation of a parrot-to-parrot video-calling system
              (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 11:03:28</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43903728"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43902263">
          <h3>
            <a
              class="item"
              href="https://www.blu-ray.com/movies/Sneakers-4K-Blu-ray/343185/"
              >Sneakers (1992) – 4K makeover sourced from the original camera
              negative</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 06:15:13</span
              ><span class="points-container"
                >Points: <span class="points">320</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43902263"
                  >Comments</a
                ><span class="descendants">: 231</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43902212">
          <h3>
            <a class="item" href="https://notashelf.dev/posts/curse-of-knowing"
              >The curse of knowing how, or; fixing everything</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 06:01:23</span
              ><span class="points-container"
                >Points: <span class="points">802</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43902212"
                  >Comments</a
                ><span class="descendants">: 352</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43901619">
          <h3>
            <a
              class="item"
              href="https://anukari.com/blog/devlog/an-appeal-to-apple"
              >An appeal to Apple from Anukari</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 03:40:10</span
              ><span class="points-container"
                >Points: <span class="points">309</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43901619"
                  >Comments</a
                ><span class="descendants">: 142</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43901495">
          <h3>
            <a class="item" href="https://critical-css-extractor.kigo.studio/"
              >Critical CSS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 03:13:08</span
              ><span class="points-container"
                >Points: <span class="points">186</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43901495"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43900877">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/articles/2025-05-06/openai-reaches-agreement-to-buy-startup-windsurf-for-3-billion"
              >OpenAI reaches agreement to buy Windsurf for $3B</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-06 @ 00:57:48</span
              ><span class="points-container"
                >Points: <span class="points">191</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43900877"
                  >Comments</a
                ><span class="descendants">: 222</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43899236">
          <h3>
            <a
              class="item"
              href="https://blog.yaakov.online/replacing-kubernetes-with-systemd/"
              >Replacing Kubernetes with systemd (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-05 @ 20:40:14</span
              ><span class="points-container"
                >Points: <span class="points">399</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43899236"
                  >Comments</a
                ><span class="descendants">: 291</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43899028">
          <h3>
            <a class="item" href="https://github.com/KoljaB/RealtimeVoiceChat"
              >Show HN: Real-time AI Voice Chat at ~500ms Latency</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-05 @ 20:17:32</span
              ><span class="points-container"
                >Points: <span class="points">482</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43899028"
                  >Comments</a
                ><span class="descendants">: 202</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43897772">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/evolving-our-structure/"
              >Evolving OpenAI's Structure</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-05 @ 18:08:02</span
              ><span class="points-container"
                >Points: <span class="points">590</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43897772"
                  >Comments</a
                ><span class="descendants">: 633</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43894257">
          <h3>
            <a class="item" href="https://reverse-pacman.staticrun.app/index"
              >Show HN: Reverse Pac-Man</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-05 @ 12:17:11</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43894257"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
            <div class="text">
              Keep one eye on the first ghost and the other on the second
            </div>
          </section>
        </section>
        <section id="43893442">
          <h3>
            <a
              class="item"
              href="https://www.scottishhistory.org/articles/the-inchtuthil-nail-hoard/"
              >The Inchtuthil Nail Hoard</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-05 @ 10:17:17</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43893442"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43883230">
          <h3>
            <a
              class="item"
              href="https://www.smh.com.au/culture/music/even-this-modern-maestro-won-t-touch-the-world-s-weirdest-instrument-20250417-p5lsms.html"
              >Carolina Eyck, renowned superstar of the theremin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-03 @ 23:35:31</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43883230"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43871730">
          <h3>
            <a
              class="item"
              href="https://www.cbc.ca/radio/asithappens/as-it-happens-thursday-edition-1.2963357/sea-snail-teeth-top-kevlar-titanium-as-world-s-strongest-material-1.2963549"
              >Sea snail teeth top Kevlar, titanium as strongest material
              (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-02 @ 16:16:52</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43871730"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43871601">
          <h3>
            <a
              class="item"
              href="http://jas-hacks.blogspot.com/2025/05/rk3588-implementing-vectorscope-for.html"
              >RK3588 – Implementing a Vectorscope for processing video in real
              time</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-02 @ 16:05:30</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43871601"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
