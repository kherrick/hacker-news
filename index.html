<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44041574">
          <h3>
            <a class="item" href="https://ogmo-editor-3.github.io/"
              >Ogmo – free, open source, 2D level editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 13:42:51</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44041574"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44040755">
          <h3>
            <a
              class="item"
              href="https://hagensieker.com/2020/11/08/firewalls-and-bioss-and-coreboot/"
              >Firewalls and BIOS's and Coreboot (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 12:21:58</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040755"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44040419">
          <h3>
            <a class="item" href="https://mused.com/map/"
              >Show HN: Text to 3D simulation on a map (does history pretty
              well)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 11:43:55</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040419"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
            <div class="text">
              <p>
                As historian Benjamin Breen mentions, the leading language
                models are good historians, so the application will simulate
                historical events pretty well also.
              </p>
              <p>
                I include a Multi-Agent RL Urban Mobility model in progress
                displayed on the map as small white cubes representing traffic
                and pedestrians. Around SF, it uses real census data and other
                sources for semantically meaningful day plans, etc. It will
                populate where you move the map, albeit a little slowly. This is
                based on previous work on my GitHub--I hope to connect it to
                Unreal's city samples project soon.
              </p>
              <p>
                The simulations are pretty simple so far but will grow in
                complexity soon.
              </p>
              <p>
                I won the AGI House World Models Hackathon with this and the
                MARL model.
              </p>
              <p>
                Many thanks to Shota Matsuda and Garrett Johnson for the cloud
                and atmospheric effects libraries on Github at
                takram-design-engineering/three-geospatial
              </p>
              <p>Glad for feedback, and thanks for trying it out!</p>
            </div>
          </section>
        </section>
        <section id="44040407">
          <h3>
            <a
              class="item"
              href="https://libertystreeteconomics.newyorkfed.org/2025/05/why-does-the-u-s-always-run-a-trade-deficit/"
              >Why Does the U.S. Always Run a Trade Deficit?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 11:42:24</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040407"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44040332">
          <h3>
            <a class="item" href="https://deno.com/blog/greatly-exaggerated"
              >Reports of Deno's Demise Have Been Greatly Exaggerated</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 11:33:14</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040332"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44040301">
          <h3>
            <a
              class="item"
              href="https://github.com/JavaFactoryPluginDev/javafactory-plugin"
              >Show HN: JavaFactory – IntelliJ plugin to generate Java code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 11:29:45</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44040301"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built a code generator plugin for IntelliJ that uses LLMs to
                create repetitive Java code like implementations, tests, and
                fixtures — based on custom natural-language patterns and
                annotation-based references.
              </p>
              <p>
                Most tools like Copilot or Cursor aim to be general, but fail to
                produce code that actually fits a project structure or passes
                tests.
              </p>
              <p>
                So I made something more explicit: define patterns + reference
                scope, and generate code consistently.
              </p>
              <p>
                In this demo, 400 lines of Java were generated in 20 seconds —
                and all tests passed:
                <a href="https://www.youtube.com/watch?v=ReBCXKOpW3M"
                  >https://www.youtube.com/watch?v=ReBCXKOpW3M</a
                >
              </p>
              <p>
                GitHub:
                <a
                  href="https://github.com/JavaFactoryPluginDev/javafactory-plugin"
                  >https://github.com/JavaFactoryPluginDev/javafactory-plugin</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44039864">
          <h3>
            <a
              class="item"
              href="https://artofproblemsolving.com/community/c2532359h2760821_the_emoji_problem__part_i?srsltid=AfmBOor9TbMq_A7hGHSJGfoWaa2HNzducSYZu35d_LFlCSNLXpvt-pdS"
              >The emoji problem (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 10:18:15</span
              ><span class="points-container"
                >Points: <span class="points">185</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44039864"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44039744">
          <h3>
            <a class="item" href="https://bernsteinbear.com/blog/simple-search/"
              >A simple search engine from scratch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 09:58:56</span
              ><span class="points-container"
                >Points: <span class="points">134</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44039744"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44039563">
          <h3>
            <a
              class="item"
              href="https://davidrozado.substack.com/p/the-strange-behavior-of-llms-in-hiring"
              >The behavior of LLMs in hiring decisions: Systemic biases in
              candidate selection</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 09:27:20</span
              ><span class="points-container"
                >Points: <span class="points">140</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44039563"
                  >Comments</a
                ><span class="descendants">: 114</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44038835">
          <h3>
            <a
              class="item"
              href="https://www.trenvista.net/en/news/rnhs/finland-migration-standard-gauge/"
              >Finland announces migration of its rail network to international
              gauge</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 07:40:28</span
              ><span class="points-container"
                >Points: <span class="points">309</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44038835"
                  >Comments</a
                ><span class="descendants">: 275</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44038549">
          <h3>
            <a class="item" href="https://github.com/akarshkumar0101/fer"
              >Questioning Representational Optimism in Deep Learning</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 06:54:27</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44038549"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44038209">
          <h3>
            <a
              class="item"
              href="https://noelberry.ca/posts/making_games_in_2025/"
              >Making Video Games (Without an Engine) in 2025</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 05:54:58</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44038209"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44037941">
          <h3>
            <a
              class="item"
              href="https://www.understandingai.org/p/i-got-fooled-by-ai-for-science-hypeheres"
              >I got fooled by AI-for-science hype–here's what it taught me</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 04:57:00</span
              ><span class="points-container"
                >Points: <span class="points">247</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44037941"
                  >Comments</a
                ><span class="descendants">: 188</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44037595">
          <h3>
            <a class="item" href="https://mccd.space/posts/design-pitch-ann/"
              >Ann, the Small Annotation Server</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 03:45:16</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44037595"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44037426">
          <h3>
            <a class="item" href="https://biffweb.com"
              >Biff – a batteries-included web framework for Clojure</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 03:13:20</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44037426"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44036900">
          <h3>
            <a class="item" href="https://humans.maxcomperatore.com/"
              >What are people doing? Live-ish estimates based on global
              population dynamics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 01:36:15</span
              ><span class="points-container"
                >Points: <span class="points">207</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44036900"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44036647">
          <h3>
            <a
              class="item"
              href="https://micahflee.com/ddosecrets-publishes-410-gb-of-heap-dumps-hacked-from-telemessages-archive-server/"
              >DDoSecrets publishes 410 GB of heap dumps, hacked from
              TeleMessage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-20 @ 00:52:27</span
              ><span class="points-container"
                >Points: <span class="points">541</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44036647"
                  >Comments</a
                ><span class="descendants">: 143</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44035158">
          <h3>
            <a
              class="item"
              href="https://www.troyhunt.com/have-i-been-pwned-2-0-is-now-live/"
              >Have I Been Pwned 2.0</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 21:37:23</span
              ><span class="points-container"
                >Points: <span class="points">704</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44035158"
                  >Comments</a
                ><span class="descendants">: 228</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44034918">
          <h3>
            <a class="item" href="https://jules.google/"
              >Jules: An Asynchronous Coding Agent</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 21:12:47</span
              ><span class="points-container"
                >Points: <span class="points">420</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44034918"
                  >Comments</a
                ><span class="descendants">: 166</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44034459">
          <h3>
            <a class="item" href="https://github.com/antirez/kilo"
              >Kilo: A text editor in less than 1000 LOC with syntax highlight
              and search</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 20:28:29</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44034459"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44032777">
          <h3>
            <a
              class="item"
              href="https://docs.anthropic.com/en/docs/claude-code/sdk"
              >Claude Code SDK</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 18:04:06</span
              ><span class="points-container"
                >Points: <span class="points">396</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44032777"
                  >Comments</a
                ><span class="descendants">: 174</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44031535">
          <h3>
            <a class="item" href="https://ncase.me/trust/"
              >Game theory illustrated by an animated cartoon game</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 16:28:18</span
              ><span class="points-container"
                >Points: <span class="points">352</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44031535"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44031432">
          <h3>
            <a
              class="item"
              href="https://github.blog/changelog/2025-05-19-github-copilot-coding-agent-in-public-preview/"
              >GitHub Copilot Coding Agent</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 16:17:56</span
              ><span class="points-container"
                >Points: <span class="points">502</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44031432"
                  >Comments</a
                ><span class="descendants">: 323</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44031385">
          <h3>
            <a
              class="item"
              href="https://blogs.windows.com/windowsdeveloper/2025/05/19/the-windows-subsystem-for-linux-is-now-open-source/"
              >The Windows Subsystem for Linux is now open source</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 16:14:15</span
              ><span class="points-container"
                >Points: <span class="points">1432</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44031385"
                  >Comments</a
                ><span class="descendants">: 972</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44030492">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44030492"
              >Launch HN: Better Auth (YC X25) – Authentication Framework for
              TypeScript</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 14:48:03</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44030492"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.better-auth.com/"
                >https://www.better-auth.com/</a
              >), a comprehensive authentication framework for TypeScript that
              lets you implement everything from simple auth flows to
              enterprise-grade systems directly on your own database, embedded
              in your backend.
              <p>
                To be clear—we’re not building a 3rd party auth service. Our
                goal is to make rolling your own auth so ridiculously easy that
                you’ll never need one.
              </p>
              <p>
                Here are some YouTube videos explaining how it works (we did
                make our own video but weren’t happy with it and these videos do
                a great job):
              </p>
              <p>
                <a href="https://www.youtube.com/watch?v=hFtufpaMcLM"
                  >https://www.youtube.com/watch?v=hFtufpaMcLM</a
                >
                - a really good overview
              </p>
              <p>
                <a href="https://www.youtube.com/watch?v=QurjwJHCoHQ"
                  >https://www.youtube.com/watch?v=QurjwJHCoHQ</a
                >
                - also a good overview and dives a little deeper into the code
              </p>
              <p>
                <a href="https://www.youtube.com/watch?v=RKqHrE0KyeE"
                  >https://www.youtube.com/watch?v=RKqHrE0KyeE</a
                >
                - short and clear
              </p>
              <p>
                <a href="https://www.youtube.com/watch?v=Atev8Nxpw7c"
                  >https://www.youtube.com/watch?v=Atev8Nxpw7c</a
                >
                - with TanStack framework
              </p>
              <p>
                <a href="https://www.youtube.com/watch?v=n6rP9d3RWo8"
                  >https://www.youtube.com/watch?v=n6rP9d3RWo8</a
                >
                - a full-on 2 hour tutorial
              </p>
              <p>
                Auth has been a pain point for many developers in the TypeScript
                ecosystem for a while. Not because there aren’t options but
                because most fall into 2 buckets: (1) Third-party services like
                Auth0 which own your user data, lock you into a black-box
                solution and are often super expensive; or (2) open source
                libraries like NextAuth that cover the basics but leave you
                stitching your own solution together from there.
              </p>
              <p>
                For Better Auth. the kick off moment was building a web
                analytics platform and wanting to add an organization feature -
                things like workspaces, teams, members, and granular
                permissions. I assumed there’d be something out there I could
                plug in to NextAuth (the popular and kind of the only library),
                but there wasn’t. The only options were to build everything from
                scratch or switch to a 3rd party auth provider. I even tried
                hacking together a wrapper around NextAuth to support those
                features, but it was hacky. That’s when we decided to take a
                step back and build a proper auth library from the ground up
                with a plugin ecosystem that lets you start simple and scale as
                needed. That frustration turned into Better Auth.
              </p>
              <p>
                Better Auth lets you roll your own auth directly on your backend
                and database, with support for everything from simple auth flows
                to enterprise-grade systems without relying on 3rd party
                services.
              </p>
              <p>
                It comes with built-in features for common auth flows, and you
                can extend it as needed through a plugin ecosystem whether
                that’s 2FA, passkeys, organizations, multi-session, SSO, or even
                billing integration with Stripe.
              </p>
              <p>
                Unlike 3rd party auth providers, we’re just a library you
                install in your own project. It’s free forever, lives entirely
                in your codebase, and gives you full control. You get all the
                features you’d expect from something like Auth0 or Clerk plus
                even more through our plugin system, including things like
                billing integrations with Stripe or Polar. Most libraries stop
                at the basics but Better Auth is designed to scale with your
                needs while keeping things simple when you don’t need all the
                extras.
              </p>
              <p>
                We’re currently building an infrastructure layer that works
                alongside the framework to offer features that are hard to
                deliver as just a library—e.g. an admin dashboard with user
                analytics, bot/fraud/abuse detection, secondary session storage,
                and more. This will be our commercial offering. For this,
                there’s a waitlist at
                <a href="https://www.better-auth.build"
                  >https://www.better-auth.build</a
                >. However, this is only optional infrastructure for teams that
                need these capabilities. The library is free and open source and
                will remain so.
              </p>
              <p>We’d love your feedback!</p>
            </div>
          </section>
        </section>
        <section id="44026959">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/linguists-find-proof-of-sweeping-language-pattern-once-deemed-a-hoax/"
              >Linguists Find Proof of Sweeping Language Pattern Once Deemed a
              'Hoax'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-19 @ 06:23:01</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44026959"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44017560">
          <h3>
            <a
              class="item"
              href="https://farlow.dev/2025/05/17/ocaml-on-calculator"
              >Compiling OCaml to the TI-84 CE Calculator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 22:40:38</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44017560"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44013069">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/travel/2023/aug/16/take-the-high-road-the-man-who-visited-every-country-in-the-world-without-boarding-a-plane"
              >A man who visited every country in the world without boarding a
              plane (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 09:13:11</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44013069"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44005236">
          <h3>
            <a class="item" href="https://anydocai.com/"
              >Imagine a drive where every file exists as all file types all of
              the time</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 13:25:22</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44005236"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44003184">
          <h3>
            <a class="item" href="https://github.com/nektos/act"
              >Run GitHub Actions locally</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 08:55:27</span
              ><span class="points-container"
                >Points: <span class="points">260</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44003184"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
