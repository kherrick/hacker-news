<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43282995">
          <h3>
            <a class="item" href="https://blog.startifact.com/posts/succinct/"
              >Succinct Data Structures</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:48:37</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282995"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282936">
          <h3>
            <a
              class="item"
              href="http://chris-intel-corner.blogspot.com/2025/03/the-combined-cipher-machine-1942-1962.html"
              >The Combined Cipher Machine 1940's-1950's</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:42:44</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282936"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282905">
          <h3>
            <a class="item" href="https://mistral.ai/fr/news/mistral-ocr"
              >Mistral OCR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:39:39</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282905"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282892">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/03/06/uk-quietly-scrubs-encryption-advice-from-government-websites/"
              >UK quietly scrubs encryption advice from government websites</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:38:33</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282892"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282668">
          <h3>
            <a
              class="item"
              href="https://hackaday.com/2025/03/06/why-56k-modems-relied-on-digital-phone-lines-you-didnt-know-we-had/"
              >Why 56k Modems Relied on Digital Phone Lines You Didn't Know We
              Had</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:19:44</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282668"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282594">
          <h3>
            <a
              class="item"
              href="https://gizmodo.com/nasa-shuts-off-voyager-science-instrument-more-power-cuts-ahead-to-keep-both-probes-going-2000572202"
              >NASA Shuts Off Voyager Science Instrument</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:14:39</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282594"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282462">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/leaping-ai/jobs/BpsfpvY-founding-full-stack-engineer"
              >Leaping AI (YC W25) Is Hiring Founding Engineers for
              Self-Improving Voice AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 17:01:10</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43282133">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/the-surprisingly-difficult-mathematical-proof-that-anime-fans-helped-solve/"
              >Anime fans stumbled upon a mathematical proof</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 16:37:34</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43282133"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43281893">
          <h3>
            <a class="item" href="https://rachelbythebay.com/w/2025/03/05/1670/"
              >More thoughts on the 1670 modem's weird noises</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 16:18:11</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43281893"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43280836">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43280836"
              >Launch HN: Cenote (YC W25) – Back Office Automation for Medical
              Clinics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 14:47:35</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43280836"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.joincenote.com/"
                >https://www.joincenote.com/</a
              >). We provide medical clinics with AI agents to speed up their
              referral intake.
              <p>
                Before a specialist physician can treat a patient, they must
                collect data about the patient, determine if the referral meets
                medical necessity, and see if insurance will cover the
                procedure. This involves analyzing referral documents,
                coordinating with primary care providers for missing
                information, and verifying insurance coverage—before they can
                even see the patient. It’s a manual back-and-forth process that
                is time-consuming, prone to errors, and slows down patient care.
              </p>
              <p>
                Cenote mostly automates this workflow. (“Mostly”, because
                sometimes a human-in-the-loop is needed—more on that below). We
                use LLMs, OCR, and RPA to extract and validate referral data,
                check for medical necessity, and initiate insurance
                verification—all in minutes, not hours. This allows specialists
                to focus on care, reduce administrative burden, and ensure
                faster, more reliable insurance payments.
              </p>
              <p>
                One of us (Kristy) dealt with this after an emergency medical
                event she had a couple years ago. The time it took her to find a
                clinic that could receive her medical record and insurance
                exacerbated her injury. It seemed crazy to have to wait that
                long for what turned out to be the dumbest of technical reasons.
                The three of us became friends at a book club, got talking about
                this, and decided to build software to deal with it.
              </p>
              <p>
                Cenote automates the back office for medical clinics. When a
                referral lands in a specialist’s inbox, our software kicks in.
                We first parse the document through an OCR. After that, we use
                an LLM to detect the pieces of data that our customer has told
                us they’re looking for. If we detect the referral is missing
                data, we send a message back to the referring provider asking
                for more. Finally, we integrate with our customer’s EHR
                (Electronic Health Record) via RPA or API and place the document
                and extracted data in its appropriate location.
              </p>
              <p>
                The OCR returns confidence intervals. If the LLM reasons over
                OCR that it is not confident about, we flag this in the UI to
                the end user and ask a human to review before moving forward.
              </p>
              <p>
                We entered this task thinking we would have to work on a lot of
                fine-tuning / ML infra, but the tech needs turn out to be a lot
                more elementary than that. For example, we have spent a lot more
                time creating a history-page view of previously submitted files
                than we have spent training our own data. Many clinics still
                rely on faxed (!) referrals, and even well-funded practices use
                obsolete workflows.
              </p>
              <p>
                While we provide a UI for clinics to upload documents and for
                human-in-the-loop intervention, our system can also function in
                a headless manner. By this, we mean that all core
                functionality—data extraction, EHR integration, and even
                back-and-forth communication with referring providers—does not
                explicitly require a UI for user interaction.
              </p>
              <p>
                In terms of pricing, we charge an annual SaaS fee and a one-time
                implementation fee. We don’t have one-size-fits-all pricing on
                our website yet, but we’ll get there eventually.
              </p>
              <p>
                If you have medical clinic experience, we’d love to hear your
                thoughts! And everyone’s feedback is welcome. Thanks for
                reading!
              </p>
            </div>
          </section>
        </section>
        <section id="43280748">
          <h3>
            <a
              class="item"
              href="https://restofworld.org/2025/bangladesh-garment-factories-automation-surveillance/"
              >Bangladesh's factories turn to surveillance, automation; workers
              feel pressure</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 14:39:36</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43280748"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43280615">
          <h3>
            <a class="item" href="https://github.com/metacraft-labs/codetracer"
              >Show HN: CodeTracer – A new time-traveling debugger implemented
              in Nim and Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 14:30:10</span
              ><span class="points-container"
                >Points: <span class="points">187</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43280615"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
            <div class="text">
              <p>
                We are presenting CodeTracer - a user-friendly time-traveling
                debugger designed to support a wide range of programming
                languages:
              </p>
              <p>
                <a
                  href="https://github.com/metacraft-labs/codetracer?tab=readme-ov-file#introduction"
                  >https://github.com/metacraft-labs/codetracer?tab=readme-ov-f...</a
                >
              </p>
              <p>
                CodeTracer records the execution of a program into a sharable
                self-contained trace file. You can load the produced trace files
                in a GUI environment that allows you to move forward and
                backward through the execution and to examine the history of all
                memory locations. They say a picture is worth a thousand words —
                well, a video is even better! Watch the demo below to see
                CodeTracer in action:
              </p>
              <p>
                <a href="https://www.youtube.com/watch?v=xZsJ55JVqmU"
                  >https://www.youtube.com/watch?v=xZsJ55JVqmU</a
                >
              </p>
              <p>
                The initial release is limited to the Noir programming language,
                but CodeTracer uses an open format for its trace files and we've
                started community-driven projects which aim to add support for
                Ruby and Python.
              </p>
              <p>
                We are also developing an alternative back-end, capable of
                working with RR recordings, which will make CodeTracer suitable
                for debugging large-scale programs in a variety of system
                programming languages such as C/C++, Rust, Nim, D, Zig, Go,
                Fortran and FreePascal.
              </p>
            </div>
          </section>
        </section>
        <section id="43279494">
          <h3>
            <a
              class="item"
              href="https://www.science.org/doi/full/10.1126/sciadv.ads1560?af=R"
              >Age and cognitive skills: Use it or lose it</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 12:33:27</span
              ><span class="points-container"
                >Points: <span class="points">438</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43279494"
                  >Comments</a
                ><span class="descendants">: 249</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43279147">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/news/articles/c1d4n119xr7o"
              >Scientists crack how aspirin might stop cancers from spreading</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 11:53:08</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43279147"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43278473">
          <h3>
            <a
              class="item"
              href="https://driesdepoorter.be/theflemishscrollers/"
              >Automatically tagging politician when they use their phone on the
              livestreams</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 10:22:06</span
              ><span class="points-container"
                >Points: <span class="points">237</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43278473"
                  >Comments</a
                ><span class="descendants">: 137</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43277918">
          <h3>
            <a class="item" href="https://revolt.chat"
              >Revolt: Open-Source Alternative to Discord</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 08:47:32</span
              ><span class="points-container"
                >Points: <span class="points">477</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43277918"
                  >Comments</a
                ><span class="descendants">: 358</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43277214">
          <h3>
            <a
              class="item"
              href="https://blog.det.life/apache-iceberg-the-hadoop-of-the-modern-data-stack-c83f63a4ebb9"
              >Apache iceberg the Hadoop of the modern-data-stack?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 06:53:46</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43277214"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43275193">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2503.01307"
              >Cognitive Behaviors That Enable Self-Improving Reasoners</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-06 @ 01:33:14</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43275193"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43272463">
          <h3>
            <a
              class="item"
              href="https://github.com/google/security-research/blob/master/pocs/cpus/entrysign/zentool/README.md"
              >Zentool – AMD Zen Microcode Manipulation Utility</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-05 @ 21:10:35</span
              ><span class="points-container"
                >Points: <span class="points">206</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43272463"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43270843">
          <h3>
            <a class="item" href="https://qwenlm.github.io/blog/qwq-32b/"
              >QwQ-32B: Embracing the Power of Reinforcement Learning</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-05 @ 19:09:39</span
              ><span class="points-container"
                >Points: <span class="points">406</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43270843"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43269475">
          <h3>
            <a
              class="item"
              href="https://cloud.google.com/blog/topics/threat-intelligence/gostringungarbler-deobfuscating-strings-in-garbled-binaries"
              >GoStringUngarbler: Deobfuscating Strings in Garbled Binaries</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-05 @ 17:17:55</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43269475"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43266453">
          <h3>
            <a
              class="item"
              href="https://www.apple.com/newsroom/2025/03/apple-reveals-m3-ultra-taking-apple-silicon-to-a-new-extreme/"
              >Apple M3 Ultra</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-05 @ 13:59:50</span
              ><span class="points-container"
                >Points: <span class="points">1013</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43266453"
                  >Comments</a
                ><span class="descendants">: 951</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43250986">
          <h3>
            <a
              class="item"
              href="https://www.scattered-thoughts.net/writing/hytradboi-2025-postmortem/"
              >HYTRADBOI 2025 Conference Postmortem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-04 @ 06:25:07</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43250986"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43248993">
          <h3>
            <a
              class="item"
              href="https://politicalcalculations.blogspot.com/2025/02/game-theory-and-settling-debts-of.html"
              >Game Theory and Settling the Debts of the Deceased in Ancient
              Times</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-04 @ 01:17:23</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43248993"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43244860">
          <h3>
            <a
              class="item"
              href="https://dl.acm.org/doi/pdf/10.1145/361598.361623"
              >On the criteria to be used in decomposing systems into modules
              (1972)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-03 @ 18:16:09</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43244860"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43242587">
          <h3>
            <a
              class="item"
              href="https://www.topgear.com/car-news/supercars/sayonara-r35-nissan-japan-has-stopped-taking-orders-gt-r"
              >Sayonara, R35: Nissan Japan has stopped taking orders for the
              GT-R</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-03 @ 15:22:01</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43242587"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43241589">
          <h3>
            <a
              class="item"
              href="https://www.wildlifetrusts.org/news/beavers-are-coming-home"
              >Beavers Are Coming Home</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-03 @ 13:39:04</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43241589"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43239573">
          <h3>
            <a class="item" href="https://s2.dev/blog/iot"
              >IoT project using thermal sensors to monitor spaces</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-03 @ 08:26:15</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43239573"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43230864">
          <h3>
            <a
              class="item"
              href="https://www.janbob.com/electron/TinyTen/TinyTen.htm"
              >Tiny Ten DSP-Based HF Transceiver</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-02 @ 14:34:50</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43230864"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43230510">
          <h3>
            <a class="item" href="https://xeiaso.net/blog/2025/yoke-k8s/"
              >Yoke: Infrastructure as code, but actually</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-03-02 @ 13:56:01</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43230510"
                  >Comments</a
                ><span class="descendants">: 133</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
