<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="36563774">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=36563774"
              >Help Request: Laptop, Work, Assistance</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 17:50:30</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36563774"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm reaching out, hopeful to find some assistance during a
                challenging time in my life. This past year has been bad. I
                suffered a serious climbing accident that destroyed my tailbone
                and sacrum (the fused vertebrae above the tailbone) and severed
                many nerves in my left leg. This ordeal left me bedridden for
                four months, requiring me to relearn basic tasks such as walking
                and using the bathroom.
              </p>
              <p>
                In the aftermath of my accident, I was featured on the cover of
                the digital edition of Climbing Magazine ("Anal Impalement
                Accident" made quite the enticing headline...) and in the
                publication "Accidents in North American Climbing". However,
                during my recovery, I suffered additional hardships. I lost my
                job at a disaster modeling company, a position I had held for
                eight years, and my spouse of twelve years left me while I was
                still bedridden. In an attempt to start anew, I relinquished our
                house and savings to my spouse, and purchased a 2021 Dodge Ram
                Promaster van to live and work from. Tragically, this van — and
                everything I owned — was stolen at gunpoint in Tacoma,
                Washington, leaving me destitute in an unfamiliar city.
              </p>
              <p>
                Prior to these events, I had enjoyed consistent employment in
                the tech industry for sixteen years. Despite my current
                predicaments, I'm eager to get back to work. I have managed to
                secure a cheap car. However, I lack essential tools, such as a
                laptop or a tablet, to aid my job-seeking efforts.
              </p>
              <p>
                For those unfamiliar with my work, I have extensive experience
                as a software developer and DevOps specialist. I'm proficient in
                automating software delivery, managing CI/CD pipelines, and
                handling cloud infrastructure. I've competed at DEFCON with ACME
                Pharm, landing a win one year. In my last role as a Staff
                Engineer, I managed the build, versioning, production delivery,
                cloud environments, and full-stack troubleshooting of several
                enterprise platforms, overseeing over 100 diverse software
                repositories. I'm well-versed in most common languages and
                paradigms and am comfortable in nearly any individual
                contributor role.
              </p>
              <p>
                My professional experience spans both early-stage startups and
                large enterprise organizations. I've made significant
                contributions to two startups that each sold for over 2B. I
                pride myself on being a strong technical communicator with the
                ability to quickly grasp the technical aspects of large projects
                and make an immediate, positive impact.
              </p>
              <p>
                I'm currently in dire need of a laptop to complete essential
                tasks such as updating my resume, writing cover letters and
                applying for jobs. If anyone has a spare laptop, it would
                greatly assist me in my current situation. A few other items
                would also make a significant difference: an inverter, a large
                battery pack, portable chargers, a jump box, a solar setup,
                clothing (shirts XL, underwear M, 32/32 pants), hygiene items, a
                sturdy water bottle, a thermos, and a hotplate or Jetboil stove.
                If you can provide or facilitate acquiring any of these items,
                please contact me at digiphilo (at) gmail.com. Any help will be
                greatly appreciated.
              </p>
              <p>
                I am currently seeking remote work opportunities. I'm a
                versatile professional, competent in frontend, backend, and
                full-stack web development, systems and database administration,
                DevOps, SRE, and cybersecurity. If you have employment
                opportunities, please reach out to digiphilo (at) gmail.com.
              </p>
              <p>
                Despite the physical challenges caused by my accident, such as
                residual pain and difficulty with mobility, these issues do not
                impact my capabilities as a remote tech worker. The primary
                challenge I face is the circumstance I find myself in.
              </p>
              <p>
                I humbly ask for your consideration. If you are able and willing
                to provide any form of financial assistance during this period
                while I'm seeking work, rest assured, any donation will go
                towards necessities such as a computer or motel ($330/wk).
              </p>
              <p>Sincerely, B</p>
              <p>
                BTC: bc1quvh2rf3hyffhrh0y6pzm36megqcyv30xru48rp ETH:
                0x3b7aB64f7f12Dd6dfB807B3d31e107E4Ec1129D1 CashApp: $faceter
              </p>
            </div>
          </section>
        </section>
        <section id="36563590">
          <h3>
            <a
              class="item"
              href="https://mainichi.jp/english/articles/20230609/p2a/00m/0sc/026000c"
              >First 'tooth regrowth' medicine moves toward clinical trials in
              Japan</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 17:33:17</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36563590"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36563303">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/hockeystack/jobs/JehKPk7-founding-backend-engineer"
              >HockeyStack (YC S23) Is Hiring Founding Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 17:00:08</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36563284">
          <h3>
            <a class="item" href="https://www.use-script.com"
              >Show HN: Script – A text editor for digitally interconnected
              documents</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:57:37</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36563284"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              script is a text editor powering truly digital documents recently
              launched. Feel free to play with and share your feedback.
            </div>
          </section>
        </section>
        <section id="36563187">
          <h3>
            <a class="item" href="https://db.cs.cmu.edu/mmap-cidr2022/"
              >Are You Sure You Want to Use MMAP in Your Database Management
              System? (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:48:00</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36563187"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562958">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/apple-macintosh"
              >Designing the First Apple Macintosh: The Engineers’ Story</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:25:47</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562958"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562868">
          <h3>
            <a class="item" href="https://www.mironov.com/owe/"
              >What Do We Owe Our Teams?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:15:54</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562868"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562757">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=YE9rEQAGpLw"
              >Make Your Renders Unnecessarily Complicated by Modeling a Film
              Camera in Blender [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:03:59</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562757"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562739">
          <h3>
            <a class="item" href="https://dynomight.net/aspartame/"
              >Aspartame: Once More Unto the Breach</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:02:36</span
              ><span class="points-container"
                >Points: <span class="points">122</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562739"
                  >Comments</a
                ><span class="descendants">: 119</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562727">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2023/06/29/cwe_top_25_2023/"
              >It's 2023 and memory overwrite bugs are not just a thing theyre
              still number one</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 16:01:41</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562727"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562561">
          <h3>
            <a
              class="item"
              href="https://www.readex.com/blog/ufo-fever-americas-historical-newspapers-mysterious-airships-1896-97"
              >The Mysterious Airships of 1896-97 (2014)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 15:46:13</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562561"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562502">
          <h3>
            <a class="item" href="https://ai.stanford.edu/courses/"
              >Stanford A.I. Courses</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 15:40:53</span
              ><span class="points-container"
                >Points: <span class="points">184</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562502"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36562432">
          <h3>
            <a
              class="item"
              href="https://blog.miguelgrinberg.com/post/building-a-toy-programming-language-in-python"
              >A toy programming language in 137 lines of Python code</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 15:36:04</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36562432"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36561991">
          <h3>
            <a
              class="item"
              href="https://johnhorgan.org/cross-check/my-meeting-with-david-bohm-tormented-quantum-visionary"
              >My Meeting with David Bohm, Tormented Quantum Visionary</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 14:52:43</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36561991"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36561974">
          <h3>
            <a
              class="item"
              href="https://lemire.me/blog/2023/07/01/parsing-time-stamps-faster-with-simd-instructions/"
              >Parsing time stamps faster with SIMD instructions</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 14:50:46</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36561974"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36561897">
          <h3>
            <a class="item" href="https://github.com/p3r7/awesome-elisp"
              >A curated list of Emacs Lisp development resources</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 14:41:32</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36561897"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36561867">
          <h3>
            <a class="item" href="https://bigwav.app"
              >Show HN: bigwav.app – Transcription and Annotation using just a
              web browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 14:37:29</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36561867"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <p>I released this recently, take a look:</p>
              <p><a href="https://bigwav.app">https://bigwav.app</a></p>
            </div>
          </section>
        </section>
        <section id="36561847">
          <h3>
            <a class="item" href="https://alt-f4.blog/ALTF4-65/"
              >Alt-F4 #65 – Factorio visualizer in Unreal Engine 5</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 14:34:58</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36561847"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36561827">
          <h3>
            <a
              class="item"
              href="https://pncnmnp.github.io/blogs/addressograph.html"
              >Before Xerox, there was Addressograph</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 14:32:04</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36561827"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36560937">
          <h3>
            <a class="item" href="https://en.wikipedia.org/wiki/Google_Sidewiki"
              >Google Sidewiki</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 12:41:27</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36560937"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36560830">
          <h3>
            <a class="item" href="https://lwn.net/Articles/934679/"
              >Scope-based resource management for the Linux kernel</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 12:26:08</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36560830"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36560815">
          <h3>
            <a
              class="item"
              href="https://blackwellwriter.itch.io/delve-a-solo-map-drawing-game"
              >Delve: A Solo Map Drawing Game</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 12:24:15</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36560815"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36560242">
          <h3>
            <a
              class="item"
              href="https://virtuallyfun.com/2023/07/01/64bit-computing-on-a-budget/"
              >64bit computing on a budget</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 10:54:46</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36560242"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36560136">
          <h3>
            <a
              class="item"
              href="https://metrics.torproject.org/userstats-relay-country.html?start=2019-01-01&amp;end=2023-07-02&amp;country=de&amp;events=off"
              >Drastic increase in Tor clients from Germany</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 10:29:55</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36560136"
                  >Comments</a
                ><span class="descendants">: 180</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36560104">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=DxL2HoqLbyA"
              >Entropy: A little understood concept in physics [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 10:23:50</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36560104"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36559346">
          <h3>
            <a
              class="item"
              href="https://www.cs.cornell.edu/~asampson/blog/flattening.html"
              >Flattening ASTs and other compiler data structures</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 08:03:13</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36559346"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36559030">
          <h3>
            <a
              class="item"
              href="https://blog.yoshuawuyts.com/tree-structured-concurrency/"
              >Tree-Structured Concurrency</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-02 @ 07:04:25</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36559030"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36549018">
          <h3>
            <a
              class="item"
              href="https://logicmag.io/supa-dupa-skies/origin-stories-plantations-computers-and-industrial-control/"
              >Origin Stories: Plantations, Computers, and Industrial Control</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-01 @ 11:35:10</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36549018"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36548684">
          <h3>
            <a
              class="item"
              href="https://math.stackexchange.com/questions/623/why-is-the-volume-of-a-cone-one-third-of-the-volume-of-a-cylinder"
              >Why is the volume of a cone one third of the volume of a
              cylinder? (2010)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-01 @ 10:41:43</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36548684"
                  >Comments</a
                ><span class="descendants">: 105</span></span
              >
            </h4>
          </section>
        </section>
        <section id="36547928">
          <h3>
            <a class="item" href="https://louis-dr.github.io/ternalu3.html"
              >Working Ternary ALU (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-07-01 @ 08:14:25</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=36547928"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
