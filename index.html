<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45259529">
          <h3>
            <a
              class="item"
              href="https://paretosecurity.com/blog/automating-distro-updates-in-ci/"
              >Automating Distro Updates in CI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-16 @ 08:20:24</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45259529"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45259139">
          <h3>
            <a class="item" href="https://www.ibm.com/roadmaps/"
              >IBM Technology Atlas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-16 @ 07:28:42</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45259139"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45257929">
          <h3>
            <a class="item" href="https://github.com/YuminosukeSato/pyproc"
              >Show HN: Pyproc – Call Python from Go Without CGO or
              Microservices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-16 @ 04:08:00</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45257929"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>*Why this exists*</p>
              <p>
                * Keep your Go service, reuse
                Python/NumPy/pandas/PyTorch/scikit-learn. * Avoid network hops,
                service discovery, and ops burden of a separate Python service.
              </p>
              <p>*Quick try (\~5 minutes)*</p>
              <p>Go (app):</p>
              <p>``` go get github.com/YuminosukeSato/pyproc@latest ```</p>
              <p>Python (worker):</p>
              <p>``` pip install pyproc-worker ```</p>
              <p>Minimal worker (Python):</p>
              <p>
                ``` from pyproc_worker import expose, run_worker @expose def
                predict(req): return {"result": req["value"] * 2} if __name__ ==
                "__main__": run_worker() ```
              </p>
              <p>Call from Go:</p>
              <p>
                ``` import ( "context" "fmt"
                "github.com/YuminosukeSato/pyproc/pkg/pyproc" ) func main() {
                pool, _ := pyproc.NewPool(pyproc.PoolOptions{ Config:
                pyproc.PoolConfig{Workers: 4, MaxInFlight: 10}, WorkerConfig:
                pyproc.WorkerConfig{SocketPath: "/tmp/pyproc.sock", PythonExec:
                "python3", WorkerScript: "worker.py"}, }, nil) _ =
                pool.Start(context.Background()) defer
                pool.Shutdown(context.Background()) var out map[string]any _ =
                pool.Call(context.Background(), "predict",
                map[string]any{"value": 42}, &amp;out)
                fmt.Println(out["result"]) // 84 } ```
              </p>
              <p>*Scope / limits*</p>
              <p>
                * Same-host/pod only (UDS). Linux/macOS supported; Windows named
                pipes not yet. * Best for request/response payloads ≲ \~100 KB
                JSON; GPU orchestration and cross-host serving are out of scope.
              </p>
              <p>*Benchmarks (indicative)*</p>
              <p>
                * Local M1, simple JSON: \~*45µs p50* and *\~200k req/s* with 8
                workers. Your numbers will vary.
              </p>
              <p>*What’s included*</p>
              <p>
                * Pure Go client (no CGO), Python worker lib, pool, health
                checks, graceful restarts, and examples.
              </p>
              <p>*Docs &amp; code*</p>
              <p>
                * README, design/ops/security docs, pkg.go.dev: [<a
                  href="https://github.com/YuminosukeSato/pyproc"
                  >https://github.com/YuminosukeSato/pyproc</a
                >](<a href="https://github.com/YuminosukeSato/pyproc"
                  >https://github.com/YuminosukeSato/pyproc</a
                >)
              </p>
              <p>*License*</p>
              <p>* Apache-2.0. Current release: v0.2.x.</p>
              <p>*Feedback welcome*</p>
              <p>
                * API ergonomics, failure modes under load, and priorities for
                codecs/transports (e.g., Arrow IPC, gRPC-over-UDS).
              </p>
              <p>---</p>
              <p>
                <i>Source for details: project README and docs.</i>
                ([github.com][1])
              </p>
              <p>
                [1]:
                <a href="https://github.com/YuminosukeSato/pyproc"
                  >https://github.com/YuminosukeSato/pyproc</a
                >
                "GitHub - YuminosukeSato/pyproc: Call Python from Go without CGO
                or microservices - Unix domain socket based IPC for ML inference
                and data processin"
              </p>
            </div>
          </section>
        </section>
        <section id="45257627">
          <h3>
            <a
              class="item"
              href="https://adamsilver.io/blog/your-vs-my-in-user-interfaces/"
              >"Your" vs. "My" in user interfaces</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-16 @ 03:05:53</span
              ><span class="points-container"
                >Points: <span class="points">222</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45257627"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45256651">
          <h3>
            <a class="item" href="https://feddit.org/post/18353777"
              >Linux phones are more important now than ever</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-16 @ 00:33:12</span
              ><span class="points-container"
                >Points: <span class="points">538</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45256651"
                  >Comments</a
                ><span class="descendants">: 324</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45256577">
          <h3>
            <a class="item" href="https://morrick.me/archives/10137"
              >I feel Apple has lost its alignment with me and other long-time
              customers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-16 @ 00:20:59</span
              ><span class="points-container"
                >Points: <span class="points">358</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45256577"
                  >Comments</a
                ><span class="descendants">: 350</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45256043">
          <h3>
            <a
              class="item"
              href="https://kyrylo.org/software/2025/08/21/why-do-software-developers-love-complexity.html"
              >Why do we keep gravitating toward complexity?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 23:02:31</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45256043"
                  >Comments</a
                ><span class="descendants">: 127</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45255400">
          <h3>
            <a
              class="item"
              href="https://www.gadgetreview.com/massive-attack-turns-concert-into-facial-recognition-surveillance-experiment"
              >Massive Attack turns concert into facial recognition surveillance
              experiment</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 21:51:55</span
              ><span class="points-container"
                >Points: <span class="points">288</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45255400"
                  >Comments</a
                ><span class="descendants">: 130</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45255137">
          <h3>
            <a
              class="item"
              href="http://bearcave.com/bookrev/neuromancer/neuromancer_audio.html"
              >William Gibson Reads Neuromancer (2004)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 21:28:01</span
              ><span class="points-container"
                >Points: <span class="points">247</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45255137"
                  >Comments</a
                ><span class="descendants">: 67</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45253775">
          <h3>
            <a
              class="item"
              href="https://cdn.openai.com/pdf/a253471f-8260-40c6-a2cc-aa93fe9f142e/economic-research-chatgpt-usage-paper.pdf"
              >How People Use ChatGPT [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 19:14:28</span
              ><span class="points-container"
                >Points: <span class="points">135</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45253775"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45253458">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/gpt-5-system-card-addendum-gpt-5-codex/"
              >Addendum to GPT-5 system card: GPT-5-Codex</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 18:45:32</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45253458"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45252817">
          <h3>
            <a
              class="item"
              href="https://bogdanthegeek.github.io/blog/projects/vapeserver/"
              >Hosting a website on a disposable vape</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 17:53:19</span
              ><span class="points-container"
                >Points: <span class="points">1150</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45252817"
                  >Comments</a
                ><span class="descendants">: 418</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45252715">
          <h3>
            <a
              class="item"
              href="https://www.lorenstew.art/blog/react-won-by-default/"
              >React is winning by default and slowing innovation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 17:46:01</span
              ><span class="points-container"
                >Points: <span class="points">535</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45252715"
                  >Comments</a
                ><span class="descendants">: 607</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45252378">
          <h3>
            <a class="item" href="https://www.apple.com/os/macos/"
              >macOS Tahoe</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 17:16:42</span
              ><span class="points-container"
                >Points: <span class="points">482</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45252378"
                  >Comments</a
                ><span class="descendants">: 654</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45252301">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/introducing-upgrades-to-codex/"
              >GPT-5-Codex</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 17:10:39</span
              ><span class="points-container"
                >Points: <span class="points">317</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45252301"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45251690">
          <h3>
            <a class="item" href="https://kennedn.com/blog/posts/tapo/"
              >Wanted to spy on my dog, ended up spying on TP-Link</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 16:28:54</span
              ><span class="points-container"
                >Points: <span class="points">457</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45251690"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45250720">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45250720"
              >Launch HN: Trigger.dev (YC W23) – Open-source platform to build
              reliable AI apps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 15:20:18</span
              ><span class="points-container"
                >Points: <span class="points">143</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45250720"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
            <div class="text">
              <a href="https://trigger.dev">https://trigger.dev</a>). We’re a
              developer platform for building and running AI agents and
              workflows, open-source under the Apache 2.0 license (<a
                href="https://github.com/triggerdotdev/trigger.dev"
                >https://github.com/triggerdotdev/trigger.dev</a
              >).
              <p>
                We provide everything needed to create production-grade agents
                in your codebase and deploy, run, monitor, and debug them. You
                can use just our primitives or combine with tools like Mastra,
                LangChain and Vercel AI SDK. You can self-host or use our cloud,
                where we take care of scaling for you. Here’s a quick demo: (<a
                  href="https://youtu.be/kFCzKE89LD8"
                  >https://youtu.be/kFCzKE89LD8</a
                >).
              </p>
              <p>
                We started in 2023 as a way to reliably run async background
                jobs/workflows in TypeScript (<a
                  href="https://news.ycombinator.com/item?id=34610686"
                  >https://news.ycombinator.com/item?id=34610686</a
                >). Initially we didn’t deploy your code, we just orchestrated
                it. But we found that most developers struggled to write
                reliable code with implicit determinism, found breaking their
                work into small “steps” tricky, and they wanted to install any
                system packages they needed. Serverless timeouts made this even
                more painful.
              </p>
              <p>
                We also wanted to allow you to wait for things to happen: on
                external events, other tasks finishing, or just time passing.
                Those waits can take minutes, hours, or forever in the case of
                events, so you can’t just keep a server running.
              </p>
              <p>
                The solution was to build and operate our own serverless cloud
                infrastructure. The key breakthrough that enabled this was
                realizing we could snapshot the CPU and memory state. This
                allowed us to pause running code, store the snapshot, then
                restore it later on a different physical server. We currently
                use Checkpoint Restore In Userspace (CRIU) which Google has been
                using at scale inside Borg since 2018.
              </p>
              <p>
                Since then, our adoption has really taken off especially because
                of AI agents/workflows. This has opened up a ton of new use
                cases like compute-heavy tasks such as generating videos using
                AI (Icon.com), real-time computer use (Scrapybara), AI
                enrichment pipelines (Pallet, Centralize), and vibe coding tools
                (Hero UI, Magic Patterns, Capy.ai).
              </p>
              <p>
                You can get started with Trigger.dev cloud (<a
                  href="https://cloud.trigger.dev"
                  >https://cloud.trigger.dev</a
                >), self-hosting (<a
                  href="https://trigger.dev/docs/self-hosting/overview"
                  >https://trigger.dev/docs/self-hosting/overview</a
                >), or read the docs (<a href="https://trigger.dev/docs"
                  >https://trigger.dev/docs</a
                >).
              </p>
              <p>
                Here’s a sneak peek at some upcoming changes: 1) warm starts for
                self-hosting 2) switching to MicroVMs for execution – this will
                be open source, self-hostable, and will include
                checkpoint/restoring.
              </p>
              <p>
                We’re excited to be sharing this with HN and are open to all
                feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="45250202">
          <h3>
            <a
              class="item"
              href="https://blog.velocifyer.com/Posts/3,0,0,2025-8-13,+how+to+self+host+a+font+from+google+fonts.html"
              >How to self-host a web font from Google Fonts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 14:33:41</span
              ><span class="points-container"
                >Points: <span class="points">160</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45250202"
                  >Comments</a
                ><span class="descendants">: 117</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45249915">
          <h3>
            <a
              class="item"
              href="https://newsroom.paypal-corp.com/2025-09-15-PayPal-Ushers-in-a-New-Era-of-Peer-to-Peer-Payments,-Reimagining-How-Money-Moves-to-Anyone,-Anywhere"
              >PayPal to support Ethereum and Bitcoin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 14:04:47</span
              ><span class="points-container"
                >Points: <span class="points">444</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45249915"
                  >Comments</a
                ><span class="descendants">: 338</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45249878">
          <h3>
            <a
              class="item"
              href="https://www.jeffgeerling.com/blog/2025/cubesats-are-fascinating-learning-tools-space"
              >CubeSats are fascinating learning tools for space</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 14:02:02</span
              ><span class="points-container"
                >Points: <span class="points">194</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45249878"
                  >Comments</a
                ><span class="descendants">: 78</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45248899">
          <h3>
            <a
              class="item"
              href="https://shkspr.mobi/blog/2025/09/how-big-a-solar-battery-do-i-need-to-store-all-my-homes-electricity/"
              >How big a solar battery do I need to store all my home's
              electricity?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 12:33:28</span
              ><span class="points-container"
                >Points: <span class="points">344</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45248899"
                  >Comments</a
                ><span class="descendants">: 429</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45247890">
          <h3>
            <a class="item" href="https://github.com/tekaratzas/RustGPT"
              >RustGPT: A pure-Rust transformer LLM built from scratch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-15 @ 09:47:18</span
              ><span class="points-container"
                >Points: <span class="points">358</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45247890"
                  >Comments</a
                ><span class="descendants">: 170</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45231614">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/space/2025/09/60-years-after-gemini-newly-processed-images-reveal-incredible-details/"
              >60 years after Gemini, newly processed images reveal details</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-13 @ 12:43:54</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45231614"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45230840">
          <h3>
            <a
              class="item"
              href="https://londonist.com/london/history/the-mythical-creatures-of-london"
              >The Mythical Creatures of London</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-13 @ 10:09:30</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45230840"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45228981">
          <h3>
            <a
              class="item"
              href="https://egglog-python.readthedocs.io/latest/tutorials/tut_1_basics.html"
              >Basics of Equality Saturation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-13 @ 03:05:57</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45228981"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45227679">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/future/article/20250911-the-people-who-hunt-down-old-tvs"
              >People Who Hunt Down Old TVs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-12 @ 22:51:19</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45227679"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45226135">
          <h3>
            <a
              class="item"
              href="https://interconnected.org/home/2022/10/10/servers"
              >I wish my web server were in the corner of my room (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-12 @ 20:05:05</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45226135"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45223827">
          <h3>
            <a
              class="item"
              href="https://log.bede.im/2025/09/12/zstandard-long-range-genomes.html"
              >Removing newlines in FASTA file increases ZSTD compression ratio
              by 10x</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-12 @ 16:25:11</span
              ><span class="points-container"
                >Points: <span class="points">265</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45223827"
                  >Comments</a
                ><span class="descendants">: 103</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45221567">
          <h3>
            <a class="item" href="https://gaultier.github.io/blog/x11_x64.html"
              >Learn x86-64 assembly by writing a GUI from scratch (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-12 @ 12:51:46</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45221567"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45218080">
          <h3>
            <a
              class="item"
              href="https://thereader.mitpress.mit.edu/when-your-father-is-a-magician-what-do-you-believe/"
              >When Your Father Is a Magician, What Do You Believe?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-12 @ 02:28:15</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45218080"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
