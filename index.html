<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46654878">
          <h3>
            <a class="item" href="https://www.seangoedecke.com/gas-and-ralph/"
              >Crypto grifters are recruiting open-source AI developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 03:07:08</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46654878"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46654728">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/graphics/2026-college-enrollment-cliff/"
              >Plunging US Birth Rate Leaves Too Many Colleges with Too Few
              Kids</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 02:30:28</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46654728"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46654726">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46654726"
              >Ask HN: Is it still worth pursuing a software startup?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 02:29:07</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46654726"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
            <div class="text">
              Considering there is very little moat left in software and big
              companies can copy your product in no time?
            </div>
          </section>
        </section>
        <section id="46654085">
          <h3>
            <a class="item" href="https://github.com/trasta298/keifu"
              >Keifu – A TUI for navigating commit graphs with color and
              clarity</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 00:32:24</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46654085"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46653721">
          <h3>
            <a
              class="item"
              href="https://bfl.ai/blog/flux2-klein-towards-interactive-visual-intelligence"
              >FLUX.2 [Klein]: Towards Interactive Visual Intelligence</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 23:46:17</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46653721"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46652944">
          <h3>
            <a
              class="item"
              href="https://www.mintlify.com/blog/install-md-standard-for-llm-executable-installation"
              >Install.md: A standard for LLM-executable installation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 22:15:20</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46652944"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46652617">
          <h3>
            <a
              class="item"
              href="https://cloud.google.com/blog/topics/threat-intelligence/net-ntlmv1-deprecation-rainbow-tables"
              >Releasing rainbow tables to accelerate Net-NTLMv1 protocol
              deprecation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 21:42:24</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46652617"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46651443">
          <h3>
            <a
              class="item"
              href="https://www.fromjason.xyz/p/notebook/slop-is-everywhere-for-those-with-eyes-to-see/"
              >Slop is everywhere for those with eyes to see</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 20:03:10</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46651443"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46650347">
          <h3>
            <a class="item" href="https://pieterma.es/syntopic-reading-claude/"
              >Reading across books with Claude Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 18:49:29</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46650347"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46649489">
          <h3>
            <a
              class="item"
              href="https://jamanetwork.com/journals/jamanetworkopen/fullarticle/2843883"
              >Emoji Use in the Electronic Health Record is Increasing</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 17:56:03</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46649489"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46649142">
          <h3>
            <a class="item" href="https://github.com/Pankajtanwarbanna/stfu"
              >STFU</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 17:32:40</span
              ><span class="points-container"
                >Points: <span class="points">722</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46649142"
                  >Comments</a
                ><span class="descendants">: 470</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46648916">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/East_Germany_balloon_escape"
              >East Germany balloon escape</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 17:16:33</span
              ><span class="points-container"
                >Points: <span class="points">375</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46648916"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46648885">
          <h3>
            <a
              class="item"
              href="https://www.dell.com/en-us/shop/dell-ultrasharp-52-thunderbolt-hub-monitor-u5226kw/apd/210-bthw/monitors-monitor-accessories"
              >Dell UltraSharp 52 Thunderbolt Hub Monitor</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 17:14:15</span
              ><span class="points-container"
                >Points: <span class="points">173</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46648885"
                  >Comments</a
                ><span class="descendants">: 232</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46648714">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/zep-ai/jobs/"
              >Zep AI (Agent Context Engineering, YC W24) Is Hiring Forward
              Deployed Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 17:00:29</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46648144">
          <h3>
            <a class="item" href="https://www.shimmer.care/indy-redirect"
              >Launch HN: Indy (YC S21) – A support app designed for ADHD
              brains</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 16:20:21</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46648144"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.shimmer.care/indy"
                >https://www.shimmer.care/indy</a
              >). Indy is an ADHD app for structured planning, reflection, and
              self-awareness exercises. Here’s a demo:
              <a href="https://www.youtube.com/watch?v=zDSDxyXv6i4"
                >https://www.youtube.com/watch?v=zDSDxyXv6i4</a
              >.
              <p>
                We started Shimmer in 2022 after my adult ADHD diagnosis, and
                have shipped several iterations of ADHD support since then (1:1
                coaching, web tools, body doubling, and AI-assisted coaching).
              </p>
              <p>
                Across these launches and 80k coaching sessions, we kept running
                into the same constraint: “knowing what to do” is rarely the
                problem for people with ADHD. The harder problem is actually
                doing it consistently over time, especially when attention,
                motivation, and emotional state fluctuate.
              </p>
              <p>
                That maps to a useful distinction that is explored in the
                literature (e.g.
                <a href="https://pmc.ncbi.nlm.nih.gov/articles/PMC4589250/"
                  >https://pmc.ncbi.nlm.nih.gov/articles/PMC4589250/</a
                >): “cool” executive function (future-oriented planning,
                direction, values) vs. “hot” executive function (in-the-moment
                emotion, urgency, impulse, overwhelm). Most tools lean hard into
                managing the latter. Productivity apps push execution, general
                chatbots give advice, but neither reliably supports the
                interaction between hot + cold EF across weeks and months.
              </p>
              <p>
                So we built Indy, an AI support system designed to support both.
                Here’s an overview of how it works:
              </p>
              <p>
                <i>Guided future mapping</i>: users are guided to create a
                structured map of meaningful past experiences, current
                priorities, and upcoming future moments. This becomes the
                foundation for personalization so that everything that they do
                in the app helps move them closer to these goals
              </p>
              <p>
                <i>Daily + weekly check-ins</i>: users engage in short,
                low-friction chat flows to set their priorities for the day
                (most popular use case is brain dumping priorities then having
                Indy help sort through them). The system does not assume
                consistency or linear progress, and adapts prompts based on
                prior behavior rather than enforcing a fixed routine.
              </p>
              <p>
                <i>Longitudinal insights</i>: over time, Indy surfaces patterns
                across inputs so users can see trends in effort, focus, and
                blockers. This helps counter the common ADHD experiences of 1)
                forgetting what works / doesn’t work, and 2) feeling like
                “nothing changed”
              </p>
              <p>
                <i>Problem-solving when stuck</i>: when users report feeling
                blocked, Indy uses structured, behavior-change-informed prompts
                to help identify what is actually getting in the way (e.g.
                energy, clarity, emotional load, environment) and narrow toward
                a concrete next step
              </p>
              <p>
                <i>Progress that includes effort</i>: Indy tracks wins, effort,
                and insights separately, and helps users draw out positive ways
                that members showed up (e.g. effort, mindset) even on days where
                no objective outcome was achieved
              </p>
              <p>
                Why use AI to do this? and why now? Two main reasons: (1)
                Affordability: Although continuous human support would mostly be
                better than a tech solution, that level of availability is too
                expensive for most people. Even weekly coaching (our core
                product) is still too expensive for many people. A tech solution
                allows some support rather than none. (2) Personalization: AI
                makes it possible to build systems that maintain continuity,
                personalize over time, and respond to context without relying on
                rigid templates or requiring constant human presence.
              </p>
              <p>
                The main challenge we’ve experienced using AI for Indy is
                preventing it from collapsing into generic advice, productivity
                pressure, or over-automation/reliance. Instead, we’ve focused on
                using AI as scaffolding and capacity-building: something that
                supports reflection, problem solving, and accountability, while
                keeping agency with the user and clear boundaries around
                non-medical use.
              </p>
              <p>
                Indy is free to try:
                <a href="https://www.shimmer.care/indy"
                  >https://www.shimmer.care/indy</a
                >
              </p>
              <p>
                If you’re building in applied AI, and/or if you have ADHD, we’d
                love to know: - what other AI tools you’ve tried for ADHD and
                things you liked vs. felt missing; -how you think about the role
                of AI vs. human support for ADHD in your life; - how the
                onboarding and first-use feels and any positive or critical
                feedback you have.
              </p>
              <p>
                I’d love to hear your (ADHD) experiences or feedback on Indy.
              </p>
            </div>
          </section>
        </section>
        <section id="46647491">
          <h3>
            <a
              class="item"
              href="https://letsencrypt.org/2026/01/15/6day-and-ip-general-availability"
              >6-Day and IP Address Certificates Are Generally Available</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 15:37:19</span
              ><span class="points-container"
                >Points: <span class="points">368</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46647491"
                  >Comments</a
                ><span class="descendants">: 217</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46646777">
          <h3>
            <a
              class="item"
              href="https://embedding-shapes.github.io/cursor-implied-success-without-evidence/"
              >Cursor's latest “browser experiment” implied success without
              evidence</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 14:37:49</span
              ><span class="points-container"
                >Points: <span class="points">454</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46646777"
                  >Comments</a
                ><span class="descendants">: 190</span></span
              >
            </h4>
            <div class="text">
              <i>Scaling long-running autonomous coding</i> -
              <a href="https://news.ycombinator.com/item?id=46624541"
                >https://news.ycombinator.com/item?id=46624541</a
              >
              - Jan 2026 (174 comments)
            </div>
          </section>
        </section>
        <section id="46646645">
          <h3>
            <a class="item" href="https://astro.build/blog/joining-cloudflare/"
              >Cloudflare acquires Astro</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 14:25:54</span
              ><span class="points-container"
                >Points: <span class="points">757</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46646645"
                  >Comments</a
                ><span class="descendants">: 339</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.cloudflare.com/pl-pl/press/press-releases/2026/cloudflare-acquires-astro-to-accelerate-the-future-of-high-performance-web-development/"
                >https://www.cloudflare.com/pl-pl/press/press-releases/2026/c...</a
              >
            </div>
          </section>
        </section>
        <section id="46646263">
          <h3>
            <a
              class="item"
              href="https://www.openculture.com/2026/01/discover-michelangelos-first-painting.html"
              >Michelangelo's first painting, created when he was 12 or 13</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 13:44:25</span
              ><span class="points-container"
                >Points: <span class="points">331</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46646263"
                  >Comments</a
                ><span class="descendants">: 163</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46646226">
          <h3>
            <a
              class="item"
              href="https://dl.acm.org/doi/10.1145/3780063.3780066"
              >Dev-owned testing: Why it fails in practice and succeeds in
              theory</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 13:39:31</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46646226"
                  >Comments</a
                ><span class="descendants">: 147</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46645941">
          <h3>
            <a class="item" href="https://raulnegron.me/2025/wii-news-pr/"
              >Patching the Wii News Channel to serve local news (2025)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 12:58:24</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46645941"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46645176">
          <h3>
            <a
              class="item"
              href="https://www.robinlinacre.com/recommend_duckdb/"
              >Why DuckDB is my first choice for data processing</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 10:57:38</span
              ><span class="points-container"
                >Points: <span class="points">241</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46645176"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46635309">
          <h3>
            <a
              class="item"
              href="https://nanonets.com/cookbooks/structured-llm-outputs"
              >LLM Structured Outputs Handbook</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 16:46:50</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46635309"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46630816">
          <h3>
            <a class="item" href="https://bvisness.me/high-level/"
              >High-Level Is the Goal</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-15 @ 11:01:34</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46630816"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46618105">
          <h3>
            <a
              class="item"
              href="https://dotat.at/@/2026-01-13-http-ratelimit.html"
              >HTTP RateLimit Headers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-14 @ 16:29:50</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46618105"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46590404">
          <h3>
            <a
              class="item"
              href="https://www.ctvnews.ca/ottawa/video/2026/01/06/experts-warn-of-growing-parrot-crisis-in-canada/"
              >Experts Warn of Growing Parrot Crisis in Canada</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 16:12:27</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46590404"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46588379">
          <h3>
            <a
              class="item"
              href="https://github.com/etinaude/Lock-Picking-Robot"
              >Lock-Picking Robot</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 13:42:42</span
              ><span class="points-container"
                >Points: <span class="points">281</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46588379"
                  >Comments</a
                ><span class="descendants">: 123</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46587844">
          <h3>
            <a
              class="item"
              href="https://cacm.acm.org/opinion/the-five-orders-of-ignorance/"
              >The five orders of ignorance (2000)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 13:00:21</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46587844"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46586940">
          <h3>
            <a
              class="item"
              href="https://tommaso-girotto.co/blog/an-ikea-for-software"
              >IKEA for Software</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-12 @ 11:18:15</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46586940"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46579954">
          <h3>
            <a
              class="item"
              href="https://www.paradedb.com/blog/elasticsearch-was-never-a-database"
              >Elasticsearch was never a database</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-11 @ 20:54:47</span
              ><span class="points-container"
                >Points: <span class="points">115</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46579954"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
