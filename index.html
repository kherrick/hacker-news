<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43966843">
          <h3>
            <a
              class="item"
              href="https://www.lanl.gov/media/publications/1663/0125-qa-jason-pruet"
              >Why National Labs are investing (heavily) in AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 19:52:40</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43966843"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43966471">
          <h3>
            <a class="item" href="https://www.lumoar.com"
              >Show HN: Lumoar – Free SOC 2 tool for SaaS startups</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 19:05:03</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43966471"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                As a startup ourselves, we faced the usual issues: long security
                questionnaires, confusing audit requirements, and expensive
                tools that felt overkill.
              </p>
              <p>
                Lumoar is a simpler alternative: - Generate compliant SOC 2
                policies automatically - Track your controls and progress in a
                clean dashboard - Upload evidence and get plain-language
                recommendations - Designed for engineers and founders, not
                compliance pros
              </p>
              <p>
                It's free to start — you can generate policies and explore the
                dashboard without a sales call or demo.
              </p>
              <p>
                Would love to hear what blockers you’ve faced with SOC 2 and
                what other frameworks you’re thinking about (e.g., ISO 27001,
                GDPR). All feedback is welcome.
              </p>
            </div>
          </section>
        </section>
        <section id="43966089">
          <h3>
            <a class="item" href="https://wts.dev/posts/tcc-who/"
              >Can You Really Trust That Permission Pop-Up on macOS?
              (CVE-2025-31250)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 18:26:44</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43966089"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43966064">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.05654"
              >Toward a Sparse and Interpretable Audio Codec</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 18:24:17</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43966064"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43965608">
          <h3>
            <a class="item" href="https://openai.com/index/healthbench/"
              >HealthBench</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 17:42:37</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43965608"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43965161">
          <h3>
            <a class="item" href="https://www.workatastartup.com/jobs/75011"
              >Legion Health (YC S21) Is Hiring Founding Engineers to Fix Mental
              Health with AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 17:01:42</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43965099">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2412.09871"
              >Byte Latent Transformer: Patches Scale Better Than Tokens</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 16:55:39</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43965099"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43964937">
          <h3>
            <a
              class="item"
              href="https://alexschapiro.com/blog/security/vulnerability/2025/04/21/startups-need-to-take-security-seriously"
              >I hacked a dating app (and how not to treat a security
              researcher)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 16:39:10</span
              ><span class="points-container"
                >Points: <span class="points">353</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964937"
                  >Comments</a
                ><span class="descendants">: 191</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43964896">
          <h3>
            <a class="item" href="https://www.opte.org/the-internet"
              >The Internet 1997 – 2021</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 16:35:42</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964896"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43964827">
          <h3>
            <a
              class="item"
              href="https://bcantrill.dtrace.org/2025/05/11/rip-usenix-atc/"
              >RIP Usenix ATC</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 16:29:05</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964827"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43964620">
          <h3>
            <a class="item" href="https://dynomight.net/titles/"
              >How to title your blog post or whatever</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 16:11:43</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964620"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43964505">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43964505"
              >Launch HN: ParaQuery (YC X25) – GPU Accelerated Spark/SQL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 16:01:31</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964505"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
            <div class="text">
              <a href="https://paraquery.com">https://paraquery.com</a>), a
              fully-managed, GPU-accelerated Spark + SQL solution. We deliver
              BigQuery's ease of use (or easier) while being significantly more
              cost-efficient and performant.
              <p>
                Here's a short demo video demonstrating ParaQuery (vs. BigQuery)
                on a simple ETL job:
                <a href="https://www.youtube.com/watch?v=uu379YnccGU"
                  >https://www.youtube.com/watch?v=uu379YnccGU</a
                >
              </p>
              <p>
                It's well known that GPUs are very good for many SQL and
                dataframe tasks, at least by researchers and GPU companies like
                NVIDIA. So much so that, in 2018, NVIDIA launched the RAPIDS
                program and the Spark-RAPIDS plugin (<a
                  href="https://github.com/NVIDIA/spark-rapids"
                  >https://github.com/NVIDIA/spark-rapids</a
                >). I actually found out because, at the time, I was trying to
                craft a CUDA-based lambda calculus interpreter…one of several
                ideas I didn't manage to implement, haha.
              </p>
              <p>
                There seems to be a perception among at least some engineers
                that GPUs are only good for AI, graphics, and maybe image
                processing (maybe! someone actually told me they thought GPUs
                are bad for image processing!) Traditional data processing
                doesn’t come to mind. But actually GPUs are good for this as
                well!
              </p>
              <p>
                At a high level, big data processing is a high-throughput,
                massively parallel workload. GPUs are a type of hardware
                specialized for this, are highly programmable, and (now) happen
                to be highly available on the cloud! Even better, GPU
                <i>memory</i> is tuned for bandwidth over raw latency, which
                only improves their throughput capabilities compared to a CPU.
                And by just playing with cloud cost calculators for a couple of
                minutes, it's clear that GPUs are cost-effective even on the
                major clouds.
              </p>
              <p>
                To be honest, I thought using GPUs for SQL processing would have
                taken off by now, but it hasn't. So, just over a year ago, I
                started working on actually deploying a cloud-based data
                platform powered by GPUs (i.e. Spark-RAPIDS), spurred by a
                friend-of-a-friend(-of-a-friend) who happened to have BigQuery
                cost concerns at his startup. After getting a proof of concept
                done and a letter of intent... well, nothing happened! Even
                after over half a year. But then, something magical did happen:
                their cloud credits ran out!
              </p>
              <p>
                And now, they're saving over 60% off of their BigQuery bill by
                using ParaQuery, while also being 2x faster -- with zero data
                migration needed (courtesy of Spark's GCS connector). By the
                way, I'm not sure about other people's experiences but... we're
                pretty far from being IO-bound (to the surprise of many
                engineers I've spoken to).
              </p>
              <p>
                I think that the future of high-throughput compute is computing
                on high-throughput hardware. If you think so too, or you have
                scaling data challenges, you can sign up here:
                <a href="https://paraquery.com/waitlist"
                  >https://paraquery.com/waitlist</a
                >. Sorry for the waitlist, but we're not ready for a self-serve
                experience just yet—it would front-load significant engineering
                and hardware cost. But we’ll get there, so stay tuned!
              </p>
              <p>
                Thanks for reading! What have your experiences been with huge
                ETL / processing loads? Was cost or performance an issue? And
                what do you think about GPU acceleration (GPGPU)? Did you think
                GPUs were simply expensive? Would love to just talk about tech
                here!
              </p>
            </div>
          </section>
        </section>
        <section id="43964201">
          <h3>
            <a class="item" href="https://github.com/airweave-ai/airweave"
              >Show HN: Airweave – Let agents search any app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 15:34:21</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964201"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/airweave-ai/airweave"
                >https://github.com/airweave-ai/airweave</a
              >), an open-source tool that lets agents search and retrieve data
              from any app or database. Here’s a general intro:
              <a href="https://www.youtube.com/watch?v=EFI-7SYGQ48"
                >https://www.youtube.com/watch?v=EFI-7SYGQ48</a
              >, and here’s a longer one that shows more real-world use cases,
              examples of how Airweave is used by Cursor (0:33) and Claude
              desktop (2:04), etc.:
              <a href="https://youtu.be/p2dl-39HwQo"
                >https://youtu.be/p2dl-39HwQo</a
              >
              <p>
                A couple of months ago we were building agents that interacted
                with different apps and were frustrated when they struggled to
                handle vague natural language requests like "resolve that one
                Linear issue about missing auth configs", "if you get an email
                from an unsatisfied customer, reimburse their payment in
                Stripe", or "what were the returns for Q1 based on the
                financials sheet in gdrive?", only to have the agent
                inefficiently chain together loads of function calls to find the
                data or not find it at all and hallucinate.
              </p>
              <p>
                We also noticed that despite the rise of MCP creating more
                desire for agents to interact with external resources, the
                majority of agent dev tooling focused on function calling and
                actions instead of search. We were annoyed by the lack of
                tooling that enabled agents to semantically search workspace or
                database contents, so we started building Airweave first as an
                internal solution. Then we decided to open-source it and pursue
                it full time after we got positive reactions from coworkers and
                other agent builders.
              </p>
              <p>
                Airweave connects to productivity tools, databases, or document
                stores via their APIs and transforms their contents into
                searchable knowledge bases, accessible through a standardized
                interface for the agent. The search interface is exposed via
                REST or MCP. When using MCP, Airweave essentially builds a
                semantically searchable MCP server on top of the resource. The
                platform handles the entire data pipeline from connection and
                extraction to chunking, embedding, and serving. To ensure
                knowledge is current, it has automated sync capabilities, with
                configurable schedules and change detection through content
                hashing.
              </p>
              <p>
                We built it with support for white-labeled multi-tenancy to
                provide OAuth2-based integration across multiple user accounts
                while maintaining privacy and security boundaries. We're also
                actively working on permission-awareness (i.e., RBAC on the
                data) for the platform.
              </p>
              <p>
                So happy to share learnings and get insights from your
                experiences. looking forward to comments!
              </p>
            </div>
          </section>
        </section>
        <section id="43964136">
          <h3>
            <a class="item" href="https://arslan.io/2025/05/12/barbican-estate/"
              >The Barbican</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 15:28:38</span
              ><span class="points-container"
                >Points: <span class="points">257</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43964136"
                  >Comments</a
                ><span class="descendants">: 95</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43963868">
          <h3>
            <a
              class="item"
              href="https://technicalwriting.dev/ml/embeddings/overview.html"
              >Embeddings are underrated</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 15:05:44</span
              ><span class="points-container"
                >Points: <span class="points">351</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43963868"
                  >Comments</a
                ><span class="descendants">: 111</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43963747">
          <h3>
            <a
              class="item"
              href="https://nixcademy.com/posts/secure-supply-chain-with-nix/"
              >Demonstrably Secure Software Supply Chains with Nix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 14:54:31</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43963747"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43963397">
          <h3>
            <a
              class="item"
              href="https://www.core77.com/posts/136773/Reviving-a-Modular-Cargo-Bike-Design-from-the-1930s"
              >Reviving a Modular Cargo Bike Design from the 1930s</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 14:29:33</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43963397"
                  >Comments</a
                ><span class="descendants">: 82</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43962992">
          <h3>
            <a
              class="item"
              href="https://tailscale.com/blog/4via6-connectivity-to-edge-devices"
              >Tailscale 4via6 – Connect Edge Deployments at Scale</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 14:00:32</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43962992"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43962770">
          <h3>
            <a class="item" href="https://bugs.ruby-lang.org/issues/21311"
              >Ruby 3.5 Feature: Namespace on read</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 13:39:34</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43962770"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43962427">
          <h3>
            <a
              class="item"
              href="https://github.com/m-ahmed-elbeskeri/Starguard"
              >Show HN: CLI that spots fake GitHub stars, risky dependencies and
              licence traps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 12:59:19</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43962427"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
            <div class="text">
              <p>
                I wrote StarGuard to put that number in perspective based on my
                own methodology inspired with what they did and to fold a
                broader supply-chain check into one command-line run.
              </p>
              <p>
                It starts with the simplest raw input: every starred_at
                timestamp GitHub will give. It applies a
                median-absolute-deviation test to locate sudden bursts. For each
                spike, StarGuard pulls a random sample of the accounts behind it
                and asks: how old is the user? Any followers? Any contribution
                history? Still using the default avatar? From that, it computes
                a Fake Star Index, between 0 (organic) and 1 (fully synthetic).
              </p>
              <p>
                But inflated stars are just one issue. In parallel, StarGuard
                parses dependency manifests or SBOMs and flags common risk
                signs: unpinned versions, direct Git URLs, lookalike package
                names. It also scans licences—AGPL sneaking into a repo claiming
                MIT, or other inconsistencies that can turn into compliance
                headaches.
              </p>
              <p>
                It checks contributor patterns too. If 90% of commits come from
                one person who hasn’t pushed in months, that’s flagged. It skims
                for obvious code red flags: eval calls, minified blobs, sketchy
                install scripts—because sometimes the problem is hiding in plain
                sight.
              </p>
              <p>
                All of this feeds into a weighted scoring model. The final Trust
                Score (0–100) reflects repo health at a glance, with direct
                penalties for fake-star behaviour, so a pretty README badge
                can’t hide inorganic hype.
              </p>
              <p>
                I added for the fun of it it generating a cool little badge for
                the trust score lol.
              </p>
              <p>
                Under the hood, its all uses, heuristics, and a lot of GitHub
                API paging. Run it on any public repo with:
              </p>
              <p>
                python starguard.py owner/repo --format markdown It works
                without a token, but you’ll hit rate limits sooner.
              </p>
              <p>Please provide any feedback you can.</p>
            </div>
          </section>
        </section>
        <section id="43962148">
          <h3>
            <a
              class="item"
              href="https://news.utexas.edu/2025/05/05/university-of-texas-led-team-solves-a-big-problem-for-fusion-energy/"
              >University of Texas-led team solves a big problem for fusion
              energy</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 12:21:33</span
              ><span class="points-container"
                >Points: <span class="points">178</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43962148"
                  >Comments</a
                ><span class="descendants">: 133</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43962138">
          <h3>
            <a class="item" href="https://spade-lang.org/"
              >Spade Hardware Description Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 12:19:50</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43962138"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43961908">
          <h3>
            <a class="item" href="https://www.comaps.app/news/2025-05-12/3/"
              >A community-led fork of Organic Maps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 11:40:24</span
              ><span class="points-container"
                >Points: <span class="points">240</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43961908"
                  >Comments</a
                ><span class="descendants">: 160</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43961226">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-05-universe-decay-years-sooner-previously.html"
              >Universe expected to decay in 10⁷⁸ years, much sooner than
              previously thought</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 09:46:36</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43961226"
                  >Comments</a
                ><span class="descendants">: 172</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43959403">
          <h3>
            <a
              class="item"
              href="https://blog.es3n1n.eu/posts/how-i-ruined-my-vacation/"
              >I ruined my vacation by reverse engineering WSC</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 03:34:26</span
              ><span class="points-container"
                >Points: <span class="points">321</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43959403"
                  >Comments</a
                ><span class="descendants">: 163</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43945660">
          <h3>
            <a
              class="item"
              href="https://blog.janestreet.com/why-gadts-matter-for-performance/"
              >Why GADTs matter for performance (2015)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 13:55:43</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43945660"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43945545">
          <h3>
            <a class="item" href="https://igbconline.org/"
              >Interagency Grizzly Bear Committee</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 13:40:34</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43945545"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43944007">
          <h3>
            <a
              class="item"
              href="https://alvinng4.github.io/grav_sim/5_steps_to_n_body_simulation/"
              >5 Steps to N-Body Simulation</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 08:10:18</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43944007"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43943673">
          <h3>
            <a
              class="item"
              href="https://examine.com/research-feed/study/1jjKq1/"
              >Continuous glucose monitors reveal variable glucose responses to
              the same meals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 06:44:00</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43943673"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43941068">
          <h3>
            <a
              class="item"
              href="https://www.rollingstone.com/feature/acid-lsd-king-william-leonard-pickard-prison-pete-wilkinson-184390/"
              >The Acid King</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-09 @ 21:30:16</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43941068"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
