<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43098690">
          <h3>
            <a class="item" href="https://github.com/noboruma/go-msquic"
              >Go-msquic: A new QUIC/HTTP3 library for Go</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 04:48:09</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43098690"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43098626">
          <h3>
            <a class="item" href="https://www.sjgames.com/fightingfantasy/"
              >Steve Jackson Games Is Bringing the Fighting Fantasy Books to the
              US</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 04:35:16</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43098626"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43098318">
          <h3>
            <a class="item" href="https://jon.bo/posts/daylight-computer-1/"
              >Thoughts on Daylight Computer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 03:41:48</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43098318"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43097932">
          <h3>
            <a class="item" href="https://saurabhalone.com/blogs/llama3/web"
              >Implementing LLaMA3 in 100 Lines of Pure Jax</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 02:37:10</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43097932"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43097814">
          <h3>
            <a class="item" href="https://github.com/augmentcode/augment.vim"
              >Augment.vim: AI Chat and completion in Vim and Neovim</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 02:19:46</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43097814"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43097747">
          <h3>
            <a
              class="item"
              href="https://usetrmnl.com/blog/the-unbrickable-pledge"
              >The Unbrickable Pledge</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 02:09:49</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43097747"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43096975">
          <h3>
            <a class="item" href="https://www.krish.gg/blog/json-parser-in-rust"
              >Parsing JSON in 500 lines of Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-19 @ 00:25:10</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43096975"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43096422">
          <h3>
            <a
              class="item"
              href="https://www.smithsonianmag.com/innovation/how-alice-hamilton-waged-one-woman-campaign-get-lead-out-everything-180985960/"
              >Alice Hamilton waged a one-woman campaign to get the lead out of
              everything</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 23:22:22</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43096422"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43095157">
          <h3>
            <a
              class="item"
              href="https://www.bitecode.dev/p/a-year-of-uv-pros-cons-and-should"
              >A year of uv: pros, cons, and should you migrate</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 21:09:19</span
              ><span class="points-container"
                >Points: <span class="points">461</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43095157"
                  >Comments</a
                ><span class="descendants">: 237</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43095070">
          <h3>
            <a class="item" href="https://broot.ca/kafka-at-the-low-end.html"
              >Kafka at the low end: how bad can it get?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 21:01:02</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43095070"
                  >Comments</a
                ><span class="descendants">: 75</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43094260">
          <h3>
            <a
              class="item"
              href="https://github.com/ValveSoftware/source-sdk-2013/commit/0759e2e8e179d5352d81d0d4aaded72c1704b7a9"
              >Valve releases Team Fortress 2 code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 19:57:17</span
              ><span class="points-container"
                >Points: <span class="points">1364</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43094260"
                  >Comments</a
                ><span class="descendants">: 293</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43094006">
          <h3>
            <a
              class="item"
              href="https://harper.blog/2025/02/16/my-llm-codegen-workflow-atm/"
              >My LLM codegen workflow</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 19:33:32</span
              ><span class="points-container"
                >Points: <span class="points">393</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43094006"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43093939">
          <h3>
            <a
              class="item"
              href="https://www.cea.fr/english/Pages/News/nuclear-fusion-west-beats-the-world-record-for-plasma-duration.aspx"
              >Nuclear fusion: WEST beats the world record for plasma
              duration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 19:26:33</span
              ><span class="points-container"
                >Points: <span class="points">324</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43093939"
                  >Comments</a
                ><span class="descendants">: 313</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43093610">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2502.03402"
              >Tensor evolution: A framework for fast tensor computations using
              recurrences</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 18:55:31</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43093610"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43093328">
          <h3>
            <a
              class="item"
              href="https://pi-hole.net/blog/2025/02/18/introducing-pi-hole-v6/"
              >Pi-hole v6</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 18:31:36</span
              ><span class="points-container"
                >Points: <span class="points">463</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43093328"
                  >Comments</a
                ><span class="descendants">: 222</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43092522">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43092522"
              >Launch HN: Promptless (YC W25) – Automatic updates for
              customer-facing docs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 17:30:39</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43092522"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
            <div class="text">
              <a href="https://gopromptless.ai">https://gopromptless.ai</a>), an
              AI teammate that proactively updates docs while you ship software.
              <p>
                There’s a demo video at
                <a href="https://youtu.be/pmslSl8dOgE"
                  >https://youtu.be/pmslSl8dOgE</a
                >, and also a “Live Demo on Your Own Docs” at
                <a href="https://gopromptless.ai/demo"
                  >https://gopromptless.ai/demo</a
                >
                where you can plug in the URL to any existing docs site and
                simulate a "trigger event" to see what Promptless would have
                suggested. We also opened up the full product with automatic
                triggers for a free trial for HN this week (if you sign up at
                <a href="https://gopromptless.ai/hn"
                  >https://gopromptless.ai/hn</a
                >).
              </p>
              <p>
                We built Promptless because we wished we had it, both as doc
                authors and doc consumers. On the authoring side, I used to run
                engineering at a fintech company, and since no developer enjoys
                updating docs, they often went out-of-date and customers
                complained. On the consuming side, when we write code, we
                regularly run into mistakes or omissions in vendors’ or
                dependencies’ docs that slow us down. (This pain seems to be
                getting more acute with AI coding assistants, since they often
                rely blindly on docs.)
              </p>
              <p>
                Promptless can be automatically triggered from new PRs or
                support tickets, or by manually tagging @Promptless in Slack. It
                integrates via OAuth with tools like Jira, Linear, and Notion,
                so that it has context about the intent of each change or
                feature. It drafts new or updated docs and can push them up to
                wherever docs live, like Readme, Mintlify, Intercom, Zendesk, or
                a Github repo.
              </p>
              <p>
                How it works: when first connected to your docs, it starts by
                reviewing each page and building a “product ontology” that
                understands concepts, entities, and resources, as well as the
                relationship between them. This can take several minutes to an
                hour depending on the number of articles. Then, when a new
                trigger event occurs (such as a new PR), the Promptless agent
                initializes a session with several tools to find relevant
                context and draft new or updated documentation.
              </p>
              <p>
                We expected early users to be most excited about automatically
                updating docs from new PRs, but we were surprised by other use
                cases from customers. For example, one has a ton of Slack
                Connect channels with customers, and our killer feature for them
                is being able to trigger an update from Slack in one click from
                Slack. Another has a content team separate from their product
                team, so for them, being able to update guides when the product
                team publishes release notes every two weeks is really valuable.
                Others value Promptless because it makes their AI support agents
                (like Intercom’s Fin AI) perform better, since it makes the
                source material more accurate and complete.
              </p>
              <p>
                We have also published updates for several open-source projects
                (like Ansible, Prefect, Ray, and Ollama). Some projects have
                &gt;40% of recent commits being doc updates/corrections, so
                having a product like Promptless that automatically suggests
                those doc updates can make contributing a lot easier and improve
                the DevEx for end-users.
              </p>
              <p>
                We’d love for you to check us out, and we welcome any
                suggestions, requests, questions, or criticism! Thank you for
                reading!
              </p>
            </div>
          </section>
        </section>
        <section id="43092003">
          <h3>
            <a class="item" href="https://glasskube.dev/blog/from-java-to-go/"
              >One year after switching from Java to Go</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 16:55:22</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43092003"
                  >Comments</a
                ><span class="descendants">: 230</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43091466">
          <h3>
            <a class="item" href="https://filepilot.tech/"
              >File Pilot: A file explorer built for speed with a modern, robust
              interface</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 16:24:01</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43091466"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43091195">
          <h3>
            <a
              class="item"
              href="https://www.mprnews.org/story/2018/01/25/jean-hilliard-northern-minnesota-frozen-survived"
              >Jean Hilliard's Minnesota Story (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 16:11:08</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43091195"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43090857">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-025-00456-x"
              >Migraine is more than a headache – a rethink offers hope</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 15:47:25</span
              ><span class="points-container"
                >Points: <span class="points">151</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43090857"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43090214">
          <h3>
            <a class="item" href="https://scripton.dev"
              >Show HN: Scripton – Python IDE with built-in realtime
              visualizations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 14:57:09</span
              ><span class="points-container"
                >Points: <span class="points">378</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43090214"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
            <div class="text">
              <a href="https://scripton.dev">https://scripton.dev</a>) is a
              Python IDE built for fast, interactive visualizations and
              exploratory programming — without the constraints of notebooks.
              <p>
                Why another Python IDE? Scripton hopes to fill a gap in the
                Python development ecosystem by being an IDE that:
              </p>
              <p>
                1. Focuses on easy, fast, and interactive visualizations (and
                exposes rich JS plotting libraries like Observable Plot and
                Plotly directly to Python) 2. Provides a tightly integrated REPL
                for rapid prototyping and exploration 3. Is script-centric (as
                opposed to, say, notebook-style)
              </p>
              <p>
                A historical detour for why these 3 features: Not so long ago
                (ok, well, maybe over a decade ago...), the go-to environment
                for many researchers in scientific fields would have been
                something like MATLAB. Generating multiple simultaneous
                visualizations (potentially dynamic) directly from your scripts,
                rapidly prototyping in the REPL, all without giving up on
                writing regular scripts. Over time, many switched over to Python
                but there wasn't an equivalent environment offering similar
                capabilities. IPython/Jupyter notebooks eventually became the de
                facto replacement. And while notebooks are great for many things
                (indeed, it wasn't uncommon for folks to switch between MATLAB
                and Mathematica Notebooks), they do make certain trade-offs that
                prevent them from being a full substitute.
              </p>
              <p>Inner workings:</p>
              <p>
                - Implemented in C++ (IDE &lt;-&gt; Python IPC), Python,
                TypeScript (UI), WGSL (WebGPU-based visualizations)
              </p>
              <p>
                - While the editor component is based off Monaco, the IDE is not
                a vscode fork and was written from scratch. Happy to chat about
                the trade-offs if anyone's interested
              </p>
              <p>
                - Uses a custom Python debugger written from scratch (which
                enables features like visualizing intermediate outputs while
                paused in the debugger)
              </p>
              <p>
                Scripton's under active development (currently only available
                for macOS but Linux and Windows support is planned). Would love
                for you to try it out and share your thoughts! Since this is HN,
                I’m also happy to chat about its internals.
              </p>
            </div>
          </section>
        </section>
        <section id="43087944">
          <h3>
            <a
              class="item"
              href="https://www.chiark.greenend.org.uk/~sgtatham/quasiblog/xor/"
              >XOR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 10:02:30</span
              ><span class="points-container"
                >Points: <span class="points">363</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43087944"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43086347">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2502.12115"
              >SWE-Lancer: a benchmark of freelance software engineering tasks
              from Upwork</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-18 @ 05:25:05</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43086347"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43084350">
          <h3>
            <a
              class="item"
              href="https://thomasvogelaar.me/posts/programming-with-chronic-pain/"
              >Programming with chronic pain</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-17 @ 23:43:22</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43084350"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43073527">
          <h3>
            <a
              class="item"
              href="https://rlafuente.com/post?post=2024-6-12-a-binary-vector-store"
              >Show HN: A GPU-accelerated binary vector index</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-17 @ 00:45:01</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43073527"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/rodlaf/BinaryGPUIndex"
                >https://github.com/rodlaf/BinaryGPUIndex</a
              >.
            </div>
          </section>
        </section>
        <section id="43072451">
          <h3>
            <a
              class="item"
              href="https://www.oblomovka.com/wp/2025/02/12/a-new-oral-culture/"
              >A New Oral Culture</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-16 @ 22:35:15</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43072451"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43070744">
          <h3>
            <a
              class="item"
              href="http://gameshelf.jmac.org/2008/11/13/GrimPuzzleDoc_small.pdf"
              >Grim Fandango Puzzle Document (1996) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-16 @ 19:13:15</span
              ><span class="points-container"
                >Points: <span class="points">110</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43070744"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43064200">
          <h3>
            <a
              class="item"
              href="https://www.x-plane.com/desktop/how-x-plane-works/"
              >How X-Plane Works</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-16 @ 00:52:52</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43064200"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43060037">
          <h3>
            <a
              class="item"
              href="https://www.motoringfile.com/2023/08/03/hands-on-with-vescin-minis-new-vegan-friendly-interior-that-replaces-leather/"
              >Hands-On with Vescin: MINI's New Vegan Friendly Interior That
              Replaces Leather</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-15 @ 16:58:27</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43060037"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43055400">
          <h3>
            <a class="item" href="https://pubby.games/sisyphus.html"
              >Little Sisyphus A physics-based platformer for the NES</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-02-15 @ 02:44:05</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43055400"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
