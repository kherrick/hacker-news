<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46713929">
          <h3>
            <a
              class="item"
              href="https://www.fb.org/market-intel/significant-farm-losses-persist-despite-federal-assistance"
              >Significant US farm losses persist, despite federal assistance</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-22 @ 01:11:36</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46713929"
                  >Comments</a
                ><span class="descendants">: 119</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46713924">
          <h3>
            <a
              class="item"
              href="https://blog.citp.princeton.edu/2026/01/16/internet-voting-is-insecure-and-should-not-be-used-in-public-elections/"
              >Internet voting is insecure and should not be used in public
              elections</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-22 @ 01:11:13</span
              ><span class="points-container"
                >Points: <span class="points">335</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46713924"
                  >Comments</a
                ><span class="descendants">: 308</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46713704">
          <h3>
            <a class="item" href="https://operand.online/chronicle/pass.zoom"
              >I'll pass on your zoom call</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-22 @ 00:34:20</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46713704"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46713526">
          <h3>
            <a
              class="item"
              href="https://www.jamf.com/blog/threat-actors-expand-abuse-of-visual-studio-code/"
              >Threat actors expand abuse of Microsoft Visual Studio Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-22 @ 00:12:00</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46713526"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46712815">
          <h3>
            <a class="item" href="https://github.com/freedomofpress/dangerzone"
              >Convert potentially dangerous PDFs to safe PDFs</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 22:54:04</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46712815"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46712547">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=Hju0H3NHxVI"
              >Mote: An Interactive Ecosystem Simulation [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 22:30:18</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46712547"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.tiktok.com/@recursecenter/video/7597943894319369502"
                >https://www.tiktok.com/@recursecenter/video/7597943894319369...</a
              >
            </div>
          </section>
        </section>
        <section id="46711792">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/jerry-inc/jobs/QaoK3rw-software-engineer-core-automation-marketplace"
              >Jerry (YC S17) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 21:26:18</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46711649">
          <h3>
            <a class="item" href="https://terabytedeals.com"
              >Show HN: TerabyteDeals – Compare storage prices by $/TB</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 21:13:59</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46711649"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
            <div class="text">
              <p>
                I kept having to calculate $/TB manually when shopping for NAS
                drives, so I made this to save myself the trouble.
              </p>
              <p>
                It pulls prices from Amazon (US, CA, AU, and EU stores),
                calculates $/TB, and lets you filter by drive type, interface,
                form factor, and capacity.
              </p>
              <p>Nothing fancy — just a sortable table updated daily.</p>
              <p>
                Any feedback is more than welcome, I hope someone will find it
                useful!
              </p>
            </div>
          </section>
        </section>
        <section id="46710042">
          <h3>
            <a
              class="item"
              href="https://www.kenkoonwong.com/blog/parallel-computing/"
              >Setting Up a Cluster of Tiny PCs for Parallel Computing</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 19:08:37</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46710042"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46709543">
          <h3>
            <a class="item" href="https://railsui.com/">Show HN: Rails UI</a>
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 18:31:19</span
              ><span class="points-container"
                >Points: <span class="points">135</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46709543"
                  >Comments</a
                ><span class="descendants">: 82</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46708678">
          <h3>
            <a class="item" href="https://blog.kagi.com/waiting-dawn-search"
              >Waiting for dawn in search: Search index, Google rulings and
              impact on Kagi</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 17:28:03</span
              ><span class="points-container"
                >Points: <span class="points">246</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46708678"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46708601">
          <h3>
            <a
              class="item"
              href="https://adguard-vpn.com/en/blog/adguard-vpn-protocol-goes-open-source-meet-trusttunnel.html"
              >TrustTunnel: AdGuard VPN protocol goes open-source</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 17:21:26</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46708601"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46708351">
          <h3>
            <a
              class="item"
              href="https://www.starrocks.io/blog/inside-starrocks-why-joins-are-faster-than-youd-expect"
              >Challenges in join optimization</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 17:03:31</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46708351"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46707708">
          <h3>
            <a class="item" href="https://modal.com/llm-almanac/workloads"
              >Three types of LLM workloads and how to serve them</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 16:15:06</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46707708"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46707572">
          <h3>
            <a
              class="item"
              href="https://www.anthropic.com/news/claude-new-constitution"
              >Claude's new constitution</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 16:04:49</span
              ><span class="points-container"
                >Points: <span class="points">367</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46707572"
                  >Comments</a
                ><span class="descendants">: 363</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.anthropic.com/constitution"
                >https://www.anthropic.com/constitution</a
              >
            </div>
          </section>
        </section>
        <section id="46706906">
          <h3>
            <a class="item" href="https://skip.dev/blog/skip-is-free/"
              >Skip is now free and open source</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 15:20:53</span
              ><span class="points-container"
                >Points: <span class="points">332</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46706906"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46706564">
          <h3>
            <a
              class="item"
              href="https://www.sentienceapi.com/blog/verification-layer-amazon-case-study"
              >A verification layer for browser agents: Amazon case study</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 14:56:32</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46706564"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                This post summarizes four runs of the same task (search → first
                product → add to cart → checkout on Amazon). The key comparison
                is Demo 0 (cloud baseline) vs Demo 3 (local autonomy); Demos 1–2
                are intermediate controls.
              </p>
              <p>
                More technical detail (architecture, code excerpts, additional
                log snippets):
              </p>
              <p>
                <a
                  href="https://www.sentienceapi.com/blog/verification-layer-amazon-case-study"
                  >https://www.sentienceapi.com/blog/verification-layer-amazon-...</a
                >
              </p>
              <p>Demo 0 vs Demo 3:</p>
              <p>
                Demo 0 (cloud, GLM‑4.6 + structured snapshots) success: 1/1 run
                tokens: 19,956 (~43% reduction vs ~35k estimate) time: ~60,000ms
                cost: cloud API (varies) vision: not required
              </p>
              <p>
                Demo 3 (local, DeepSeek R1 planner + Qwen ~3B executor) success:
                7/7 steps (re-run) tokens: 11,114 time: 405,740ms cost: $0.00
                incremental (local inference) vision: not required
              </p>
              <p>
                Latency note: the local stack is slower end-to-end here largely
                because inference runs on local hardware (Mac Studio with M4);
                the cloud baseline benefits from hosted inference, but has
                per-token API cost.
              </p>
              <p>Architecture</p>
              <p>
                This worked because we changed the control plane and added a
                verification loop.
              </p>
              <p>
                1) Constrain what the model sees (DOM pruning). We don’t feed
                the entire DOM or screenshots. We collect raw elements, then run
                a WASM pass to produce a compact “semantic snapshot”
                (roles/text/geometry) and prune the rest (often on the order of
                ~95% of nodes).
              </p>
              <p>2) Split reasoning from acting (planner vs executor).</p>
              <p>
                Planner (reasoning): DeepSeek R1 (local) generates step intent +
                what must be true afterward. Executor (action): Qwen ~3B (local)
                selects concrete DOM actions like CLICK(id) / TYPE(text). 3)
                Gate every step with Jest‑style verification. After each action,
                we assert state changes (URL changed, element exists/doesn’t
                exist, modal/drawer appeared). If a required assertion fails,
                the step fails with artifacts and bounded retries.
              </p>
              <p>Minimal shape:</p>
              <p>
                ok = await runtime.check( exists("role=textbox"),
                label="search_box_visible", required=True,
                ).eventually(timeout_s=10.0, poll_s=0.25,
                max_snapshot_attempts=3)
              </p>
              <p>
                What changed between “agents that look smart” and agents that
                work Two examples from the logs:
              </p>
              <p>
                Deterministic override to enforce “first result” intent:
                “Executor decision … [override] first_product_link -&gt;
                CLICK(1022)”
              </p>
              <p>
                Drawer handling that verifies and forces the correct branch:
                “result: PASS | add_to_cart_verified_after_drawer”
              </p>
              <p>
                The important point is that these are not post‑hoc analytics.
                They are inline gates: the system either proves it made progress
                or it stops and recovers.
              </p>
              <p>
                Takeaway If you’re trying to make browser agents reliable, the
                highest‑leverage move isn’t a bigger model. It’s constraining
                the state space and making success/failure explicit with
                per-step assertions.
              </p>
              <p>
                Reliability in agents comes from verification (assertions on
                structured snapshots), not just scaling model size.
              </p>
            </div>
          </section>
        </section>
        <section id="46706528">
          <h3>
            <a class="item" href="https://github.com/ChartGPU/ChartGPU"
              >Show HN: ChartGPU – WebGPU-powered charting library (1M points at
              60fps)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 14:54:56</span
              ><span class="points-container"
                >Points: <span class="points">535</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46706528"
                  >Comments</a
                ><span class="descendants">: 154</span></span
              >
            </h4>
            <div class="text">
              <p>
                The core insight: Canvas2D is fundamentally CPU-bound. Even
                WebGL chart libraries still do most computation on the CPU. So I
                moved everything to the GPU via WebGPU:
              </p>
              <p>
                - LTTB downsampling runs as a compute shader - Hit-testing for
                tooltips/hover is GPU-accelerated - Rendering uses instanced
                draws (one draw call per series)
              </p>
              <p>The result: 1M points at 60fps with smooth zoom/pan.</p>
              <p>
                Live demo:
                <a
                  href="https://chartgpu.github.io/ChartGPU/examples/million-points/"
                  >https://chartgpu.github.io/ChartGPU/examples/million-points/</a
                >
              </p>
              <p>
                Currently supports line, area, bar, scatter, pie, and
                candlestick charts. MIT licensed, available on npm: `npm install
                chartgpu`
              </p>
              <p>
                Happy to answer questions about WebGPU internals or architecture
                decisions.
              </p>
            </div>
          </section>
        </section>
        <section id="46705676">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46705676"
              >Tell HN: 2 years building a kids audio app as a solo dev –
              lessons learned</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 13:49:07</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46705676"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
            <div class="text">
              <p>
                I started Muky in April 2024. Classic side project that got out
                of hand. We have two kids - the younger one is happy with the
                Toniebox, but our older one outgrew it. She started asking for
                specific songs, audiobooks that aren't available as figurines,
                and "the music from that movie."
              </p>
              <p>
                We had an old iPad Mini lying around and already pay for Apple
                Music. Felt dumb to keep buying €17/$20 figurines for 30-45
                minutes of content when we have 100 million songs.
              </p>
              <p>Now at version 4.0 after ~20 updates. Some lessons:</p>
              <p>
                On the hardware vs app tradeoff: Toniebox and Yoto are brilliant
                for little ones – tactile, simple, no screen needed. But they
                hit a wall once kids want more. And handing a 5-year-old Apple
                Music means infinite scrolling and "Dad, what's this song
                about?" Muky sits in between – full library access, but parents
                control what's visible.
              </p>
              <p>
                On sharing: Remember lending CDs or cassettes to friends? Or
                kids swapping Tonie figurines at a playdate? I wanted that for a
                digital app. So I built QR code sharing. Scan, import, done. And
                unlike a physical thing – both keep a copy.
              </p>
              <p>
                On onboarding: First versions: empty app, figure it out
                yourself. Retention was awful. Now: 4-step onboarding that
                actually guides you. Should've done this from the start.
              </p>
              <p>
                On content discovery: 100 million songs sounds great until you
                have to find something. Parents don't want to search – they want
                suggestions. Spent a lot of time building a Browse tab with
                curated albums and audiobooks for kids. Finally feels like the
                app helps you instead of just waiting for input.
              </p>
              <p>
                On going native: Went with Swift/SwiftUI instead of Flutter or
                React Native. No regrets - SwiftUI is a joy to work with and
                performance is great. Android users ask for a port regularly. No
                capacity for that now, but Swift for Android is progressing (<a
                  href="https://www.swift.org/documentation/articles/swift-sdk-for-android-getting-started.html"
                  >https://www.swift.org/documentation/articles/swift-sdk-for-a...</a
                >). Maybe one day. CarPlay is another one parents keep asking
                for – going native should make that easier to add, if Apple
                grants me the entitlement.
              </p>
              <p>
                On subscriptions vs one-time: Started with one-time purchase.
                Revenue spikes at launch, then nothing. Switched to subscription
                – existing one-time buyers kept full access. Harder to sell, but
                sustainable.
              </p>
              <p>
                Ask me anything about indie iOS dev or building for kids. App is
                at <a href="https://muky.app">https://muky.app</a> if you're
                curious.
              </p>
            </div>
          </section>
        </section>
        <section id="46705201">
          <h3>
            <a class="item" href="https://susam.net/nested-code-fences.html"
              >Nested code fences in Markdown</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 13:08:35</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46705201"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46702411">
          <h3>
            <a
              class="item"
              href="https://eclecticlight.co/2026/01/21/can-you-slim-macos-down/"
              >Can you slim macOS down?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-21 @ 07:48:06</span
              ><span class="points-container"
                >Points: <span class="points">198</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46702411"
                  >Comments</a
                ><span class="descendants">: 240</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46676861">
          <h3>
            <a class="item" href="https://kerkour.com/introduction-rust-simd"
              >SIMD programming in pure Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-19 @ 09:39:02</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46676861"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46675583">
          <h3>
            <a
              class="item"
              href="https://www.poetryfoundation.org/poetry-news/69208/new-research-opening-line-of-beowulf-is-not-what-weve-eternally-thunk"
              >Beowulf's opening "What" is no interjection (2013)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-19 @ 06:19:53</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46675583"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46670503">
          <h3>
            <a class="item" href="https://www.asimov.press/p/head-activator"
              >Mystery of the Head Activator</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-18 @ 18:18:34</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46670503"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46662247">
          <h3>
            <a class="item" href="https://github.com/soegaard/webracket"
              >The WebRacket language is a subset of Racket that compiles to
              WebAssembly</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 21:23:58</span
              ><span class="points-container"
                >Points: <span class="points">113</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46662247"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46660016">
          <h3>
            <a
              class="item"
              href="https://github.com/lowdanie/hartree-fock-solver"
              >Show HN: Differentiable Quantum Chemistry</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 17:36:06</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46660016"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46658133">
          <h3>
            <a class="item" href="https://www.ratatui-ruby.dev/"
              >Show HN: RatatuiRuby wraps Rust Ratatui as a RubyGem – TUIs with
              the joy of Ruby</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 14:03:00</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46658133"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46658128">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2201.01174"
              >Binary fuse filters: Fast and smaller than xor filters (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-17 @ 14:02:17</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46658128"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46652173">
          <h3>
            <a
              class="item"
              href="https://borretti.me/article/letting-claude-play-text-adventures"
              >Letting Claude play text adventures</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 21:02:25</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46652173"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46651027">
          <h3>
            <a
              class="item"
              href="https://aljamal.substack.com/p/golfing-aplk-in-90-lines-of-python"
              >Golfing APL/K in 90 Lines of Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-16 @ 19:34:00</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46651027"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
