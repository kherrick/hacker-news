<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39849985">
          <h3>
            <a
              class="item"
              href="https://github.com/ai-robots-txt/ai.robots.txt"
              >AI-Shunning robots.txt</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 11:46:09</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849985"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39849754">
          <h3>
            <a
              class="item"
              href="https://www.nist.gov/news-events/news/2024/01/new-nccoe-guide-helps-major-industries-observe-incoming-data-while-using"
              >Addressing Visibility Challenges with TLS 1.3 Within the
              Enterprise</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 11:17:37</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849754"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39849727">
          <h3>
            <a
              class="item"
              href="https://www.commondreams.org/opinion/intel-subsidy-chips-act-stock-buyback"
              >Intel Brags of $152B in Stock Buybacks. Why Does It Need an $8B
              Subsidy?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 11:12:04</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849727"
                  >Comments</a
                ><span class="descendants">: 123</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39849548">
          <h3>
            <a
              class="item"
              href="https://reneweconomy.com.au/a-near-100pct-renewable-grid-for-australia-is-feasible-and-affordable-with-just-a-few-hours-of-storage/"
              >A near 100pct renewable grid for Australia is feasible and
              affordable</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 10:42:36</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849548"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39849335">
          <h3>
            <a
              class="item"
              href="https://blog.nordicsemi.com/getconnected/what-is-dect-2020-new-radio-nr-and-how-big-a-deal-is-it"
              >What is DECT-2020 New Radio (NR), and how big a deal is it?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 10:03:14</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849335"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39849269">
          <h3>
            <a class="item" href="https://www.zarl.dev/articles/enums-take-two"
              >Go Enums Still Suck</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 09:54:03</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849269"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39849126">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-024-00930-y"
              >Memories are made by breaking DNA – and fixing it</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 09:26:40</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39849126"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39848938">
          <h3>
            <a
              class="item"
              href="https://www.mvariety.com/business/j-j-can-contest-evidence-linking-its-talc-to-cancer-us-judge-rules/article_76600956-ecd3-11ee-b136-e36d19197d61.html"
              >J&amp;amp;J can contest evidence linking its talc to cancer, US
              judge rules</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 08:46:59</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39848938"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39848847">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39848847"
              >What things are happening in ML that we can't hear oer the din of
              LLMs?</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 08:25:58</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39848847"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
            <div class="text">
              <p>
                I notice that Cynthia rudin is continuing to produce great stuff
                on explainable AI.
              </p>
              <p>What else is going on that is not GPT/Diffusion/MultiModal?</p>
            </div>
          </section>
        </section>
        <section id="39848439">
          <h3>
            <a class="item" href="https://treemap-world-economy.pages.dev"
              >Treemap of World GDP by Purchasing Power Parity (PPP) 2020</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 06:59:55</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39848439"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39848268">
          <h3>
            <a class="item" href="https://github.com/shizunge/endlessh-go"
              >Endlessh-go: a Golang SSH tarpit that traps bots/scanners</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 06:23:19</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39848268"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39847943">
          <h3>
            <a
              class="item"
              href="https://www.forbes.com/sites/chadorzel/2016/05/04/the-real-reasons-quantum-entanglement-doesnt-allow-faster-than-light-communication/"
              >Why quantum entanglement doesn't allow faster-than-light
              communication (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 05:01:45</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39847943"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39847728">
          <h3>
            <a
              class="item"
              href="http://sininenankka.dy.fi/~sami/fdshell/doskernel.php"
              >ST-DOS</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 04:14:50</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39847728"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39846729">
          <h3>
            <a
              class="item"
              href="https://radiki.dev/posts/match-and-bind-patterns/"
              >A step beyond Rust's pattern matching</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 01:20:50</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39846729"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39846296">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-03-astronomers-rare-eclipsing-ray-binary.html"
              >Astronomers discover a rare eclipsing X-ray binary</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 00:18:05</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39846296"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39845471">
          <h3>
            <a class="item" href="https://www.beagleboard.org/boards/beagley-ai"
              >BeagleY-AI: a 4 TOPS-capable $70 board from Beagleboard</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 22:40:26</span
              ><span class="points-container"
                >Points: <span class="points">98</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39845471"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39844960">
          <h3>
            <a
              class="item"
              href="https://birchtree.me/blog/digital-wallets-and-the-only-apple-pay-does-this-mythology/"
              >Misunderstanding about the details of how Apply Pay works</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 21:43:59</span
              ><span class="points-container"
                >Points: <span class="points">254</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39844960"
                  >Comments</a
                ><span class="descendants">: 228</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39844936">
          <h3>
            <a class="item" href="https://www.swift.org/blog/adwaita-swift/"
              >Writing Gnome Apps with Swift</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 21:40:59</span
              ><span class="points-container"
                >Points: <span class="points">453</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39844936"
                  >Comments</a
                ><span class="descendants">: 210</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39844529">
          <h3>
            <a class="item" href="https://www.finleycms.com/careers/"
              >Finley (YC W21) is hiring to remake the $1T private credit
              space</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 21:00:37</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39844104">
          <h3>
            <a class="item" href="https://en.wikipedia.org/wiki/Peter_principle"
              >Peter principle</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 20:19:54</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39844104"
                  >Comments</a
                ><span class="descendants">: 105</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39842617">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39842617"
              >Launch HN: PointOne (YC W24) – Automated time tracking for
              lawyers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 18:10:57</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39842617"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
            <div class="text">
              <p>
                We’re Adrian, Katon, and Jeremy from PointOne (<a
                  href="https://pointone.ai"
                  >https://pointone.ai</a
                >). We’re building an app that automatically figures out what
                lawyers are doing and generates timesheets for them. Here’s a
                quick demo:
                <a href="https://youtu.be/yrL3e1hgaNc"
                  >https://youtu.be/yrL3e1hgaNc</a
                >, and here’s an even quicker one:
                <a href="https://youtu.be/giIaAxZp2M0"
                  >https://youtu.be/giIaAxZp2M0</a
                >.
              </p>
              <p>
                If you’ve ever hired a lawyer, you know most of them bill by the
                hour—or more specifically, by the 0.1 of an hour (hence our
                name!). What most clients don’t realize is how painful it is for
                lawyers to track all their work in 6-minute increments. Lawyers
                hate time tracking, and many say it’s the worst part of their
                jobs.
              </p>
              <p>
                Adrian started out his career as a corporate lawyer at Fenwick
                &amp; West. The first thing he was taught was how to track and
                bill his time. Between the 70-hour work weeks and billing to
                10-15+ clients per day, staying on top of timesheets is
                surprisingly hard. To make things worse, law firms are extremely
                particular about how narratives (that is, descriptions of tasks
                performed) are crafted—down to the punctuation and diction
                required. So, Adrian became chronically delinquent in submitting
                his timesheets, and the firm threatened to take away his bonus
                multiple times as a result.
              </p>
              <p>
                Attorney time tracking is not a new problem, and companies have
                been promising to solve it for years. But pre-LLM attempts at
                automatic timekeeping never worked as advertised. We were
                inspired by products like Rewind, and felt that a narrower
                vertical application could finally solve this problem for
                lawyers.
              </p>
              <p>
                Our product is a desktop application that a lawyer turns on at
                the start of their work day. It runs passively in the background
                and captures logs from everywhere they work: the OS itself,
                Word, Excel, calendar, emails, web browser, Slack/Teams, etc. We
                then clean, pre-process, and interpret the logs. Modern LLMs
                enable a bunch of cool features. For example, we can pull subtle
                context from an attorney’s browser activity to associate that
                work with a client. And for each client and project, we use
                these models to generate a time entry with a narrative
                description that matches both the firm’s and the client’s style
                preferences.
              </p>
              <p>
                Besides the fact that lawyers hate timekeeping, using PointOne
                lets them be sure that they’re not letting time slip through the
                cracks, and frees up hours per week they can spend on other
                things. It also helps firm leadership by getting more consistent
                narratives, and faster timesheet submission.
              </p>
              <p>
                Given the sensitivity of the data captured, privacy and security
                are massively important. As such, we have customizable data
                retention periods, we do not use firm data to update models, and
                we encrypt all data (in addition to employing other standard
                practices for processing confidential data).
              </p>
              <p>
                Since our app primarily works for legal workflows, it might not
                be super useful for <i>most</i> people here (maybe some
                though!). We would love it if you could check out our demo
                video, leave your thoughts in the comments, and introduce us to
                any lawyers you know.
              </p>
            </div>
          </section>
        </section>
        <section id="39841956">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39841956"
              >Launch HN: Patchwork (YC W24) – Team communication based on
              feeds, not chat</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 17:20:43</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39841956"
                  >Comments</a
                ><span class="descendants">: 64</span></span
              >
            </h4>
            <div class="text">
              <p>
                Edit: as requested, here are some screenshots: - Feed:
                <a href="https://imgur.com/a/bvH7ypQ"
                  >https://imgur.com/a/bvH7ypQ</a
                >
                - Post Creation:
                <a href="https://imgur.com/a/HENe15A"
                  >https://imgur.com/a/HENe15A</a
                >, Chat:
                <a href="https://imgur.com/a/MVyVykY"
                  >https://imgur.com/a/MVyVykY</a
                >.
              </p>
              <p>
                Over the last several years, we’ve noticed that it’s getting
                increasingly difficult to stay in flow. We believe it’s because
                chat (i.e. Slack, Teams, and similar tools) has evolved into
                something it wasn’t designed for. Chat originally served as a
                way to free us from our desk by giving us the safety that if we
                were needed for immediate matters, people could reach us. Now
                it’s become a dumping ground for all communication: daily
                updates, product and engineering discussions, announcements,
                etc. Both of us still reminisce about the days of in-office
                work, before Slack became mainstream, where everyone abided by
                the headphone rule—the unwritten pact that headphones meant
                someone was in deep work and not to bother them unless you
                really needed to. Compared to then, the onus has now shifted to
                be on us to determine which chats are urgent and should take us
                out of flow vs. which messages can be responded to later. It
                feels like the very tool that was meant to liberate us instead
                made us beholden to its pings.
              </p>
              <p>
                Patchwork is our attempt to solve this problem by shifting the
                primary communication model from group chats to feeds. Posts are
                made in relevant groups and each team member has a home feed
                personalized to them.
              </p>
              <p>
                The feed algorithm evaluates each post's relevance and urgency
                based on a bunch of factors, including the post’s content,
                user's role, ongoing projects, and recent interactions. Our goal
                is to maintain a high signal-to-noise ratio with our feed’s
                algorithm so we can surface the most important information
                first. When you’re not in flow or in between meetings, you can
                check the feed to stay in sync.
              </p>
              <p>
                There have been feed-based work communication products before,
                but they’ve often overlooked the fact that writing a post has
                more friction than writing a chat message, which is why people
                often revert back to doing everything over chat. We’re combating
                this by using LLMs to create a better writing experience (ie.
                generate title and tl;dr, simplify selected content, change the
                tone, etc.).
              </p>
              <p>
                As a product team ourselves, we know that much of our work
                happens on different platforms. We’re building integrations with
                the likes of Github, Linear, Figma, GSuite etc. Having all of
                this activity from different platforms also rolling into our
                feeds allows us to stay in sync with all the different work
                being done on our team instead of having to check various
                sources of data.
              </p>
              <p>
                Lastly, we do have chat on the platform, but chat looks and
                feels like chat. It’s meant to be used for immediate needs.
              </p>
              <p>
                Here’s a demo of the product:
                <a href="https://www.youtube.com/watch?v=SA3rmSjNjDw"
                  >https://www.youtube.com/watch?v=SA3rmSjNjDw</a
                >
              </p>
              <p>
                Since it’s a team communication product, it's hard to use it in
                single player mode, so we don’t have a “try it now” link to jump
                straight in. But you’re welcome to email us at
                hackernews@atpatchwork.com and we’ll onboard your team.
              </p>
              <p>
                The product is still early with a basic feed, a few
                integrations, and simple LLM assisted post creation, but the
                main flow is already there, so if the message resonates with
                you, we’d love for you to give it a try.
              </p>
              <p>
                More importantly, we’d love to hear your ideas about team
                communication and getting it back to working <i>for</i> people,
                not <i>at</i> them!
              </p>
              <p>
                <a href="https://www.atpatchwork.com/"
                  >https://www.atpatchwork.com/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="39841449">
          <h3>
            <a
              class="item"
              href="https://lostpixels.io/writings/building-interactive-plotter-art"
              >Show HN: I built an interactive plotter art exhibit for
              SIGGRAPH</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 16:40:05</span
              ><span class="points-container"
                >Points: <span class="points">141</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39841449"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
            <div class="text">
              I'm enthralled with using pen plotters to make generative art.
              Last August at SIGGRAPH, I built an interactive experience for
              others to see how code can be used to make visual art. The linked
              blog post is my trials and tribulations of linking a MIDI
              controller to one of these algorithms and sending its output to a
              plotter, so that people may witness the end-to-end experience.
            </div>
          </section>
        </section>
        <section id="39839789">
          <h3>
            <a
              class="item"
              href="https://harpers.org/archive/2024/03/the-pentagons-silicon-valley-problem-andrew-cockburn/"
              >The Pentagon's Silicon Valley Problem</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 14:38:51</span
              ><span class="points-container"
                >Points: <span class="points">233</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39839789"
                  >Comments</a
                ><span class="descendants">: 325</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39839629">
          <h3>
            <a
              class="item"
              href="https://memoirsandrambles.substack.com/p/the-window-for-great-grandmothers"
              >The window for great-grandmothers is closing</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 14:28:54</span
              ><span class="points-container"
                >Points: <span class="points">232</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39839629"
                  >Comments</a
                ><span class="descendants">: 355</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39839257">
          <h3>
            <a
              class="item"
              href="https://www.newstatesman.com/culture/art-design/2024/03/the-last-crimes-of-caravaggio"
              >The last crimes of Caravaggio</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 14:04:16</span
              ><span class="points-container"
                >Points: <span class="points">153</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39839257"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39838104">
          <h3>
            <a
              class="item"
              href="https://www.databricks.com/blog/introducing-dbrx-new-state-art-open-llm"
              >DBRX: A new open LLM</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 12:23:48</span
              ><span class="points-container"
                >Points: <span class="points">753</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39838104"
                  >Comments</a
                ><span class="descendants">: 307</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39836745">
          <h3>
            <a class="item" href="https://www.furygpu.com"
              >FuryGpu – Custom PCIe FPGA GPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 08:37:38</span
              ><span class="points-container"
                >Points: <span class="points">356</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39836745"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39836350">
          <h3>
            <a
              class="item"
              href="https://krebsonsecurity.com/2024/03/recent-mfa-bombing-attacks-targeting-apple-users/"
              >Recent 'MFA Bombing' Attacks Targeting Apple Users</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-27 @ 07:10:11</span
              ><span class="points-container"
                >Points: <span class="points">367</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39836350"
                  >Comments</a
                ><span class="descendants">: 207</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39820619">
          <h3>
            <a
              class="item"
              href="https://www.honest-broker.com/p/12-things-i-learned-from-rene-girard"
              >Things I Learned from René Girard</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-25 @ 19:58:18</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39820619"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
