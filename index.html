<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44332699">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2506.11440"
              >AbsenceBench: Language Models Can't Tell What's Missing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 22:26:52</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332699"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44332221">
          <h3>
            <a
              class="item"
              href="https://chipsandcheese.com/p/amds-freshly-baked-mi350-an-interview"
              >AMD's Freshly-Baked MI350: An Interview with the Chief
              Architect</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 21:20:46</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332221"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44332206">
          <h3>
            <a class="item" href="https://makefizz.buzz/posts/libraries-llms"
              >Libraries are under-used. LLMs make this problem worse</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 21:18:42</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332206"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44332170">
          <h3>
            <a class="item" href="https://www.monkeon.co.uk/wikiradio/"
              >Wiki Radio: The thrilling sound of random Wikipedia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 21:15:15</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44332170"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44331518">
          <h3>
            <a
              class="item"
              href="https://pymsi.readthedocs.io/en/latest/msi_viewer.html"
              >Show HN: Inspect and extract files from MSI installers directly
              in your browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 20:04:01</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44331518"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm excited to share a small web app I built that allows you to
                view and extract the contents of Windows MSI installers directly
                in your browser. It's essentially a web-based "lessmsi" powered
                by Pyodide.
              </p>
              <p>
                You can try it out at:
                <a href="https://pymsi.readthedocs.io/en/latest/msi_viewer.html"
                  >https://pymsi.readthedocs.io/en/latest/msi_viewer.html</a
                >
              </p>
              <p>
                My motivation for building this was from part of my day job -- I
                often get Windows MSI installers and need to extract files while
                preserving the relative directory structure and filenames, as
                they would appear after a full installation. The existing tools
                I found were good but limited in which platforms they support:
                lessmsi works great on Windows, while msitools works for
                Linux/macOS. Neither is a truly cross-platform solution that
                works on any major OS.
              </p>
              <p>
                So we developed pymsi (a pure Python library, available on
                GitHub at
                <a href="https://github.com/nightlark/pymsi"
                  >https://github.com/nightlark/pymsi</a
                >) to handle reading and extracting MSI files from Python. Then
                I realized that since pymsi has no native dependencies, it could
                potentially run in a web browser using Pyodide. After a bit of
                "vibe coding" and fixing some "hallucinated" functions/classes
                that don't exist in pymsi, the result was this client-side web
                app.
              </p>
              <p>
                If you need an MSI file to experiment with, older versions of
                PowerToys included the installer in .msi form, such as this one:
                <a
                  href="https://github.com/microsoft/PowerToys/releases/download/v0.21.1/PowerToysSetup-0.21.1-x64.msi"
                  >https://github.com/microsoft/PowerToys/releases/download/v0....</a
                >
              </p>
              <p>
                Note that the underlying pymsi library hasn't been extensively
                tested against a bunch of MSI installers yet, so there might
                still be lingering bugs. If you come across any issues, please
                don't hesitate to report them in on the GitHub repository (<a
                  href="https://github.com/nightlark/pymsi/issues"
                  >https://github.com/nightlark/pymsi/issues</a
                >).
              </p>
              <p>I'd love to hear your feedback and answer any questions!</p>
            </div>
          </section>
        </section>
        <section id="44331362">
          <h3>
            <a class="item" href="https://writewithharper.com"
              >Harper â€“ an open-source alternative to Grammarly</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 19:51:45</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44331362"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44331193">
          <h3>
            <a
              class="item"
              href="https://www.tandfonline.com/doi/full/10.1080/00048402.2025.2504070"
              >Smartphones: Parts of Our Minds? Or Parasites?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 19:35:41</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44331193"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44331125">
          <h3>
            <a
              class="item"
              href="https://ironicsans.ghost.io/how-the-jaws-shark-became-public-domain/"
              >It's True: The Jaws Shark Is Public Domain</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 19:28:50</span
              ><span class="points-container"
                >Points: <span class="points">107</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44331125"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44330850">
          <h3>
            <a
              class="item"
              href="http://www.jazzyear.com/article_info.html?id=1352"
              >JÃ¼rgen Schmidhuberï¼šthe Father of Generative AI Without Turing
              Award</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 19:00:55</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44330850"
                  >Comments</a
                ><span class="descendants">: 26</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44330613">
          <h3>
            <a
              class="item"
              href="https://brooker.co.za/blog/2025/06/20/career.html"
              >Career advice, or something like it</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 18:37:53</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44330613"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44330462">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/science/2025/06/study-confirms-white-sands-footprints-are-23000-years-old/"
              >New dating for White Sands footprints confirms controversial
              theory</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 18:23:38</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44330462"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44329640">
          <h3>
            <a class="item" href="https://github.com/ebbejan/tux-racer-js"
              >Tuxracer.js play Tux Racer in the browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:54:12</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329640"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44329600">
          <h3>
            <a
              class="item"
              href="https://www.filfre.net/2025/06/alpha-centauri/"
              >Alpha Centauri</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:50:14</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329600"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44329457">
          <h3>
            <a class="item" href="https://github.com/nxtscape/nxtscape"
              >Show HN: Nxtscape â€“ an open-source agentic browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:35:55</span
              ><span class="points-container"
                >Points: <span class="points">172</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329457"
                  >Comments</a
                ><span class="descendants">: 134</span></span
              >
            </h4>
            <div class="text">
              <p>
                -- Why bother building a new browser? For the first time since
                Netscape was released in 1994, it feels like we can reimagine
                browsers from scratch for the age of AI agents. The web browser
                of tomorrow might not look like what we have today.
              </p>
              <p>
                We saw how tools like Cursor gave developers a 10x productivity
                boost, yet the browserâ€”where everyone else spends their entire
                workdayâ€”hasn't fundamentally changed.
              </p>
              <p>
                And honestly, we feel like we're constantly fighting the browser
                we use every day. It's not one big thing, but a series of small,
                constant frustrations. I'll have 70+ tabs open from three
                different projects and completely lose my train of thought. And
                simple stuff like reordering tide pods from amazon or filling
                out forms shouldn't need our full attention anymore. AI can
                handle all of this, and that's exactly what we're building.
              </p>
              <p>
                Hereâ€™s a demo of our early version
                <a href="https://dub.sh/nxtscape-demo"
                  >https://dub.sh/nxtscape-demo</a
                >
              </p>
              <p>
                -- What makes us different We know others are exploring this
                space (Perplexity, Dia), but we want to build something
                open-source and community-driven. We're not a search or ads
                company, so we can focus on being privacy-first â€“ Ollama
                integration, BYOK (Bring Your Own Keys), ad-blocker.
              </p>
              <p>
                Btw we love what Brave started and stood for, but they've now
                spread themselves too thin across crypto, search, etc. We are
                laser-focused on one thing: making browsers work for YOU with
                AI. And unlike Arc (which we loved too but got abandoned), we're
                100% open source. Fork us if you don't like our direction.
              </p>
              <p>
                -- Our journey hacking a new browser To build this, we had to
                fork Chromium. Honestly, it feels like the only viable path
                todayâ€”we've seen others like Brave (started with electron) and
                Microsoft Edge learn this the hard way.
              </p>
              <p>
                We also started with why not just build an extension. But
                realized we needed more control. Similar to the reason why
                Cursor forked VSCode. For example, Chrome has this thing called
                the Accessibility Tree - basically a cleaner, semantic version
                of the DOM that screen readers use. Perfect for AI agents to
                understand pages, but you can't use it through extension APIs.
              </p>
              <p>
                That said, working with the 15M-line C++ chromium codebase has
                been an adventure. We've both worked on infra at Google and
                Meta, but Chromium is a different beast. Tools like Cursor's
                indexing completely break at this scale, so we've had to get
                really good with grep and vim. And the build times are
                brutalâ€”even with our maxed-out M4 Max MacBook, a full build
                takes about 3 hours.
              </p>
              <p>
                Full disclosure: we are still very early, but we have a working
                prototype on GitHub. It includes an early version of a "local
                Manus" style agent that can automate simple web tasks, plus an
                AI sidebar for questions, and other productivity features
                (grouping tabs, saving/resuming sessions, etc.).
              </p>
              <p>Looking forward to any and all comments!</p>
              <p>
                You can download the browser from our github page:
                <a href="https://github.com/nxtscape/nxtscape"
                  >https://github.com/nxtscape/nxtscape</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44329449">
          <h3>
            <a
              class="item"
              href="https://marcinciura.wordpress.com/2025/06/20/cracovians-the-twisted-twins-of-matrices/"
              >Cracovians: The Twisted Twins of Matrices</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 16:35:05</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44329449"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328904">
          <h3>
            <a class="item" href="https://htdp.org"
              >How to Design Programs 2nd Ed (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:51:59</span
              ><span class="points-container"
                >Points: <span class="points">100</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328904"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328598">
          <h3>
            <a
              class="item"
              href="https://jgeekstudies.org/2025/06/20/wilted-lands-and-wounded-worlds-visualizing-environmental-costs-of-war-in-hayao-miyazakis-nausicaa-of-the-valley-of-the-wind/"
              >Visualizing environmental costs of war in Hayao Miyazaki's
              NausicaÃ¤</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 15:23:29</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328598"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328326">
          <h3>
            <a
              class="item"
              href="https://fly.io/blog/phoenix-new-the-remote-ai-runtime/"
              >Phoenix.new â€“ Remote AI Runtime for Phoenix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:57:04</span
              ><span class="points-container"
                >Points: <span class="points">337</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328326"
                  >Comments</a
                ><span class="descendants">: 149</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44328114">
          <h3>
            <a class="item" href="https://yourabbit.com"
              >Show HN: I Built a Site That Curates Weird YouTube Rabbit Holes
              Daily</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 14:35:50</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44328114"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>
                Itâ€™s not driven by the YouTube algorithm â€” every collection is
                themed and curated manually (for now), with a backend Iâ€™m
                automating to fetch and organize new rabbit holes daily.
              </p>
              <p>
                Built as a hybrid Astro + Next.js project, optimized for static
                generation and speed.
              </p>
              <p>
                Iâ€™m also pairing videos with custom summaries and commentary
                (using AI), and would love feedback from the HN crowd on:
              </p>
              <p>Content model (too wide? not specific enough?)</p>
              <p>Scaling ideas or features worth adding</p>
              <p>Whether it's fun enough to keep people coming back</p>
              <p>Open to any critique or ideas. Thanks!</p>
            </div>
          </section>
        </section>
        <section id="44327759">
          <h3>
            <a class="item" href="https://github.com/e3ntity/nanograd"
              >Minimal auto-differentiation engine in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 13:53:34</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327759"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44327173">
          <h3>
            <a class="item" href="https://t3x.org/klong/"
              >Klong: A Simple Array Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 12:44:09</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44327173"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44326620">
          <h3>
            <a class="item" href="https://github.com/NickTikhonov/snap-ql"
              >Show HN: SnapQL â€“ Desktop app to query Postgres with AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 11:08:18</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44326620"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
            <div class="text">
              <p>
                Everything runs locally â€” your OpenAI API key, your data, and
                your queries â€” so it's secure and private. Just connect your DB,
                describe what you want, and SnapQL writes and runs the SQL for
                you.
              </p>
            </div>
          </section>
        </section>
        <section id="44326145">
          <h3>
            <a
              class="item"
              href="https://www.iaea.org/newscenter/news/meet-oklo-the-earths-two-billion-year-old-only-known-natural-nuclear-reactor"
              >Oklo, the Earth's Two-billion-year-old only Known Natural Nuclear
              Reactor (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-20 @ 09:52:50</span
              ><span class="points-container"
                >Points: <span class="points">156</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44326145"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44312501">
          <h3>
            <a
              class="item"
              href="https://publicdomainreview.org/essay/dancing-naked-on-the-head-of-a-pin"
              >Dancing Naked on the Head of a Pin: The Early History of
              Microphotography</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 19:08:57</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44312501"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44307445">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-06-ancient-termite-poo-reveals-million.html"
              >Ancient termite poo reveals 120M-year-old secrets of Australia's
              forests</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-18 @ 07:25:16</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44307445"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44304607">
          <h3>
            <a
              class="item"
              href="https://www.bauplanlabs.com/blog/everything-as-python"
              >A Python-first data lakehouse</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 22:22:03</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44304607"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44303246">
          <h3>
            <a
              class="item"
              href="https://dev.arma3.com/post/oprep-performance-optimizations-in-220"
              >An analysis of recent multithreading improvements for a smoother
              game</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 19:56:40</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44303246"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44300095">
          <h3>
            <a
              class="item"
              href="https://nautil.us/finding-peter-putnam-1218035/"
              >Finding Peter Putnam</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 15:01:14</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44300095"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44299680">
          <h3>
            <a
              class="item"
              href="https://tannerduve.github.io/blog/memoization-sigma/"
              >Verified Dynamic Programming with Î£-types in Lean</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-17 @ 14:28:30</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44299680"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44291052">
          <h3>
            <a
              class="item"
              href="https://generalrobots.substack.com/p/a-brief-incomplete-and-mostly-wrong"
              >A Brief, Incomplete, and Mostly Wrong History of Robotics</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 16:28:10</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291052"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
