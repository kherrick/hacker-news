<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44975180">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/cua/jobs/a6UbTvG-founding-engineer-ux-design"
              >Cua (YC X25) is hiring design engineers in SF</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 17:01:03</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44975164">
          <h3>
            <a
              class="item"
              href="https://rudevulture.com/marines-managed-to-get-past-an-ai-powered-camera-undetected-thanks-to-hiding-in-boxes/"
              >Marines managed to get past an AI powered camera "undetected" by
              hiding in boxes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 16:59:30</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44975164"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974688">
          <h3>
            <a class="item" href="https://jyn.dev/the-core-of-rust/"
              >The Core of Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 16:27:22</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974688"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974565">
          <h3>
            <a
              class="item"
              href="https://miguelconner.substack.com/p/anki-is-already-dead"
              >I did 98,000 Anki reviews. Anki is already dead</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 16:16:54</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974565"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974365">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2025/08/bank-forced-to-rehire-workers-after-lying-about-chatbot-productivity-union-says/"
              >Bank forced to rehire workers after lying about chatbot
              productivity, union says</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 15:58:55</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974365"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974330">
          <h3>
            <a
              class="item"
              href="https://aggressivelyparaphrasing.me/2025/08/21/adding-my-home-electricity-uptime-to-status-href-cat/"
              >Adding my home electricity uptime to status.href.cat</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 15:54:15</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974330"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974251">
          <h3>
            <a
              class="item"
              href="https://blog.plan99.net/the-science-of-westworld-ec624585e47"
              >A summary of recent AI research (2016)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 15:47:42</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974251"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974230">
          <h3>
            <a
              class="item"
              href="https://old.reddit.com/r/Entrepreneur/comments/1mw5yfg/forced_every_engineer_to_take_sales_calls_they/"
              >Forced every engineer to take sales calls.They rewrote our
              platform in 2 weeks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 15:46:16</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974230"
                  >Comments</a
                ><span class="descendants">: 92</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44974109">
          <h3>
            <a class="item" href="https://www.lumia.security/blog/applestorm"
              >Unmasking the Privacy Risks of Apple Intelligence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 15:36:51</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44974109"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44973758">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44973758"
              >Launch HN: Skope (YC S25) – Outcome-based pricing for software
              products</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 15:09:38</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44973758"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.useskope.com/">https://www.useskope.com/</a
              >), a billing system that supports outcome-based pricing for
              software—that is, which charges your customers only when your
              software actually works. We’re an alternative to Stripe Billing,
              Orb, and Metronome that natively supports this pricing model,
              because we believe it’s especially needed for the AI products
              which are flooding the market and that will continue to be built
              in the future.
              <p>
                Here’s a demo video:
                <a href="https://www.youtube.com/watch?v=ORxhACQbu64"
                  >https://www.youtube.com/watch?v=ORxhACQbu64</a
                >
              </p>
              <p>
                Prior to working on Skope, we built AI agents that fundraised
                for nonprofits. We weren’t able to find our stride within the
                nonprofit world, one reason being that there was no incentive
                for a nonprofit (with an already small budget) to take on the
                risk of buying expensive software claiming to replace humans at
                a high upfront cost, without proving its value first.
              </p>
              <p>
                Instead, they should’ve been able to pay every time our product
                really worked (in this case by securing a donation or booking a
                meeting). With this model, we wouldn’t profit with a mediocre
                product. At the same time, we’d give ourselves more upside if
                what we were selling truly did its job. All while taking all the
                risk off of our buyers.
              </p>
              <p>
                Although we really wanted to, there was no easy way to make this
                happen at scale. It would have had to rely on trust, and depend
                on every single customer reporting each outcome quickly and
                accurately. Not the best recipe.
              </p>
              <p>
                So, we decided to build it…which turned out to mean rebuilding
                billing from scratch. We think a world where people pay for
                software doing its job is a good one, in which case
                outcome-based pricing will catch on, but don’t think it’ll
                happen overnight. There are a ton of wrinkles to figure out
                still. In the meantime, we’ve also built the rails to support
                traditional subscriptions and usage/credit based models with a
                focus on making iteration on price really easy.
              </p>
              <p>
                How it works: Our users can easily track customer usage through
                units (like tokens consumed or emails sent) and set pricing
                rules such as the price of each unit or a limit for usage per
                month. These pricing rules are designed to be flexible items
                that can be modified easily for each customer. Usage is recorded
                as events uploaded via our API/SDK, which are mapped to pricing
                rules for accurate, immutable billing calculations. Invoices are
                automatically generated at the end of each billing period based
                on the events logged during the given period. We are working to
                develop integrations with LLM observability platforms such as
                Helicone and Langfuse to make it easy to record customer usage
                data. Finally, we make it easy to collect payments via Stripe
                (disconnected from Stripe Billing).
              </p>
              <p>
                For outcomes specifically, we’re working on acting as a middle
                layer between our customers and their users. The same process
                for setting prices and units follows as said before, but we’ll
                have access to both our users’ and their customers’ systems of
                record to verify that these outcomes actually happened. We built
                a customer portal so that once outcomes are verified by us, the
                customer can see and validate them as they happen. If a customer
                of a company using Skope, wants to dispute a charge, we plan to
                handle it ourselves through the platform. Transparency and trust
                are really important between all parties within this model, so
                we want to do everything possible to encourage that.
              </p>
              <p>
                We really like the outcome-based model because it encourages
                truly good software and aligns incentives between buyers and
                sellers. We think that the bar for software will become higher
                as more companies adopt it and it’ll lead to cool things. At the
                same time, neither buyers nor sellers can pull a fast one on the
                other to get a better deal. It’s similar to Google Ads, which
                introduced pay-per-click pricing to online advertising for the
                first time. We’re trying to make it possible for the entire
                software industry to come into the pay-per-performance realm,
                just like Google did 20 years ago.
              </p>
              <p>
                We’re rolling out at a flat subscription price.
                Counterintuitively, we don’t think the outcome-based model makes
                sense for Skope itself. A billing product isn’t one that “may or
                may not work”, it needs to just work.
              </p>
              <p>
                The way AI companies do business needs new billing
                infrastructure, and that's what we’re working to provide. We
                have a ton to learn and are eager to hear how others see the
                future playing out.
              </p>
              <p>
                Please let us know if you have any thoughts on things you’d like
                to see. Always excited to riff on this and we’d absolutely love
                your comments!
              </p>
            </div>
          </section>
        </section>
        <section id="44973375">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2507.00191"
              >Beyond sensor data: Foundation models of behavioral data from
              wearables</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 14:39:45</span
              ><span class="points-container"
                >Points: <span class="points">150</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44973375"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44973269">
          <h3>
            <a class="item" href="https://unity.com/products/unity-industry"
              >Unity reintroduces the Runtime Fee through its Industry
              license</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 14:31:18</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44973269"
                  >Comments</a
                ><span class="descendants">: 70</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44972238">
          <h3>
            <a class="item" href="https://app.chartdb.io"
              >Show HN: ChartDB Cloud – Visualize and Share Database Diagrams</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 13:01:11</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44972238"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                Our OSS launch (1y ago) -
                <a href="https://news.ycombinator.com/item?id=41339308"
                  >https://news.ycombinator.com/item?id=41339308</a
                >
              </p>
              <p>Now we’re launching ChartDB Cloud - built for teams:</p>
              <p>- Embed ERDs into docs, dev portals, or Miro/Notion etc.</p>
              <p>- Collaborate in real-time (with live cursors like Figma)</p>
              <p>- Keep diagrams always in sync with your database</p>
              <p>- Organize large, messy schemas without pain</p>
              <p>
                - Export DDL in multiple SQL dialects (solved deterministically)
              </p>
              <p>
                - AI assistant to brainstorm and generate new schema objects or
                schema changes
              </p>
              <p>
                We designed it so working with databases feels less like a chore
                and more like a creative process.
              </p>
              <p>
                Would love feedback - especially from teams dealing with messy
                schemas or outdated docs.
              </p>
              <p><a href="https://app.chartdb.io">https://app.chartdb.io</a></p>
            </div>
          </section>
        </section>
        <section id="44972213">
          <h3>
            <a
              class="item"
              href="https://www.journals.uchicago.edu/doi/10.1086/735665"
              >How Well Does the Money Laundering Control System Work?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 12:58:17</span
              ><span class="points-container"
                >Points: <span class="points">134</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44972213"
                  >Comments</a
                ><span class="descendants">: 131</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44972151">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2025/08/21/aws_ceo_entry_level_jobs_opinion/"
              >AWS CEO says using AI to replace junior staff is 'Dumbest thing
              I've ever heard'</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 12:53:16</span
              ><span class="points-container"
                >Points: <span class="points">1066</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44972151"
                  >Comments</a
                ><span class="descendants">: 404</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44971845">
          <h3>
            <a
              class="item"
              href="https://blog.trailofbits.com/2025/08/21/weaponizing-image-scaling-against-production-ai-systems/"
              >Weaponizing image scaling against production AI systems</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 12:20:53</span
              ><span class="points-container"
                >Points: <span class="points">226</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44971845"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44971744">
          <h3>
            <a
              class="item"
              href="https://turtleware.eu/posts/Using-Common-Lisp-from-inside-the-Browser.html"
              >Show HN: Using Common Lisp from Inside the Browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 12:08:30</span
              ><span class="points-container"
                >Points: <span class="points">78</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44971744"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44971487">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2025/08/21/ai_crawler_traffic/"
              >AI crawlers, fetchers are blowing up websites; Meta, OpenAI are
              worst offenders</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 11:35:22</span
              ><span class="points-container"
                >Points: <span class="points">181</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44971487"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44971396">
          <h3>
            <a
              class="item"
              href="https://www.advisorperspectives.com/dshort/updates/2025/07/23/margin-debt-surges-record-high-june-2025"
              >Margin debt surges to record high</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 11:22:50</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44971396"
                  >Comments</a
                ><span class="descendants">: 216</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44971273">
          <h3>
            <a
              class="item"
              href="https://www.telegraph.co.uk/business/2025/08/21/zuckerberg-freezes-ai-hiring-amid-bubble-fears/"
              >Mark Zuckerberg freezes AI hiring amid bubble fears</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 11:04:08</span
              ><span class="points-container"
                >Points: <span class="points">507</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44971273"
                  >Comments</a
                ><span class="descendants">: 475</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44971212">
          <h3>
            <a
              class="item"
              href="https://emersion.fr/blog/2025/using-podman-compose-and-buildkit/"
              >Using Podman, Compose and BuildKit</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 10:54:13</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44971212"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44970981">
          <h3>
            <a
              class="item"
              href="https://theheasman.com/short_stories/why-is-d3-code-so-long-and-complicated-or-why-is-it-so-verbose/"
              >Why is D3 so Verbose?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 10:12:35</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44970981"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44970563">
          <h3>
            <a
              class="item"
              href="https://feyor.sh/blog/my-other-email-client-is-a-mail-daemon/"
              >My other email client is a daemon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 08:54:06</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44970563"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44969622">
          <h3>
            <a class="item" href="https://github.com/Growth-Kinetics/DiffMem"
              >Show HN: I replaced vector databases with Git for AI memory
              (PoC)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-21 @ 06:20:11</span
              ><span class="points-container"
                >Points: <span class="points">166</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44969622"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
            <div class="text">
              <p>
                The insight: Git already solved versioned document management.
                Why are we building complex vector stores when we could just use
                markdown files with Git's built-in diff/blame/history?
              </p>
              <p>How it works:</p>
              <p>
                Memories stored as markdown files in a Git repo Each
                conversation = one commit git diff shows how understanding
                evolves over time BM25 for search (no embeddings needed) LLMs
                generate search queries from conversation context Example: Ask
                "how has my project evolved?" and it uses git diff to show
                actual changes in understanding, not just similarity scores.
              </p>
              <p>
                This is very much a PoC - rough edges everywhere, not production
                ready. But it's been working surprisingly well for personal use.
                The entire index for a year of conversations fits in ~100MB RAM
                with sub-second retrieval.
              </p>
              <p>
                The cool part: You can git checkout to any point in time and see
                exactly what the AI knew then. Perfect reproducibility,
                human-readable storage, and you can manually edit memories if
                needed.
              </p>
              <p>
                GitHub:
                <a href="https://github.com/Growth-Kinetics/DiffMem"
                  >https://github.com/Growth-Kinetics/DiffMem</a
                >
              </p>
              <p>
                Stack: Python, GitPython, rank-bm25, OpenRouter for LLM
                orchestration. MIT licensed.
              </p>
              <p>
                Would love feedback on the approach. Is this crazy or clever?
                What am I missing that will bite me later?
              </p>
            </div>
          </section>
        </section>
        <section id="44962771">
          <h3>
            <a
              class="item"
              href="https://petapixel.com/2025/08/20/home-depot-sued-for-secretly-using-facial-recognition-technology-on-self-checkout-cameras/"
              >Home Depot sued for 'secretly' using facial recognition at
              self-checkouts</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-20 @ 15:23:19</span
              ><span class="points-container"
                >Points: <span class="points">346</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44962771"
                  >Comments</a
                ><span class="descendants">: 457</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44942099">
          <h3>
            <a class="item" href="https://mavericksforever.com/"
              >Show HN: OS X Mavericks Forever</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 16:01:44</span
              ><span class="points-container"
                >Points: <span class="points">224</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44942099"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44941605">
          <h3>
            <a
              class="item"
              href="https://www.joshwcomeau.com/svg/interactive-guide-to-paths/"
              >An Interactive Guide to SVG Paths</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 15:19:05</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941605"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44938156">
          <h3>
            <a
              class="item"
              href="https://eli.thegreenplace.net/2018/unification/"
              >Unification (2018)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 07:11:00</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44938156"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44934476">
          <h3>
            <a
              class="item"
              href="https://chrispenner.ca/posts/views-for-debugging"
              >You Should Add Debug Views to Your DB</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-17 @ 20:04:00</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44934476"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44932401">
          <h3>
            <a class="item" href="https://www.nmichaels.org/musings/d4d4/d4d4/"
              >D4d4</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-17 @ 15:42:32</span
              ><span class="points-container"
                >Points: <span class="points">392</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44932401"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
