<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45686083">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/books/page-turner/the-muscular-compassion-of-paper-girl"
              >The Muscular Compassion of "Paper Girl"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 19:43:44</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45686083"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45685793">
          <h3>
            <a class="item" href="https://opensnowcat.io/"
              >Show HN: OpenSnowcat – A fork of Snowplow to keep open analytics
              alive</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 19:24:04</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45685793"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
            <div class="text">
              <p>
                What made me fall in love with Snowplow was that it was
                unopinionated, gave access to raw event data, and was truly open
                source. Back in 2013, that changed everything for me. I couldn’t
                look at GA the same way again.
              </p>
              <p>
                Over the years, analytics moved into SQL warehouses driven by
                cheaper CPU/storage, dbt, reproducibility, and transparency. I
                saw the need for a democratized Snowplow pipeline and launched a
                hosted version in 2019.
              </p>
              <p>
                In January 2024, Snowplow changed its license (SLULA),
                effectively ending open-source Snowplow by restricting
                production use. When that happened, I realized the spirit of
                open data and open architecture was gone.
              </p>
              <p>A week later, I forked it, I wanted to keep the idea alive.</p>
              <p>
                OpenSnowcat keeps the original collector and enricher under
                Apache 2.0 and stays fully compatible with existing Snowplow
                pipelines. We maintain it with regular patches, performance
                optimizations, and integrations with modern tools like
                Warpstream Bento for event processing/routing.
              </p>
              <p>The goal is simple: keep open analytics open.</p>
              <p>
                Would love to hear how others in the community think we can
                preserve openness in data infrastructure as “open source”
                becomes increasingly commercialized.
              </p>
              <p>
                That's it, I should have posted here earlier but now felt right.
              </p>
            </div>
          </section>
        </section>
        <section id="45685551">
          <h3>
            <a
              class="item"
              href="https://blog.johnozbay.com/what-happened-to-apples-attention-to-detail.html"
              >What happened to Apple's legendary attention to detail?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 19:05:24</span
              ><span class="points-container"
                >Points: <span class="points">339</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45685551"
                  >Comments</a
                ><span class="descendants">: 188</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45685007">
          <h3>
            <a
              class="item"
              href="https://www.volts.wtf/p/can-second-life-ev-batteries-work"
              >Can "second life" EV batteries work as grid-scale energy
              storage?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 18:15:45</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45685007"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45684934">
          <h3>
            <a
              class="item"
              href="https://www.dexerto.com/entertainment/armed-police-swarm-student-after-ai-mistakes-bag-of-doritos-for-a-weapon-3273512/"
              >Armed police swarm student after AI mistakes bag of Doritos for a
              weapon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 18:09:37</span
              ><span class="points-container"
                >Points: <span class="points">218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684934"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45684736">
          <h3>
            <a
              class="item"
              href="https://github.com/OpenMaxIO/openmaxio-object-browser"
              >OpenMaxIO: Forked UI for MinIO Object Storage</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 17:52:18</span
              ><span class="points-container"
                >Points: <span class="points">144</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684736"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45684689">
          <h3>
            <a class="item" href="https://deadstack.net/recent"
              >Show HN: I built a tech news aggregator that works the way my
              brain does</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 17:48:13</span
              ><span class="points-container"
                >Points: <span class="points">94</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684689"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
            <div class="text">
              <p>
                A lightweight a page design as I've been able to keep; simple,
                clean, fast. No commercial features or aspirations - this is a
                passion project, something I've been fooling around with on and
                off for decades.
              </p>
              <p>
                There's a "Top" view too with an LLM edited front page &amp;
                summary, and categorized views for a large number of topics -
                see the Directory. A few more buried features to explore, but
                the fundamental use case is pop in, scan, exit - fast and
                concise.
              </p>
              <p>Your feedback would be appreciated!</p>
            </div>
          </section>
        </section>
        <section id="45684236">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/openai-acquires-software-applications-incorporated"
              >OpenAI acquires Sky.app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 17:04:17</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684236"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45684230">
          <h3>
            <a class="item" href="https://www.tommysense.com"
              >Show HN: Tommy – Turn ESP32 devices into through-wall motion
              sensors</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 17:04:07</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684230"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
            <div class="text">
              <p>
                TOMMY started as a project for my own use. I was frustrated with
                motion sensors that didn't detect stationary presence and left
                dead zones everywhere. Presence sensors existed but were
                expensive and needed one per room. I explored echo localization
                first, but microphones listening 24/7 felt too creepy. Then I
                discovered Wi-Fi sensing - a huge research topic but nothing
                production-ready yet. It ticked all the boxes: could
                theoretically detect stationary presence through
                breathing/micromovements and worked through walls and furniture
                so devices could be hidden away.
              </p>
              <p>
                Two years and dozens of research papers later, TOMMY has evolved
                into software I'm honestly quite proud of. Although it doesn't
                have stationary presence detection yet (coming Q1 2026) it
                detects motion really well. It works as a Home Assistant Add-on
                or Docker container, supports a range of ESP32 devices, and can
                be flashed through the built-in tool or used alongside existing
                ESPHome setups.
              </p>
              <p>
                I released the first version a couple of months ago on Home
                Assistant's subreddit and got a lot of interest and positive
                feedback. More than 200 people joined the Discord community and
                almost 2,000 downloaded it.
              </p>
              <p>
                Right now TOMMY is in beta, which is completely free for
                everyone to use. I'm also offering free lifetime licenses to
                every beta user who joins the Discord channel.
              </p>
              <p>
                You can read more about the project on
                <a href="https://www.tommysense.com"
                  >https://www.tommysense.com</a
                >. Please join the Discord channel if you are interested in the
                project.
              </p>
              <p>
                A note on open source: There's been a lot of interest in having
                TOMMY as an open source project, which I fully understand. I'm
                reluctant to open source before reaching sustainability, as I'd
                love to work on this full time. However, privacy is verifiable -
                it's 100% local with no data collection (easily confirmed via
                packet sniffing or network isolation). Happy to help anyone
                verify this.
              </p>
            </div>
          </section>
        </section>
        <section id="45684217">
          <h3>
            <a class="item" href="https://useworkflow.dev/"
              >Make Any TypeScript Function Durable</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 17:03:13</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684217"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45684155">
          <h3>
            <a
              class="item"
              href="https://blog.google/technology/research/new-updates-and-more-access-to-google-earth-ai/"
              >New updates and more access to Google Earth AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 16:58:04</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684155"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45684134">
          <h3>
            <a class="item" href="https://www.anthropic.com/news/memory"
              >Claude Memory</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 16:56:07</span
              ><span class="points-container"
                >Points: <span class="points">225</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45684134"
                  >Comments</a
                ><span class="descendants">: 138</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45683897">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2510.15061"
              >Antislop: A framework for eliminating repetitive patterns in
              language models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 16:36:05</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45683897"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45683153">
          <h3>
            <a
              class="item"
              href="https://www.vectorware.com/blog/announcing-vectorware/"
              >VectorWare – from creators of `rust-GPU` and `rust-CUDA`</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 15:41:54</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45683153"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45683152">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/finance/currencies/trump-pardons-convicted-binance-founder-7509bd63"
              >Trump pardons convicted Binance founder</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 15:41:48</span
              ><span class="points-container"
                >Points: <span class="points">313</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45683152"
                  >Comments</a
                ><span class="descendants">: 197</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45683113">
          <h3>
            <a
              class="item"
              href="https://manidoraisamy.com/reasoning-not-ai.html"
              >Reasoning Is Not Model Improvement</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 15:39:10</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45683113"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45682776">
          <h3>
            <a class="item" href="https://twigg.ai"
              >Show HN: Git for LLMs – a context management interface</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 15:12:57</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45682776"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                During our master’s we continually found the same pain points
                cropping up when using LLMs. The linear nature of typical LLMs
                interfaces - like ChatGPT and Claude - made it really easy to
                get lost without any easy way to visualise or navigate your
                project.
              </p>
              <p>
                Worst of all, none of them are well suited for long term
                projects. We found ourselves spending days using the same chat,
                only for it to eventually break. Transferring context from one
                chat to another is also cumbersome. We decided to build
                something more intuitive to the ways humans think.
              </p>
              <p>
                We started with two simple ideas. Enabling chat branching for
                exploring tangents, and an interactive tree diagram to allow for
                easy visualisation and navigation of your project.
              </p>
              <p>
                Twigg has developed into an interface for context management -
                like “Git for LLMs”. We believe the input to a model - or the
                context - is fundamental to its performance. To extract the
                maximum potential of an LLM, we believe the users need complete
                control over exactly what context is provided to the model,
                which you can do using simple features like cut, copy and delete
                to manipulate your tree.
              </p>
              <p>
                Through Twigg, you can access a variety of LLMs from all the
                major providers, like ChatGPT, Gemini, Claude, and Grok. Aside
                from a standard tiered subscription model (free, plus, pro), we
                also offer a Bring Your Own Key (BYOK) service, where you can
                plug and play with your own API keys.
              </p>
              <p>
                Our target audience are technical users who use LLMs for large
                projects on a regular basis. If this sounds like you, please try
                out Twigg, you can sign up for free at
                <a href="https://twigg.ai/">https://twigg.ai/</a>. We would love
                to get your feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="45681547">
          <h3>
            <a
              class="item"
              href="https://wolfgirl.dev/blog/2025-10-22-4-unconventional-ways-to-cast-in-typescript/"
              >Unconventional Ways to Cast in TypeScript</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 13:25:02</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45681547"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45681200">
          <h3>
            <a
              class="item"
              href="https://bradley.chatha.dev/blog/dlang-propaganda/asn1-compiler-in-d/"
              >I spent a year making an ASN.1 compiler in D</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 12:47:41</span
              ><span class="points-container"
                >Points: <span class="points">220</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45681200"
                  >Comments</a
                ><span class="descendants">: 109</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45680847">
          <h3>
            <a class="item" href="https://www.nango.dev/careers"
              >Nango (YC W23) is hiring staff back-end engineers (remote)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 12:00:11</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45680237">
          <h3>
            <a
              class="item"
              href="https://pytorch.org/blog/introducing-pytorch-monarch/"
              >PyTorch Monarch</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 10:15:12</span
              ><span class="points-container"
                >Points: <span class="points">285</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45680237"
                  >Comments</a
                ><span class="descendants">: 38</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45678549">
          <h3>
            <a
              class="item"
              href="https://forums.steinberg.net/t/vst-3-8-0-sdk-released/1011988"
              >VST3 audio plugin format is now MIT</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 05:48:02</span
              ><span class="points-container"
                >Points: <span class="points">604</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45678549"
                  >Comments</a
                ><span class="descendants">: 144</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45678511">
          <h3>
            <a
              class="item"
              href="https://joshmoody.org/blog/programming-with-less-than-nothing/"
              >Programming with Less Than Nothing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 05:42:31</span
              ><span class="points-container"
                >Points: <span class="points">390</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45678511"
                  >Comments</a
                ><span class="descendants">: 137</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45677139">
          <h3>
            <a class="item" href="https://aws.amazon.com/message/101925/"
              >Summary of the Amazon DynamoDB Service Disruption in US-East-1
              Region</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-23 @ 01:19:58</span
              ><span class="points-container"
                >Points: <span class="points">303</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45677139"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
            <div class="text">
              <i>AWS multiple services outage in us-east-1</i> -
              <a href="https://news.ycombinator.com/item?id=45640838"
                >https://news.ycombinator.com/item?id=45640838</a
              >
              (2045 comments)
            </div>
          </section>
        </section>
        <section id="45671569">
          <h3>
            <a
              class="item"
              href="https://www.instantdb.com/essays/count_min_sketch"
              >How count-min sketches work – frequencies, but without the actual
              data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-22 @ 16:27:26</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45671569"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45639618">
          <h3>
            <a class="item" href="https://github.com/pyscripter/pyscripter"
              >Pyscripter – open-source Python IDE written in Delphi</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-20 @ 02:03:40</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45639618"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45606224">
          <h3>
            <a class="item" href="https://read.thecoder.cafe/p/crdt"
              >CRDTs: Convergence without coordination</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-16 @ 15:00:06</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45606224"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45587291">
          <h3>
            <a
              class="item"
              href="https://bumbershootsoft.wordpress.com/2025/09/27/upgrading-our-way-through-opengl-1-x/"
              >Upgrading Our Way Through OpenGL 1.x</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-15 @ 02:04:46</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45587291"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45583291">
          <h3>
            <a
              class="item"
              href="https://www.os2museum.com/wp/the-os-2-display-driver-zoo/"
              >The OS/2 Display Driver Zoo</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-14 @ 18:35:59</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45583291"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45580795">
          <h3>
            <a class="item" href="https://kaitai.io/"
              >Kaitai Struct: declarative binary format parsing language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-14 @ 14:51:29</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45580795"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
