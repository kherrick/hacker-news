<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45380382">
          <h3>
            <a
              class="item"
              href="https://www.cloudflare.com/press/press-releases/2025/cloudflare-introduces-net-dollar-to-support-a-new-business-model-for-the-ai-driven-internet/"
              >Cloudflare Introduces Net Dollar</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 22:59:58</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45380382"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45379325">
          <h3>
            <a class="item" href="https://doc.redox-os.org/book/redoxfs.html"
              >RedoxFS is the default filesystem of Redox OS, inspired by ZFS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 21:25:51</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45379325"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45378910">
          <h3>
            <a class="item" href="https://factory.ai/news/series-b"
              >Factory Raises $50M Series B</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 20:53:40</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45378910"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45378871">
          <h3>
            <a
              class="item"
              href="https://explorersweb.com/new-quasi-moon-discovered-orbiting-earth-but-its-been-around-for-decades/"
              >New Quasi-Moon Discovered Orbiting Earth, but It's Been Around
              for Decades</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 20:50:05</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45378871"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45378413">
          <h3>
            <a class="item" href="https://yarchive.net/comp/vax.html"
              >The VAX (John Mashey, 2005)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 20:17:48</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45378413"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45377748">
          <h3>
            <a
              class="item"
              href="https://toao.com/blog/can-we-really-see-brambles-from-space"
              >Can a model trained on satellite data really find brambles on the
              ground?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 19:28:16</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45377748"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45377641">
          <h3>
            <a class="item" href="https://ollama.com/blog/web-search"
              >Ollama Web Search</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 19:21:52</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45377641"
                  >Comments</a
                ><span class="descendants">: 96</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45377572">
          <h3>
            <a
              class="item"
              href="https://blog.kowalczyk.info/a-vn0v/implementing-ui-translation-in-sumatrapdf-a-c-windows-application.html"
              >Implementing UI translation in SumatraPDF, a C++ Windows
              application</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 19:17:18</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45377572"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45377030">
          <h3>
            <a
              class="item"
              href="https://antocuni.eu/2025/09/24/tracing-jits-in-the-real-world--cpython-core-dev-sprint/"
              >Tracing JITs in the Real World CPython Core Dev Sprint</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 18:40:22</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45377030"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45376977">
          <h3>
            <a
              class="item"
              href="https://github.com/electron/electron/issues/48311"
              >Electron-based apps cause system-wide lag on macOS 26 Tahoe</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 18:36:20</span
              ><span class="points-container"
                >Points: <span class="points">233</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45376977"
                  >Comments</a
                ><span class="descendants">: 156</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45376895">
          <h3>
            <a
              class="item"
              href="https://www.redox-os.org/news/development-priorities-2025-09/"
              >Redox OS Development Priorities for 2025/26</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 18:29:50</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45376895"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45376605">
          <h3>
            <a
              class="item"
              href="https://dfarq.homeip.net/athlon-64-how-amd-turned-the-tables-on-intel/"
              >Athlon 64: How AMD turned the tables on Intel</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 18:09:47</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45376605"
                  >Comments</a
                ><span class="descendants">: 108</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45375845">
          <h3>
            <a
              class="item"
              href="https://developers.googleblog.com/en/continuing-to-bring-you-our-latest-models-with-an-improved-gemini-2-5-flash-and-flash-lite-release/"
              >Improved Gemini 2.5 Flash and Flash-Lite</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 17:20:56</span
              ><span class="points-container"
                >Points: <span class="points">330</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45375845"
                  >Comments</a
                ><span class="descendants">: 184</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45375477">
          <h3>
            <a
              class="item"
              href="https://openai.com/index/introducing-chatgpt-pulse/"
              >ChatGPT Pulse</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 16:59:55</span
              ><span class="points-container"
                >Points: <span class="points">332</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45375477"
                  >Comments</a
                ><span class="descendants">: 327</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45374500">
          <h3>
            <a
              class="item"
              href="https://metalhearf.fr/posts/chatcontrol-wants-your-private-messages/"
              >ChatControl: EU wants to scan all private messages, even in
              encrypted apps</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 16:01:41</span
              ><span class="points-container"
                >Points: <span class="points">795</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45374500"
                  >Comments</a
                ><span class="descendants">: 430</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45373102">
          <h3>
            <a
              class="item"
              href="https://www.wired.com/story/oral-history-doge-federal-workers/"
              >The story of DOGE, as told by federal workers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 14:36:12</span
              ><span class="points-container"
                >Points: <span class="points">331</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45373102"
                  >Comments</a
                ><span class="descendants">: 284</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://web.archive.org/web/20250925140423/https://www.wired.com/story/oral-history-doge-federal-workers/"
                >https://web.archive.org/web/20250925140423/https://www.wired...</a
              >
            </div>
          </section>
        </section>
        <section id="45373081">
          <h3>
            <a class="item" href="https://blog.cloudflare.com/email-service/"
              >Cloudflare Email Service: private beta</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 14:33:50</span
              ><span class="points-container"
                >Points: <span class="points">426</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45373081"
                  >Comments</a
                ><span class="descendants">: 339</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45373008">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=45373008"
              >Launch HN: Webhound (YC S23) – Research agent that builds
              datasets from the web</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 14:28:24</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45373008"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
            <div class="text">
              <a href="https://webhound.ai">https://webhound.ai</a>), an AI
              agent that builds datasets from the web based on natural language
              prompts. You describe what you're trying to find. The agent
              figures out how to structure the data and where to look, then
              searches, extracts the results, and outputs everything in a CSV
              you can export.
              <p>
                We've set up a special no-signup version for the HN community at
                <a href="https://hn.webhound.ai">https://hn.webhound.ai</a> -
                just click "Continue as Guest" to try it without signing up.
              </p>
              <p>
                Here's a demo:
                <a href="https://youtu.be/fGaRfPdK1Sk"
                  >https://youtu.be/fGaRfPdK1Sk</a
                >
              </p>
              <p>
                We started building it after getting tired of doing this kind of
                research manually. Open 50 tabs, copy everything into a
                spreadsheet, realize it's inconsistent, start over. It felt like
                something an LLM should be able to handle.
              </p>
              <p>Some examples of how people have used it in the past month:</p>
              <p>
                Competitor analysis: "Create a comparison table of internal
                tooling platforms (Retool, Appsmith, Superblocks, UI Bakery,
                BudiBase, etc) with their free plan limits, pricing tiers,
                onboarding experience, integrations, and how they position
                themselves on their landing pages." (<a
                  href="https://www.webhound.ai/dataset/c67c96a6-9d17-4c91-b9a0-ff6927c44f80"
                  >https://www.webhound.ai/dataset/c67c96a6-9d17-4c91-b9a0-ff69...</a
                >)
              </p>
              <p>
                Lead generation: "Find Shopify stores launched recently that
                sell skincare products. I want the store URLs, founder names,
                emails, Instagram handles, and product categories." (<a
                  href="https://www.webhound.ai/dataset/b63d148a-8895-4aab-ac34-455e341c67c8"
                  >https://www.webhound.ai/dataset/b63d148a-8895-4aab-ac34-455e...</a
                >)
              </p>
              <p>
                Pricing tracking: "Track how the free and paid plans of
                note-taking apps have changed over the past 6 months using
                official sites and changelogs. List each app with a timeline of
                changes and the source for each." (<a
                  href="https://www.webhound.ai/dataset/c17e6033-5d00-4e54-baf6-8deab09e85d7"
                  >https://www.webhound.ai/dataset/c17e6033-5d00-4e54-baf6-8dea...</a
                >)
              </p>
              <p>
                Investor mapping: "Find VCs who led or participated in pre-seed
                or seed rounds for browser-based devtools startups in the past
                year. Include the VC name, relevant partners, contact info, and
                portfolio links for context." (<a
                  href="https://www.webhound.ai/dataset/1480c053-d86b-40ce-a620-37fda3444340"
                  >https://www.webhound.ai/dataset/1480c053-d86b-40ce-a620-37fd...</a
                >)
              </p>
              <p>
                Research collection: "Get a list of recent arXiv papers on weak
                supervision in NLP. For each, include the abstract, citation
                count, publication date, and a GitHub repo if available." (<a
                  href="https://www.webhound.ai/dataset/e274ca26-0513-4296-85a5-2b7b7c423ce2"
                  >https://www.webhound.ai/dataset/e274ca26-0513-4296-85a5-2b7b...</a
                >)
              </p>
              <p>
                Hypothesis testing: "Check if user complaints about Figma's
                performance on large files have increased in the last 3 months.
                Search forums like Hacker News, Reddit, and Figma's community
                site and show the most relevant posts with timestamps and
                engagement metrics." (<a
                  href="https://www.webhound.ai/dataset/42b2de49-acbf-4851-bbb7-080b66e845cd"
                  >https://www.webhound.ai/dataset/42b2de49-acbf-4851-bbb7-080b...</a
                >)
              </p>
              <p>
                The first version of Webhound was a single agent running on
                Claude 4 Sonnet. It worked, but sessions routinely cost over
                $1100 and it would often get lost in infinite loops. We knew
                that wasn't sustainable, so we started building around smaller
                models.
              </p>
              <p>
                That meant adding more structure. We introduced a multi-agent
                system to keep it reliable and accurate. There's a main agent, a
                set of search agents that run subtasks in parallel, a critic
                agent that keeps things on track, and a validator that
                double-checks extracted data before saving it. We also gave it a
                notepad for long-term memory, which helps avoid duplicates and
                keeps track of what it's already seen.
              </p>
              <p>
                After switching to Gemini 2.5 Flash and layering in the agent
                system, we were able to cut costs by more than 30x while also
                improving speed and output quality.
              </p>
              <p>
                The system runs in two phases. First is planning, where it
                decides the schema, how to search, what sources to use, and how
                to know when it's done. Then comes extraction, where it executes
                the plan and gathers the data.
              </p>
              <p>
                It uses a text-based browser we built that renders pages as
                markdown and extracts content directly. We tried full browser
                use but it was slower and less reliable. Plain text still works
                better for this kind of task.
              </p>
              <p>
                We also built scheduled refreshes to keep datasets up to date
                and an API so you can integrate the data directly into your
                workflows.
              </p>
              <p>
                Right now, everything stays in the agent's context during a run.
                It starts to break down around 1000-5000 rows depending on the
                number of attributes. We're working on a better architecture for
                scaling past that.
              </p>
              <p>
                We'd love feedback, especially from anyone who's tried solving
                this problem or built similar tools. Happy to answer anything in
                the thread.
              </p>
              <p>Thanks! Moe</p>
            </div>
          </section>
        </section>
        <section id="45372335">
          <h3>
            <a
              class="item"
              href="https://www.worksinprogress.news/p/why-ai-isnt-replacing-radiologists"
              >Demand for human radiologists is at an all-time high</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 13:19:47</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45372335"
                  >Comments</a
                ><span class="descendants">: 248</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45372113">
          <h3>
            <a
              class="item"
              href="https://stevedylandev.bearblog.dev/resurrect-the-old-web/"
              >Resurrect the Old Web</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 12:48:50</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45372113"
                  >Comments</a
                ><span class="descendants">: 152</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45371309">
          <h3>
            <a
              class="item"
              href="https://entropicthoughts.com/the-wind-a-pole-and-the-dragon"
              >The Wind, a Pole, and the Dragon</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 10:39:17</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45371309"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45370304">
          <h3>
            <a
              class="item"
              href="https://www.raspberrypi.com/news/the-ultimate-all-in-one-pc-raspberry-pi-500-plus-on-sale-now-at-200/"
              >Raspberry Pi 500+</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 07:52:28</span
              ><span class="points-container"
                >Points: <span class="points">204</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45370304"
                  >Comments</a
                ><span class="descendants">: 140</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45368899">
          <h3>
            <a
              class="item"
              href="https://news.artnet.com/art-world/art-bites-picasso-poetry-2669332"
              >Pablo Picasso's poetry</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-25 @ 03:13:55</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45368899"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45352621">
          <h3>
            <a
              class="item"
              href="https://www.rte.ie/brainstorm/2025/0709/1522577-road-bowling-ireland-sport-heritage-tradition-cork-armagh-tiktok-instagram/"
              >The surprising revival of road bowling, Ireland's ancient
              sport</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-23 @ 20:53:57</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45352621"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45347072">
          <h3>
            <a class="item" href="https://brutalita.com/"
              >Brutalita Sans: An Experimental Font and Font Editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-23 @ 13:54:10</span
              ><span class="points-container"
                >Points: <span class="points">525</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45347072"
                  >Comments</a
                ><span class="descendants">: 70</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45346538">
          <h3>
            <a
              class="item"
              href="https://www.sciencedaily.com/releases/2025/09/250918225001.htm"
              >Cosmic simulations that once needed supercomputers now run on a
              laptop</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-23 @ 13:11:32</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45346538"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45346014">
          <h3>
            <a class="item" href="https://bachcellosuites.co.uk/"
              >Bach Cello Suites (2024)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-23 @ 12:23:04</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45346014"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45344250">
          <h3>
            <a
              class="item"
              href="https://davidlattimore.github.io/posts/2025/09/02/rustforge-wild-performance-tricks.html"
              >Wild performance tricks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-23 @ 08:16:30</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45344250"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45340278">
          <h3>
            <a
              class="item"
              href="https://bartoszmilewski.com/2025/09/22/identity-types/"
              >Identity Types</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-22 @ 22:15:23</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45340278"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45336076">
          <h3>
            <a class="item" href="https://www.c82.net/blog/?id=100"
              >Making of "Printing Types"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-09-22 @ 16:47:55</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45336076"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
