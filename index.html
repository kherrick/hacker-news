<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="43980845">
          <h3>
            <a class="item" href="https://www.sixthtone.com/news/1017072"
              >Bus stops here: Shanghai lets riders design their own routes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-14 @ 04:33:21</span
              ><span class="points-container"
                >Points: <span class="points">192</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43980845"
                  >Comments</a
                ><span class="descendants">: 127</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43980760">
          <h3>
            <a class="item" href="https://bernsteinbear.com/blog/pl-writing/"
              >Writing that changed how I think about programming languages</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-14 @ 04:19:00</span
              ><span class="points-container"
                >Points: <span class="points">56</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43980760"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43979916">
          <h3>
            <a
              class="item"
              href="https://store.steampowered.com/app/3401490/Replicube/"
              >Replicube: A puzzle game about writing code to create shapes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-14 @ 01:55:59</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43979916"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43979063">
          <h3>
            <a
              class="item"
              href="https://www.binghamton.edu/news/story/5547/do-your-fingers-wrinkle-the-same-way-every-time-youre-in-the-water-too-long-new-research-says-yes"
              >Fingers wrinkle the same way every time they’re in the water too
              long</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 23:34:07</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43979063"
                  >Comments</a
                ><span class="descendants">: 50</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43978435">
          <h3>
            <a
              class="item"
              href="https://corrode.dev/blog/flattening-rusts-learning-curve/"
              >Flattening Rust’s learning curve</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 22:25:29</span
              ><span class="points-container"
                >Points: <span class="points">223</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43978435"
                  >Comments</a
                ><span class="descendants">: 162</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43978357">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2504.09246"
              >Type-constrained code generation with language models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 22:15:30</span
              ><span class="points-container"
                >Points: <span class="points">191</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43978357"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43978155">
          <h3>
            <a
              class="item"
              href="https://www.cs.drexel.edu/~bls96/museum/CARDIAC_manual.pdf"
              >Cardiac: A CARDboard Illustrative Aid to Computation [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 21:49:42</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43978155"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43977147">
          <h3>
            <a
              class="item"
              href="https://reasonablypolymorphic.com/blog/solving-lcsa/"
              >Using obscure graph theory to solve programming languages
              problems</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 20:09:54</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43977147"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43976895">
          <h3>
            <a
              class="item"
              href="https://cocoindex.io/blogs/knowledge-graph-for-docs/"
              >Build real-time knowledge graph for documents with LLM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 19:48:04</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43976895"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43976557">
          <h3>
            <a
              class="item"
              href="https://www.wired.com/story/airbnb-is-in-midlife-crisis-mode-reinvention-app-services/"
              >Airbnb is in midlife crisis mode</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 19:17:54</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43976557"
                  >Comments</a
                ><span class="descendants">: 254</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43975782">
          <h3>
            <a
              class="item"
              href="https://opentelemetry.io/blog/2025/otel-arrow-phase-2/"
              >OpenTelemetry protocol with Apache Arrow</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 17:57:57</span
              ><span class="points-container"
                >Points: <span class="points">90</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43975782"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43975423">
          <h3>
            <a class="item" href="https://github.com/HelixDB/helix-db/"
              >Show HN: HelixDB – Open-source vector-graph database for AI
              applications (Rust)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 17:26:38</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43975423"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
            <div class="text">
              <a href="https://github.com/HelixDB/helix-db/"
                >https://github.com/HelixDB/helix-db/</a
              >), a project a college friend and I are working on. It’s a new
              database that natively intertwines graph and vector types, without
              sacrificing performance. It’s written in Rust and our initial
              focus is on supporting RAG. Here’s a video runthrough:
              <a href="https://screen.studio/share/szgQu3yq"
                >https://screen.studio/share/szgQu3yq</a
              >.
              <p>
                Why a hybrid? Vector databases are useful for similarity
                queries, while graph databases are useful for relationship
                queries. Each stores data in a way that’s best for its main type
                of query (e.g. key-value stores vs. node-and-edge tables).
                However, many AI-driven applications need <i>both</i> similarity
                and relationship queries. For example, you might use
                vector-based semantic search to retrieve relevant legal
                documents, and then use graph traversal to identify
                relationships between cases.
              </p>
              <p>
                Developers of such apps have the quandary of needing to build on
                top of two different databases—a vector one and a graph one—plus
                you have to link them together and sync the data. Even then,
                your two databases aren't designed to work together—for example,
                there’s no native way to perform joins or queries that span both
                systems. You’ll need to handle that logic at the application
                level.
              </p>
              <p>
                Helix started when we realized that there are ways to integrate
                vector and graph data that are both fast and suitable for AI
                applications, especially RAG-based ones. See this cool research
                paper:
                <a href="https://arxiv.org/html/2408.04948v1"
                  >https://arxiv.org/html/2408.04948v1</a
                >. After reading that and some other papers on graph and hybrid
                RAG, we decided to build a hybrid DB. Our aim was to make
                something better to use from a developer standpoint, while also
                making it fast as hell.
              </p>
              <p>
                After a few months of working on this as a side project, our
                benchmarking shows that we are on par with Pinecone and Qdrant
                for vectors, and our graph is up to three orders of magnitude
                faster than Neo4j.
              </p>
              <p>
                Problems where a hybrid approach works particularly well
                include:
              </p>
              <p>
                - Indexing codebases: you can vectorize code-snippets within a
                function (connected by edges) based on context and then create
                an AST (in a graph) from function calls, imports, dependencies,
                etc. Agents can look up code by similarity or keyword and then
                traverse the AST to get only the relevant code, which reduces
                hallucinations and prevents the LLM from guessing object shapes
                or variable/function names.
              </p>
              <p>
                - Molecule discovery: Model biological interactions (e.g.,
                proteins → genes → diseases) using graph types and then embed
                molecule structures to find similar compounds or case studies.
              </p>
              <p>
                - Enterprise knowledge management: you can represent
                organisational structure, projects, and people (e.g., employee →
                team → project) in graph form, then index internal documents,
                emails, or notes as vectors for semantic search and link them
                directly employees/teams/projects in the graph.
              </p>
              <p>
                I naively assumed when learning about databases for the first
                time that queries would be compiled and executed like functions
                in traditional programming. Turns out I was wrong, but this
                creates unnecessary latency by sending extra data (the whole
                written query), compiling it at run time, and then executing it.
                With Helix, you write the queries in our query language
                (HelixQL), which is then transpiled into Rust code and built
                directly into the database server, where you can call a
                generated API endpoint.
              </p>
              <p>
                Many people have a thing against “yet another query language”
                (doubtless for good reason!) but we went ahead and did it
                anyway, because we think it makes working with our database so
                much easier that it’s worth a bit of a learning curve. HelixQL
                takes from other query languages such as Gremlin, Cypher and SQL
                with some extra ideas added in. It is declarative while the
                traversals themselves are functional. This allows complete
                control over the traversal flow while also having a cleaner
                syntax. HelixQL returns JSON to make things easy for clients.
                Also, it uses a schema, so the queries are type-checked.
              </p>
              <p>
                We took a crude approach to building the original graph engine
                as a way to get an MVP out, so we are now working on improving
                the graph engine by making traversals massively parallel and
                pipelined. This means data is only ever decoded from disk when
                it is needed, and parts of reads are all processed in parallel.
              </p>
              <p>
                If you’d like to try it out in a simple RAG demo, you can follow
                this guide and run our Jupyter notebook:
                <a
                  href="https://github.com/HelixDB/helix-db/tree/main/examples/rag_demo"
                  >https://github.com/HelixDB/helix-db/tree/main/examples/rag_d...</a
                >
              </p>
              <p>Many thanks! Comments and feedback welcome!</p>
            </div>
          </section>
        </section>
        <section id="43974891">
          <h3>
            <a
              class="item"
              href="https://comsec.ethz.ch/research/microarch/branch-privilege-injection/"
              >Branch Privilege Injection: Exploiting branch predictor race
              conditions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 16:44:51</span
              ><span class="points-container"
                >Points: <span class="points">366</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43974891"
                  >Comments</a
                ><span class="descendants">: 149</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43974005">
          <h3>
            <a class="item" href="https://www.rifters.com/crawl/?p=11511"
              >It Awaits Your Experiments</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 15:27:47</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43974005"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43973721">
          <h3>
            <a class="item" href="https://www.marginalia.nu/log/a_119_pdf/"
              >PDF to Text, a challenging problem</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 15:01:09</span
              ><span class="points-container"
                >Points: <span class="points">282</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43973721"
                  >Comments</a
                ><span class="descendants">: 156</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43973395">
          <h3>
            <a
              class="item"
              href="https://www.androidauthority.com/android-desktop-mode-leak-3550321/"
              >Google is building its own DeX: First look at Android's Desktop
              Mode</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 14:30:35</span
              ><span class="points-container"
                >Points: <span class="points">310</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43973395"
                  >Comments</a
                ><span class="descendants">: 240</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43972425">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=43972425"
              >Launch HN: Miyagi (YC W25) turns YouTube videos into online,
              interactive courses</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 12:56:42</span
              ><span class="points-container"
                >Points: <span class="points">176</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43972425"
                  >Comments</a
                ><span class="descendants">: 99</span></span
              >
            </h4>
            <div class="text">
              <a href="https://miyagilabs.ai">https://miyagilabs.ai</a>), an
              AI-powered education platform that transforms educational YouTube
              videos into interactive courses. It helps you learn better through
              active practice and personalized feedback.
              <p>
                We use LLMs to automatically generate quizzes, practice
                questions, and real-time feedback from any educational video or
                resource—turning passive watching into active learning. Here’s a
                short demo:
                <a href="https://youtu.be/alO7FaorHOY"
                  >https://youtu.be/alO7FaorHOY</a
                >.
              </p>
              <p>
                Improving education has always been tricky. Bloom’s 2-sigma
                problem (showing that a high-quality personal tutor is far more
                effective than conventional methods) has persisted, even as
                technology has advanced.
              </p>
              <p>
                We met at MIT as CS majors and have always been passionate about
                education. Over the years, we’ve become teachers and experts in
                subjects like chess, algorithms, math, languages, and ninja
                warrior. A common theme was that we both heavily relied on
                YouTube to learn.
              </p>
              <p>
                YouTube has incredible content for learning pretty much
                anything, but it’s buried in a lot of distractions. Also,
                passively watching videos is far less effective than taking
                notes, asking questions, and doing practice problems, which is
                what we aim to do with Miyagi Labs.
              </p>
              <p>
                Our solution is essentially a multi-step function that takes in
                a YouTube playlist (or list of any resources) and outputs an
                entire course with summaries, questions, answers, and more. The
                pipeline is roughly: video/resource —&gt; transcript/text —&gt;
                chunks —&gt; summary and question —&gt; answers to questions,
                with some other features along the way.
              </p>
              <p>
                We mostly use prompting and different models at each step to
                make the course as useful as possible. Certain topics require
                more practice problems vs. comprehension, and we’d use reasoning
                models for highly technical subjects.
              </p>
              <p>
                We launched about three months ago and currently have 400+
                courses and partnerships with some businesses and awesome
                creators. Some of our popular courses include 3Blue1Brown’s
                linear algebra course, a botany course on plants and ecology,
                and YC’s How to Start a Startup series.
              </p>
              <p>
                Our product resembles classical MOOC-style course platforms in
                terms of UI, but is more interactive. It’s really easy to ask a
                question or receive custom feedback compared to a static course
                on Coursera. It’s also comparable to AI tutor sites, but we try
                to build more of a community and require less activation energy
                as a learner. We’re basically betting that AI can hugely improve
                education, but that students still want to learn from their
                favorite creators and want baseline shared resources for
                standard topics that are then augmented with personalized
                features.
              </p>
              <p>
                You can try it here:
                <a href="https://miyagilabs.ai">https://miyagilabs.ai</a> (no
                login required for most courses—but if you sign up you can also
                create your own course).
              </p>
              <p>
                We’d love your feedback on what kinds of videos/resources you’d
                like to learn from, what’s missing from current learning tools,
                and if you know any creators or educators who would like to
                collaborate. Happy to hear any feedback and answer any
                questions!
              </p>
            </div>
          </section>
        </section>
        <section id="43971716">
          <h3>
            <a
              class="item"
              href="https://www.openwall.com/lists/oss-security/2025/05/12/1"
              >Multiple security issues in GNU Screen</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 11:28:49</span
              ><span class="points-container"
                >Points: <span class="points">371</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43971716"
                  >Comments</a
                ><span class="descendants">: 224</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43971464">
          <h3>
            <a
              class="item"
              href="https://twitter.com/ID_AA_Carmack/status/1922100771392520710"
              >The world could run on older hardware if software optimization
              was a priority</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-13 @ 10:31:09</span
              ><span class="points-container"
                >Points: <span class="points">677</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43971464"
                  >Comments</a
                ><span class="descendants">: 623</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43963434">
          <h3>
            <a
              class="item"
              href="https://shawnfromportland.substack.com/p/the-great-displacement-is-already"
              >The great displacement is already well underway?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-12 @ 14:32:25</span
              ><span class="points-container"
                >Points: <span class="points">336</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43963434"
                  >Comments</a
                ><span class="descendants">: 344</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43955277">
          <h3>
            <a
              class="item"
              href="https://museumofeverydaylife.org/current-exhibitions/a-visual-history-of-the-safety-pin"
              >A visual history of the safety pin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-11 @ 17:22:45</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43955277"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43951885">
          <h3>
            <a class="item" href="https://ratfactor.com/snobol/"
              >I learned Snobol and then wrote a toy Forth</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-11 @ 06:38:27</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43951885"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43951604">
          <h3>
            <a
              class="item"
              href="https://pema.dev/2025/05/09/mipmaps-too-much-detail/"
              >Mipmap selection in too much detail</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-11 @ 05:17:14</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43951604"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43945665">
          <h3>
            <a class="item" href="https://github.com/mycweb/mycelium"
              >Show HN: Mycelium</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 13:56:36</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43945665"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43945628">
          <h3>
            <a
              class="item"
              href="https://www.space.com/space-exploration/launches-spacecraft/failed-soviet-venus-lander-kosmos-482-crashes-to-earth-after-53-years-in-orbit"
              >Failed Soviet Venus lander Kosmos 482 crashes to Earth after 53
              years in orbit</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 13:51:53</span
              ><span class="points-container"
                >Points: <span class="points">141</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43945628"
                  >Comments</a
                ><span class="descendants">: 98</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43945477">
          <h3>
            <a class="item" href="https://ash-hq.org/"
              >Ash Framework – Model your domain, derive the rest</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 13:32:00</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43945477"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43945423">
          <h3>
            <a
              class="item"
              href="https://www.warpstream.com/blog/taking-out-the-trash-garbage-collection-of-object-storage-at-massive-scale"
              >Garbage collection of object storage at scale</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 13:23:35</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43945423"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43944640">
          <h3>
            <a
              class="item"
              href="https://terrytao.wordpress.com/2025/05/09/a-tool-to-verify-estimates-ii-a-flexible-proof-assistant/"
              >A tool to verify estimates, II: a flexible proof assistant</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 10:41:21</span
              ><span class="points-container"
                >Points: <span class="points">43</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43944640"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43944199">
          <h3>
            <a class="item" href="https://rpginabox.com/">RPG in a Box</a>
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 08:52:47</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43944199"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43943928">
          <h3>
            <a class="item" href="https://github.com/em-llm/EM-LLM-model"
              >EM-LLM: Human-Inspired Episodic Memory for Infinite Context
              LLMs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-10 @ 07:49:18</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43943928"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
