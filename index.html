<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="35958531">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=35958531"
              >MixRank (YC S11) Is Hiring Global Remote Software Engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 07:00:23</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                MixRank processes petabytes of data every month from web
                crawling. We have hundreds of customers using our data products
                including Google, Amazon, Facebook, Intel, and Adobe, across
                industries Sales, Marketing, Recruiting, Finance, and Security.
              </p>
              <p>
                Team is 33 full-time, full-remote from 15+ countries. We're
                growing, profitable, employee-owned, no dependence on outside
                funding. Applicants from all geographies and backgrounds are
                welcome.
              </p>
              <p>
                We are looking for passionate individuals for whom programming
                is not just a job but it's something they love to do. We're
                obsessed with computers, programming, big data, databases,
                compilers, hardware, math, data science, and the internet. Does
                this sound like you? Please apply to join our team.
              </p>
              <p>
                Our code base is very friendly to new contributors. You'll have
                a fully-functional fully-automated development environment
                within hours and be pushing commits on your first day.
                Deployments to production happen multiple times per day and
                finish in less than 2 minutes. Effectively all of our codebase
                is written in Python, SQL, Javascript/TypeScript, Rust, and Nix.
                The basic technologies you'll need familiarity with to be
                productive are Python, PostgreSQL, Linux, and Git.
              </p>
              <p>
                We operate at a larger scale than typical startups. We operate
                two datacenters with high performance servers we've built that
                are capable of dealing with the volumes of data we process.
                We've implemented our own distributed file system. We do
                full-scale web crawls. We download and perform static analysis
                on the entire universe of Android APKs and iOS IPAs that are
                published. Unlike a typical startup where you'll spend half of
                your time in meetings, and the other half fixing bugs from Jira
                tickets— at MixRank you'll get to direct your entire focus into
                difficult technical problems that will help you to grow as an
                individual.
              </p>
              <p>--</p>
              <p>Junior Software Engineer</p>
              <p>
                We're looking for remote junior engineers that have 0-3 years of
                professional experience in software, and 5+ years of curiosity
                exploring computers, programming, and technical hobby projects.
                This is an open-ended entry role with mentorship and diverse
                opportunities to work on all areas of our product: databases,
                distributed systems, infrastructure and tooling, data analysis,
                machine learning, frontend/backend web development, APIs, data
                mining, data modeling, and more. To stand out, please highlight
                what makes you unique: passion for computing, curiosity and side
                projects, work ethic, niche research, etc.
              </p>
              <p>
                Ideally you've already finished with school, but if you still
                have one or more years left please feel free to apply anyway. If
                you're the right fit for the team we'll figure out a way to
                accommodate your schedule.
              </p>
              <p>--</p>
              <p>Software Engineer</p>
              <p>
                We're hiring generalist software engineers to work on web
                applications, data mining, machine learning/data science, data
                transformation/ETL, data modeling, database scaling,
                infrastructure, devops, and more. We'll customize the role to
                whatever subset of these areas match your interests.
              </p>
              <p>
                Beneficial experience includes PostgreSQL, Python, Linux,
                TypeScript, Rust, Nix, frontend/backend web development, and
                data mining.
              </p>
              <p>--</p>
              <p>
                Please apply here:
                <a href="https://www.ycombinator.com/companies/mixrank/jobs"
                  >https://www.ycombinator.com/companies/mixrank/jobs</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="35957944">
          <h3>
            <a
              class="item"
              href="https://archive.org/details/colossus-the-forbin-project-1970"
              >Colossus: The Forbin Project (1970) [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 05:11:53</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35957944"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35957811">
          <h3>
            <a class="item" href="https://sp23.datastructur.es/"
              >CS 61B Data Structures, Spring 2023 UC Berkeley</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 04:40:32</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35957811"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35957039">
          <h3>
            <a
              class="item"
              href="https://www.platformer.news/p/why-you-cant-trust-twitters-encrypted"
              >Twitter’s DM encryption is a modest security improvement over the
              status quo</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 02:06:55</span
              ><span class="points-container"
                >Points: <span class="points">104</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35957039"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35956837">
          <h3>
            <a class="item" href="https://ultimateelectronicsbook.com/"
              >Ultimate Electronics (2021)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 01:40:05</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35956837"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35956484">
          <h3>
            <a class="item" href="https://github.com/eth-sri/lmql"
              >LMQL: A query language for programming (large) language models</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 00:46:43</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35956484"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35956295">
          <h3>
            <a class="item" href="https://spectrum.ieee.org/vint-cerf-advice"
              >Vint Cerf’s career advice for engineers</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 00:14:49</span
              ><span class="points-container"
                >Points: <span class="points">75</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35956295"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35956287">
          <h3>
            <a class="item" href="https://capillaries.io"
              >Show HN: Capillaries: Distributed data processing with Go and
              Cassandra</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-16 @ 00:13:53</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35956287"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              <p>
                Capillaries is a built from scratch, open-source Go solution
                that does just that: ingests data and applies user-defined
                transforms - Go one-liner expressions, Python formulas, joins,
                aggregations, denormalization - using Cassandra for intermediate
                data storage and RabbitMQ for task scheduling. End users just
                have to provide: - source data in CSV files; - Capillaries
                script (JSON file) that defines the workflow and the transforms;
                - Python code that performs complex calculations (only if
                needed).
              </p>
              <p>
                The whole data processing pipeline can be split into separate
                runs that can be started independently and re-run by the user if
                needed.
              </p>
              <p>
                The goal is to build a platform that is tolerant to database and
                processing node failures, and allows users to focus on data
                transform logic and data quality control.
              </p>
              <p>
                “Getting started” Docker-based demo calculates ARK funds
                performance, using EOD holdings and transactions data acquired
                from public sources. There are also integration tests that use
                non-financial data. There is a test deploy tool that uses
                Openstack API for provisioning in the cloud.
              </p>
            </div>
          </section>
        </section>
        <section id="35956144">
          <h3>
            <a
              class="item"
              href="https://www.baesystems.com/en/article/first-magma-flight-trials"
              >Successful flight trial completion of unmanned aerial vehicle,
              MAGMA (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 23:54:18</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35956144"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35955336">
          <h3>
            <a
              class="item"
              href="https://blog.visionarycto.com/p/my-20-year-career-is-technical-debt"
              >My 20 year career is technical debt or deprecated</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 22:25:42</span
              ><span class="points-container"
                >Points: <span class="points">164</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35955336"
                  >Comments</a
                ><span class="descendants">: 135</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35955089">
          <h3>
            <a
              class="item"
              href="https://www.hcn.org/articles/south-non-native-species-a-weed-is-swallowing-the-sonoran-desert"
              >A weed is swallowing the Sonoran Desert</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 22:00:30</span
              ><span class="points-container"
                >Points: <span class="points">87</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35955089"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35955062">
          <h3>
            <a
              class="item"
              href="https://www.amygoodchild.com/blog/computer-art-50s-and-60s"
              >Early Computer Art in the 50s and 60s</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 21:57:52</span
              ><span class="points-container"
                >Points: <span class="points">177</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35955062"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35954481">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2305.06161"
              >StarCoder and StarCoderBase: 15.5B parameter models with 8K
              context length</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 21:06:05</span
              ><span class="points-container"
                >Points: <span class="points">227</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35954481"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35954422">
          <h3>
            <a
              class="item"
              href="https://www.kaspersky.com/blog/fake-trezor-hardware-crypto-wallet/48155/"
              >Case study: fake hardware cryptowallet</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 21:01:20</span
              ><span class="points-container"
                >Points: <span class="points">182</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35954422"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35954259">
          <h3>
            <a
              class="item"
              href="http://www.janromme.com/2023/05/ChaptGPT-transaltion-of-Akkadian-texts.html"
              >Translating Akkadian clay tablets with ChatGPT?</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 20:46:28</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35954259"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35953286">
          <h3>
            <a class="item" href="https://openprocessing.org/sketch/1575230/"
              >random(random(random(random())))</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 19:23:54</span
              ><span class="points-container"
                >Points: <span class="points">291</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35953286"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35953171">
          <h3>
            <a
              class="item"
              href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events"
              >Server-sent events</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 19:12:26</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35953171"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35952206">
          <h3>
            <a class="item" href="https://github.com/SysSec-KAIST/LTESniffer"
              >LTESniffer – An Open-Source LTE Downlink/Uplink Eavesdropper</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 18:08:55</span
              ><span class="points-container"
                >Points: <span class="points">217</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35952206"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35950716">
          <h3>
            <a class="item" href="https://dynomight.net/procrastination/"
              >Taxonomy of Procrastination</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 16:23:18</span
              ><span class="points-container"
                >Points: <span class="points">301</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35950716"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35949442">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/business/2017/may/02/where-oil-rigs-go-to-die"
              >Where oil rigs go to die (2017)</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 15:09:48</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35949442"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35948462">
          <h3>
            <a class="item" href="https://github.com/toverainc/willow"
              >Show HN: Willow – Open-source privacy-focused voice assistant
              hardware</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 14:13:35</span
              ><span class="points-container"
                >Points: <span class="points">497</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35948462"
                  >Comments</a
                ><span class="descendants">: 121</span></span
              >
            </h4>
            <div class="text">
              <p>
                I love Home Assistant and I've always thought the ESP BOX[0]
                hardware is cool. I finally got around to starting a project to
                use the ESP BOX hardware with Home Assistant and other
                platforms. Why?
              </p>
              <p>
                - It's actually "Alexa/Echo competitive". Wake word detection,
                voice activity detection, echo cancellation, automatic gain
                control, and high quality audio for $50 means with Willow and
                the support of Home Assistant there are no compromises on looks,
                quality, accuracy, speed, and cost.
              </p>
              <p>
                - It's cheap. With a touch LCD display, dual microphones,
                speaker, enclosure, buttons, etc it can be bought today for $50
                all-in.
              </p>
              <p>
                - It's ready to go. Take it out of the box, flash with Willow,
                put it somewhere.
              </p>
              <p>
                - It's not creepy. Voice is either sent to a self-hosted
                inference server or commands are recognized locally on the ESP
                BOX.
              </p>
              <p>
                - It doesn't hassle or try to sell you. If I hear "Did you
                know?" one more time from Alexa I think I'm going to lose it.
              </p>
              <p>- It's open source.</p>
              <p>
                - It's capable. This is the first "release" of Willow and I
                don't think we've even begun scratching the surface of what the
                hardware and software components are capable of.
              </p>
              <p>
                - It can integrate with anything. Simple on the wire format -
                speech output text is sent via HTTP POST to whatever URI you
                configure. Send it anywhere, and do anything!
              </p>
              <p>
                - It still does cool maker stuff. With 16 GPIOs exposed on the
                back of the enclosure there are all kinds of interesting
                possibilities.
              </p>
              <p>
                This is the first (and VERY early) release but we're really
                interested to hear what HN thinks!
              </p>
              <p>
                [0] -
                <a href="https://github.com/espressif/esp-box"
                  >https://github.com/espressif/esp-box</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="35944159">
          <h3>
            <a class="item" href="https://warms.maxbittker.repl.co/"
              >Pixpaint</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 05:23:13</span
              ><span class="points-container"
                >Points: <span class="points">418</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35944159"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35944015">
          <h3>
            <a class="item" href="https://github.com/mitsuhiko/self-replace"
              >Self-Replace: A Utility For Self Replacing Executables</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 04:53:30</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35944015"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35944010">
          <h3>
            <a class="item" href="https://en.wal.unesco.org/discover/languages"
              >The World Atlas of Languages</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 04:52:52</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35944010"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35943863">
          <h3>
            <a
              class="item"
              href="https://www.thedriftmag.com/all-roll-is-b-roll/"
              >All Roll Is B-Roll: Adam Curtis Goes Quiet</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-15 @ 04:22:31</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35943863"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35942500">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=l2SQgjYmVYY"
              >The Miracle of Pakistani Tekken (2022) [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-14 @ 23:57:48</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35942500"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35937554">
          <h3>
            <a class="item" href="https://hpbn.co/"
              >High Performance Browser Networking</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-14 @ 12:47:47</span
              ><span class="points-container"
                >Points: <span class="points">174</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35937554"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35937419">
          <h3>
            <a
              class="item"
              href="https://billydm.github.io/blog/daw-frontend-development-struggles/"
              >Digital Audio Workstation Front End Development Struggles</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-14 @ 12:17:03</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35937419"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35936665">
          <h3>
            <a class="item" href="https://makefiletutorial.com/#top"
              >Learn Makefiles with the Tastiest Examples</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-14 @ 09:34:38</span
              ><span class="points-container"
                >Points: <span class="points">128</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35936665"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="35935796">
          <h3>
            <a class="item" href="https://learningmusic.ableton.com/"
              >Get started making music</a
            >
          </h3>
          <section>
            <h4>
              <span>2023-05-14 @ 06:28:53</span
              ><span class="points-container"
                >Points: <span class="points">801</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=35935796"
                  >Comments</a
                ><span class="descendants">: 165</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
