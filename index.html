<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46385600">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/clearspace/jobs/5LtM86I-founding-network-engineer-at-clearspace"
              >Clearspace (YC W23) Is Hiring a Founding Network Engineer (VPN
              and Proxy)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 17:01:29</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46385406">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46385406"
              >Ask HN: What is the international distribution/statistics of HN
              visitors?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 16:37:13</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46385406"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>do we have an statistics on visitor location/country here?</p>
              <p>
                Would be curious: Is it US-centered? How much people from LatAm
                or SEA? EU?
              </p>
              <p>
                Maybe there was a question like this in the past, but I couldnt
                find it.
              </p>
              <p>(Maybe this is a question for @dang?)</p>
            </div>
          </section>
        </section>
        <section id="46385335">
          <h3>
            <a
              class="item"
              href="https://blog.procurementsciences.com/psci_blogs/why-fedramp-authorization-and-cmmc-level-2-are-now-table-stakes-for-govcon-ai"
              >Why FedRAMP Authorization and CMMC Level 2 Are Now Table Stakes
              for GovCon AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 16:28:43</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46385335"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46385308">
          <h3>
            <a
              class="item"
              href="https://www.deepsouthventures.com/i-sell-onions-on-the-internet/"
              >I Sell Onions on the Internet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 16:24:45</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46385308"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46384919">
          <h3>
            <a
              class="item"
              href="https://case.edu/news/new-study-shows-alzheimers-disease-can-be-reversed-achieve-full-neurological-recovery-not-just-prevented-or-slowed-animal-models"
              >Alzheimer's can be reversed to achieve full neurological recovery
              in animals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 15:22:36</span
              ><span class="points-container"
                >Points: <span class="points">206</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46384919"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46384565">
          <h3>
            <a
              class="item"
              href="https://daniel.lawrence.lu/blog/2024-12-01-asahi-linux-with-sway-on-the-macbook-air-m2/"
              >Asahi Linux with Sway on the MacBook Air M2</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 14:20:29</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46384565"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46384167">
          <h3>
            <a
              class="item"
              href="https://fidget-spinner.github.io/posts/no-longer-sorry.html"
              >Python 3.15’s interpreter for Windows x86-64 should hopefully be
              15% faster</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 13:02:46</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46384167"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46383675">
          <h3>
            <a
              class="item"
              href="https://github.com/mattermost/mattermost/issues/34271"
              >Mattermost restricted access to old messages after 10000 limit is
              reached</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 11:03:59</span
              ><span class="points-container"
                >Points: <span class="points">269</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46383675"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46383552">
          <h3>
            <a
              class="item"
              href="https://www.bbc.co.uk/news/articles/cdxwllqz1l0o"
              >We invited a man into our home at Christmas and he stayed with us
              for 45 years</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 10:35:34</span
              ><span class="points-container"
                >Points: <span class="points">588</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46383552"
                  >Comments</a
                ><span class="descendants">: 145</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46383233">
          <h3>
            <a class="item" href="https://algassert.com/post/2503"
              >Quantum Error Correction Goes FOOM</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 09:18:15</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46383233"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46383139">
          <h3>
            <a
              class="item"
              href="https://0l.de/blog/2015/01/bachelor-thesis-abstract/"
              >Self-referencing Page Tables for the x86-Architecture</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 08:58:23</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46383139"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46382011">
          <h3>
            <a
              class="item"
              href="https://www.ruby-lang.org/en/news/2025/12/25/ruby-4-0-0-released/"
              >Ruby 4.0.0</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 04:13:00</span
              ><span class="points-container"
                >Points: <span class="points">551</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46382011"
                  >Comments</a
                ><span class="descendants">: 110</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46381620">
          <h3>
            <a
              class="item"
              href="https://archive.blankline.org/api/media/file/d3_engine_public_release%20(1)-1.pdf"
              >Project Dropstone: A Neuro-Symbolic Runtime for Long-Horizon
              Engineering [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 02:47:48</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46381620"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>
                It describes a 'Recursive Swarm' architecture designed to solve
                context saturation for 24+ hour engineering tasks.
              </p>
              <p>Two key claims stood out to me:</p>
              <p>
                D3 Engine: Separates 'Active Workspace' from 'Latent History' to
                reduce compute costs by 99% (uses 'Trajectory Vectors' instead
                of token caching).
              </p>
              <p>
                Horizon Mode: Uses a swarm of 10,000 agents to explore solution
                paths instead of linear prediction.
              </p>
              <p>
                The 'Horizon Mode' paper is also in the same directory:
                <a
                  href="https://archive.blankline.org/api/media/file/horizon_mode_public_release%20(1).pdf"
                  >https://archive.blankline.org/api/media/file/horizon_mode_pu...</a
                >
              </p>
              <p>
                Curious if anyone has seen the 'Flash-Gated Consensus' protocol
                used in production before?
              </p>
            </div>
          </section>
        </section>
        <section id="46380758">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=oYU2hAbx_Fc"
              >Who Watches the Waymos? I do [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-25 @ 00:10:12</span
              ><span class="points-container"
                >Points: <span class="points">230</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46380758"
                  >Comments</a
                ><span class="descendants">: 77</span></span
              >
            </h4>
            <div class="text">
              <a href="https://x.com/fulligin/status/2003925653113184498"
                >https://x.com/fulligin/status/2003925653113184498</a
              >
              <p>
                <a
                  href="https://xcancel.com/fulligin/status/2003925653113184498"
                  >https://xcancel.com/fulligin/status/2003925653113184498</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46380399">
          <h3>
            <a
              class="item"
              href="https://github.com/hkjarral/Asterisk-AI-Voice-Agent"
              >Asterisk AI Voice Agent</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 23:25:37</span
              ><span class="points-container"
                >Points: <span class="points">159</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46380399"
                  >Comments</a
                ><span class="descendants">: 85</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46380168">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46380168"
              >Tell HN: Merry Christmas</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 22:56:00</span
              ><span class="points-container"
                >Points: <span class="points">1665</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46380168"
                  >Comments</a
                ><span class="descendants">: 377</span></span
              >
            </h4>
            <div class="text">
              <p>
                Merry Christmas to everyone. I hope you get some rest and can
                spend time with people who are dear to you and get to focus on
                what's important rather than getting lost in stressing about
                everything having to be perfect.
              </p>
              <p>
                Also much love to everyone who cannot spend their Christmas with
                dear people.
              </p>
              <p>
                To make sure this post meets the relevancy criteria, here is a
                Wikipedia article about some Christmas (more precisely advent)
                tradition which I personally really like:
                <a href="https://en.wikipedia.org/wiki/Christmas_market"
                  >https://en.wikipedia.org/wiki/Christmas_market</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46380075">
          <h3>
            <a class="item" href="https://git.dec05eba.com/phoenix/about/"
              >Phoenix: A modern X server written from scratch in Zig</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 22:43:53</span
              ><span class="points-container"
                >Points: <span class="points">555</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46380075"
                  >Comments</a
                ><span class="descendants">: 308</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46378554">
          <h3>
            <a class="item" href="https://github.com/antonmedv/textarea"
              >Show HN: Minimalist editor that lives in browser, stores
              everything in the URL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 19:42:25</span
              ><span class="points-container"
                >Points: <span class="points">397</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46378554"
                  >Comments</a
                ><span class="descendants">: 137</span></span
              >
            </h4>
            <div class="text">
              <p>What it does:</p>
              <p>Single HTML file, no deps, 111 loc</p>
              <p>Notes live in the URL hash (shareable links!)</p>
              <p>Auto-compressed with CompressionStream</p>
              <p>Plain-text editor (contenteditable)</p>
              <p>History support</p>
              <p>Page title from first # heading</p>
              <p>Respects light/dark mode</p>
              <p>No storage, cookies, or tracking</p>
              <p>The entire app is the page source.</p>
              <p><a href="https://textarea.my/">https://textarea.my/</a></p>
            </div>
          </section>
        </section>
        <section id="46377862">
          <h3>
            <a
              class="item"
              href="https://www.ipaidia.gr/wp-content/uploads/2020/12/117-2020-fabrice-bellard.pdf"
              >Fabrice Bellard: Biography (2009) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 18:17:47</span
              ><span class="points-container"
                >Points: <span class="points">318</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46377862"
                  >Comments</a
                ><span class="descendants">: 100</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46377597">
          <h3>
            <a class="item" href="https://github.com/VibiumDev/vibium"
              >Show HN: Vibium – Browser automation for AI and humans, by
              Selenium's creator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-24 @ 17:49:02</span
              ><span class="points-container"
                >Points: <span class="points">371</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46377597"
                  >Comments</a
                ><span class="descendants">: 105</span></span
              >
            </h4>
            <div class="text">
              i started the selenium project 21 years ago. vibium is what i'd
              build if i started over today with ai agents in mind. go binary
              under the hood (handles browser, bidi, mcp) but devs never see it.
              just npm install vibium. python/java coming. for claude code:
              claude mcp add vibium -- npx -y vibium v1 ships today. ama.
            </div>
          </section>
        </section>
        <section id="46367224">
          <h3>
            <a
              class="item"
              href="https://github.com/bellard/mquickjs/blob/main/README.md"
              >Fabrice Bellard Releases MicroQuickJS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-23 @ 17:33:42</span
              ><span class="points-container"
                >Points: <span class="points">1412</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46367224"
                  >Comments</a
                ><span class="descendants">: 530</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46351666">
          <h3>
            <a
              class="item"
              href="https://blog.miguelgrinberg.com/post/csrf-protection-without-tokens-or-hidden-form-fields"
              >CSRF protection without tokens or hidden form fields</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-22 @ 05:38:33</span
              ><span class="points-container"
                >Points: <span class="points">263</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46351666"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46336577">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/news/press-room/the-entire-new-yorker-archive-is-now-fully-digitized"
              >The entire New Yorker Archive Is Now Fully Digitized</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-20 @ 14:49:39</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46336577"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46336364">
          <h3>
            <a
              class="item"
              href="https://possiblywrong.wordpress.com/2020/12/10/the-fisher-yates-shuffle-is-backward/"
              >The Fisher-Yates shuffle is backward</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-20 @ 14:17:13</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46336364"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46327191">
          <h3>
            <a class="item" href="https://coe.psu.ac.th/ad/explore/"
              >Show HN: Exploring Mathematics with Python</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 15:55:30</span
              ><span class="points-container"
                >Points: <span class="points">187</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46327191"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46322815">
          <h3>
            <a
              class="item"
              href="https://news.mcmaster.ca/mcmaster-research-team-digitizes-more-than-100-years-of-canadian-infectious-disease-data/"
              >Research team digitizes more than 100 years of Canadian
              infectious disease data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-19 @ 06:24:52</span
              ><span class="points-container"
                >Points: <span class="points">141</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46322815"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46319382">
          <h3>
            <a
              class="item"
              href="https://www.openculture.com/2017/12/the-first-photographs-of-snowflakes.html"
              >The First Photographs of Snowflakes Discover the Groundbreaking
              Microphotography</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 21:58:50</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46319382"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46315658">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46315658"
              >Ask HN: How do I bridge the gap between PhD and SWE
              experiences?</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 17:20:23</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46315658"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
            <div class="text">
              <p>
                I’m now at a point where I want to merge my scientific
                background with my engineering experience. However, I’m finding
                a "missing middle" in the job market. I don't ever see a
                position that requires and values deep expertise in both.
              </p>
              <p>
                I enjoy development, but I feel like my scientific training is
                going to waste. For those who have successfully merged these two
                paths:
              </p>
              <p>
                Did you find a "unicorn" role, or did you create one within a
                company?
              </p>
              <p>
                How do you market yourself when your two halves feel like they
                belong to different resumes?
              </p>
            </div>
          </section>
        </section>
        <section id="46315583">
          <h3>
            <a
              class="item"
              href="https://joannabregan.substack.com/p/toys-with-the-highest-play-time-and"
              >Toys with the highest play-time and lowest clean-up-time</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 17:14:50</span
              ><span class="points-container"
                >Points: <span class="points">86</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46315583"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46314540">
          <h3>
            <a
              class="item"
              href="https://blocksandfiles.com/2025/12/17/jedec-sphbm4/"
              >JEDEC developing reduced pin count HBM4 standard to enable higher
              capacity</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-12-18 @ 16:11:50</span
              ><span class="points-container"
                >Points: <span class="points">60</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46314540"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
