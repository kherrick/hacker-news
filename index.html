<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44941766">
          <h3>
            <a
              class="item"
              href="https://www.strongtowns.org/journal/2025/8/18/the-road-that-killed-legend-jenkins-was-working-exactly-as-designed"
              >The Road That Killed Legend Jenkins Was Working as Designed</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 15:33:31</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941766"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44941750">
          <h3>
            <a
              class="item"
              href="https://www.wired.com/story/apple-finally-destroyed-steve-jobss-vision-of-the-ipad-good/"
              >Apple Finally Destroyed Steve Jobs’ Vision of the iPad. Good</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 15:32:04</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941750"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44941711">
          <h3>
            <a class="item" href="https://www.asimov.press/p/cell-weight"
              >The Weight of a Cell</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 15:29:27</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941711"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44941629">
          <h3>
            <a
              class="item"
              href="https://www.tinybird.co/blog-posts/1b-rows-per-second-clickhouse"
              >How to ingest 1B rows/s in ClickHouse</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 15:21:52</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941629"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44941580">
          <h3>
            <a class="item" href="https://www.realitydefender.com/platform/api"
              >Launch HN: Reality Defender (YC W22) – API for Deepfake and GenAI
              Detection</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 15:16:34</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941580"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.realitydefender.com"
                >https://www.realitydefender.com</a
              >). We build real-time multimodal and multi-model deepfake
              detection for Fortune 100s and governments all over the world. (We
              even won the RSAC Innovation Showcase award for our work:
              <a
                href="https://www.prnewswire.com/news-releases/reality-defender-wins-most-innovative-startup-at-rsa-conference-2024-innovation-sandbox-302137326.html"
                >https://www.prnewswire.com/news-releases/reality-defender-wi...</a
              >)
              <p>
                Today, we’re excited to share our public API and SDK, allowing
                anyone to access our platform with 2 lines of code:
                <a href="https://www.realitydefender.com/api"
                  >https://www.realitydefender.com/api</a
                >
              </p>
              <p>
                Back in W22, we launched our product to detect AI-generated
                media across audio, video, and images:
                <a href="https://news.ycombinator.com/item?id=30766050"
                  >https://news.ycombinator.com/item?id=30766050</a
                >
              </p>
              <p>
                That post kicked off conversations with devs, security teams,
                researchers, and governments. The most common question: "Can we
                get API/SDK access to build deepfake detection into our
                product?"
              </p>
              <p>
                We’ve heard that from solo devs building moderation tools,
                fintechs adding ID verification, founders running marketplaces,
                and infrastructure companies protecting video calls and
                onboarding flows. They weren’t asking us to build anything new;
                they simply wanted access to what we already had so they could
                plug it in and move forward.
              </p>
              <p>
                After running pilots and engagements with customers, we’re
                finally ready to share our public API and SDK. Now anyone can
                embed deepfake detection with just two lines of code, starting
                at the low price of free.
              </p>
              <p>
                <a href="https://www.realitydefender.com/api"
                  >https://www.realitydefender.com/api</a
                >
              </p>
              <p>
                Our new developer tools support detection across images, voice,
                video, and text — with the former two available as part of the
                free tier. If your product touches KYC, UGC, support workflows,
                communications, marketplaces, or identity layers, you can now
                embed real-time detection directly in your stack. It runs in the
                cloud, and longstanding clients using our platform have also
                deployed on-prem, at the edge, or on fully airgapped systems.
              </p>
              <p>
                SDKs are currently available in Python, Java, Rust, TypeScript,
                and Go. The first 50 scans per month are free, with usage-based
                pricing beyond that. If you’re working on something that
                requires other features or streaming access (like real-time
                voice or video), email us directly at yc@realitydefender.com
              </p>
              <p>
                Much has changed since 2022. The threats we imagined back then
                are now showing up in everyday support tickets and incident
                reports. We’ve witnessed voice deepfakes targeting bank call
                centers to commit real-time fraud; fabricated documents and
                AI-generated selfies slip through KYC and IDV onboarding
                systems; fake dating profiles, AI-generated marketplace sellers,
                and “verified” influencers impersonating real people. Political
                disinformation videos and synthetic media leaks have triggered
                real-world legal and PR crises. Even reviews, support
                transcripts, and impersonation scripts are increasingly being
                generated by AI. Detection remains harder than we first expected
                since we began in 2021. New generation methods emerge every few
                weeks that invalidate prior assumptions. This is why we are
                committed to building every layer of this ourselves. We don’t
                license or white-label detection models; everything we deploy is
                built in-house by our team.
              </p>
              <p>
                Since our original launch, we’ve worked with tier-one banks,
                global governments, and media companies to deploy detection
                inside their highest-risk workflows. However, we always believed
                the need wasn’t limited to large institutions, but everywhere.
                It showed up in YC office hours, in early bug reports, and in
                group chats after our last HN post.
              </p>
              <p>
                We’ve taken our time to make sure this was built well, flexible
                enough for startups, and battle-tested enough to trust in
                production. The API you can use today is the same one powering
                many of our enterprise deployments.
              </p>
              <p>
                Our goal is to make Reality Defender feel like Stripe, Twilio,
                or Plaid — an invisible, trusted layer that you can drop into
                your system to protect what matters. We feel deepfake detection
                is a key component of critical infrastructure, and like any good
                infrastructure, it should be modular, reliable, and boring (in
                the best possible way).
              </p>
              <p>
                Reality Defender is already in the Zoom marketplace and will be
                on the Teams marketplace soon. We will also power deepfake
                detection for identity workflows, support platforms, and
                internal trust and safety pipelines.
              </p>
              <p>
                If you're building something where trust, identity, or content
                integrity matter, or if you’ve run into weird edge cases you
                can’t explain, we’d love to hear from you.
              </p>
              <p>
                You can get started here:
                <a href="https://realitydefender.com/api"
                  >https://realitydefender.com/api</a
                >
              </p>
              <p>Or you can try us for free two different ways:</p>
              <p>
                1) 1-click add to Zoom / Teams to try in your own calls
                immediately.
              </p>
              <p>
                2) Email us up to 50 files at yc@realitydefender.com and we’ll
                scan them for you — no setup required.
              </p>
              <p>
                Thanks again to the HN community for helping launch us three
                years ago. It’s been a wild ride, and we’re excited to share
                something new. We live on HN ourselves and will be here for all
                your feedback. Let us know what you think!
              </p>
            </div>
          </section>
        </section>
        <section id="44941118">
          <h3>
            <a
              class="item"
              href="https://fortune.com/2025/08/18/mit-report-95-percent-generative-ai-pilots-at-companies-failing-cfo/"
              >95% of AI Pilots Failing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 14:36:03</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44941118"
                  >Comments</a
                ><span class="descendants">: 95</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940974">
          <h3>
            <a
              class="item"
              href="https://github.com/wieslawsoltes/HackerNewsWatch"
              >Show HN: A Minimal Hacker News Reader for Apple Watch Built with
              SwiftUI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 14:22:48</span
              ><span class="points-container"
                >Points: <span class="points">41</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940974"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940944">
          <h3>
            <a
              class="item"
              href="https://www.axios.com/2025/08/18/ai-jobs-layoffs"
              >AI is predominantly replacing outsourced, offshore workers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 14:20:33</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940944"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940646">
          <h3>
            <a
              class="item"
              href="https://www.andykessler.com/andy_kessler/2025/08/wsj-home-robots.html"
              >The Coming Robot Home Invasion</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 13:56:33</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940646"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940554">
          <h3>
            <a
              class="item"
              href="https://www.npr.org/2025/08/15/g-s1-83087/otter-ai-transcription-class-action-lawsuit"
              >Class-action suit claims Otter AI records private work
              conversations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 13:47:38</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940554"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940485">
          <h3>
            <a class="item" href="https://github.com/FFmpeg/asm-lessons"
              >FFmpeg Assembly Language Lessons</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 13:39:53</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940485"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940416">
          <h3>
            <a
              class="item"
              href="https://www.utilitydive.com/news/texas-law-gives-grid-operator-power-to-disconnect-data-centers-during-crisi/751587/"
              >Texas law gives grid operator power to disconnect data centers
              during crisis</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 13:34:06</span
              ><span class="points-container"
                >Points: <span class="points">66</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940416"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44940089">
          <h3>
            <a
              class="item"
              href="https://github.com/awslabs/mcp/blob/main/VIBE_CODING_TIPS_TRICKS.md"
              >Vibe coding tips and tricks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 12:57:28</span
              ><span class="points-container"
                >Points: <span class="points">81</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44940089"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44939660">
          <h3>
            <a
              class="item"
              href="https://www.theregister.com/2025/08/18/opinion_column_ai_surveillance/"
              >When you're asking AI chatbots for answers, they're data-mining
              you</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 11:58:17</span
              ><span class="points-container"
                >Points: <span class="points">109</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44939660"
                  >Comments</a
                ><span class="descendants">: 51</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44939331">
          <h3>
            <a
              class="item"
              href="https://garymarcus.substack.com/p/llms-coding-agents-security-nightmare"
              >LLMs and coding agents are a security nightmare</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 11:04:34</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44939331"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44938963">
          <h3>
            <a
              class="item"
              href="https://vlaaad.github.io/mcp-tools-with-dependent-types"
              >MCP tools with dependent types</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 10:02:31</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44938963"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44938920">
          <h3>
            <a class="item" href="https://lucumr.pocoo.org/2025/8/18/code-mcps/"
              >MCP doesn't need tools, it needs code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 09:53:03</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44938920"
                  >Comments</a
                ><span class="descendants">: 93</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44938818">
          <h3>
            <a
              class="item"
              href="https://medicalxpress.com/news/2025-08-alternative-lasik-lasers.html"
              >Electromechanical reshaping, an alternative to laser eye
              surgery</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 09:35:17</span
              ><span class="points-container"
                >Points: <span class="points">139</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44938818"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44937991">
          <h3>
            <a class="item" href="https://hyperclay.com/"
              >Web apps in a single, portable, self-updating, vanilla HTML
              file</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 06:38:11</span
              ><span class="points-container"
                >Points: <span class="points">468</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44937991"
                  >Comments</a
                ><span class="descendants">: 164</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44937550">
          <h3>
            <a
              class="item"
              href="https://roguesecurity.dev/blog/systemd-hardening"
              >SystemD Service Hardening</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-18 @ 04:57:47</span
              ><span class="points-container"
                >Points: <span class="points">171</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44937550"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44935658">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/magazine/2025/08/18/baldwin-a-love-story-nicholas-boggs-book-review"
              >The Lives and Loves of James Baldwin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-17 @ 22:53:21</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44935658"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44924031">
          <h3>
            <a
              class="item"
              href="https://www.rainviewer.com/blog/weather-radar-apis-2025-overview.html"
              >Weather Radar APIs in 2025: A Founder's Complete Market
              Overview</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-16 @ 14:57:41</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44924031"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44923520">
          <h3>
            <a class="item" href="https://scrollguard.app/"
              >Show HN: I built an app to block Shorts and Reels</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-16 @ 14:01:38</span
              ><span class="points-container"
                >Points: <span class="points">226</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44923520"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
            <div class="text">
              <p>
                Most screen time apps I found focus on blocking the app itself
                instead of the addictive feed, so I created this app to allow me
                to keep using the "healthy" and "social" features and block the
                infinite scrolling (Reels)
              </p>
              <p>
                After implementing the block on Instagram Reels, I got addicted
                to YouTube Shorts and Reddit feed. So, I extended the app to
                cover these as well.
              </p>
              <p>
                To avoid replacing the scrolling for regular feeds, I also added
                a feature that shows a pop-up when I'm overscrolling in any app.
                It forces me to stop and think for a minute before I continue
                scrolling.
              </p>
              <p>
                I built it on Android Studio, using Kotlin and Jetpack Compose
                for the UI. I use the Accessibility Service to detect scrolls
                and navigate out of them. Unfortunately, this only works for
                Android. There is no way (as far as I know) to do this on iOS.
              </p>
              <p>I'd love to hear your thoughts</p>
            </div>
          </section>
        </section>
        <section id="44922540">
          <h3>
            <a class="item" href="http://www.technoblogy.com/show?2AON"
              >Walkie-Textie Wireless Communicator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-16 @ 12:08:45</span
              ><span class="points-container"
                >Points: <span class="points">79</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44922540"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44920747">
          <h3>
            <a
              class="item"
              href="https://juliusvonbismarck.com/bank/index.php/projects/image-fulgurator/2/"
              >Image Fulgurator (2011)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-16 @ 06:26:08</span
              ><span class="points-container"
                >Points: <span class="points">6</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44920747"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44919666">
          <h3>
            <a
              class="item"
              href="https://www.os2museum.com/wp/8x19-text-mode-font-origins/"
              >8x19 Text Mode Font Origins</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-16 @ 02:44:22</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44919666"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44916339">
          <h3>
            <a class="item" href="https://sdiehl.github.io/typechecker-zoo/"
              >Typechecker Zoo</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-15 @ 19:11:16</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44916339"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44912822">
          <h3>
            <a
              class="item"
              href="https://abramsplanetarium.org/SkyCalendar/index.html"
              >Sky Calendar</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-15 @ 14:24:29</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44912822"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44908528">
          <h3>
            <a
              class="item"
              href="https://science.nasa.gov/science-research/heliophysics/a-gigantic-jet-caught-on-camera-a-spritacular-moment-for-nasa-astronaut-nicole-ayers/"
              >A gigantic jet caught on camera: A spritacular moment for NASA
              astronaut</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-15 @ 04:11:48</span
              ><span class="points-container"
                >Points: <span class="points">324</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44908528"
                  >Comments</a
                ><span class="descendants">: 71</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44899886">
          <h3>
            <a
              class="item"
              href="https://www.manchester.ac.uk/about/news/scientists-discover-surprising-language-shortcuts-in-birdsong--just-like-humans/"
              >Scientists discover surprising language 'shortcuts' in birdsong –
              like humans</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-08-14 @ 13:02:49</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44899886"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
