<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44025127">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/05/17/style/ai-chatgpt-turnitin-students-cheating.html"
              >A New Headache for Honest Students: Proving They Didn't Use
              A.I</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 23:37:54</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44025127"
                  >Comments</a
                ><span class="descendants">: 59</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44025022">
          <h3>
            <a class="item" href="https://github.com/veltman/ca-license-plates"
              >California vanity license plate applications with reasons for
              rejection</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 23:15:57</span
              ><span class="points-container"
                >Points: <span class="points">62</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44025022"
                  >Comments</a
                ><span class="descendants">: 70</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44024919">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/finance/currencies/crypto-industry-robberies-attacks-32c2867a"
              >Severed Fingers and 'Wrench Attacks' Rattle the Crypto Elite</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 22:55:26</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024919"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44024784">
          <h3>
            <a
              class="item"
              href="https://www.neowin.net/news/kde-is-finally-getting-a-native-virtual-machine-manager-called-karton/"
              >KDE is finally getting a native virtual machine manager called
              "Karton"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 22:33:16</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024784"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44024759">
          <h3>
            <a
              class="item"
              href="https://social.numerique.gouv.fr/@codegouvfr/114529954373492878"
              >France Becomes First Government to Endorse UN Open Source
              Principles</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 22:27:07</span
              ><span class="points-container"
                >Points: <span class="points">296</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024759"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44024055">
          <h3>
            <a
              class="item"
              href="https://github.com/gvelesandro/constructor-theory-simulator"
              >Show HN: Python Simulator of David Deutsch’s "Constructor Theory
              of Time"</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 20:22:33</span
              ><span class="points-container"
                >Points: <span class="points">53</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44024055"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                I turned the freshly published paper “The Constructor Theory of
                Time” by David Deutsch and Chiara Marletto (arXiv, 13 May 2025)
                into an executable Python library.
              </p>
              <p>
                What you’ll find • One-to-one translation of the paper’s
                formalism: Substrates, Attributes, Tasks, Constructors, and
                task-algebra operators • Possibility / impossibility predicates
                and counterfactuals encoded exactly as defined • Test suite that
                mirrors every lemma and example (&gt;95 % coverage, mypy-typed)
                • Reproductions of key results: time-keeping substrates,
                irreversibility proofs, quantum branching tasks, and a
                self-replicating constructor
              </p>
              <p>
                Why share? Reading the paper is tough going; expressing each
                definition in code clarified the ideas and surfaced a couple of
                questions for discussion. Hoping it helps others and sparks
                extensions.
              </p>
              <p>
                Looking for feedback: • Did I miss any subtleties in the
                formalism? • Which additional theorems or examples would you
                like implemented next?
              </p>
              <p>
                Repo:
                <a
                  href="https://github.com/gvelesandro/constructor-theory-simulator"
                  >https://github.com/gvelesandro/constructor-theory-simulator</a
                >
              </p>
              <p>Thanks for taking a look—issues and PRs welcome!</p>
            </div>
          </section>
        </section>
        <section id="44023680">
          <h3>
            <a class="item" href="https://www.kscale.dev/"
              >K-Scale Labs: Open-source humanoid robots, built for
              developers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 19:16:41</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023680"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
            <div class="text">
              <i
                >Show HN: Train and deploy your own open-source humanoid in
                Python</i
              >
              -
              <a href="https://news.ycombinator.com/item?id=44022106"
                >https://news.ycombinator.com/item?id=44022106</a
              >
            </div>
          </section>
        </section>
        <section id="44023423">
          <h3>
            <a
              class="item"
              href="https://every.to/superorganizers/the-fall-of-roam"
              >The Fall of Roam</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 18:36:54</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023423"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44023144">
          <h3>
            <a class="item" href="https://github.com/skift-org/vaev"
              >Show HN: Vaev – A browser engine built from scratch (It renders
              google.com)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 17:54:12</span
              ><span class="points-container"
                >Points: <span class="points">136</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44023144"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
            <div class="text">
              <p>
                This is an experimental project focused on learning and
                exploration. Networking is basic (<a href="http://">http://</a>
                and file:// only), and grid layouts aren’t supported yet, but
                we’re making progress fast.
              </p>
              <p>We’d love your thoughts and feedback.</p>
            </div>
          </section>
        </section>
        <section id="44022758">
          <h3>
            <a
              class="item"
              href="https://sifter.org/~simon/journal/20240718.html"
              >$30 Homebrew Automated Blinds Opener</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 17:05:56</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022758"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44022484">
          <h3>
            <a
              class="item"
              href="https://www.science.org/doi/10.1126/sciadv.adu9368"
              >Emergent social conventions and collective bias in LLM
              populations</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 16:26:58</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022484"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44022448">
          <h3>
            <a
              class="item"
              href="https://amberwilliams.io/blogs/building-my-own-pkms"
              >Ditching Obsidian and building my own</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 16:21:50</span
              ><span class="points-container"
                >Points: <span class="points">251</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022448"
                  >Comments</a
                ><span class="descendants">: 280</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44022353">
          <h3>
            <a
              class="item"
              href="https://github.com/brianmg/voynich-nlp-analysis"
              >Show HN: I modeled the Voynich Manuscript with SBERT to test for
              structure</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 16:09:01</span
              ><span class="points-container"
                >Points: <span class="points">284</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022353"
                  >Comments</a
                ><span class="descendants">: 91</span></span
              >
            </h4>
            <div class="text">
              <p>
                The Voynich Manuscript is a 15th-century book written in an
                unknown script. No one’s been able to translate it, and many
                think it’s a hoax, a cipher, or a constructed language. I wasn’t
                trying to decode it — I just wanted to see: does it behave like
                a structured language?
              </p>
              <p>
                I stripped a handful of common suffix-like endings (aiin, dy,
                etc.) to isolate what looked like root forms. I know that’s a
                strong assumption — I call it out directly in the repo — but it
                helped clarify the clustering. From there, I used SBERT
                embeddings and KMeans to group similar roots, inferred POS-like
                roles based on position and frequency, and built a Markov
                transition matrix to visualize cluster-to-cluster flow.
              </p>
              <p>
                It’s not translation. It’s not decryption. It’s structural
                modeling — and it revealed some surprisingly consistent syntax
                across the manuscript, especially when broken out by section
                (Botanical, Biological, etc.).
              </p>
              <p>
                GitHub repo:
                <a href="https://github.com/brianmg/voynich-nlp-analysis"
                  >https://github.com/brianmg/voynich-nlp-analysis</a
                >
                Write-up:
                <a
                  href="https://brig90.substack.com/p/modeling-the-voynich-manuscript-with?r=3z5dn9"
                  >https://brig90.substack.com/p/modeling-the-voynich-manuscrip...</a
                >
              </p>
              <p>
                I’m new to the NLP space, so I’m sure there are things I got
                wrong — but I’d love feedback from people who’ve worked with
                structured language modeling or weird edge cases like this.
              </p>
            </div>
          </section>
        </section>
        <section id="44022265">
          <h3>
            <a class="item" href="https://github.com/paddymul/buckaroo"
              >Show HN: Buckaroo – Data table UI for Notebooks</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 15:56:18</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022265"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              <p>
                Auto Cleaning looks at columns and heuristically suggests common
                cleaning operations. The operations are added to the lowcode UI
                where they can be edited. Multiple cleaning strategies can be
                applied and the best fit retained. Autocleaning without a UI and
                multiple strategies is very opaque. Since this runs
                heuristically (not with an LLM), it’s fast and data stays local.
              </p>
              <p>
                I'm eager to hear feedback from data scientists and other users
                of dataframes/notebooks.
              </p>
            </div>
          </section>
        </section>
        <section id="44022225">
          <h3>
            <a
              class="item"
              href="https://notes.andymatuschak.org/Spaced_repetition_memory_system"
              >Spaced Repetition Memory System</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 15:48:57</span
              ><span class="points-container"
                >Points: <span class="points">175</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44022225"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44021883">
          <h3>
            <a class="item" href="https://github.com/MinishLab/model2vec-rs"
              >Show HN: Model2vec-Rs – Fast Static Text Embeddings in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 15:01:35</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44021883"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>Main Features:</p>
              <p>
                - Rust-native inference: Load any Model2Vec model from Hugging
                Face or your local path with StaticModel::from_pretrained(...).
              </p>
              <p>
                - Tiny footprint: The crate itself is only ~1.7 mb, with
                embedding models between 7 and 30 mb.
              </p>
              <p>Performance:</p>
              <p>We benchmarked single-threaded on a CPU:</p>
              <p>- Python: ~4650 embeddings/sec</p>
              <p>- Rust: ~8000 embeddings/sec (~1.7× speedup)</p>
              <p>
                First open-source project in Rust for us, so would be great to
                get some feedback!
              </p>
            </div>
          </section>
        </section>
        <section id="44021824">
          <h3>
            <a class="item" href="https://fabiensanglard.net/2168/index.html"
              >Building my childhood dream PC</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 14:52:11</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44021824"
                  >Comments</a
                ><span class="descendants">: 73</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44020975">
          <h3>
            <a
              class="item"
              href="https://www.filibeto.org/aduritz/truetrue/e10000/how-e10k-wasborn.html"
              >How the Sun Enterprise 10000 was born (2007)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 12:43:01</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44020975"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44020734">
          <h3>
            <a class="item" href="https://github.com/m4xshen/hardtime.nvim"
              >Show HN: Hardtime.nvim – break bad habits and master Vim
              motions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 12:08:52</span
              ><span class="points-container"
                >Points: <span class="points">172</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44020734"
                  >Comments</a
                ><span class="descendants">: 68</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44020591">
          <h3>
            <a class="item" href="https://domenic.me/fsrs/"
              >Spaced repetition systems have gotten better</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-18 @ 11:42:19</span
              ><span class="points-container"
                >Points: <span class="points">731</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44020591"
                  >Comments</a
                ><span class="descendants">: 432</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44017913">
          <h3>
            <a class="item" href="https://komiko.app/video/AniSora"
              >AniSora: Open-source anime video generation model</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 23:59:03</span
              ><span class="points-container"
                >Points: <span class="points">329</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44017913"
                  >Comments</a
                ><span class="descendants">: 188</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44016037">
          <h3>
            <a
              class="item"
              href="https://suberic.net/~dmm/projects/mystical/README.html"
              >Mystical</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 18:21:18</span
              ><span class="points-container"
                >Points: <span class="points">370</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44016037"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44013201">
          <h3>
            <a
              class="item"
              href="https://dezyne.org/dezyne/manual/dezyne/dezyne.html"
              >Dezyne Programming Language</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-17 @ 09:44:19</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44013201"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44009185">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.08906"
              >Comparing Parallel Functional Array Languages: Programming and
              Performance</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 19:50:45</span
              ><span class="points-container"
                >Points: <span class="points">54</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44009185"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44005692">
          <h3>
            <a class="item" href="https://www.tech.tickets/"
              >Show HN: A platform to find tech conferences, discounts, and
              ticket giveaways</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 14:05:52</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44005692"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
            <div class="text">
              I created a platform that compiles tech conferences in one place -
              not just the when and where, but also the best discount codes and
              free ticket giveaways! Feedback and suggestions are welcome as I
              continue to refine it.
            </div>
          </section>
        </section>
        <section id="44003928">
          <h3>
            <a class="item" href="https://journalofimaginaryresearch.home.blog/"
              >The Journal of Imaginary Research</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 11:10:31</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44003928"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44001105">
          <h3>
            <a
              class="item"
              href="https://advanced.onlinelibrary.wiley.com/doi/10.1002/adma.202418626"
              >Green Fabrication of Sulfonium-Containing Bismuth Materials for
              X-Ray Detection</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-16 @ 01:47:02</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44001105"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43999897">
          <h3>
            <a
              class="item"
              href="https://www.eff.org/deeplinks/2025/05/memoriam-john-l-young-cryptome-co-founder"
              >In Memoriam: John L. Young, Cryptome Co-Founder</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-15 @ 22:16:26</span
              ><span class="points-container"
                >Points: <span class="points">173</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43999897"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43995094">
          <h3>
            <a class="item" href="https://github.com/charliemeyer/yahtzeeql"
              >Yahtzeeql – Yahtzee solver that's mostly SQL</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-15 @ 13:51:26</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43995094"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="43990262">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/future/article/20250513-what-chestnuts-reveal-about-the-roman-empire"
              >How the humble chestnut traced the rise and fall of the Roman
              Empire</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-14 @ 23:29:32</span
              ><span class="points-container"
                >Points: <span class="points">42</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=43990262"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
