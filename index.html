<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="47108989">
          <h3>
            <a class="item" href="https://hypha.pub/back-to-freebsd-part-1"
              >Back to FreeBSD: Part 1</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 07:16:27</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47108989"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47108977">
          <h3>
            <a
              class="item"
              href="https://www.bbc.com/future/article/20260220-whats-the-best-way-to-learn-a-new-language"
              >What's the best way to learn a new language?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 07:14:22</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47108977"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47107781">
          <h3>
            <a class="item" href="https://ukiyo-e.org/"
              >Japanese Woodblock Print Search</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 03:18:36</span
              ><span class="points-container"
                >Points: <span class="points">115</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47107781"
                  >Comments</a
                ><span class="descendants">: 20</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47106985">
          <h3>
            <a
              class="item"
              href="https://www.sambent.com/a-botnet-accidentally-destroyed-i2p-the-full-story/"
              >A Botnet Accidentally Destroyed I2P</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 01:08:17</span
              ><span class="points-container"
                >Points: <span class="points">118</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47106985"
                  >Comments</a
                ><span class="descendants">: 76</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47106686">
          <h3>
            <a
              class="item"
              href="https://boristane.com/blog/how-i-use-claude-code/"
              >How I use Claude Code: Separation of planning and execution</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-22 @ 00:29:05</span
              ><span class="points-container"
                >Points: <span class="points">606</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47106686"
                  >Comments</a
                ><span class="descendants">: 374</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47105198">
          <h3>
            <a
              class="item"
              href="https://www.science.org/doi/10.1126/science.adq7188"
              >Evidence of the bouba-kiki effect in naïve baby chicks</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 21:51:58</span
              ><span class="points-container"
                >Points: <span class="points">142</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47105198"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47104667">
          <h3>
            <a class="item" href="https://github.com/xaskasdf/ntransformer"
              >Show HN: Llama 3.1 70B on a single RTX 3090 via NVMe-to-GPU
              bypassing the CPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 20:57:30</span
              ><span class="points-container"
                >Points: <span class="points">268</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47104667"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
            <div class="text">
              <p>
                This is the result of that question itself and some weekend
                vibecoding (it has the linked library repository in the readme
                as well), it seems to work, even on consumer gpus, it should
                work better on professional ones tho
              </p>
            </div>
          </section>
        </section>
        <section id="47103945">
          <h3>
            <a class="item" href="https://inputlag.science"
              >Inputlag.science – Repository of knowledge about input lag in
              gaming</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 19:41:52</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47103945"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47103931">
          <h3>
            <a
              class="item"
              href="https://www.harudagondi.space/blog/parse-dont-validate-and-type-driven-design-in-rust/"
              >Parse, Don't Validate and Type-Driven Design in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 19:40:06</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47103931"
                  >Comments</a
                ><span class="descendants">: 49</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47103661">
          <h3>
            <a
              class="item"
              href="https://www.anuragk.com/blog/posts/Taalas.html"
              >How Taalas “prints” LLM onto a chip?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 19:07:20</span
              ><span class="points-container"
                >Points: <span class="points">172</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47103661"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47103506">
          <h3>
            <a class="item" href="https://github.com/a-e-k/canvas_ity"
              >Canvas_ity: A tiny, single-header -like 2D rasterizer for C++</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 18:50:19</span
              ><span class="points-container"
                >Points: <span class="points">105</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47103506"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47103136">
          <h3>
            <a
              class="item"
              href="https://carbuzz.com/toyota-mirai-massive-depreciation-one-year/"
              >Toyota’s hydrogen-powered Mirai has experienced rapid
              depreciation</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 18:09:24</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47103136"
                  >Comments</a
                ><span class="descendants">: 350</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47101171">
          <h3>
            <a class="item" href="https://www.koreaherald.com/article/10679206"
              >CXMT has been offering DDR4 chips at about half the prevailing
              market rate</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 14:32:16</span
              ><span class="points-container"
                >Points: <span class="points">213</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47101171"
                  >Comments</a
                ><span class="descendants">: 195</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47100935">
          <h3>
            <a class="item" href="https://humanrootoftrust.org/"
              >The Human Root of Trust – public domain framework for agent
              accountability</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 14:01:45</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47100935"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
            <div class="text">
              <p>
                That assumption has already broken. AI agents are transacting,
                communicating, and signing contracts autonomously — passing
                identity checks designed for people, with no human visibly in
                the loop.
              </p>
              <p>
                The Human Root of Trust is my attempt to name the problem and
                sketch the architecture: three pillars (proof of humanity,
                hardware-rooted device identity, action attestation), a six-step
                trust chain from human principal to cryptographic receipt, and
                two implementation paths.
              </p>
              <p>
                It's dedicated to the public domain. No patent. No product. No
                ask except that whoever picks this up carries the principle
                forward.
              </p>
              <p>
                <a href="https://humanrootoftrust.org"
                  >https://humanrootoftrust.org</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="47100328">
          <h3>
            <a class="item" href="https://github.com/kurouna/elecxzy"
              >Show HN: Elecxzy – A lightweight, Lisp-free Emacs-like editor in
              Electron</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 12:49:24</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47100328"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
            <div class="text">
              <p>
                I designed it to be comfortable and ready to use immediately,
                without a custom init.el. Here is a quick overview:
              </p>
              <p>
                - Provides mouse-free operation and classic Emacs keybindings
                for essential tasks (file I/O, search, split windows, syntax
                highlighting).
              </p>
              <p>
                - Drops the Lisp execution engine entirely. This keeps startup
                and operation lightweight.
              </p>
              <p>
                - Solves CJK (Chinese, Japanese, Korean) IME control issues
                natively on Windows.
              </p>
              <p>
                I never managed to learn Lisp. I just copy-pasted snippets to
                maintain my init.el. However, I loved the Emacs keybindings. I
                loved operating an editor entirely without a mouse. I wanted an
                editor I could just open and use immediately. Also, standard
                Emacs binaries for Windows often have subtle usability issues
                for CJK users.
              </p>
              <p>
                So, I thought about whether I could build an Emacs-like text
                editor using Electron, the same framework as VS Code.
              </p>
              <p>
                Building an editor inside a browser engine required thinking a
                lot about what NOT to build. To make it feel native, I had to
                navigate DOM limitations. I learned that intentionally dropping
                complex features improves rendering speed. For example, I
                skipped implementing "word wrap." For syntax highlighting, I did
                not use a full AST parser. Instead, I used strict "line-by-line"
                parsing. The highlight colors for multi-line comments are
                occasionally incorrect, but it is practically unproblematic and
                keeps the editor fast.
              </p>
              <p>
                Under the hood, to bypass browser limitations and handle large
                files smoothly, I implemented a virtual rendering (virtual
                scrolling) system. For text management and Undo/Redo, I use a
                custom Piece Table. I built a custom KeyResolver for Emacs
                chords. I also used koffi to call Win32 APIs directly for
                precise IME control.
              </p>
              <p>
                I respect Windows Notepad as one of the most widely used text
                editors. However, in my daily work or coding tasks, I often felt
                it lacked certain features. On the other hand, I found VS Code
                too heavy just to write a quick memo. Even with extensions, it
                never quite gave me that native Emacs flow. I do not want to
                replace Notepad, VS Code, or Emacs. If users want rich
                extensions and heavy customization, I believe they should use
                Emacs or VS Code. My goal is to fill the gap between them—to
                build a "greatest common denominator" editor for people who just
                want an Emacs-like environment on Windows without the setup.
              </p>
              <p>
                It is still in alpha (so it might not work perfectly), but you
                can test it on Windows by downloading the zip from the GitHub
                releases, extracting it, and running elecxzy.exe. For
                screenshots, basic usage, and keybindings, please check the
                README on the GitHub project page.
              </p>
              <p>
                I am looking for feedback: Is there a demand for a zero-config,
                Lisp-free, "Notepad-like" Emacs-style editor? What are the
                minimum standard features required to make it useful? I would
                love to hear your technical insights.
              </p>
            </div>
          </section>
        </section>
        <section id="47100232">
          <h3>
            <a class="item" href="https://github.com/tnm/zclaw"
              >zclaw: personal AI assistant in under 888 KB, running on an
              ESP32</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 12:37:52</span
              ><span class="points-container"
                >Points: <span class="points">188</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47100232"
                  >Comments</a
                ><span class="descendants">: 104</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47098669">
          <h3>
            <a class="item" href="https://github.com/coccinelle/coccinelle"
              >Coccinelle: Source-to-source transformation tool</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 08:26:36</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47098669"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47098245">
          <h3>
            <a
              class="item"
              href="https://thelocalstack.eu/posts/linkedin-identity-verification-privacy/"
              >I verified my LinkedIn identity. Here's what I handed over</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 07:06:18</span
              ><span class="points-container"
                >Points: <span class="points">1296</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47098245"
                  >Comments</a
                ><span class="descendants">: 445</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47096253">
          <h3>
            <a
              class="item"
              href="https://twitter.com/karpathy/status/2024987174077432126"
              >Claws are now a new layer on top of LLM agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 00:56:29</span
              ><span class="points-container"
                >Points: <span class="points">319</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47096253"
                  >Comments</a
                ><span class="descendants">: 753</span></span
              >
            </h4>
            <div class="text">
              <a href="https://xcancel.com/karpathy/status/2024987174077432126"
                >https://xcancel.com/karpathy/status/2024987174077432126</a
              >
              <p>
                Related:
                <a href="https://simonwillison.net/2026/Feb/21/claws/"
                  >https://simonwillison.net/2026/Feb/21/claws/</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="47096167">
          <h3>
            <a class="item" href="https://gamedate.org/"
              >Gamedate – A site to revive dead multiplayer games</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-21 @ 00:44:28</span
              ><span class="points-container"
                >Points: <span class="points">147</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47096167"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47095105">
          <h3>
            <a
              class="item"
              href="https://www.aol.com/articles/a16z-partner-says-theory-well-050150534.html"
              >A16z partner says that the theory that we’ll vibe code everything
              is wrong</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 22:47:58</span
              ><span class="points-container"
                >Points: <span class="points">150</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47095105"
                  >Comments</a
                ><span class="descendants">: 214</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.youtube.com/watch?v=Aq0JSbuIppQ"
                >https://www.youtube.com/watch?v=Aq0JSbuIppQ</a
              >
            </div>
          </section>
        </section>
        <section id="47091419">
          <h3>
            <a class="item" href="https://f-droid.org/2026/02/20/twif.html"
              >Keep Android Open</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-20 @ 17:58:51</span
              ><span class="points-container"
                >Points: <span class="points">2106</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47091419"
                  >Comments</a
                ><span class="descendants">: 700</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47074671">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/gadgets/2013/01/how-i-launched-3-consoles-and-found-true-love-at-babbages-store-no-9/"
              >How I launched 3 consoles and found true love at Babbage's store
              no. 9 (2013)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-19 @ 15:14:18</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47074671"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47069918">
          <h3>
            <a
              class="item"
              href="https://mutsuntsai.github.io/reference-finder/"
              >ReferenceFinder: Find coordinates on a piece of paper with only
              folds</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-19 @ 04:27:23</span
              ><span class="points-container"
                >Points: <span class="points">4</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47069918"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47061614">
          <h3>
            <a
              class="item"
              href="https://www.deadlanguagesociety.com/p/how-far-back-in-time-understand-english"
              >How far back in time can you understand English?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-18 @ 14:56:58</span
              ><span class="points-container"
                >Points: <span class="points">561</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47061614"
                  >Comments</a
                ><span class="descendants">: 310</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47060334">
          <h3>
            <a
              class="item"
              href="https://blog.trailofbits.com/2026/02/18/carelessness-versus-craftsmanship-in-cryptography/"
              >Carelessness versus craftsmanship in cryptography</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-18 @ 12:34:52</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47060334"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47051709">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2026-02-scientists-tectonic-moon.html"
              >Scientists discover recent tectonic activity on the moon</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-17 @ 19:13:37</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47051709"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47046853">
          <h3>
            <a class="item" href="https://lcamtuf.substack.com/p/unreal-numbers"
              >Unreal Numbers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-17 @ 12:40:10</span
              ><span class="points-container"
                >Points: <span class="points">12</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47046853"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47046070">
          <h3>
            <a
              class="item"
              href="https://floedb.ai/blog/two-bits-are-better-than-one-making-bloom-filters-2x-more-accurate"
              >Two Bits Are Better Than One: making bloom filters 2x more
              accurate</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-17 @ 11:01:09</span
              ><span class="points-container"
                >Points: <span class="points">121</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47046070"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47044369">
          <h3>
            <a class="item" href="https://yuyz0112.github.io/glitch-art-maker/"
              >Show HN: Minimalist Glitch Art Maker (100% client-side)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-17 @ 06:35:48</span
              ><span class="points-container"
                >Points: <span class="points">18</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47044369"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
