<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="39907488">
          <h3>
            <a
              class="item"
              href="https://9to5mac.com/2024/04/01/altstore-iphone-apps-patreon-eu/"
              >AltStore to offer iPhone apps backed by Patreon in the EU</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 16:17:48</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39907488"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39907466">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/2024/4/2/24118873/google-podcasts-shutdown-graveyard"
              >Google Podcasts is gone – and so is my faith in Google</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 16:15:58</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39907466"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39907073">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39907073"
              >Launch HN: Creo (YC W24) – Build internal tools with
              React/NextJS</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 15:43:56</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39907073"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
            <div class="text">
              <a href="https://trycreo.com/">https://trycreo.com/</a>). Creo
              lets you make internal tools with NextJS. We’re code-first because
              we think engineers prefer being in their IDE (especially today,
              with all the advancements in dev-tools) when building out internal
              tooling for their company.
              <p>
                Here’s a demo of writing code and then deploying your tools:
                <a href="https://www.youtube.com/watch?v=GDTk1SmtpXw"
                  >https://www.youtube.com/watch?v=GDTk1SmtpXw</a
                >
                And here’s one on how to get started with the CLI:
                <a href="https://www.youtube.com/watch?v=JyyyRv2TJy0"
                  >https://www.youtube.com/watch?v=JyyyRv2TJy0</a
                >.
              </p>
              <p>
                A lot of internal tool builders (eg: Retool and Tooljet) are
                low-code, meaning you’re given a WYSIWYG drag-and-drop UI where
                you can drag components onto a canvas, and then wire them up to
                a data source or endpoint using a form/code-block. This has the
                advantage of being accessible to non-programmers, who are often
                the people needing and using the tools. What we’ve repeatedly
                seen, however, is that while these solutions <i>begin</i> with a
                PM (or similar) creating the initial tool, they soon bring in an
                engineer to e.g. wire it up to a data source or an endpoint. But
                engineers dislike dealing with this drag-and-drop stuff—it would
                be so much easier for them just to do it in code. So these
                products become stuck somewhere between code and no-code.
              </p>
              <p>
                We experienced many such problems building internal tools at
                companies we’ve worked at in the past. We tried the
                aforementioned low-code builders and found the tools hard to
                maintain as they became more complex. We wanted to write the
                JavaScript we’re comfortable with, but it was always hard
                picking the libraries/dependencies to get started. We never
                found a good, opinionated set of abstractions to build internal
                tools quickly.
              </p>
              <p>
                Our solution is simple: you use our CLI to clone our
                NextJS14-based starter and run it on port 8891, where you write
                the React/JS you’re comfortable with. All you have to do is
                worry about the app/tools folder, where you can create new
                directories for the tools you need to create. Everything else is
                configuration files. Once you push your project to a GitHub
                repo, you can connect that repo to our platform on our
                deployments page. We also have a component library (built on top
                of Shadcn), that will save you time, especially with things like
                data tables, forms and charts.
              </p>
              <p>
                The tools will then show up on your dashboard and be usable in
                about 1-2 minutes. The rest of the platform has all the other
                features you will need, such as being able to add team members
                to your organization, configuring permissions, keyboard
                shortcuts, authentication and more.
              </p>
              <p>
                The real value, in our opinion, is that you will never have to
                do authentication, manage team permissions, and worry about
                components. Because it’s code-first, it also becomes dead easy
                to coordinate with your team via source control, and take
                advantage of tools like GitHub Copilot to write repetitive code
                fast. Our current pricing is free to get started as an
                individual, and subscription based pricing for teams (Currently
                $30/mo up to 5 users, later seat-based subscriptions).
              </p>
              <p>
                You can try Creo today by heading to
                <a href="https://trycreo.com/">https://trycreo.com/</a>, or get
                started without signing up by looking at our docs (<a
                  href="https://docs.trycreo.com"
                  >https://docs.trycreo.com</a
                >).
              </p>
              <p>We’d love to hear your feedback!</p>
            </div>
          </section>
        </section>
        <section id="39906924">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2024/04/01/canoo-spent-double-its-annual-revenue-on-the-ceos-private-jet-in-2023/"
              >Canoo spent double its annual revenue on the CEO's private jet</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 15:33:38</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39906924"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39906887">
          <h3>
            <a class="item" href="https://abhipray.com/posts/flying_toasters/"
              >Recreating a 90s Screen Saver (Flying Toasters) for the Vision
              Pro</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 15:31:08</span
              ><span class="points-container"
                >Points: <span class="points">23</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39906887"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39906730">
          <h3>
            <a class="item" href="https://en.wikipedia.org/wiki/Snottite"
              >Snottite</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 15:18:38</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39906730"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39906511">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=l3AeN4wQirE"
              >Building a Compiler in 25 Days [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 15:00:53</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39906511"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39905644">
          <h3>
            <a
              class="item"
              href="https://devzone.nordicsemi.com/nordic/nordic-blog/b/blog/posts/dect-nr-a-technical-dive-into-non-cellular-5g"
              >DECT NR+: A technical dive into non-cellular 5G</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 13:40:01</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39905644"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39905475">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/2024/4/2/24118436/yahoo-news-artifact-acquisition"
              >Yahoo is buying Artifact, the AI news app from the Instagram
              co-founders</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 13:23:18</span
              ><span class="points-container"
                >Points: <span class="points">70</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39905475"
                  >Comments</a
                ><span class="descendants">: 65</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39905441">
          <h3>
            <a class="item" href="https://blog.cloudflare.com/python-workers"
              >Python Cloudflare Workers</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 13:20:21</span
              ><span class="points-container"
                >Points: <span class="points">216</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39905441"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39905335">
          <h3>
            <a
              class="item"
              href="https://www.cea.fr/english/Pages/News/Iseult-MRI-Magnet-Record.aspx"
              >Living human brain images of "unrivaled clarity" from new 11.7
              teslas MRI</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 13:09:42</span
              ><span class="points-container"
                >Points: <span class="points">33</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39905335"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39904883">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39904883"
              >Hunting up-to-date Wikidata datasets</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 12:19:41</span
              ><span class="points-container"
                >Points: <span class="points">22</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39904883"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
            <div class="text">
              Hello there! Does anyone know of / is working on Wikidata datasets
              that are regularly updated and easy to verify? In the vein of
              https://www.wikidata.org/wiki/Wikidata:WikiProject_Heads_of_state_and_government/lists/current_heads
            </div>
          </section>
        </section>
        <section id="39904759">
          <h3>
            <a class="item" href="https://www.emergetools.com/careers"
              >Emerge (YC W21) is hiring senior engineers to automate dead code
              deletion</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 12:00:29</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39903742">
          <h3>
            <a class="item" href="https://blog.liw.fi/posts/2024/monorepo/"
              >Debian Git Monorepo</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 09:16:24</span
              ><span class="points-container"
                >Points: <span class="points">197</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39903742"
                  >Comments</a
                ><span class="descendants">: 128</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39903685">
          <h3>
            <a class="item" href="https://research.swtch.com/xz-script"
              >The xz attack shell script</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 09:05:04</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39903685"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39903471">
          <h3>
            <a class="item" href="https://github.com/OneUptime/oneuptime"
              >Show HN: OneUptime – open-source Datadog Alternative</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 08:22:58</span
              ><span class="points-container"
                >Points: <span class="points">116</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39903471"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39903056">
          <h3>
            <a class="item" href="https://github.com/unikraft/unikraft"
              >KraftCloud</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 06:58:36</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39903056"
                  >Comments</a
                ><span class="descendants">: 22</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39902372">
          <h3>
            <a
              class="item"
              href="https://www.breakneck.dev/blog/no-tech-cofounder"
              >You won't find a technical co-founder</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 04:24:18</span
              ><span class="points-container"
                >Points: <span class="points">289</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39902372"
                  >Comments</a
                ><span class="descendants">: 241</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39902350">
          <h3>
            <a class="item" href="http://www.benlo.com/microchess/index.html"
              >Microchess for the Kim-1 (2006)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 04:19:52</span
              ><span class="points-container"
                >Points: <span class="points">61</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39902350"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39902241">
          <h3>
            <a class="item" href="https://research.swtch.com/xz-timeline"
              >Timeline of the xz open source attack</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 03:58:00</span
              ><span class="points-container"
                >Points: <span class="points">525</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39902241"
                  >Comments</a
                ><span class="descendants">: 247</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39902205">
          <h3>
            <a
              class="item"
              href="https://github.com/AlexanderKoch-Koch/low_cost_robot"
              >Low Cost Robot Arm</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-02 @ 03:50:18</span
              ><span class="points-container"
                >Points: <span class="points">378</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39902205"
                  >Comments</a
                ><span class="descendants">: 185</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39896371">
          <h3>
            <a
              class="item"
              href="https://predr.ag/blog/wifi-only-works-when-its-raining/"
              >The Wi-Fi only works when it's raining</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-01 @ 17:07:36</span
              ><span class="points-container"
                >Points: <span class="points">1062</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39896371"
                  >Comments</a
                ><span class="descendants">: 308</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39894823">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=39894823"
              >Show HN: Floro – Visual Version Control</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-01 @ 15:01:04</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39894823"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <a href="https://floro.io">https://floro.io</a>), an open-source,
              offline-first visual version control system that allows you to
              merge and diff graphical content. Demo video here:
              <a href="https://www.youtube.com/watch?v=5fjixBNKUbM"
                >https://www.youtube.com/watch?v=5fjixBNKUbM</a
              >.
              <p>
                We were a YC W21 startup (Cheqout) that originally worked on
                restaurant tech. We ended up pivoting after the pandemic and
                decided to build Floro due to a lot of problems we encountered
                while working on Cheqout.
              </p>
              <p>
                We struggled a lot with string content and dark mode, especially
                when it came to static assets. We were a cross-platform product,
                so everything was an SVG. What we wanted was a way for our
                designer (who cannot use a command line) to be able to check
                static assets into our codebase and be able to manage our color
                themes without us having to manually edit the assets ourselves.
                We also faced a lot of problems with i18n and keeping
                translations up to date. Both problems felt kind of similar,
                they’re both essentially just key value solutions that require
                people who aren’t software engineers to edit them.
              </p>
              <p>
                This led us down a path of searching for a way to incorporate
                something like Dropbox into git. We didn’t want a content
                management system, we wanted something where we could diff and
                merge our static assets without requiring the user to know how
                to fix conflicts in plain-text or binary. We wanted a way to
                reference something like a snapshot of a tar of our static
                assets so we could idempotently rebuild our application and add
                type-safety to our assets. Eventually, we found a trick to diff
                and merge a certain type of tree structure that fit these
                problems well. After a bit more experimenting around, we figured
                out how we could write an interface to make UIs that could be
                diffed and display merge conflicts.
              </p>
              <p>
                To show what visual version control could be applied to, we
                decided to build four plugins (applications that can be diffed
                and merged in Floro).
              </p>
              <p>
                1. Text - This plugin is basically a replacement for i18n
                strings. It supports rich text, typed variable interpolations,
                conditional logic (for things like pluralization), links, ML
                translations, and a plethora of other features. It’s also sort
                of an IDE/TMS for translators &amp; copy editors.
              </p>
              <p>
                2. Icons - This plugin allows you to recolor an SVG asset so
                that all the colors are consistent with your color palette. You
                can automatically generate dark mode (and any other themed)
                versions of your assets, as well as versions of your asset that
                change with state (e.g. hovered, etc.) by applying themes to the
                asset.
              </p>
              <p>
                3. Themes - This plugin allows you to create themes from your
                color palette.
              </p>
              <p>
                4. Palette - This plugin allows you to define colors and shades
                that can be consumed by other plugins or used in your code for
                managing your app’s colors.
              </p>
              <p>
                Since Floro is an offline-first desktop application we realized
                that we could allow users to test their local content out by
                building a browser extension that would allow them to override
                the state of their production websites and apps with the local
                content from floro. Floro essentially creates a localhost
                environment out of production apps, which allows non-technical
                users to treat content similarly to how engineers manage code.
                The demo video (shown above) does a good job of showing how this
                works. We also have a demo of how this works for mobile apps (<a
                  href="https://www.youtube.com/watch?v=Om-k08GDoZ4"
                  >https://www.youtube.com/watch?v=Om-k08GDoZ4</a
                >). We are fully open source (MIT licensed). We intend to
                monetize with consulting and private hosting. Users are more
                than welcome to self-host and build their own distributions of
                the desktop application and all the plugins we have created.
              </p>
              <p>
                This is really our launch (anticipate some bugs but nothing
                serious, restarting the app(s) takes care of most things). We’ve
                now built four applications with Floro (including our website)
                and feel confident that it’s ready. We’ve spent 18 months
                getting here, we hope some of you like it!
              </p>
              <p>Thanks!</p>
              <p>Jamie &amp; Jacqueline</p>
            </div>
          </section>
        </section>
        <section id="39894148">
          <h3>
            <a
              class="item"
              href="https://huonw.github.io/blog/2024/03/qr-base10-base64/"
              >'10 &amp;gt; 64, in QR Codes</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-01 @ 13:48:07</span
              ><span class="points-container"
                >Points: <span class="points">179</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39894148"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39893090">
          <h3>
            <a
              class="item"
              href="https://santhoshhari.github.io/Locality-Sensitive-Hashing/"
              >Application of Locality Sensitive Hashing to audio
              fingerprinting</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-01 @ 11:46:53</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39893090"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39883531">
          <h3>
            <a class="item" href="https://ollydbg.de/Paperbak/#1"
              >PaperBack: How to store arbitrary data on A4 sheets of paper
              (2007)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-31 @ 12:09:07</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39883531"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39881324">
          <h3>
            <a
              class="item"
              href="https://www.historytoday.com/miscellanies/original-pirate-material"
              >Original Pirate Material</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-31 @ 04:04:06</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39881324"
                  >Comments</a
                ><span class="descendants">: 23</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39870121">
          <h3>
            <a
              class="item"
              href="https://yosefk.com/blog/refix-fast-debuggable-reproducible-builds.html"
              >Refix: Fast, Debuggable, Reproducible Builds</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-29 @ 23:19:30</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39870121"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39857315">
          <h3>
            <a class="item" href="https://blueballfixed.ytmnd.com/"
              >Blue Ball Machine</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 21:07:46</span
              ><span class="points-container"
                >Points: <span class="points">307</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39857315"
                  >Comments</a
                ><span class="descendants">: 113</span></span
              >
            </h4>
          </section>
        </section>
        <section id="39850087">
          <h3>
            <a
              class="item"
              href="https://harrisongoldste.in/papers/icse24-pbt-in-practice.pdf"
              >Property-based testing in practice [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-03-28 @ 11:55:43</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=39850087"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
