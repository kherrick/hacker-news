<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44293610">
          <h3>
            <a
              class="item"
              href="https://nautil.us/clergy-blown-away-by-psilocybin-1217112/"
              >What Happens When Clergy Take Psilocybin</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 21:34:09</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293610"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293358">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/blaze-2/jobs/dzNmNuw-junior-software-engineer"
              >Blaze (YC S24) Is Hiring</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 21:00:47</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293260">
          <h3>
            <a class="item" href="https://chawan.net/news/chawan-0-2-0.html"
              >Show HN: Chawan TUI web browser</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:48:43</span
              ><span class="points-container"
                >Points: <span class="points">120</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293260"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
            <div class="text">
              <p>
                Chawan started out as a w3m clone, and the UI still resembles
                it. However, the architecture has turned out quite different,
                with pages loaded in separate processes, and protocol/file type
                handling separated out into external binaries. An interesting
                result is that you can even register decoders for custom inline
                image formats, although practical use cases of this are rather
                minimal.
              </p>
              <p>
                There is a gallery showcasing some websites being rendered here:
                <a href="https://chawan.net/gallery/index.html"
                  >https://chawan.net/gallery/index.html</a
                >
              </p>
              <p>
                [1]: <a href="https://nim-lang.org">https://nim-lang.org</a>
              </p>
            </div>
          </section>
        </section>
        <section id="44293147">
          <h3>
            <a class="item" href="https://punk.cam/lab/nexus"
              >Show HN: Nexus.js - Fabric.js for 3D</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:33:45</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293147"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                Like a simple 3D editor but without requiring the user to be a
                Blender expert.
              </p>
              <p>
                Couldn't find anything lightweight, so Iâ€™m building one. Think
                Fabric.js but for 3D. Built entirely with Three.js / R3F.
              </p>
              <p>
                Borrowed some inspiration from VR/AR interaction systems for
                controls.
              </p>
              <p>Feel free to play with it and let me know what you think!</p>
            </div>
          </section>
        </section>
        <section id="44293132">
          <h3>
            <a
              class="item"
              href="https://apnews.com/article/denmark-robot-sailboats-baltic-sea-bfa31c98cf7c93320115c0ad0e6908c5"
              >Denmark tests unmanned robotic sailboat fleet</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:31:50</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293132"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44293044">
          <h3>
            <a class="item" href="https://graydon2.dreamwidth.org/317484.html"
              >Retrobootstrapping Rust for some reason</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:19:44</span
              ><span class="points-container"
                >Points: <span class="points">64</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44293044"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292989">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/tech/ai/openai-and-microsoft-tensions-are-reaching-a-boiling-point-4981c44f"
              >OpenAI and Microsoft tensions are reaching a boiling point</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 20:12:53</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292989"
                  >Comments</a
                ><span class="descendants">: 11</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292601">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2506.01963"
              >Breaking Quadratic Barriers: A Non-Attention LLM for Ultra-Long
              Context Horizons</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 19:19:57</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292601"
                  >Comments</a
                ><span class="descendants">: 17</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292342">
          <h3>
            <a
              class="item"
              href="https://www.nature.com/articles/d41586-025-01880-9"
              >Transparent peer review to be extended to all of Nature's
              research papers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 18:51:33</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292342"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44292103">
          <h3>
            <a class="item" href="https://github.com/czhu12/canine"
              >Show HN: Canine â€“ A Heroku alternative built on Kubernetes</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 18:27:59</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44292103"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
            <div class="text">
              <p>
                I've been working on Canine for about a year now. It started
                when I was sick of paying the overhead of using stuff like
                Heroku, Render, Fly, etc to host some web apps that I've built.
                At one point I was paying over $400 a month for hosting these in
                the cloud. Last year I moved all my stuff to Hetzner.
              </p>
              <p>For a 4GB machine, the cost of various providers:</p>
              <p>Heroku = $260 Fly.io = $65 Render = $85 Hetzner = $4</p>
              <p>(This problem gets a lot worse when you need &gt; 4GB)</p>
              <p>
                The only downside of using Hetzner is that there isnâ€™t a super
                straightforward way to do stuff like:
              </p>
              <p>
                - DNS management / SSL certificate management - Team management
                - Github integration
              </p>
              <p>
                But I figured it should be easy to quickly build something like
                Heroku for my Hetzner instance. Turns out it was a bit harder
                than expected, but after a year, Iâ€™ve made some good progress
              </p>
              <p>
                The best part of Canine, is that it also makes it trivial to
                host any helm chart, which is available for basically any open
                source project, so everything from databases (e.g. Postgres,
                Redis), to random stuff like torrent tracking servers, VPNâ€™s
                endpoints, etc.
              </p>
              <p>
                Open source:
                <a href="https://github.com/czhu12/canine"
                  >https://github.com/czhu12/canine</a
                >
                Cloud hosted version is:
                <a href="https://canine.sh">https://canine.sh</a>
              </p>
            </div>
          </section>
        </section>
        <section id="44291892">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/society/2025/jun/09/meet-the-members-of-the-dull-mens-club-some-of-them-would-bore-the-ears-off-you"
              >The Members of the Dull Men's Club</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 18:07:37</span
              ><span class="points-container"
                >Points: <span class="points">67</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291892"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44291204">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2505.24363"
              >Open-Source RISC-V: Energy Efficiency of Superscalar,
              Out-of-Order Execution</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 16:46:55</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291204"
                  >Comments</a
                ><span class="descendants">: 10</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44291026">
          <h3>
            <a
              class="item"
              href="https://yalereview.org/article/jennifer-krasinski-richard-foreman"
              >The Renegade Richard Foreman</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 16:24:33</span
              ><span class="points-container"
                >Points: <span class="points">14</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44291026"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290653">
          <h3>
            <a
              class="item"
              href="https://blog.darklang.com/darklang-goes-open-source/"
              >Darklang Goes Open Source</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 15:41:44</span
              ><span class="points-container"
                >Points: <span class="points">135</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290653"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290413">
          <h3>
            <a
              class="item"
              href="https://www.chemistryworld.com/opinion/benzene-at-200/4021504.article"
              >Benzene at 200</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 15:16:47</span
              ><span class="points-container"
                >Points: <span class="points">162</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290413"
                  >Comments</a
                ><span class="descendants">: 89</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290331">
          <h3>
            <a
              class="item"
              href="https://coroot.com/blog/opentelemetry-for-go-measuring-the-overhead/"
              >OpenTelemetry for Go: Measuring overhead costs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 15:09:17</span
              ><span class="points-container"
                >Points: <span class="points">85</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290331"
                  >Comments</a
                ><span class="descendants">: 32</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290315">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2506.11016"
              >ZjsComponent: A Pragmatic Approach to Reusable UI Fragments for
              Web Development</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 15:07:42</span
              ><span class="points-container"
                >Points: <span class="points">59</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290315"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44290121">
          <h3>
            <a class="item" href="https://diskuv.com/dk/help/latest/"
              >Show HN: dk â€“ A script runner and cross-compiler, written in
              OCaml</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 14:49:34</span
              ><span class="points-container"
                >Points: <span class="points">47</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44290121"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                My testing ground has been students with one or two AP CS
                courses (high school computer science in the US), some of whom
                interned with me. I had to tackle a few problems:
              </p>
              <p>
                - The development environment had to be simple to setup and the
                programming language couldn't be complicated - The recognition
                that writing small, easily testable units of work (ex.
                "scripts") has been the only way I've found for very junior
                programmers to develop a large application - Cheap, locked-down
                development hardware (ex. school computers with limited RAM and
                no Administrator privileges) is sometimes used for deployment to
                cheap hardware targets (ex. hand-me-down Android tablets)
              </p>
              <p>
                My solution was to write a standalone binary called `dk` that
                uses scripts as the atom of work, cross-compiles to standalone
                executables, and downloads the runtimes and sysroots it needs
                on-demand. It sits roughly in the same space as Python and Go.
              </p>
              <p>
                `dk` is available for Windows, macOS and Linux/glibc host
                machines with a growing list of cross-compilation targets. Your
                `dk` scripts are written in an almost complete subset of OCaml
                4: all `dk` scripts are OCaml, but not all OCaml code can run in
                `dk`. The other differences from conventional OCaml are that
                `dk` comes with a large library included, and that I treat any
                feature as buggy if the feature does not work on all supported
                OS-es.
              </p>
              <p>
                The above origin of `dk` is admittedly odd (and abbreviated), so
                I was not expecting that `dk` would now be a general-purpose
                scripting tool. Yet it is. I can wrap, re-use and organize most
                of my hand-written software as a set of `dk` scripts.
              </p>
              <p>
                Fair warning: The cross-compilation support in `dk` has had a
                recent overhaul and not every bug is closed. The error messages
                suck (you have to scroll up to see the root cause and
                resolution) but they will improve. Some progress bars are
                missing. There are also a few experimental features ...
                `uv`-style imports and an interactive interpreter are the big
                ones ... which are purposely under-documented because I am
                worried about `dk`'s API surface.
              </p>
              <p>
                But it still works well, and you can see some real applications
                in the Examples section. I'd love if you could give it a kick in
                the tires and give `dk` some feedback! The issue list is at
                &lt;<a href="https://github.com/diskuv/dk/issues"
                  >https://github.com/diskuv/dk/issues</a
                >&gt;.
              </p>
            </div>
          </section>
        </section>
        <section id="44289412">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2025/06/16/technology/whatsapp-ads.html"
              >WhatsApp introduces ads in its app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 13:38:59</span
              ><span class="points-container"
                >Points: <span class="points">178</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44289412"
                  >Comments</a
                ><span class="descendants">: 260</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44288937">
          <h3>
            <a
              class="item"
              href="https://turso.tech/blog/working-on-databases-from-prison"
              >Working on databases from prison</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 12:32:02</span
              ><span class="points-container"
                >Points: <span class="points">656</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44288937"
                  >Comments</a
                ><span class="descendants">: 425</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44288377">
          <h3>
            <a
              class="item"
              href="https://kadekillary.work/blog/#2025-06-16-snorting-the-agi-with-claude-code"
              >Snorting the AGI with Claude Code</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 11:01:32</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44288377"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44287395">
          <h3>
            <a class="item" href="https://bowshock.nl/irc/"
              >Start your own Internet Resiliency Club</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 07:38:17</span
              ><span class="points-container"
                >Points: <span class="points">518</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44287395"
                  >Comments</a
                ><span class="descendants">: 289</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44287043">
          <h3>
            <a
              class="item"
              href="https://huggingface.co/nanonets/Nanonets-OCR-s"
              >Nanonets-OCR-s â€“ OCR model that transforms documents into
              structured markdown</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 06:14:56</span
              ><span class="points-container"
                >Points: <span class="points">268</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44287043"
                  >Comments</a
                ><span class="descendants">: 61</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44285874">
          <h3>
            <a
              class="item"
              href="https://www.quantamagazine.org/is-gravity-just-entropy-rising-long-shot-idea-gets-another-look-20250613/"
              >Is gravity just entropy rising? Long-shot idea gets another
              look</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 00:36:41</span
              ><span class="points-container"
                >Points: <span class="points">246</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44285874"
                  >Comments</a
                ><span class="descendants">: 210</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44285781">
          <h3>
            <a
              class="item"
              href="https://voxelmanip.se/2025/06/14/jokes-and-humour-in-the-public-android-api/"
              >Jokes and Humour in the Public Android API</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-16 @ 00:14:55</span
              ><span class="points-container"
                >Points: <span class="points">275</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44285781"
                  >Comments</a
                ><span class="descendants">: 150</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44284871">
          <h3>
            <a class="item" href="https://github.com/rorosen/zeekstd"
              >Show HN: Zeekstd â€“ Rust Implementation of the ZSTD Seekable
              Format</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-15 @ 20:49:18</span
              ><span class="points-container"
                >Points: <span class="points">165</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44284871"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
            <div class="text">
              <p>
                I would like to share a Rust implementation of the Zstandard
                seekable format I've been working on.
              </p>
              <p>
                Regular zstd compressed files consist of a single frame, meaning
                you have to start decompression at the beginning. The seekable
                format splits compressed data into a series of independent
                frames, each compressed individually, so that decompression of a
                section in the middle of an archive only requires zstd to
                decompress at most a frame's worth of extra data, instead of the
                entire archive.
              </p>
              <p>
                I started working with the seekable format because I wanted to
                resume downloads of big zstd compressed files that are
                decompressed and written to disk on the fly. At first I created
                and used bindings to the C functions that are available
                upstream[1], however, I stumbled over the first segfault rather
                quickly (it's now fixed) and found out that the functions only
                allow basic things. After looking closer at the upstream
                implementation, I noticed that is uses functions of the core API
                that are now deprecated and it doesn't allow access to low-level
                (de)compression contexts. To me it looks like a PoC/demo
                implementation that isn't maintained the same way as the zstd
                core API, probably that's also the reason it's in the contrib
                directory.
              </p>
              <p>
                My use-case seemed to require a complete rewrite of the seekable
                format, so I decided to implement it from scratch in Rust using
                bindings to the advanced zstd compression API, available from
                zstd 1.4.0.
              </p>
              <p>
                The result is a single dependency library crate[2], and a CLI
                crate[3] for the seekable format that feels similar to the
                regular zstd tool.
              </p>
              <p>Any feedback is highly appreciated!</p>
              <p>
                [1]:
                <a
                  href="https://github.com/facebook/zstd/tree/dev/contrib/seekable_format"
                  >https://github.com/facebook/zstd/tree/dev/contrib/seekable_f...</a
                >
                [2]:
                <a href="https://crates.io/crates/zeekstd"
                  >https://crates.io/crates/zeekstd</a
                >
                [3]:
                <a href="https://github.com/rorosen/zeekstd/tree/main/cli"
                  >https://github.com/rorosen/zeekstd/tree/main/cli</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="44282378">
          <h3>
            <a
              class="item"
              href="https://tim.dierks.org/2014/05/security-standards-and-name-changes-in.html"
              >Why SSL was renamed to TLS in late 90s (2014)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-15 @ 14:10:37</span
              ><span class="points-container"
                >Points: <span class="points">502</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44282378"
                  >Comments</a
                ><span class="descendants">: 221</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44275974">
          <h3>
            <a
              class="item"
              href="https://www.volkerkrause.eu/2025/06/14/transitous-adding-data.html"
              >Adding public transport data to Transitous</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-14 @ 12:23:09</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44275974"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44275134">
          <h3>
            <a
              class="item"
              href="https://www.mexicolore.co.uk/maya/home/maya-blue-unlocking-the-mysteries-of-an-ancient-pigment"
              >Maya Blue: Unlocking the Mysteries of an Ancient Pigment</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-14 @ 08:48:25</span
              ><span class="points-container"
                >Points: <span class="points">69</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44275134"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44275014">
          <h3>
            <a
              class="item"
              href="https://www.vidarholen.net/contents/wordcount/#fuck*,shit*,damn*,idiot*,retard*,crap*"
              >Occurences of swearing in the Linux kernel source code over
              time</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-06-14 @ 08:15:31</span
              ><span class="points-container"
                >Points: <span class="points">137</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44275014"
                  >Comments</a
                ><span class="descendants">: 213</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
