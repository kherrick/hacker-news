<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="44116862">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/05/28/xai-to-invest-300m-in-telegram-integrate-grok-into-app/"
              >XAI to pay Telegram $300M to integrate Grok into the chat app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 15:12:56</span
              ><span class="points-container"
                >Points: <span class="points">36</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116862"
                  >Comments</a
                ><span class="descendants">: 24</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44116803">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2025-05-secrets-mysterious-gobi-wall-uncovered.html"
              >The mysterious Gobi wall uncovered</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 15:07:57</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116803"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44116643">
          <h3>
            <a class="item" href="https://arthursw.github.io/wetlands/0.2.0/"
              >Show HN: Wetlands – a lightweight Python library for managing
              Conda environments</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 14:54:04</span
              ><span class="points-container"
                >Points: <span class="points">8</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116643"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              <p>
                Wetlands not only simplifies the creation of isolated Conda
                environments with specific dependencies, but also allows you to
                run arbitrary Python code within those environments and retrieve
                the results. It uses the multiprocessing.connection and pickle
                modules for inter-process communication. Additionally, one can
                easily use shared memory between the environments, making data
                exchange more efficient.
              </p>
              <p>
                Docs:
                <a href="https://arthursw.github.io/wetlands/latest/"
                  >https://arthursw.github.io/wetlands/latest/</a
                >
                Source:
                <a href="https://github.com/arthursw/wetlands/"
                  >https://github.com/arthursw/wetlands/</a
                >
              </p>
              <p>I’d really appreciate any feedback. Thanks!</p>
            </div>
          </section>
        </section>
        <section id="44116503">
          <h3>
            <a class="item" href="https://leta.mullvad.net">Mullvad Leta</a>
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 14:38:52</span
              ><span class="points-container"
                >Points: <span class="points">135</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116503"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44116298">
          <h3>
            <a class="item" href="https://loodio.com/"
              >Show HN: Loodio 2 – A Simple Rechargable Bathroom Privacy
              Device</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 14:19:02</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116298"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
            <div class="text">
              <p>
                I posted here some years ago trying to raise money for a
                Kickstarter for a product I call Loodio.
              </p>
              <p>
                Loodio is a motion activated music player for bathrooms that
                plays music during the bathroom visit to give users privacy
                during their sacred moments.
              </p>
              <p>
                The kickstarter failed, but I managed to create a product
                eventually with a lot of effort.
              </p>
              <p>
                I managed to sell 150 units of the first unit, mostly to United
                States but to all different parts of the world while working on
                the next version.
              </p>
              <p>
                The problem with the first version was that it was running on a
                Raspberry Pi Zero W (that had to be wall connected) and it was
                pretty big, had crappy sound and took a minute to start since it
                had to boot a whole linux system. I was running it on a python
                script and unix services. To add music, people had to SSH into
                the unit so you can imagine how painful that was for some.
              </p>
              <p>
                However customers loved it! But I knew I could do better. The
                most common request was battery operation.
              </p>
              <p>
                Here are some reviews of version 1:
                <a href="https://loodio.com/pages/reviews"
                  >https://loodio.com/pages/reviews</a
                >
              </p>
              <p>
                I'm proud to say that Loodio 2 is finally here and is working
                like I imagined when I started working on it almost 5 years ago
                now.
              </p>
              <p>
                Loodio 2 introduces battery operation with 1 week of battery
                life (~5 hours of active operation). It has great sound and an
                easy way to add your own music with SD card support (4GB
                included).
              </p>
              <p>
                It doesn't require any app. Can be run without WiFi (however you
                lose some features like internet radio, time updates, software
                updates and weather)
              </p>
              <p>
                Why does it have a display, you may ask? Because, I used to have
                an electric toothbrush that came with a display. That display
                showed how long you were brushing to make sure you did your 2
                minutes per brush. When I wasn't brushing my teeth, it showed
                the current time. And I stopped using the electric tooth brush
                (because a dentist told me they are too harsh on your teeth) but
                kept the display for probably 5 years afterwards because I
                noticed I really want to know the time while getting ready for
                school/work in the morning. Another thing I noticed was that I
                always check the weather outside, so I could dress
                appropriately.
              </p>
              <p>
                So, Loodio shows you the time and weather (optionally) as well
                as playing music during your visit. These features together with
                the lights, are features that I think people don't expect to use
                but with time becomes as important as the music. Customer
                interviews verify this.
              </p>
              <p>
                I wasted a lot of money trying to outsource the development the
                first 18 months. I then decided to start doing it myself. The
                version I'm selling is actually the 25th(!) iteration of the
                product. The problem with hardware is that it takes you around a
                month to iterate a circuit (if you don't live next to the
                factory in Shenzhen) because of the cycle 'Designing-&gt;Order
                from China-&gt;Testing-&gt;Repeat'. And I had no experience of
                electronics when starting out.
              </p>
              <p>
                The enclosure is made from empty PCBs to save money for
                injection tooling later. It looks pretty cool. But mainly, works
                great!
              </p>
              <p>
                I want to give credit to Tadeusz Karpinski and Velimir Stoleski
                that ported my crappy python script to the ESP32 that is running
                Loodio 2.
              </p>
              <p>
                You need to try it! I really think you're gonna like it!
                <a href="https://loodio.com">https://loodio.com</a>
              </p>
            </div>
          </section>
        </section>
        <section id="44116236">
          <h3>
            <a
              class="item"
              href="https://monero.forex/is-monero-totally-private-a-comprehensive-analysis-of-de-anonymization-attacks-against-the-privacy-coin/"
              >Comprehensive Analysis of De-Anonymization Attacks Against the
              Privacy Coin XMR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 14:11:47</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44116236"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44115973">
          <h3>
            <a
              class="item"
              href="https://theeggandtherock.com/p/the-blowtorch-theory-a-new-model"
              >The Blowtorch Theory: A New Model for Structure Formation in the
              Universe</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 13:43:38</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44115973"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44115854">
          <h3>
            <a
              class="item"
              href="https://theconversation.com/texas-annual-reading-test-adjusted-its-difficulty-every-year-masking-whether-students-are-improving-244159"
              >Texas' annual reading test adjusted difficulty yearly, masking
              improvement</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 13:31:07</span
              ><span class="points-container"
                >Points: <span class="points">34</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44115854"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44115620">
          <h3>
            <a
              class="item"
              href="https://dansinker.com/posts/2025-05-23-who-cares/"
              >The Who Cares Era</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 13:07:57</span
              ><span class="points-container"
                >Points: <span class="points">295</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44115620"
                  >Comments</a
                ><span class="descendants">: 232</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44115467">
          <h3>
            <a class="item" href="https://voiden.md"
              >Show HN: Voiden – a free, offline, Git-native API Client</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 12:48:43</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44115467"
                  >Comments</a
                ><span class="descendants">: 36</span></span
              >
            </h4>
            <div class="text">
              <a href="https://voiden.md">https://voiden.md</a>)
              <p>
                Voiden is a free, offline, Git-native API client. Your API
                definitions, docs, and tests all live together.
              </p>
              <p>
                It came out of years of frustration: cloud sync lock-in,
                paywalled basics, bloated UIs, and lag on even simple requests.
                So the team built the opposite: an offline tool with no login,
                no telemetry, no lock-in. Just markdown and hotkeys.
              </p>
              <p>
                It behaves like code: local files, git branches, no cloud
                nonsense. Terminal is built-in, so you can commit, diff, and
                push changes right from the app.
              </p>
              <p>
                Docs stay close to your requests, so that API spec and what the
                API actually does never drift apart. No more scattered Postman,
                docs, and test files everywhere. A single source of truth.
              </p>
              <p>A minimalist GET request looks something like this:</p>
              <p></p>
              <pre><code>      GET
      https://dummyjson.com/posts
</code></pre>
              Just hit /endpoint, paste the URL, and run it with Cmd/Ctrl +
              Enter.
              <p>
                Not OSS (yet), but 100% local and free. Optional plugins will be
                coming down the line, but the core stays free.
              </p>
              <p>
                We'd love feedback from folks tired of overcomplicated and
                bloated API tooling.
              </p>
            </div>
          </section>
        </section>
        <section id="44114631">
          <h3>
            <a
              class="item"
              href="https://www.slater.dev/accelerated-incompetence/"
              >AI: Accelerated Incompetence</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 10:50:23</span
              ><span class="points-container"
                >Points: <span class="points">226</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44114631"
                  >Comments</a
                ><span class="descendants">: 216</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44114621">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/news/675446/microsoft-windows-update-all-apps-orchestration-platform"
              >Microsoft is starting to open Windows Update up to any
              third-party app</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 10:48:17</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44114621"
                  >Comments</a
                ><span class="descendants">: 83</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44113210">
          <h3>
            <a
              class="item"
              href="https://hamatti.org/posts/as-a-developer-my-most-important-tools-are-a-pen-and-a-notebook/"
              >As a developer, my most important tools are a pen and a
              notebook</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 06:27:11</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44113210"
                  >Comments</a
                ><span class="descendants">: 158</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44113026">
          <h3>
            <a class="item" href="https://lief.re/blog/2025-05-27-dwarf-editor/"
              >DWARF as a Shared Reverse Engineering Format</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 05:34:47</span
              ><span class="points-container"
                >Points: <span class="points">74</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44113026"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44112326">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=44112326"
              >Show HN: AutoThink – Boosts local LLM performance with adaptive
              reasoning</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 02:39:11</span
              ><span class="points-container"
                >Points: <span class="points">351</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44112326"
                  >Comments</a
                ><span class="descendants">: 56</span></span
              >
            </h4>
            <div class="text">
              <p>
                The core idea: instead of giving every query the same "thinking
                time," classify queries as HIGH or LOW complexity and allocate
                thinking tokens accordingly. Complex reasoning gets 70-90% of
                tokens, simple queries get 20-40%.
              </p>
              <p>
                I also implemented steering vectors derived from Pivotal Token
                Search (originally from Microsoft's Phi-4 paper) that guide the
                model's reasoning patterns during generation. These vectors
                encourage behaviors like numerical accuracy, self-correction,
                and thorough exploration.
              </p>
              <p>Results on DeepSeek-R1-Distill-Qwen-1.5B:</p>
              <p>
                - GPQA-Diamond: 31.06% vs 21.72% baseline (+43% relative
                improvement)
              </p>
              <p>- MMLU-Pro: 26.38% vs 25.58% baseline</p>
              <p>- Uses fewer tokens than baseline approaches</p>
              <p>
                Works with any local reasoning model - DeepSeek, Qwen, custom
                fine-tuned models. No API dependencies.
              </p>
              <p>
                The technique builds on two things I developed: an adaptive
                classification framework that can learn new complexity
                categories without retraining, and an open source implementation
                of Pivotal Token Search.
              </p>
              <p>
                Technical paper:
                <a
                  href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5253327"
                  >https://papers.ssrn.com/sol3/papers.cfm?abstract_id=5253327</a
                >
              </p>
              <p>
                Code and examples:
                <a
                  href="https://github.com/codelion/optillm/tree/main/optillm/autothink"
                  >https://github.com/codelion/optillm/tree/main/optillm/autoth...</a
                >
              </p>
              <p>
                PTS implementation:
                <a href="https://github.com/codelion/pts"
                  >https://github.com/codelion/pts</a
                >
              </p>
              <p>
                I'm curious about your thoughts on adaptive resource allocation
                for AI reasoning. Have you tried similar approaches with your
                local models?
              </p>
            </div>
          </section>
        </section>
        <section id="44111673">
          <h3>
            <a
              class="item"
              href="https://hazyresearch.stanford.edu/blog/2025-05-27-no-bubbles"
              >Look Ma, No Bubbles: Designing a Low-Latency Megakernel for
              Llama-1B</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-28 @ 00:01:20</span
              ><span class="points-container"
                >Points: <span class="points">202</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44111673"
                  >Comments</a
                ><span class="descendants">: 28</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44111609">
          <h3>
            <a
              class="item"
              href="https://roderickkhan.com/posts/2025-05-16-poe-uefi-solution"
              >Negotiating PoE+ Power in the Pre‑Boot Environment</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 23:45:02</span
              ><span class="points-container"
                >Points: <span class="points">190</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44111609"
                  >Comments</a
                ><span class="descendants">: 52</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44111452">
          <h3>
            <a class="item" href="https://github.com/UCSBarchlab/OpenTPU"
              >OpenTPU: Open-Source Reimplementation of Google Tensor Processing
              Unit (TPU)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 23:10:44</span
              ><span class="points-container"
                >Points: <span class="points">141</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44111452"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44110584">
          <h3>
            <a
              class="item"
              href="https://simonwillison.net/2025/May/27/llm-tools/"
              >Show HN: My LLM CLI tool can run tools now, from Python code or
              plugins</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 20:53:03</span
              ><span class="points-container"
                >Points: <span class="points">447</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44110584"
                  >Comments</a
                ><span class="descendants">: 152</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44107942">
          <h3>
            <a class="item" href="https://aaronson.org/blog/square-theory"
              >Square Theory</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 15:33:55</span
              ><span class="points-container"
                >Points: <span class="points">643</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44107942"
                  >Comments</a
                ><span class="descendants">: 125</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44105965">
          <h3>
            <a
              class="item"
              href="https://www.frontiersin.org/news/2025/05/23/street-smarts-hawk-use-traffic-signals-hunting"
              >How a hawk learned to use traffic signals to hunt more
              successfully</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-27 @ 11:46:30</span
              ><span class="points-container"
                >Points: <span class="points">437</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44105965"
                  >Comments</a
                ><span class="descendants">: 126</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44094109">
          <h3>
            <a
              class="item"
              href="https://utcc.utoronto.ca/~cks/space/blog/web/JavaScriptScraperObstacles"
              >A thought on JavaScript "proof of work" anti-scraper systems</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-26 @ 05:01:25</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44094109"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44093845">
          <h3>
            <a
              class="item"
              href="https://www.universiteitleiden.nl/en/news/2025/05/homo-erectus-from-the-seabed-new-archaeological-discoveries-in-indonesia"
              >Homo erectus from the seabed, new archaeological discoveries in
              Indonesia</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-26 @ 03:56:31</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44093845"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44090776">
          <h3>
            <a
              class="item"
              href="https://googleprojectzero.blogspot.com/2025/05/the-windows-registry-adventure-7-attack-surface.html"
              >The Windows Registry Adventure #7: Attack surface analysis</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 20:24:56</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44090776"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44088261">
          <h3>
            <a
              class="item"
              href="https://www.forester-notes.org/tfmt-0001/index.xml"
              >Designing Tools for Scientific Thought</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 14:51:20</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44088261"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44087541">
          <h3>
            <a class="item" href="https://tiki.li/"
              >Programming Basics with Tiki</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 13:08:24</span
              ><span class="points-container"
                >Points: <span class="points">10</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44087541"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44087020">
          <h3>
            <a
              class="item"
              href="https://www.parliament.uk/about/living-heritage/building/cultural-collections/historic-furniture/the-collection/chairs-chairs-chairs/"
              >Chairs, Chairs, Chairs</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 11:14:50</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44087020"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44086973">
          <h3>
            <a class="item" href="https://book.leveldesignbook.com"
              >The Level Design Book</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 11:03:26</span
              ><span class="points-container"
                >Points: <span class="points">242</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44086973"
                  >Comments</a
                ><span class="descendants">: 46</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44086917">
          <h3>
            <a
              class="item"
              href="https://blog.swgillespie.me/posts/monorepo-ingredients/"
              >The Ingredients of a Productive Monorepo</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 10:49:31</span
              ><span class="points-container"
                >Points: <span class="points">246</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44086917"
                  >Comments</a
                ><span class="descendants">: 164</span></span
              >
            </h4>
          </section>
        </section>
        <section id="44086219">
          <h3>
            <a
              class="item"
              href="https://utcc.utoronto.ca/~cks/space/blog/unix/UnixEarlyFilenameLenghts"
              >The length of file names in early Unix</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-05-25 @ 07:37:27</span
              ><span class="points-container"
                >Points: <span class="points">52</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=44086219"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
