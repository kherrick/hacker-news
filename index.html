<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40161573">
          <h3>
            <a
              class="item"
              href="https://www.reuters.com/world/europe/portugals-democracy-turns-50-thousands-commemorate-carnation-revolution-2024-04-25/"
              >Portugal Overthrew its Fascist Regime 50 Years Ago Today to
              Become a Democracy</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 18:56:40</span
              ><span class="points-container"
                >Points: <span class="points">44</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40161573"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40161564">
          <h3>
            <a
              class="item"
              href="https://medium.com/a-culturated/life-lessons-from-a-ten-year-old-cigarette-vendor-301ba67b3924"
              >Life Lessons from a Ten-Year-Old Cigarette Vendor</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 18:56:03</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40161564"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40161334">
          <h3>
            <a class="item" href="https://isc.sans.edu/diary/30802"
              >Xz sshd backdoor collecting usernames from logs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 18:36:01</span
              ><span class="points-container"
                >Points: <span class="points">88</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40161334"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160824">
          <h3>
            <a
              class="item"
              href="https://arstechnica.com/tech-policy/2024/04/fcc-restores-net-neutrality-rules-that-ban-blocking-and-throttling-in-3-2-vote/"
              >FCC restores net neutrality rules that ban blocking and
              throttling in 3-2 vote</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:52:01</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40160824"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160770">
          <h3>
            <a
              class="item"
              href="https://www.wsj.com/business/oracles-jump-to-nashville-surprises-austin-a4af5e18"
              >Oracle's Jump to Nashville Surprises Austin</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:48:24</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40160770"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160728">
          <h3>
            <a class="item" href="https://arxiv.org/abs/2404.15653"
              >CatLIP: Clip Vision Accuracy with 2.7x Faster Pre-Training on
              Web-Scale Data</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:46:04</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40160728"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160429">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2024/04/25/technology/fcc-net-neutrality-open-internet.html"
              >FCC Votes to Restore Net Neutrality Rules</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:23:00</span
              ><span class="points-container"
                >Points: <span class="points">255</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40160429"
                  >Comments</a
                ><span class="descendants">: 142</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160331">
          <h3>
            <a
              class="item"
              href="https://www.jeffgeerling.com/blog/2024/corporate-open-source-dead"
              >Jeff Geerling: Corporate Open Source Is Dead</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:16:41</span
              ><span class="points-container"
                >Points: <span class="points">72</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40160331"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160292">
          <h3>
            <a
              class="item"
              href="https://www.vice.com/en/article/3aqq7b/big-telecom-used-fake-and-dead-people-to-fight-net-neutrality-ny-ag-says"
              >Big telecom used fake and dead people to fight net neutrality,
              New York AG says</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:14:46</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40160292"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40160065">
          <h3>
            <a
              class="item"
              href="https://questdb.io/careers/senior-frontend-engineer/"
              >QuestDB (YC S20) Is Hiring a Senior Front-End Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 17:00:49</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40159766">
          <h3>
            <a class="item" href="https://mitxela.com/projects/ddc-oled"
              >DDC OLED: how to drive a tiny display from an HDMI port.
              (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 16:42:05</span
              ><span class="points-container"
                >Points: <span class="points">58</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40159766"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40159278">
          <h3>
            <a class="item" href="https://github.com/ArhanChaudhary/NAND"
              >Show HN: I made a programmable computer from NAND gates</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 16:08:05</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40159278"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
            <div class="text">
              <p>
                Check out NAND at
                <a href="https://nand.arhan.sh">https://nand.arhan.sh</a>
              </p>
              <p>
                Additionally, I've authored an extensive writeup about the
                project. Read about it on the GitHub repository's readme.
              </p>
            </div>
          </section>
        </section>
        <section id="40158794">
          <h3>
            <a
              class="item"
              href="https://www.amazon.science/publications/amazon-memorydb-a-fast-and-durable-memory-first-cloud-database"
              >MemoryDB: A fast and durable memory-first cloud database</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 15:34:59</span
              ><span class="points-container"
                >Points: <span class="points">91</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40158794"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40158752">
          <h3>
            <a
              class="item"
              href="https://www.federalregister.gov/documents/2024/01/29/2024-01580/taking-additional-steps-to-address-the-national-emergency-with-respect-to-significant-malicious"
              >We have 4 days to contest KYC being required by internet
              services</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 15:31:16</span
              ><span class="points-container"
                >Points: <span class="points">356</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40158752"
                  >Comments</a
                ><span class="descendants">: 263</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40158481">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40158481"
              >Launch HN: Nango (YC W23) – Source-available unified API</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 15:09:02</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40158481"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.nango.dev">https://www.nango.dev</a>). We
              take care of the annoyances of external APIs (167 and counting) so
              you can quickly build custom integrations for your SaaS, while
              retaining full control over how they work. 2 min demo video:
              <a
                href="https://www.loom.com/share/d04c67b47e284e86b91b4b99fba548ec"
                >https://www.loom.com/share/d04c67b47e284e86b91b4b99fba548ec</a
              >
              <p>
                SaaS engineering teams face a tough choice: they can build each
                integration in-house from scratch, which gives them full control
                but takes a lot of time and maintenance effort. Or they can use
                pre-built solutions, which are fast and easy but less flexible
                and might not fulfill all customer needs.
              </p>
              <p>
                Nango combines the best of both worlds. We let you quickly ship
                custom integrations without building complex infrastructure or
                diving deep into the quirks of each API. You control the
                business logic, data models, and customer-specific
                configurations, like custom field mappings. We handle (O)Auth
                and run your integrations reliably in production.
              </p>
              <p>
                Under the hood, your integrations run as typescript “lambdas” on
                Nango. A typical integration has 3-5 lambdas of 20-50 lines of
                code each. These lambdas live inside your git repo, are
                version-controlled with the rest of your app, and get deployed
                to Nango with a CLI (<a
                  href="https://docs.nango.dev/understand/core-concepts"
                  >https://docs.nango.dev/understand/core-concepts</a
                >).
              </p>
              <p>
                Our runtime has a built-in scheduler for continuous background
                syncs, monitoring to know if your integrations run as expected,
                detailed logging of everything that happens in Nango, and
                pre-built infrastructure to deal with (O)auth, retries,
                rate-limit handling, webhook floods, data caching,
                de-duplication, etc. More here:
                <a href="https://docs.nango.dev/understand/architecture"
                  >https://docs.nango.dev/understand/architecture</a
                >
              </p>
              <p>
                We have found that ChatGPT and Copilot let you build
                integrations on Nango very fast without having to learn each
                API’s intricacies. LLMs are great at figuring out which endpoint
                to use, what parameters it takes, etc. Paired with our runtime,
                this lets you build complex, high-scale integrations in hours
                instead of weeks.
              </p>
              <p>
                We’ve put a ton of effort into dealing with API complexities, so
                you don’t have to. Even integrations that looked simple at first
                ended up forcing us to extend our infra to deal with their
                quirks and gotchas.
              </p>
              <p>
                For example, we had to figure out 100+ different OAuth
                implementations (see
                <a href="https://www.nango.dev/blog/why-is-oauth-still-hard"
                  >https://www.nango.dev/blog/why-is-oauth-still-hard</a
                >
                and
                <a href="https://news.ycombinator.com/item?id=35713518"
                  >https://news.ycombinator.com/item?id=35713518</a
                >). We had to deal with a half-dozen non-standard auth methods
                (Github apps, Stripe apps, Netsuite, etc.), expiring webhooks,
                ways to deal with data dependencies, weird pagination methods,
                API keys that change with every API call, dozens of different
                ways to register for webhooks, etc. It’s a constantly moving
                target, but it is a challenge we have come to love, and we think
                the approach makes sense: we specialize in finicky details that
                vary from API to API—you specialize in making your product great
                and offering more integrations to your users.
              </p>
              <p>
                Last but not least, Nango is open source (<a
                  href="https://github.com/NangoHQ/nango"
                  >https://github.com/NangoHQ/nango</a
                >) under the ELv2 license (allows most use cases, except for
                direct copy-cats). Anybody can contribute new APIs &amp; share
                their integration templates with the community.
              </p>
              <p>
                The fastest way to see Nango in action is with our interactive
                demo here (no signup required):
                <a href="https://app.nango.dev/hn-demo"
                  >https://app.nango.dev/hn-demo</a
                >
              </p>
              <p>
                Or take a look at our docs:
                <a href="https://docs.nango.dev">https://docs.nango.dev</a>
              </p>
              <p>
                We would love to hear your feedback and look forward to the
                comments!
              </p>
            </div>
          </section>
        </section>
        <section id="40158266">
          <h3>
            <a class="item" href="https://github.com/goksan/Statusnook"
              >Show HN: I built a self-hosted status page and monitoring tool
              for my projects</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 14:50:13</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40158266"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
            <div class="text">
              <p>
                I built Statusnook for my own projects, but I soon began
                incorporating bits of feedback from friends &amp; colleagues.
              </p>
              <p>
                My goal was to create a tool with a solid essential feature set,
                and to make it easy to self-host.
              </p>
              <p>I welcome any feedback or suggestions.</p>
            </div>
          </section>
        </section>
        <section id="40157530">
          <h3>
            <a
              class="item"
              href="https://openup.design/we-learn/50-digital-wood-joints/"
              >Digital Wood Joints</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 13:46:28</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40157530"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40156890">
          <h3>
            <a
              class="item"
              href="https://github.com/alexpusch/rust-magic-patterns/blob/master/rust-stream-visualized/Readme.md"
              >Rust Stream API visualized and exposed</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 12:51:44</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40156890"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40156534">
          <h3>
            <a class="item" href="https://github.com/Tribler/tribler/wiki"
              >Tribler: An attack-resilient micro-economy for media</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 12:13:51</span
              ><span class="points-container"
                >Points: <span class="points">193</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40156534"
                  >Comments</a
                ><span class="descendants">: 72</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40156527">
          <h3>
            <a
              class="item"
              href="https://spectrum.ieee.org/how-to-stop-robocalls"
              >David Frankel is a man on a mission against robocalls</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 12:13:13</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40156527"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40156330">
          <h3>
            <a class="item" href="https://github.com/catdad/canvas-confetti"
              >A useful front-end confetti animation library</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 11:53:04</span
              ><span class="points-container"
                >Points: <span class="points">360</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40156330"
                  >Comments</a
                ><span class="descendants">: 86</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40156275">
          <h3>
            <a
              class="item"
              href="https://www.tomshardware.com/tech-industry/tsmc-unveils-16nm-process-technology-with-backside-power-delivery-rivals-intels-competing-design"
              >TSMC unveils 1.6nm process technology with backside power
              delivery</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 11:47:36</span
              ><span class="points-container"
                >Points: <span class="points">260</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40156275"
                  >Comments</a
                ><span class="descendants">: 140</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40154104">
          <h3>
            <a class="item" href="http://leehite.org/Chimes.htm"
              >Chime Design and Build</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 06:22:26</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40154104"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40153825">
          <h3>
            <a
              class="item"
              href="https://en.wikipedia.org/wiki/The_Analytical_Language_of_John_Wilkins"
              >The Analytical Language of John Wilkins</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 05:37:27</span
              ><span class="points-container"
                >Points: <span class="points">24</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40153825"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40153815">
          <h3>
            <a class="item" href="https://github.com/adam-maj/tiny-gpu"
              >Tiny GPU: A minimal GPU implementation in Verilog</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-25 @ 05:36:05</span
              ><span class="points-container"
                >Points: <span class="points">223</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40153815"
                  >Comments</a
                ><span class="descendants">: 60</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40150045">
          <h3>
            <a
              class="item"
              href="https://railsatscale.com/2024-04-24-autotuner-how-to-speed-up-your-rails-app/"
              >Autotuner: How to speed up your Rails app</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 21:40:28</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40150045"
                  >Comments</a
                ><span class="descendants">: 25</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143460">
          <h3>
            <a class="item" href="https://github.com/turingmotors/swan"
              >Swan – A Lightweight Language Model Execution Environment Using
              FPGA</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 12:15:26</span
              ><span class="points-container"
                >Points: <span class="points">16</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143460"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40143285">
          <h3>
            <a
              class="item"
              href="https://www.cs.utexas.edu/users/EWD/ewd02xx/EWD249.PDF"
              >Notes on Structured Programming (1970) [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 11:55:54</span
              ><span class="points-container"
                >Points: <span class="points">9</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40143285"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40139130">
          <h3>
            <a class="item" href="https://github.com/eshazen/retro-25"
              >Retro-tech HP-25 Calculator</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-24 @ 00:41:42</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40139130"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40129637">
          <h3>
            <a
              class="item"
              href="https://tanelpoder.com/posts/oracle-shared-pool-chunk-status-indicators-in-heapdump/"
              >Oracle Shared Pool Internals: Allocated Chunk Status Indicators
              in Heap Dumps</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-04-23 @ 08:06:22</span
              ><span class="points-container"
                >Points: <span class="points">32</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40129637"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
