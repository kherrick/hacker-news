<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="40790911">
          <h3>
            <a
              class="item"
              href="https://support.anthropic.com/en/articles/9519177-how-can-i-create-and-manage-projects"
              >Anthropic Introduces Claude Projects</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 17:04:18</span
              ><span class="points-container"
                >Points: <span class="points">83</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40790911"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40790859">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40790859"
              >Meticulous (YC S21) is hiring to eliminate E2E UI tests</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 17:00:00</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
            <div class="text">
              <p>
                I'm Gabriel, CEO and co-founder of Meticulous,
                <a href="https://meticulous.ai/?utm_source=hn"
                  >https://meticulous.ai/?utm_source=hn</a
                >.
              </p>
              <p>
                Backed by YC, Coatue, the CTO of GitHub, CEO of Vercel, CPO of
                Adobe etc.,
                <a href="https://meticulous.ai?utm_source=hn"
                  >https://meticulous.ai?utm_source=hn</a
                >
                monitors how developers interact with your app and automatically
                generates and maintains test coverage nearing 100%. Even for the
                most complex applications. All without needing to write or
                maintain a single test.
              </p>
              <p>
                Our customers find it increases their end-to-end frontend
                development velocity by over 20%. If you’ve ever had the rare
                chance of working on a project where you can have near 100%
                confidence in your changes before you hit merge you’ll
                understand this immediately: programming feels completely
                different in that environment. Every dev can refactor with
                complete confidence and speed. And so they do, keeping the code
                fresh &amp; nimble. Our customers’s developers have been able to
                move faster than they’ve often ever experienced before.
              </p>
              <p>
                We’re growing rapidly, and want to provide this experience to
                every software company in the world — while freeing them of the
                burden of writing or maintaining tests. We’ve built a team of
                exclusively world-class software engineers (“One of the
                strongest teams that I have seen” - Jared Friedman, Partner at Y
                Combinator).
              </p>
              <p>
                If you join us we’ll promise you’ll learn faster than you ever
                have in your career, and will be able to fundamentally change
                how the world develops software.
              </p>
              <p>## How does Meticulous work?</p>
              <p>
                You add a script tag on localhost and internal stacks, and
                Meticulous records all the development teams daily interactions
                with the app as they develop features. Meticulous understands
                every line of code, component and route executed by each flow
                and uses this to maintain a visual snapshot test suite that
                covers close to 100% of your code. This suite tests your apps
                UI, user flows and logic at all layers, across all edge cases,
                all branches, all feature flags. As your app evolves, your test
                suite evolves.
              </p>
              <p>
                The tests are executed in an environment that ensures full
                determinism from the lowest level, right down to how the
                browsers’ macro &amp; micro-tasks are scheduled — so no flakes.
                This bedrock of determinism is what makes the full system
                possible.
              </p>
              <p>
                You can watch a 60 second demo at
                <a href="https://meticulous.ai?utm_source=hn"
                  >https://meticulous.ai?utm_source=hn</a
                >.
              </p>
              <p>## What’s our team like?</p>
              <p>
                We are a London-based YC company. Our engineering team
                previously worked at Dropbox, Opendoor, Palantir, GitHub and
                Google, and have previously led 100+ engineer organizations at
                these companies. We are backed by some of the best founders and
                technical leaders in Silicon Valley, including Guillermo Rauch
                (founder Vercel, author next.js), Jason Warner (CTO GitHub),
                Scott Belsky (CPO Adobe), Calvin French-Owen (founder Segment),
                Jared Friedman (YC partner and former CTO of Scribd) and a bunch
                of other incredible folks.
              </p>
              <p>
                Catching visual regressions is just the start. There is an
                entire category of products to build on top of replay. This
                ranges from catching exceptions to revealing the performance
                impact of frontend code.
              </p>
              <p>
                We want to change the way the world develops software, and
                influence software approaches for decades to come.
              </p>
              <p>
                We are seeding a London office and hiring an onsite founding
                engineer to join our team of six. We sponsor visas.
              </p>
              <p>
                You will have autonomy in building out this technology, but here
                are a few problems you might work on:
              </p>
              <p>
                - Build a distributed system to concurrently replay thousands of
                sessions, such that a developer gets a result in seconds. -
                Speed up the replay of sessions in a way that retains
                determinism. - Derive algorithms to detect sessions that cover
                differing code paths and edge cases, and ignore sessions that
                are too similar. - Help build out a team of world-class, highly
                collaborative, software engineers.
              </p>
              <p>
                As founding engineer, you get to shape the company, and build
                the culture and technology from the ground up.
              </p>
              <p>What we look for:</p>
              <p>
                In a sentence: Technically brilliant, delightful to work with,
                combined with a self-awareness and strong desire to improve. We
                also want to make sure everyone is highly supportive of each
                other; we win as a team.
              </p>
              <p>
                We're currently only looking to bring on folks with senior level
                skill sets and 5+ years of industry experience. You should have
                strong web fundamentals and a deep love for software
                engineering. Maybe you enjoy programming books like Clean Code,
                Designing Data Intensive Applications, Pragmatic Programmer etc.
                or enjoy hacking on interesting side projects. You value
                transparency and candid feedback, and are motivated by a strong
                desire to become the best engineer you can be.
              </p>
              <p>
                You can read about our values here
                <a
                  href="https://ruby-wish-a8f.notion.site/Mission-Values-979c32ec58e74856af02da2e59c9f64d"
                  >https://ruby-wish-a8f.notion.site/Mission-Values-979c32ec58e...</a
                >
              </p>
              <p>
                You will be given the space and time to up-level yourself as an
                engineer in terms of conferences, reading, or whatever you think
                will be most valuable. We will also set you up with mentorship,
                if you desire it, from top engineering leaders (folks running
                100-engineer organizations at the world's leading tech
                companies).
              </p>
              <p>
                You’ll get to work alongside some of the best engineers there
                are, break new ground solving truly novel CS problems and
                deliver something that transforms how software is built.
              </p>
              <p>
                If this sounds interesting, please reach out to me at gabe [at]
                meticulous [dot] ai with “HN” in the subject line and 2-3
                sentences about what you find interesting about Meticulous and
                your resume/LinkedIn/GitHub.
              </p>
            </div>
          </section>
        </section>
        <section id="40790842">
          <h3>
            <a
              class="item"
              href="https://twitter.com/Etched/status/1805625693113663834"
              >Sohu – first specialized chip (ASIC) for transformer models</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 16:58:09</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40790842"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40790640">
          <h3>
            <a
              class="item"
              href="https://www.thetimes.com/uk/society/article/post-office-scandal-horizon-fujitsu-high-court-9ht63zvp2"
              >Engineer insists Post Office software did a 'good job'</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 16:42:08</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40790640"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40790414">
          <h3>
            <a
              class="item"
              href="https://github.com/material-components/material-web/discussions/5642"
              >Google no longer developing Material Web Components</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 16:22:45</span
              ><span class="points-container"
                >Points: <span class="points">40</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40790414"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40790057">
          <h3>
            <a
              class="item"
              href="https://www.theguardian.com/world/article/2024/jun/25/chinas-change-6-lunar-probe-returns-world-first-samples-from-far-side-of-the-moon"
              >Chang'e 6 lunar sample return mission returns with samples from
              moon's far side</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 15:48:29</span
              ><span class="points-container"
                >Points: <span class="points">71</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40790057"
                  >Comments</a
                ><span class="descendants">: 40</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40789919">
          <h3>
            <a
              class="item"
              href="https://chipsandcheese.com/2024/06/25/testing-amds-giant-mi300x/"
              >Testing AMD's Giant MI300X</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 15:36:09</span
              ><span class="points-container"
                >Points: <span class="points">102</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40789919"
                  >Comments</a
                ><span class="descendants">: 74</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40789672">
          <h3>
            <a class="item" href="https://flipdisc.io/"
              >Show HN: I built a large JavaScript powered flipdisc display.
              Here's a guide</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 15:14:08</span
              ><span class="points-container"
                >Points: <span class="points">124</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40789672"
                  >Comments</a
                ><span class="descendants">: 44</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40789353">
          <h3>
            <a
              class="item"
              href="https://dotenvx.com/blog/2024/06/24/dotenvx-next-generation-config-management.html"
              >From Dotenv to Dotenvx: Next Generation Config Management</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 14:49:28</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40789353"
                  >Comments</a
                ><span class="descendants">: 69</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40789191">
          <h3>
            <a
              class="item"
              href="https://rarehistoricalphotos.com/vintage-wooden-homes-on-wheels/"
              >Vintage Wooden Homes on Wheels: Photos of Mobile Living from
              Early 20th Century</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 14:36:29</span
              ><span class="points-container"
                >Points: <span class="points">15</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40789191"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40788648">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=40788648"
              >Show HN: Triplit – Open-source syncing database that runs on
              server and client</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 13:53:05</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40788648"
                  >Comments</a
                ><span class="descendants">: 12</span></span
              >
            </h4>
            <div class="text">
              <a href="https://www.triplit.dev">https://www.triplit.dev</a>).
              Triplit is an open-source database (<a
                href="https://github.com/aspen-cloud/triplit"
                >https://github.com/aspen-cloud/triplit</a
              >) that combines a server-side database, client-side cache, and a
              sync engine into one cohesive product. You can try it out with a
              new project by running:
              <p></p>
              <pre><code>  (npm|bun|yarn) create triplit-app
</code></pre>
              As a team, we’ve worked on several projects that aspired to the
              user experience of Linear or Superhuman, where every interaction
              feels instant like a native app while still having the
              collaborative and syncing features we expect from the web.
              Delivering this level of UX was incredibly challenging. In each
              app we built, we had to implement a local caching strategy, keep
              the cache up to date with optimistic writes, individually handle
              retries and rollbacks from failures, and do a lot of codegen to
              get Typescript to work properly. This was spread across multiple
              libraries and infrastructure providers and required constant
              maintenance.
              <p>
                We finally decided to build the system we always wanted. Triplit
                enables your app to work offline and sync in real-time over
                websockets with an enjoyable developer experience.
              </p>
              <p>
                Triplit lets you (1) define your schema in Typescript and simply
                push to the server without writing migration files; (2) write
                queries that automatically update in real-time to both remote
                changes from the server and optimistic local mutations on the
                client—with complete Typescript types; (3) run the whole stack
                locally without having to run a bunch of Docker containers.
              </p>
              <p>
                One interesting challenge of building a system like this is
                enabling partial replication and incremental query evaluation.
                In order to make loading times as fast as possible, Triplit will
                only fetch the minimal required data from the server to fulfill
                a specific query and then send granular updates to that client.
                This differs from other systems which either sync all of a
                user’s data (too slow for web apps) or repeatedly fetch the
                query to simulate a subscription (which bogs down your database
                and network bandwidth).
              </p>
              <p>
                If you’re familiar with the complexity of cache-invalidation and
                syncing, you’ll know that Triplit is operating firmly in the
                distributed systems space. We did a lot of research and settled
                on a local first approach that uses a fairly simple CRDT
                (conflict-free replicated data type) that allows each client to
                work offline and guarantees that they will converge to a
                consistent state when syncing. It works by treating each
                attribute of an entity as a last writer wins register. Compared
                to more complex strategies, this approach ends up being faster
                and doesn’t require additional logic to handle conflicting edits
                between concurrent writers. It’s similar to the strategy Figma
                uses for their collaborative editor.
              </p>
              <p>
                You can add Triplit to an existing project by installing the
                client NPM package. You may self-host the Triplit Server or pay
                us to manage an instance for you. One cool part is that whether
                you choose to self-host or deploy on Triplit Cloud, you can
                still use our Dashboard to configure your database or
                interactively manage your data in the Triplit Console, a
                spreadsheet-like GUI.
              </p>
              <p>
                In the future, we plan to add APIs for authentication, file
                uploads, and presence to create a Supabase/Firebase-like
                experience.
              </p>
              <p>
                You can get started by going to
                <a href="https://triplit.dev">https://triplit.dev</a> or find us
                on Github
                <a href="https://github.com/aspen-cloud/triplit"
                  >https://github.com/aspen-cloud/triplit</a
                >. Thanks for checking us out and we are looking forward to your
                feedback in the comments!
              </p>
            </div>
          </section>
        </section>
        <section id="40788049">
          <h3>
            <a class="item" href="https://www.hiranmay.xyz/blog/complex-systems"
              >We must seek a widely-applicable science of systems</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 13:01:12</span
              ><span class="points-container"
                >Points: <span class="points">74</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40788049"
                  >Comments</a
                ><span class="descendants">: 48</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40783777">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-06-biodegradable-barley-plastic.html"
              >Researchers invent 100% biodegradable 'barley plastic'</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 02:34:37</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40783777"
                  >Comments</a
                ><span class="descendants">: 165</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40783742">
          <h3>
            <a
              class="item"
              href="https://phys.org/news/2024-06-titan-strong-erode-coastlines-lakes.html"
              >Wave activity on Titan strong enough to erode the coastlines of
              lakes and seas</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 02:29:54</span
              ><span class="points-container"
                >Points: <span class="points">126</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40783742"
                  >Comments</a
                ><span class="descendants">: 34</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40783598">
          <h3>
            <a
              class="item"
              href="https://shraiwi.github.io/read.html?md=blog/simd-fast-esp32s3.md"
              >SIMD-accelerated computer vision on a $2 microcontroller</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 02:10:40</span
              ><span class="points-container"
                >Points: <span class="points">252</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40783598"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40783485">
          <h3>
            <a class="item" href="https://github.com/dojoe/Twonkie"
              >Twonkie: A USB-PD sniffer/injector/sink based on Google's Twinkie
              open hardware</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 01:55:22</span
              ><span class="points-container"
                >Points: <span class="points">133</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40783485"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40782791">
          <h3>
            <a
              class="item"
              href="https://commoncog.com/c/cases/aw-jones-hedge-fund/"
              >The First Hedge Fund</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-25 @ 00:23:02</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40782791"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40782130">
          <h3>
            <a
              class="item"
              href="https://www.nbcnews.com/politics/justice-department/julian-assange-reached-plea-deal-us-allowing-go-free-rcna158695"
              >Julian Assange has reached a plea deal with the U.S., allowing
              him to go free</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 23:10:07</span
              ><span class="points-container"
                >Points: <span class="points">2218</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40782130"
                  >Comments</a
                ><span class="descendants">: 1101</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40781894">
          <h3>
            <a class="item" href="https://github.com/JFryy/qq"
              >Show HN: Qq: like jq, but can transcode between many formats</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 22:44:30</span
              ><span class="points-container"
                >Points: <span class="points">55</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40781894"
                  >Comments</a
                ><span class="descendants">: 8</span></span
              >
            </h4>
            <div class="text">
              qq is jq inspired interoperable config format transcoder with
              interactive querying. It features an optional interactive editor
              with autocomplete for structured data. And supports inputs and
              outputs for json, xml, ini, toml, yaml, hcl, tf, and csv to
              varying degrees of capability.
            </div>
          </section>
        </section>
        <section id="40781838">
          <h3>
            <a
              class="item"
              href="https://www.folklore.org/Round_Rects_Are_Everywhere.html"
              >Round Rects Are Everywhere</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 22:38:31</span
              ><span class="points-container"
                >Points: <span class="points">377</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40781838"
                  >Comments</a
                ><span class="descendants">: 158</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40780908">
          <h3>
            <a
              class="item"
              href="https://www.newyorker.com/magazine/2024/07/01/the-sun-ra-arkestras-maestro-hits-one-hundred"
              >The Sun Ra Arkestra's Maestro Hits One Hundred</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 21:17:02</span
              ><span class="points-container"
                >Points: <span class="points">123</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40780908"
                  >Comments</a
                ><span class="descendants">: 29</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40779785">
          <h3>
            <a
              class="item"
              href="https://www.plough.com/en/topics/culture/literature/the-case-for-not-sanitizing-fairy-tales"
              >The case for not sanitising fairy tales</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 19:35:52</span
              ><span class="points-container"
                >Points: <span class="points">254</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40779785"
                  >Comments</a
                ><span class="descendants">: 280</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40778594">
          <h3>
            <a
              class="item"
              href="https://letsencrypt.org/2024/06/24/ntpd-rs-deployment.html"
              >More Memory Safety for Let's Encrypt: Deploying ntpd-rs</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 17:23:28</span
              ><span class="points-container"
                >Points: <span class="points">292</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40778594"
                  >Comments</a
                ><span class="descendants">: 145</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40773056">
          <h3>
            <a
              class="item"
              href="https://slate.com/life/2024/06/doctors-teachers-dissatisfaction-tracking-charting-jobs.html"
              >The Triumph of Counting and Scripting</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 06:29:39</span
              ><span class="points-container"
                >Points: <span class="points">37</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40773056"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40772955">
          <h3>
            <a
              class="item"
              href="https://holtwick.de/en/blog/localfirst-resilient-sync"
              >Resilient Sync for Local First</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 05:58:41</span
              ><span class="points-container"
                >Points: <span class="points">138</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40772955"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40772831">
          <h3>
            <a
              class="item"
              href="https://reasonableapproximation.net/2019/05/05/hindley-milner.html"
              >A reckless introduction to Hindley-Milner type inference
              (2019)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-24 @ 05:24:44</span
              ><span class="points-container"
                >Points: <span class="points">51</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40772831"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40769882">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=sv58aPvIonw"
              >Porting Python to a $3 smartwatch [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-23 @ 19:20:53</span
              ><span class="points-container"
                >Points: <span class="points">196</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40769882"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40765999">
          <h3>
            <a
              class="item"
              href="https://tailscale.com/blog/remembering-the-lan"
              >Remembering the LAN (2020)</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-23 @ 09:26:56</span
              ><span class="points-container"
                >Points: <span class="points">114</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40765999"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40765005">
          <h3>
            <a
              class="item"
              href="https://unix.stackexchange.com/questions/128985/why-not-parse-ls-and-what-to-do-instead"
              >Why not parse `ls` and what to do instead</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-23 @ 05:24:20</span
              ><span class="points-container"
                >Points: <span class="points">101</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40765005"
                  >Comments</a
                ><span class="descendants">: 132</span></span
              >
            </h4>
          </section>
        </section>
        <section id="40749157">
          <h3>
            <a
              class="item"
              href="https://www.ornl.gov/news/quantum-chemistry-and-simulation-help-characterize-coordination-complex-elusive-element-61"
              >Quantum chemistry helps characterize coordination complex of
              elusive Element 61</a
            >
          </h3>
          <section>
            <h4>
              <span>2024-06-21 @ 13:00:51</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=40749157"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
