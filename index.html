<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="47039073">
          <h3>
            <a
              class="item"
              href="https://thedecipherist.com/articles/docker_swarm_vs_kubernetes/"
              >Docker Swarm vs. Kubernetes in 2026</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 19:20:37</span
              ><span class="points-container"
                >Points: <span class="points">19</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47039073"
                  >Comments</a
                ><span class="descendants">: 14</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47039044">
          <h3>
            <a
              class="item"
              href="https://simonhalvdansson.github.io/2D-Coulomb-Gas-Tools/index_gpu.html"
              >Show HN: 2D Coulomb Gas Simulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 19:17:46</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47039044"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                Play around with it - hopefully read up more on the 2D Coulomb
                gas because it is an incredibly deep topic research wise.
              </p>
            </div>
          </section>
        </section>
        <section id="47038965">
          <h3>
            <a class="item" href="https://wero-wallet.eu"
              >Wero – Digital payment wallet, Made in Europe</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 19:09:58</span
              ><span class="points-container"
                >Points: <span class="points">35</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47038965"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47038706">
          <h3>
            <a
              class="item"
              href="https://www.newsweek.com/entertainment/hollywood-legend-robert-duvall-dead-at-95-11531295"
              >Robert Duvall Dead at 95</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 18:52:50</span
              ><span class="points-container"
                >Points: <span class="points">50</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47038706"
                  >Comments</a
                ><span class="descendants">: 33</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47038588">
          <h3>
            <a
              class="item"
              href="https://notnotp.com/notes/use-protocols-not-services/"
              >Use Protocols, Not Services</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 18:44:58</span
              ><span class="points-container"
                >Points: <span class="points">119</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47038588"
                  >Comments</a
                ><span class="descendants">: 31</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47038318">
          <h3>
            <a
              class="item"
              href="https://jkap.io/token-anxiety-or-a-slot-machine-by-any-other-name/"
              >"token anxiety"; or, a slot machine by any other name</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 18:23:36</span
              ><span class="points-container"
                >Points: <span class="points">17</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47038318"
                  >Comments</a
                ><span class="descendants">: 3</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47037501">
          <h3>
            <a class="item" href="https://webmachinelearning.github.io/webmcp/"
              >WebMCP Proposal</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 17:08:20</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47037501"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47037313">
          <h3>
            <a class="item" href="https://www.youtube.com/watch?v=97f0nfU5Px0"
              >How to take a photo with scotch tape (lensless imaging)
              [video]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 16:55:02</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47037313"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47036921">
          <h3>
            <a
              class="item"
              href="https://telephoneworld.org/long-distance-companies/att-long-distance-network/history-of-att-long-lines/"
              >History of AT&amp;amp;T Long Lines</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 16:22:24</span
              ><span class="points-container"
                >Points: <span class="points">29</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47036921"
                  >Comments</a
                ><span class="descendants">: 13</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47036891">
          <h3>
            <a class="item" href="https://github.com/SpaceTurth/Org-Web-Adapter"
              >Show HN: Simple org-mode web adapter</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 16:19:16</span
              ><span class="points-container"
                >Points: <span class="points">39</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47036891"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              I like to use org files a lot, but I wanted some way to browse and
              edit them on my phone when I'm out. Yesterday I used Codex to make
              this simple one-file web server that just displays all my org
              files with backlinks. It doesn't have any authentication because I
              only run it on my wireguard VPN. I've been having fun with it,
              hopefully it's useful to someone else!
            </div>
          </section>
        </section>
        <section id="47036063">
          <h3>
            <a
              class="item"
              href="https://github.com/HenryNdubuaku/maths-cs-ai-compendium"
              >Show HN: Maths, CS and AI Compendium</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 15:15:50</span
              ><span class="points-container"
                >Points: <span class="points">31</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47036063"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
            <div class="text">
              <p>
                Textbooks often bury good ideas in dense notation, skip the
                intuition, assume you already know half the material, and get
                outdated in fast-moving fields like AI.
              </p>
              <p>
                Over the past 7 years of my AI/ML experience, I filled notebooks
                with intuition-first, real-world context, no hand-waving
                explanations of maths, computing and AI concepts.
              </p>
              <p>
                In 2024, a few friends used these notes to prep for interviews
                at DeepMind, OpenAI, Nvidia etc. They all got in and currently
                perform well in their roles. So I'm sharing.
              </p>
              <p>
                This is an open &amp; unconventional textbook covering maths,
                computing, and artificial intelligence from the ground up. For
                curious practitioners seeking deeper understanding, not just
                survive an exam/interview.
              </p>
              <p>
                To ambitious students, an early careers or experts in adjacent
                fields looking to become cracked AI research engineers or
                progress to PhD, dig in and let me know your thoughts.
              </p>
            </div>
          </section>
        </section>
        <section id="47035679">
          <h3>
            <a
              class="item"
              href="https://www.rockpapershotgun.com/good-news-uk-discord-users-were-part-of-a-peter-thiel-linked-data-collection-experiment"
              >UK Discord users were part of a Peter Thiel-linked data
              collection experiment</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 14:48:25</span
              ><span class="points-container"
                >Points: <span class="points">239</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47035679"
                  >Comments</a
                ><span class="descendants">: 55</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47035560">
          <h3>
            <a
              class="item"
              href="https://blog.dmcc.io/journal/2026-bluetooth-privacy-bluehood/"
              >What Your Bluetooth Devices Reveal About You</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 14:39:32</span
              ><span class="points-container"
                >Points: <span class="points">169</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47035560"
                  >Comments</a
                ><span class="descendants">: 62</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47035371">
          <h3>
            <a
              class="item"
              href="https://johan.hal.se/wrote/2026/02/03/the-sideprocalypse/"
              >The Sideprocalypse</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 14:26:39</span
              ><span class="points-container"
                >Points: <span class="points">129</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47035371"
                  >Comments</a
                ><span class="descendants">: 107</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47034801">
          <h3>
            <a
              class="item"
              href="https://blog.dmcc.io/journal/xmpp-turn-stun-coturn-prosody/"
              >Running My Own XMPP Server</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 13:39:45</span
              ><span class="points-container"
                >Points: <span class="points">175</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47034801"
                  >Comments</a
                ><span class="descendants">: 102</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47034713">
          <h3>
            <a
              class="item"
              href="https://www.legalcheek.com/2026/02/ministry-of-justice-orders-deletion-of-the-uks-largest-court-reporting-database/"
              >Ministry of Justice orders deletion of the UK's largest court
              reporting database</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 13:30:07</span
              ><span class="points-container"
                >Points: <span class="points">434</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47034713"
                  >Comments</a
                ><span class="descendants">: 283</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47033875">
          <h3>
            <a class="item" href="https://github.com/nineties/planckforth"
              >planckforth: Bootstrapping a Forth interpreter from hand-written
              tiny ELF binary</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 11:44:07</span
              ><span class="points-container"
                >Points: <span class="points">49</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47033875"
                  >Comments</a
                ><span class="descendants">: 9</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47033328">
          <h3>
            <a
              class="item"
              href="https://github.com/unicode-org/message-format-wg"
              >MessageFormat: Unicode standard for localizable message
              strings</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 10:26:22</span
              ><span class="points-container"
                >Points: <span class="points">141</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47033328"
                  >Comments</a
                ><span class="descendants">: 58</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47032876">
          <h3>
            <a class="item" href="https://qwen.ai/blog?id=qwen3.5"
              >Qwen3.5: Towards Native Multimodal Agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 09:32:21</span
              ><span class="points-container"
                >Points: <span class="points">306</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47032876"
                  >Comments</a
                ><span class="descendants">: 138</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47031580">
          <h3>
            <a
              class="item"
              href="https://mastodon.world/@knowmadd/116072773118828295"
              >I want to wash my car. The car wash is 50 meters away. Should I
              walk or drive?</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 06:31:48</span
              ><span class="points-container"
                >Points: <span class="points">1270</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47031580"
                  >Comments</a
                ><span class="descendants">: 780</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47031334">
          <h3>
            <a class="item" href="https://jmail.world/jemini"
              >Show HN: Jemini – Gemini for the Epstein Files</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-16 @ 05:53:03</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47031334"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
            <div class="text">
              <i>Show HN: JeffTube</i> -
              <a href="https://news.ycombinator.com/item?id=47030797"
                >https://news.ycombinator.com/item?id=47030797</a
              >
            </div>
          </section>
        </section>
        <section id="47028013">
          <h3>
            <a class="item" href="https://steipete.me/posts/2026/openclaw"
              >I’m joining OpenAI</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-15 @ 21:54:15</span
              ><span class="points-container"
                >Points: <span class="points">1352</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47028013"
                  >Comments</a
                ><span class="descendants">: 1037</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47025851">
          <h3>
            <a class="item" href="https://modern-css.com"
              >Modern CSS Code Snippets: Stop writing CSS like it's 2015</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-15 @ 18:04:10</span
              ><span class="points-container"
                >Points: <span class="points">650</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47025851"
                  >Comments</a
                ><span class="descendants">: 274</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47019329">
          <h3>
            <a class="item" href="https://playground.get-nerve.com/"
              >Show HN: Nerve: Stitches all your data sources into one
              mega-API</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-14 @ 23:07:41</span
              ><span class="points-container"
                >Points: <span class="points">5</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47019329"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
            <div class="text">
              <p>
                A lot of high-leverage projects (AI or otherwise) involve tying
                data together from multiple systems of record. This is easy
                enough when the data is simple and the sources are few, but if
                you have highly nested data and lots of sources (or you need
                things like federated pagination and filtering), you have to
                write a lot of gnarly boilerplate that's brittle and easy to get
                wrong.
              </p>
              <p>
                One solution is to import all your data into a central warehouse
                and just pull it from there. This works, but 1) you need a
                warehouse, 2) you have an extra copy of the data that can get
                stale or inconsistent, 3) you need to write and manage
                pipelines/connectors (or outsource them to a vendor), and 4)
                you're adding an extra point of failure.
              </p>
              <p>
                Nerve lets you write GraphQL-style queries that span multiple
                sources; then it goes out and pulls from whatever source APIs it
                needs to at query-time - all your source data stays where it is.
                Nerve has pre-built bindings to external SAAS services, and it's
                straightforward to hook it into your internal sources as well.
              </p>
              <p>
                Nerve is made for individual developers or two-pizza teams who:
              </p>
              <p>-Are building agents/internal tools</p>
              <p>
                -Need to deal with messy data strewn across different systems
              </p>
              <p>
                -Don't have a data team/warehouse at their disposal, (or do, but
                can't get a slice of their bandwidth)
              </p>
              <p>-Want to get to production as quickly as possible</p>
              <p>
                Everything you see in the demo is shipped and usable, but I'm
                adding a little polish before I officially launch. In the
                meantime, if you have a project you'd like to use Nerve on and
                you want to be a beta user, just drop me a line at
                mprast@get-nerve.com (it's free! I'll just pop in from time to
                time to ask you how it's going and what I can improve :) )
              </p>
              <p>
                If you want to get an email when Nerve is ready from prime-time,
                you can sign up for the waitlist at get-nerve.com.
              </p>
              <p>Thanks for reading!</p>
              <p>
                (EDIT: Nerve is desktop only! I'll put up a gate on the site
                saying as much.)
              </p>
            </div>
          </section>
        </section>
        <section id="47014460">
          <h3>
            <a
              class="item"
              href="https://www.intertronics.co.uk/wp-content/uploads/2017/05/PCB-Rework-and-Repair-Guide.pdf"
              >PCB Rework and Repair Guide [pdf]</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-14 @ 13:42:04</span
              ><span class="points-container"
                >Points: <span class="points">11</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47014460"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47011548">
          <h3>
            <a
              class="item"
              href="https://github.com/NationalSecurityAgency/ghidra"
              >Ghidra by NSA</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-14 @ 04:24:18</span
              ><span class="points-container"
                >Points: <span class="points">229</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47011548"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
          </section>
        </section>
        <section id="47010018">
          <h3>
            <a class="item" href="https://www.lux.camera/mark-iii-looks/"
              >Looks: A Halide Mark III Preview</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-14 @ 00:46:02</span
              ><span class="points-container"
                >Points: <span class="points">48</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=47010018"
                  >Comments</a
                ><span class="descendants">: 5</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46998266">
          <h3>
            <a
              class="item"
              href="https://www.cnn.com/2026/02/12/science/solar-storm-richard-carrington-photo"
              >Richard Carrington's first portrait has been found</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 02:33:52</span
              ><span class="points-container"
                >Points: <span class="points">21</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46998266"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46997356">
          <h3>
            <a class="item" href="https://github.com/preservim/vim-pencil"
              >Vim-pencil: Rethinking Vim as a tool for writing</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-13 @ 00:35:23</span
              ><span class="points-container"
                >Points: <span class="points">127</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46997356"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46988538">
          <h3>
            <a
              class="item"
              href="https://christopherkrapu.com/blog/2026/ocr-textbooks-modal-deepseek/"
              >Rolling your own serverless OCR in 40 lines of code</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-02-12 @ 13:23:22</span
              ><span class="points-container"
                >Points: <span class="points">95</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46988538"
                  >Comments</a
                ><span class="descendants">: 47</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
