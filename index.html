<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="46792370">
          <h3>
            <a
              class="item"
              href="https://www.ed.nl/binnenland/asml-wil-veel-managementbanen-schrappen-rekent-op-1700-ontslagen~a04807f1/"
              >ASML firing 1700 people, mostly managers</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-28 @ 08:02:42</span
              ><span class="points-container"
                >Points: <span class="points">208</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46792370"
                  >Comments</a
                ><span class="descendants">: 174</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46792194">
          <h3>
            <a
              class="item"
              href="https://matklad.github.io/2026/01/27/make-ts.html"
              >Make.ts</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-28 @ 07:35:51</span
              ><span class="points-container"
                >Points: <span class="points">76</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46792194"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46791742">
          <h3>
            <a
              class="item"
              href="https://engineering.fb.com/2026/01/27/security/rust-at-scale-security-whatsapp/"
              >Rust at Scale: An Added Layer of Security for WhatsApp</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-28 @ 06:21:07</span
              ><span class="points-container"
                >Points: <span class="points">46</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46791742"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46789913">
          <h3>
            <a
              class="item"
              href="https://aisle.com/blog/aisle-discovered-12-out-of-12-openssl-vulnerabilities"
              >AISLE’s autonomous analyzer found all CVEs in the January OpenSSL
              release</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-28 @ 01:38:15</span
              ><span class="points-container"
                >Points: <span class="points">163</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46789913"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46788384">
          <h3>
            <a
              class="item"
              href="https://jvns.ca/blog/2026/01/27/some-notes-on-starting-to-use-django/"
              >Notes on starting to use Django</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 22:58:30</span
              ><span class="points-container"
                >Points: <span class="points">96</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46788384"
                  >Comments</a
                ><span class="descendants">: 37</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46786196">
          <h3>
            <a class="item" href="https://campedersen.com/vcad"
              >Parametric CAD in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 20:36:14</span
              ><span class="points-container"
                >Points: <span class="points">173</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46786196"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46786183">
          <h3>
            <a class="item" href="https://github.com/kangtastic/timestation"
              >Time Station Emulator</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 20:35:34</span
              ><span class="points-container"
                >Points: <span class="points">179</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46786183"
                  >Comments</a
                ><span class="descendants">: 42</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46784977">
          <h3>
            <a
              class="item"
              href="https://www.joshtumath.uk/posts/2026-01-27-try-text-scaling-support-in-chrome-canary/"
              >Try text scaling support in Chrome Canary</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 19:20:24</span
              ><span class="points-container"
                >Points: <span class="points">103</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46784977"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46784572">
          <h3>
            <a class="item" href="https://amutable.com/about"
              >Lennart Poettering, Christian Brauner founded a new company</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 18:57:15</span
              ><span class="points-container"
                >Points: <span class="points">303</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46784572"
                  >Comments</a
                ><span class="descendants">: 443</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46783752">
          <h3>
            <a class="item" href="https://openai.com/index/introducing-prism"
              >Prism</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 18:03:10</span
              ><span class="points-container"
                >Points: <span class="points">657</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46783752"
                  >Comments</a
                ><span class="descendants">: 383</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46783600">
          <h3>
            <a class="item" href="https://news.ycombinator.com/item?id=46783600"
              >Show HN: LemonSlice – Upgrade your voice agents to real-time
              video</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 17:55:15</span
              ><span class="points-container"
                >Points: <span class="points">99</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46783600"
                  >Comments</a
                ><span class="descendants">: 100</span></span
              >
            </h4>
            <div class="text">
              <a href="https://lemonslice.com/hn">https://lemonslice.com/hn</a
              >). We train interactive avatar video models. Our API lets you
              upload a photo and immediately jump into a FaceTime-style call
              with that character. Here's a demo:
              <a
                href="https://www.loom.com/share/941577113141418e80d2834c83a5a0a9"
                >https://www.loom.com/share/941577113141418e80d2834c83a5a0a9</a
              >
              <p>
                Chatbots are everywhere and voice AI has taken off, but we
                believe video avatars will be the most common form factor for
                conversational AI. Most people would rather watch something than
                read it. The problem is that generating video in real-time is
                hard, and overcoming the uncanny valley is even harder.
              </p>
              <p>
                We haven’t broken the uncanny valley yet. Nobody has. But we’re
                getting close and our photorealistic avatars are currently
                best-in-class (judge for yourself:
                <a href="https://lemonslice.com/try/taylor"
                  >https://lemonslice.com/try/taylor</a
                >). Plus, we're the only avatar model that can do animals and
                heavily stylized cartoons. Try it:
                <a href="https://lemonslice.com/try/alien"
                  >https://lemonslice.com/try/alien</a
                >. Warning! Talking to this little guy may improve your mood.
              </p>
              <p>
                Today we're releasing our new model* - Lemon Slice 2, a
                20B-parameter diffusion transformer that generates
                infinite-length video at 20fps on a single GPU - and opening up
                our API.
              </p>
              <p>
                How did we get a video diffusion model to run in real-time?
                There was no single trick, just a lot of them stacked together.
                The first big change was making our model causal. Standard video
                diffusion models are bidirectional (they look at frames both
                before and after the current one), which means you can't stream.
              </p>
              <p>
                From there it was about fitting everything on one GPU. We
                switched from full to sliding window attention, which killed our
                memory bottleneck. We distilled from 40 denoising steps down to
                just a few - quality degraded less than we feared, especially
                after using GAN-based distillation (though tuning that
                adversarial loss to avoid mode collapse was its own adventure).
              </p>
              <p>
                And the rest was inference work: modifying RoPE from complex to
                real (this one was cool!), precision tuning, fusing kernels, a
                special rolling KV cache, lots of other caching, and more. We
                kept shaving off milliseconds wherever we could and eventually
                got to real-time.
              </p>
              <p>
                We set up a guest playground for HN so you can create and talk
                to characters without logging in:
                <a href="https://lemonslice.com/hn">https://lemonslice.com/hn</a
                >. For those who want to build with our API (we have a new
                LiveKit integration that we’re pumped about!), grab a coupon
                code in the HN playground for your first Pro month free ($100
                value). See the docs:
                <a href="https://lemonslice.com/docs"
                  >https://lemonslice.com/docs</a
                >. Pricing is usage-based at $0.12-0.20/min for video
                generation.
              </p>
              <p>Looking forward to your feedback!</p>
              <p>
                EDIT: Tell us what characters you want to see in the comments
                and we can make them for you to talk to (e.g. Max Headroom)
              </p>
              <p>
                *We did a Show HN last year for our V1 model:
                <a href="https://news.ycombinator.com/item?id=43785044"
                  >https://news.ycombinator.com/item?id=43785044</a
                >. It was technically impressive but so bad compared to what we
                have today.
              </p>
            </div>
          </section>
        </section>
        <section id="46783254">
          <h3>
            <a
              class="item"
              href="https://www.nbcnews.com/tech/internet/fbi-investigating-minnesota-signal-minneapolis-group-ice-patel-kash-rcna256041"
              >FBI is investigating Minnesota Signal chats tracking ICE</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 17:32:05</span
              ><span class="points-container"
                >Points: <span class="points">767</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46783254"
                  >Comments</a
                ><span class="descendants">: 1041</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46783017">
          <h3>
            <a class="item" href="https://allenai.org/blog/open-coding-agents"
              >AI2: Open Coding Agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 17:17:54</span
              ><span class="points-container"
                >Points: <span class="points">194</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46783017"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46782930">
          <h3>
            <a class="item" href="https://haveibeenpwned.com/Breach/SoundCloud"
              >SoundCloud Data Breach Now on HaveIBeenPwned</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 17:11:39</span
              ><span class="points-container"
                >Points: <span class="points">180</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46782930"
                  >Comments</a
                ><span class="descendants">: 94</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46781530">
          <h3>
            <a
              class="item"
              href="https://www.nytimes.com/2026/01/26/science/archaeology-neanderthals-tools.html"
              >430k-year-old well-preserved wooden tools are the oldest ever
              found</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 15:46:29</span
              ><span class="points-container"
                >Points: <span class="points">426</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46781530"
                  >Comments</a
                ><span class="descendants">: 223</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.ph/mHlUT">https://archive.ph/mHlUT</a>
              <p>
                <a
                  href="https://apnews.com/article/oldest-wooden-tools-marathousa-1-6e07cfc79f6d8ba648138f805531b933"
                  >https://apnews.com/article/oldest-wooden-tools-marathousa-1-...</a
                >
              </p>
              <p>
                <a
                  href="https://archaeologymag.com/2026/01/430000-year-old-wooden-tools-marathousa/"
                  >https://archaeologymag.com/2026/01/430000-year-old-wooden-to...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46781444">
          <h3>
            <a
              class="item"
              href="https://finance.yahoo.com/news/amazon-closing-fresh-grocery-convenience-150437789.html"
              >Amazon closing its Fresh and Go stores</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 15:41:14</span
              ><span class="points-container"
                >Points: <span class="points">237</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46781444"
                  >Comments</a
                ><span class="descendants">: 450</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.cnn.com/2026/01/27/food/amazon-fresh-go-closures"
                >https://www.cnn.com/2026/01/27/food/amazon-fresh-go-closures</a
              >
              <p>
                <a
                  href="https://www.wsj.com/business/retail/amazon-to-shut-down-all-amazon-go-and-amazon-fresh-stores-0301dfb7"
                  >https://www.wsj.com/business/retail/amazon-to-shut-down-all-...</a
                >
              </p>
            </div>
          </section>
        </section>
        <section id="46779645">
          <h3>
            <a class="item" href="https://alexxcons.github.io/blogpost_15.html"
              >Xfwl4 – The Roadmap for a Xfce Wayland Compositor</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 13:25:53</span
              ><span class="points-container"
                >Points: <span class="points">321</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46779645"
                  >Comments</a
                ><span class="descendants">: 242</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46779522">
          <h3>
            <a
              class="item"
              href="https://emsh.cat/one-human-one-agent-one-browser/"
              >Show HN: One Human + One Agent = One Browser From Scratch in 20K
              LOC</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 13:13:56</span
              ><span class="points-container"
                >Points: <span class="points">247</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46779522"
                  >Comments</a
                ><span class="descendants">: 115</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://simonwillison.net/2026/Jan/27/one-human-one-agent-one-browser/"
                >https://simonwillison.net/2026/Jan/27/one-human-one-agent-on...</a
              >
            </div>
          </section>
        </section>
        <section id="46776155">
          <h3>
            <a
              class="item"
              href="https://www.softwaredesign.ing/blog/doing-the-thing-is-doing-the-thing"
              >Doing the thing is doing the thing</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-27 @ 06:17:46</span
              ><span class="points-container"
                >Points: <span class="points">404</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46776155"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46771564">
          <h3>
            <a
              class="item"
              href="https://twitter.com/karpathy/status/2015883857489522876"
              >A few random notes from Claude coding quite a bit last few
              weeks</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-26 @ 21:09:19</span
              ><span class="points-container"
                >Points: <span class="points">635</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46771564"
                  >Comments</a
                ><span class="descendants">: 512</span></span
              >
            </h4>
            <div class="text">
              <a href="https://xcancel.com/karpathy/status/2015883857489522876"
                >https://xcancel.com/karpathy/status/2015883857489522876</a
              >
            </div>
          </section>
        </section>
        <section id="46756311">
          <h3>
            <a
              class="item"
              href="https://physicsworld.com/a/thirty-years-of-the-square-kilometre-array-heres-what-the-worlds-largest-radio-telescope-project-has-achieved-so-far/"
              >Thirty Years of the Square Kilometre Array</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-25 @ 17:53:49</span
              ><span class="points-container"
                >Points: <span class="points">13</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46756311"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46752841">
          <h3>
            <a class="item" href="https://erickschulz.dev/posts/plecs-spice/"
              >Bridging the Gap Between PLECS and SPICE</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-25 @ 10:44:08</span
              ><span class="points-container"
                >Points: <span class="points">38</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46752841"
                  >Comments</a
                ><span class="descendants">: 15</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46741150">
          <h3>
            <a
              class="item"
              href="https://www.vectorware.com/blog/rust-std-on-gpu/"
              >Rust’s Standard Library on the GPU</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-24 @ 04:49:02</span
              ><span class="points-container"
                >Points: <span class="points">183</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46741150"
                  >Comments</a
                ><span class="descendants">: 30</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46739257">
          <h3>
            <a
              class="item"
              href="https://blog.notmyhostna.me/posts/i-found-the-perfect-yearly-calendar-for-me"
              >I found the perfect yearly calendar (for me)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-23 @ 23:12:19</span
              ><span class="points-container"
                >Points: <span class="points">68</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46739257"
                  >Comments</a
                ><span class="descendants">: 27</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46735407">
          <h3>
            <a
              class="item"
              href="https://www.fastcompany.com/91477114/steve-wozniak-woz-apple-the-tech-interactive-humanitarian-award"
              >There's only one Woz, but we can all learn from him</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-23 @ 17:48:25</span
              ><span class="points-container"
                >Points: <span class="points">111</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46735407"
                  >Comments</a
                ><span class="descendants">: 39</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46735152">
          <h3>
            <a
              class="item"
              href="https://geometrycode.com/free/how-to-graphically-derive-the-golden-ratio-using-an-equilateral-triangle-inscribed-in-a-circle/"
              >Golden Ratio using an equilateral triangle inscribed in a
              circle</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-23 @ 17:27:48</span
              ><span class="points-container"
                >Points: <span class="points">82</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46735152"
                  >Comments</a
                ><span class="descendants">: 21</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46734641">
          <h3>
            <a
              class="item"
              href="https://pandas.pydata.org/community/blog/pandas-3.0.html"
              >Pandas 3.0</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-23 @ 16:45:47</span
              ><span class="points-container"
                >Points: <span class="points">30</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46734641"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46731513">
          <h3>
            <a
              class="item"
              href="https://www.scientificamerican.com/article/how-extremophile-molds-are-destroying-museum-artifacts/"
              >Extremophile molds are invading art museums</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-23 @ 12:05:11</span
              ><span class="points-container"
                >Points: <span class="points">108</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46731513"
                  >Comments</a
                ><span class="descendants">: 53</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46726269">
          <h3>
            <a class="item" href="https://yqnn.github.io/svg-path-editor/"
              >SVG Path Editor</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-22 @ 23:06:05</span
              ><span class="points-container"
                >Points: <span class="points">92</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46726269"
                  >Comments</a
                ><span class="descendants">: 7</span></span
              >
            </h4>
          </section>
        </section>
        <section id="46723521">
          <h3>
            <a
              class="item"
              href="http://oldvcr.blogspot.com/2025/12/the-texas-instruments-cc-40-invades.html"
              >The Texas Instruments CC-40 invades Gopherspace (plus TI-74
              BASICALC)</a
            >
          </h3>
          <section>
            <h4>
              <span>2026-01-22 @ 18:49:56</span
              ><span class="points-container"
                >Points: <span class="points">20</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=46723521"
                  >Comments</a
                ><span class="descendants">: 1</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2026/index.md"
              >2026</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
