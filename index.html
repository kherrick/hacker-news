<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <meta
      content="width=device-width, initial-scale=1.0, viewport-fit=cover"
      name="viewport"
    />
    <meta name="description" content="Hacker News" />
    <meta name="theme-color" content="#fff" />
    <title>Hacker News</title>
    <link rel="manifest" href="manifest.json" />
    <link
      href="data:image/x-icon;base64,AAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQECAAEAAQA4AAAAFgAAACgAAAABAAAAAgAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAA"
      rel="icon"
      type="image/x-icon"
    />
    <link
      href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAQMAAADOtka5AAAAA1BMVEUAAACnej3aAAAANklEQVR42u3BAQEAAACCIP+vbkhAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAB8G4IAAAFjdVCkAAAAAElFTkSuQmCC"
      rel="apple-touch-icon"
    />
    <style>
      /*<!--*/
      body {
        color: rgb(25, 25, 25);
        font-family: Verdana, Geneva, sans-serif;
        margin: 0;
      }

      a {
        text-decoration: none;
      }

      a:link,
      a:focus,
      a:hover,
      a:active {
        color: rgb(75, 75, 125);
      }

      a:visited {
        color: rgb(25, 25, 25);
      }

      h1 > a,
      h1 > a:link,
      h1 > a:focus,
      h1 > a:hover,
      h1 > a:active,
      h1 > a:visited,
      h2 > a,
      h2 > a:link,
      h2 > a:focus,
      h2 > a:hover,
      h2 > a:active,
      h2 > a:visited {
        color: rgb(25, 25, 25);
      }

      h1 {
        background-color: rgb(255, 102, 0);
        margin: 0;
        padding: 1rem;
      }

      h2 {
        background-color: rgb(200, 200, 200);
        margin: 1rem 0;
        padding: 0.5rem 0.5rem 0.5rem 1rem;
      }

      #latest > section,
      #archives > section {
        margin: 0 1rem 1rem 1rem;
        padding-bottom: 1rem;
      }

      #latest > section:not(:last-child),
      #archives > section:not(:last-child) {
        border-bottom: 1px dotted rgb(200, 200, 200);
      }

      section > h3 {
        margin: 0 0 0.5rem 0;
      }

      section > h4 {
        font-weight: normal;
        margin: 0 0 0 1rem;
      }

      .descendants-container,
      .points-container {
        align-items: center;
        border-left: 1px solid #333;
        display: inline-flex;
        margin-left: 0.5rem;
        padding-left: 0.5rem;
        text-align: center;
      }

      .points {
        align-items: center;
        display: inline-flex;
        height: 1rem;
        margin-left: 1ch;
        min-width: 3ch;
      }

      .text {
        line-height: 1.5rem;
        margin: 1rem 1rem 0 1rem;
        overflow: auto;
      }

      .text > p:first-child {
        margin-top: 1rem;
      }

      .text > p:last-child {
        margin-bottom: 0;
      }
      /*-->*/
    </style>
  </head>

  <body>
    <main>
      <h1><a href="https://kherrick.github.io/hacker-news/">Hacker News</a></h1>
      <section id="latest">
        <h2>Latest</h2>
        <section id="45524437">
          <h3>
            <a
              class="item"
              href="https://www.ycombinator.com/companies/the-forecasting-company/jobs/cXJzAhA-founding-machine-learning-engineer"
              >The Forecasting Company (YC S24) Is Hiring a Machine Learning
              Engineer</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 07:01:07</span
              ><span class="points-container"
                >Points: <span class="points">1</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45523871">
          <h3>
            <a
              class="item"
              href="https://github.blog/developer-skills/github/download-your-data/"
              >Download all of your GitHub data</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 05:29:50</span
              ><span class="points-container"
                >Points: <span class="points">25</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45523871"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45523537">
          <h3>
            <a
              class="item"
              href="https://kix.dev/two-things-llm-coding-agents-are-still-bad-at/"
              >Two things LLM coding agents are still bad at</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 04:33:48</span
              ><span class="points-container"
                >Points: <span class="points">63</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45523537"
                  >Comments</a
                ><span class="descendants">: 84</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45523033">
          <h3>
            <a
              class="item"
              href="https://therecord.media/california-signs-law-opt-out-browsers"
              >California enacts law enabling people to universally opt out of
              data sharing</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 02:59:34</span
              ><span class="points-container"
                >Points: <span class="points">311</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45523033"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45522406">
          <h3>
            <a
              class="item"
              href="https://ttchisholm.github.io/ethernet/2023/05/01/designing-10g-eth-1.html"
              >Designing a Low Latency 10G Ethernet Core (2023)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-09 @ 01:17:20</span
              ><span class="points-container"
                >Points: <span class="points">80</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45522406"
                  >Comments</a
                ><span class="descendants">: 16</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45521920">
          <h3>
            <a
              class="item"
              href="https://larslofgren.com/codesmith-reddit-reputation-attack/"
              >A competitor crippled a $23.5M bootcamp by becoming a Reddit
              moderator</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 23:48:28</span
              ><span class="points-container"
                >Points: <span class="points">543</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45521920"
                  >Comments</a
                ><span class="descendants">: 337</span></span
              >
            </h4>
            <div class="text">
              <a href="https://archive.ph/w0izj">https://archive.ph/w0izj</a>
            </div>
          </section>
        </section>
        <section id="45521788">
          <h3>
            <a class="item" href="https://github.com/hyprmcp/jetski"
              >Show HN: HyprMCP – Analytics, logs and auth for MCP servers</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 23:27:23</span
              ><span class="points-container"
                >Points: <span class="points">45</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45521788"
                  >Comments</a
                ><span class="descendants">: 2</span></span
              >
            </h4>
            <div class="text">
              <p>
                This project started when we did what everyone was doing —
                building a remote MCP server and launching it. Building the
                first local MCP server for testing was quite simple, and we had
                our first tools ready within a day. The next step was turning
                that into a production-ready remote MCP server.
              </p>
              <p>
                As we exposed the MCP server to our users, we wanted to
                authenticate them with our existing authentication methods. We
                dove deep into authentication. Our approach was to build an auth
                proxy and plug it in front of our MCP. It took a while to figure
                out Dynamic Client Registration (DCR) and the OAuth spec, and
                especially the gaps between existing OIDC IDPs and what LLM
                clients needed.
              </p>
              <p>
                We thought authentication would be the hard part — but it
                wasn’t. When we shared the MCP server with a few friendly
                startups, we realized that different MCP clients behave
                differently. Especially if something didn't work, it was hard to
                figure out the root cause. We ended up storing all the raw gRPC
                method calls to see if the initialization and subsequent
                requests worked. This is especially useful if you are on a
                serverless environment with limited debugging functionality,
                like Cloudflare Workers.
              </p>
              <p>
                Once we solved auth and compatibility, we launched to a small
                customer base — done, right? Unfortunately, not quite.
                Technically everything was working, but when we started talking
                to users, they told us the MCP server didn’t always respond with
                the right tools for their prompts. We had a working
                enterprise-grade MCP server — but it wasn’t very smart. After
                talking to some startup friends, we realized we needed an
                evaluation layer. That’s when we added prompt analytics —
                letting us see which prompts triggered which tools and how well
                they performed. That alone dramatically improved our MCP’s
                behavior and overall user experience.
              </p>
              <p>
                After building all of this into our proxy, we realized that
                everyone building a remote MCP was facing the same challenges.
                So we decided to package it all up and release it to the
                community.
              </p>
              <p>
                We’re thrilled to launch and open-source HyprMCP. It acts as a
                proxy that you can plug in front of your MCP server(s) with zero
                code changes. You get authentication, logging and debugging,
                prompt analytics, and an MCP connection instructions generator.
              </p>
              <p>
                Under the hood, HyprMCP leverages dynamic Kubernetes Operators
                (Metacontroller) to automate infrastructure provisioning.
              </p>
              <p>
                On the roadmap: MCP aggregation — combining multiple MCP servers
                under one single remote URL for large organizations running
                servers with different lifecycles. All of it without storing end
                user credentials on the server and connecting the MCP to the
                organizations existing authentication methods.
              </p>
              <p>
                You can check the project out on GitHub:
                <a href="https://github.com/hyprmcp/jetski"
                  >https://github.com/hyprmcp/jetski</a
                >
              </p>
              <p>
                For testing, we also have a hosted version here:
                <a href="https://app.hyprmcp.com">https://app.hyprmcp.com</a>
              </p>
              <p>
                We even created a demo video on YouTube:
                <a href="https://www.youtube.com/watch?v=m2-YyfjXap4"
                  >https://www.youtube.com/watch?v=m2-YyfjXap4</a
                >
              </p>
              <p>
                We’d love to get your feedback, hear what features are missing,
                and learn how you’re building and running your own MCP servers.
              </p>
            </div>
          </section>
        </section>
        <section id="45521738">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/news/797051/discord-government-ids-leaked-data-breach"
              >Discord says 70k users may have had their government IDs leaked
              in breach</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 23:20:13</span
              ><span class="points-container"
                >Points: <span class="points">400</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45521738"
                  >Comments</a
                ><span class="descendants">: 219</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45521629">
          <h3>
            <a
              class="item"
              href="https://www.bloomberg.com/news/features/2025-10-07/openai-s-nvidia-amd-deals-boost-1-trillion-ai-boom-with-circular-deals"
              >OpenAI, Nvidia fuel $1T AI market with web of circular deals</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 23:04:32</span
              ><span class="points-container"
                >Points: <span class="points">202</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45521629"
                  >Comments</a
                ><span class="descendants">: 120</span></span
              >
            </h4>
            <div class="text">
              <a
                href="https://www.bloomberg.com/news/articles/2025-10-08/the-circular-openai-nvidia-and-amd-deals-raising-fears-of-a-new-tech-bubble"
                >https://www.bloomberg.com/news/articles/2025-10-08/the-circu...</a
              >
              (<a href="https://archive.ph/E7nGC">https://archive.ph/E7nGC</a>)
            </div>
          </section>
        </section>
        <section id="45520615">
          <h3>
            <a class="item" href="https://fly.io/blog/kurt-got-got/"
              >Kurt Got Got</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 21:02:34</span
              ><span class="points-container"
                >Points: <span class="points">245</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45520615"
                  >Comments</a
                ><span class="descendants">: 158</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45520154">
          <h3>
            <a
              class="item"
              href="https://blog.rchase.com/i-played-1-000-hands-of-online-poker-and-built-a-web-app-with-cursor-ai/"
              >I played 1k hands of online poker and built a web app with Cursor
              AI</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 20:20:21</span
              ><span class="points-container"
                >Points: <span class="points">84</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45520154"
                  >Comments</a
                ><span class="descendants">: 118</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45519575">
          <h3>
            <a
              class="item"
              href="https://www.hagerty.com/media/advice/a-few-things-to-know-before-you-steal-my-914/"
              >A few things to know before stealing my 914 (2022)</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 19:16:10</span
              ><span class="points-container"
                >Points: <span class="points">283</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45519575"
                  >Comments</a
                ><span class="descendants">: 129</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45518861">
          <h3>
            <a class="item" href="https://github.com/built-by-as/FleetCode"
              >Show HN: FleetCode – Open-source UI for running multiple coding
              agents</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 18:00:34</span
              ><span class="points-container"
                >Points: <span class="points">77</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45518861"
                  >Comments</a
                ><span class="descendants">: 43</span></span
              >
            </h4>
            <div class="text">
              <p>
                After having to do a ton of git stashing and branch fumbling, I
                decided I needed to something to more ergonomically run these
                agents in their own dedicated spaces.
              </p>
              <p>
                I tried a lot of the existing products but they either were too
                convoluted or flat out didn't work. Some of them also seem to
                roll their own chat UI which I don't think is the right
                approach, I wanted to something to lightly wrap my terminal
                sessions.
              </p>
              <p>
                So I built FleetCode! It uses git worktrees and let's you run
                multiple agents at once. It's made my multi agent coding
                workflow much easier.
              </p>
              <p>It's free and open source, would love some feedback!</p>
            </div>
          </section>
        </section>
        <section id="45518813">
          <h3>
            <a class="item" href="https://www.winboat.app/"
              >WinBoat: Windows apps on Linux with seamless integration</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 17:56:32</span
              ><span class="points-container"
                >Points: <span class="points">209</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45518813"
                  >Comments</a
                ><span class="descendants">: 116</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45517134">
          <h3>
            <a
              class="item"
              href="https://lighthouseapp.io/blog/feed-reader-deep-dive"
              >The RSS feed reader landscape</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 15:17:36</span
              ><span class="points-container"
                >Points: <span class="points">233</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45517134"
                  >Comments</a
                ><span class="descendants">: 146</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45516968">
          <h3>
            <a
              class="item"
              href="https://www.readonlymemo.com/mame-hyper-neo-geo-support-sound-emulation/"
              >After 2 decades of tinkering, MAME cracks the Hyper Neo Geo 64</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 15:01:38</span
              ><span class="points-container"
                >Points: <span class="points">307</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45516968"
                  >Comments</a
                ><span class="descendants">: 66</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45516426">
          <h3>
            <a
              class="item"
              href="https://blog.google/technology/developers/gemini-cli-extensions/"
              >Now open for building: Introducing Gemini CLI extensions</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 14:13:30</span
              ><span class="points-container"
                >Points: <span class="points">145</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45516426"
                  >Comments</a
                ><span class="descendants">: 35</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45516000">
          <h3>
            <a
              class="item"
              href="https://blog.cloudflare.com/how-we-found-a-bug-in-gos-arm64-compiler/"
              >We found a bug in Go's ARM64 compiler</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 13:33:15</span
              ><span class="points-container"
                >Points: <span class="points">687</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45516000"
                  >Comments</a
                ><span class="descendants">: 106</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45514433">
          <h3>
            <a
              class="item"
              href="https://www.politico.eu/article/one-man-spam-campaign-ravages-eu-chat-control-bill-fight-chat-control/"
              >One-man campaign ravages EU 'Chat Control' bill</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-08 @ 10:26:05</span
              ><span class="points-container"
                >Points: <span class="points">554</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45514433"
                  >Comments</a
                ><span class="descendants">: 186</span></span
              >
            </h4>
            <div class="text">
              <a href="https://fightchatcontrol.eu/"
                >https://fightchatcontrol.eu/</a
              >
            </div>
          </section>
        </section>
        <section id="45495607">
          <h3>
            <a
              class="item"
              href="https://talkpython.fm/books/python-in-production"
              >Talk Python in Production</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 19:59:58</span
              ><span class="points-container"
                >Points: <span class="points">28</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45495607"
                  >Comments</a
                ><span class="descendants">: 19</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45492977">
          <h3>
            <a
              class="item"
              href="https://stratechery.com/2025/sora-ai-bicycles-and-meta-disruption/"
              >Sora, AI Bicycles, and Meta Disruption</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 16:17:15</span
              ><span class="points-container"
                >Points: <span class="points">65</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45492977"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45490627">
          <h3>
            <a class="item" href="https://tritium.legal/blog/word"
              >Thoughts on the Word Spec in Rust</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 12:28:49</span
              ><span class="points-container"
                >Points: <span class="points">7</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45490627"
                  >Comments</a
                ><span class="descendants">: 0</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45489925">
          <h3>
            <a
              class="item"
              href="https://tech.marksblogg.com/icmm-mining-data.html"
              >A Global Mining Dataset</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 10:48:33</span
              ><span class="points-container"
                >Points: <span class="points">27</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45489925"
                  >Comments</a
                ><span class="descendants">: 6</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45488892">
          <h3>
            <a
              class="item"
              href="https://gregorygundersen.com/blog/2025/10/01/large-language-models/"
              >A History of Large Language Models</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 08:13:47</span
              ><span class="points-container"
                >Points: <span class="points">57</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45488892"
                  >Comments</a
                ><span class="descendants">: 4</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45487310">
          <h3>
            <a
              class="item"
              href="https://parallelprogrammer.substack.com/p/why-we-need-simd-the-real-reason"
              >Why we need SIMD</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 03:10:13</span
              ><span class="points-container"
                >Points: <span class="points">125</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45487310"
                  >Comments</a
                ><span class="descendants">: 41</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45486622">
          <h3>
            <a
              class="item"
              href="https://catgirl.online/2025/10/01/libtorrent-socks-woes"
              >Rejected announces from libtorrent clients proxying through
              SOCKS</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-06 @ 00:52:26</span
              ><span class="points-container"
                >Points: <span class="points">26</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45486622"
                  >Comments</a
                ><span class="descendants">: 18</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45484123">
          <h3>
            <a class="item" href="https://www.aerolane.com/"
              >Aerocart cargo gliders</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-05 @ 18:49:31</span
              ><span class="points-container"
                >Points: <span class="points">73</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45484123"
                  >Comments</a
                ><span class="descendants">: 45</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45481417">
          <h3>
            <a
              class="item"
              href="https://techcrunch.com/2025/09/17/meta-launches-hyperscape-technology-to-turn-real-world-spaces-into-vr/"
              >Meta launches Hyperscape, technology to turn real-world spaces
              into VR</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-05 @ 13:42:03</span
              ><span class="points-container"
                >Points: <span class="points">130</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45481417"
                  >Comments</a
                ><span class="descendants">: 177</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45475556">
          <h3>
            <a
              class="item"
              href="https://www.theverge.com/news/784966/lumafield-x-ray-ct-scan-lithium-ion-battery-risks-manufacturing-defect"
              >X-ray scans reveal the hidden risks of cheap batteries</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-04 @ 18:37:31</span
              ><span class="points-container"
                >Points: <span class="points">152</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45475556"
                  >Comments</a
                ><span class="descendants">: 54</span></span
              >
            </h4>
          </section>
        </section>
        <section id="45474301">
          <h3>
            <a
              class="item"
              href="https://www.cbsnews.com/texas/news/sec-approves-texas-stock-exchange-txse/"
              >SEC approves Texas Stock Exchange, first new US integrated
              exchange in decades</a
            >
          </h3>
          <section>
            <h4>
              <span>2025-10-04 @ 16:04:24</span
              ><span class="points-container"
                >Points: <span class="points">570</span></span
              ><span class="descendants-container"
                ><a href="https://news.ycombinator.com/item?id=45474301"
                  >Comments</a
                ><span class="descendants">: 391</span></span
              >
            </h4>
          </section>
        </section>
      </section>
      <section id="archives">
        <h2>
          <a
            href="https://github.com/kherrick/hacker-news/blob/main/archives/index.md"
            >Archives</a
          >
        </h2>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2025/index.md"
              >2025</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2024/index.md"
              >2024</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2023/index.md"
              >2023</a
            >
          </h3>
        </section>
        <section>
          <h3>
            <a
              href="https://github.com/kherrick/hacker-news/blob/main/archives/2022/index.md"
              >2022</a
            >
          </h3>
        </section>
      </section>
    </main>
    <script type="module">
      import { buildDescendants } from "./lib/build-html-descendants.js";
      import { buildNextItem } from "./lib/build-html-next-item.js";
      import { getNextDateTime } from "./lib/date-time.js";

      const updateSectionById = (id) =>
        fetch(`https://hacker-news.firebaseio.com/v0/item/${id}.json`).then(
          (result) =>
            result.json().then(({ descendants, id, score, text, type }) => {
              const currentItem = document.getElementById(id);

              if (score) {
                currentItem.querySelector(".points").textContent = score;
              }

              if (descendants && (type === "poll" || type === "story")) {
                const currentDescendants =
                  currentItem.querySelector(".descendants");

                if (currentDescendants) {
                  currentDescendants.textContent = `: ${descendants}`;
                } else {
                  const comments = buildDescendants(
                    document,
                    descendants,
                    `https://news.ycombinator.com/item?id=${id}`
                  );

                  currentItem.querySelector("h4").appendChild(comments);
                }
              }

              if (text) {
                const currentText = currentItem.querySelector(".text");

                if (currentText) {
                  currentText.innerHTML = text.replace(/\0/g, "");
                } else {
                  const content = document.createElement("div");
                  content.innerHTML = text.replace(/\0/g, "");
                  content.setAttribute("class", "text");

                  currentItem.appendChild(content);
                }
              }
            })
        );

      class UpdateQueue {
        constructor() {
          this._ids = [];
          this._isUpdating = false;
        }

        addItemById(id) {
          this._ids.push(id);
        }

        async flush() {
          const id = this._ids.shift();

          if (id) {
            this._isUpdating = true;

            await updateSectionById(id);
            await this.flush();
          } else {
            this._isUpdating = false;

            setTimeout(async () => {
              if (!this._isUpdating && this._ids && this._ids.length) {
                await this.flush();
              }
            }, 0);
          }
        }
      }

      // get latest data
      const latestSection = document.getElementById("latest");

      for (let item of latestSection.querySelectorAll("section[id]")) {
        updateSectionById(item.getAttribute("id"));
      }

      if ("IntersectionObserver" in window) {
        window.hackerNewsState = { index: [], nextTimeIndex: -1 };

        const addNewsItem = async (newsItem, queue) => {
          try {
            const { date, time, itemComments, itemTitle, itemLink } = newsItem;
            const section = await buildNextItem({
              document,
              dateTime: `${date}, ${time}`,
              itemComments,
              itemLink,
              itemTitle: new DOMParser().parseFromString(
                itemTitle.replace(/\\/g, ""),
                "text/html"
              ).documentElement.textContent,
              fetchItemDetails: false,
            });

            // display loading indicator for section
            section.querySelector(".points-container").innerHTML =
              'Points: <span class="points"><img style="height: 100%;" src="lib/images/loading.svg" /></span>';

            const id = section.getAttribute("id");
            if (!document.getElementById(id)) {
              document.getElementById("latest").appendChild(section);

              queue.addItemById(id);
            }
          } catch (error) {}
        };

        const buildArchiveIndex = async (lastDateTime) => {
          const nextDate = lastDateTime.slice(0, 10);
          const nextYear = nextDate.slice(0, 4);

          return (
            await (
              await fetch(
                `https://raw.githubusercontent.com/kherrick/hacker-news/main/archives/${nextYear}/${nextDate}/index.md`
              )
            ).text()
          )
            .split("\n")
            .filter((line) => line.match(new RegExp("^\\* \\[")))
            .map((line) => {
              const segment = line.replace("* ", "").split("](");
              const pubDate = segment[0].slice(1);

              const itemComments = segment[1].split(") - [")[0];
              const itemTitle = segment[1].split(") - [")[1];
              const itemLink = segment[2].slice(0, -1);
              const date = pubDate.slice(0, 10);
              const time = pubDate.slice(-8);

              return {
                date,
                itemComments,
                itemLink,
                itemTitle,
                time,
              };
            });
        };

        const handleIntersectingEntry = async (entry, queue) => {
          if (entry.isIntersecting) {
            const lastDateTime = document
              .getElementById("latest")
              .querySelector(
                "section:last-child > section > h4 > span"
              ).textContent;

            const nextDateTime = getNextDateTime(lastDateTime ?? "", -1);
            const archiveIndex = await buildArchiveIndex(nextDateTime);
            const nextTimeIndex = archiveIndex.findIndex(
              ({ time }) => time === nextDateTime.slice(-8)
            );

            const handleIndexUpdate = (index, existingIndexValues = []) => {
              index.forEach((i) => {
                existingIndexValues.push(i);
              });
              return existingIndexValues;
            };

            window.hackerNewsState = {
              index: handleIndexUpdate(
                archiveIndex,
                window.hackerNewsState.index
              ),
              nextTimeIndex,
            };

            let currentTimeIndex = nextTimeIndex + 1;
            const items = Object.values(window.hackerNewsState.index);
            for (let item of items) {
              if (currentTimeIndex < window.hackerNewsState.index.length) {
                addNewsItem(items[currentTimeIndex], queue);

                currentTimeIndex = currentTimeIndex + 1;
              }
            }

            queue.flush();
          }
        };

        const archives = document.getElementById("archives");
        const archivesObserver = new IntersectionObserver(
          (entries) => {
            const queue = new UpdateQueue();

            entries.forEach((entry) => handleIntersectingEntry(entry, queue));
          },
          {
            root: null,
            rootMargin: "0px",
            threshold: 0,
          }
        );

        archivesObserver.observe(archives);

        let latestSectionsExpanded = true;
        const handleLatestHeaderClick = () => {
          latestSectionsExpanded = !latestSectionsExpanded;

          if (latestSectionsExpanded) {
            archivesObserver.observe(archives);
          } else {
            archivesObserver.disconnect(archives);
          }

          for (let section of document.querySelectorAll("#latest > section")) {
            section.style.display = latestSectionsExpanded ? "block" : "none";
          }
        };

        const latestHeader = document.querySelector("#latest > h2");
        latestHeader.style.cursor = "pointer";
        latestHeader.addEventListener("click", handleLatestHeaderClick);
      }
    </script>
    <script type="module">
      import { Workbox } from "https://storage.googleapis.com/workbox-cdn/releases/6.4.1/workbox-window.prod.mjs";

      if ("serviceWorker" in navigator) {
        const base = document.querySelector("base");
        const serviceWorkerPath = `${
          base ? base.href.replace(/\/$/, "") : ""
        }/service-worker.js`;

        const wb = new Workbox(serviceWorkerPath);

        // setup event listeners
        wb.addEventListener("waiting", (event) => {
          wb.addEventListener("controlling", () => {
            window.location.reload();
          });

          wb.messageSkipWaiting();
        });

        wb.register();
      }
    </script>
  </body>
</html>
